{"version":3,"sources":["assets/img/avatar.png","assets/img/cover.jpg","components/Login.jsx","features/constants/auth.constants.js","features/constants/user.constants.js","utils/config.js","utils/authHeader.js","features/reducers/auth.reducer.js","features/reducers/user.reducer.js","app/store.js","features/actions/user.actions.js","utils/constants.js","utils/common.js","features/services/user.service.js","features/actions/auth.actions.js","utils/deviceInfo.js","containers/Login.js","utils/choice.js","utils/checkList.js","components/AccountInfo.jsx","components/Grid/GridContainer.jsx","components/Grid/GridItem.jsx","datatable/utils/common.js","datatable/utils/constant.js","datatable/form/NonFieldErrors.jsx","datatable/assets/css/form.jsx","datatable/form/HierarchySelect.jsx","datatable/form/ControlCreator.jsx","datatable/form/common.jsx","datatable/form/Form.jsx","datatable/dialog/FormDialog.jsx","datatable/dialog/ConfirmDialog.jsx","datatable/datatable/Common.jsx","datatable/datatable/DataTableCell.jsx","datatable/datatable/DataTableHead.jsx","datatable/datatable/DataTablePagination.jsx","datatable/assets/css/common.jsx","datatable/assets/css/datatable.jsx","datatable/datatable/SimpleTable.jsx","datatable/datatable/DataTableFixedHead.jsx","datatable/datatable/DataTableToolbar.jsx","datatable/datatable/HierarchyTable.jsx","datatable/datatable/AggregateFooter.jsx","datatable/datatable/EnhancedTable.jsx","datatable/form/InlineForm.jsx","datatable/assets/css/detail.jsx","datatable/detail/TableDetail.jsx","components/ActionForm.jsx","components/HttpStatus.jsx","components/Waiting.jsx","components/DataSource.jsx","components/ImageEditor.jsx","components/PrivateRoute.jsx","components/StepForm.jsx","containers/AccountInfo.js","pages/account/schema.jsx","pages/account/style.jsx","pages/account/working_status_tab.jsx","pages/account/project_request_tab.jsx","pages/account/partner_order_tab.jsx","pages/account/payment_notice_tab.jsx","pages/account/my_page.jsx","containers/MyPage.js","components/Toast.jsx","components/Notifications.jsx","containers/Notifications.js","components/TopBar.jsx","components/TopBreadcrumbs.jsx","components/Permissions.jsx","components/Timeline/TimelineItem.jsx","components/Timeline/style.jsx","components/Timeline/Timeline.jsx","components/Timeline/index.jsx","components/SimpleCard.jsx","components/ImageModal.jsx","assets/jss/components/cardStyle.jsx","components/Card/Card.jsx","assets/jss/components/cardAvatarStyle.jsx","components/Card/CardAvatar.jsx","assets/jss/components/cardBodyStyle.jsx","components/Card/CardBody.jsx","assets/jss/components/cardFooterStyle.jsx","components/Card/CardFooter.jsx","assets/jss/material-dashboard-react.jsx","assets/jss/components/cardHeaderStyle.jsx","components/Card/CardHeader.jsx","assets/jss/components/cardIconStyle.jsx","components/Card/CardIcon.jsx","layout/SideMenu.jsx","containers/TopBar.js","assets/jss/views/mainStyle.jsx","layout/MainFrame.jsx","containers/MainFrame.js","assets/jss/views/dashboardStyle.jsx","assets/jss/components/typographyStyle.jsx","components/Typography/Danger.jsx","components/Typography/Warning.jsx","pages/utils/api.jsx","components/Typography/Info.jsx","pages/member/dashboard.jsx","pages/utils/common.jsx","pages/utils/schema.jsx","pages/member/schema.js","pages/member/member_list.jsx","pages/common/member_retire.jsx","pages/member/member_detail.jsx","pages/member/salesperson_list.jsx","pages/member/release_list.jsx","pages/member/expense_months.jsx","pages/member/expense_by_month_list.jsx","pages/member/expense_by_object_list.jsx","pages/client/schema.js","pages/client/company_list.jsx","pages/partner/schema.js","pages/client/company_form.jsx","pages/client/company_detail.jsx","pages/contract/dashboard.jsx","pages/common/duplicated_member_dialog.jsx","pages/contract/schema.js","pages/contract/member_add.jsx","pages/contract/member_list.jsx","pages/common/bank_account_list.jsx","pages/contract/member_detail.jsx","pages/contract/contract_add.jsx","pages/contract/contract_detail.jsx","pages/contract/report_employment.jsx","pages/contract/report_incumbency.jsx","pages/contract/report_income.jsx","pages/contract/auto_update_list.jsx","pages/contract/expire_list.jsx","pages/contract/commutation_list.jsx","pages/contract/salary_upload.jsx","pages/contract/paid_vacation_list.jsx","pages/organization/schema.js","pages/organization/organization_list.jsx","pages/organization/organization_form.jsx","pages/organization/organization_detail.jsx","pages/organization/member_list.jsx","pages/organization/position_list.jsx","pages/organization/attendance_by_month.jsx","pages/partner/company_list.jsx","pages/partner/company_form.jsx","pages/partner/order_status_list.jsx","pages/partner/payment_notice_status.jsx","pages/partner/company_detail.jsx","pages/partner/common_member_add.jsx","pages/partner/member_add.jsx","pages/partner/member_list.jsx","pages/partner/member_detail.jsx","pages/partner/contract_form.jsx","pages/partner/contract_detail.jsx","pages/partner/company_bank_accounts.jsx","pages/partner/order_list.jsx","pages/partner/order_detail.jsx","pages/partner/monthly_orders.jsx","pages/partner/monthly_requests.jsx","pages/partner/individual_members.jsx","pages/partner/individual_member.jsx","pages/partner/individual_member_add.jsx","pages/partner/payment_notice_by_month.jsx","pages/partner/company_payment_notice.jsx","pages/partner/individual_payment_notice.jsx","pages/partner/partner_requests_by_month.jsx","pages/project/schema.js","pages/project/project_list.jsx","pages/project/project_add.jsx","pages/project/project_detail.jsx","pages/project/member_add.jsx","pages/common/expense_list.jsx","pages/project/member_detail.jsx","pages/project/member_list.jsx","pages/project/contract_form.jsx","pages/project/project_order_add.jsx","pages/project/project_order_detail.jsx","pages/project/project_attendance.jsx","pages/project/project_request_detail.jsx","pages/project/subcontractor_list.jsx","pages/project/subcontractor_form.jsx","pages/project/subcontractor_contract_form.jsx","pages/project/member_duplications.jsx","pages/project/project_contract_list.jsx","pages/project/project_contract_form.jsx","pages/turnover/chart_options.jsx","pages/turnover/dashboard.jsx","pages/turnover/schema.js","pages/turnover/members_monthly.jsx","pages/turnover/members_by_month.jsx","pages/turnover/members_by_fiscal_year.jsx","pages/home.jsx","layout/MainLayout.jsx","containers/MainLayout.js","utils/firebase.js","pages/account/password_forget.jsx","pages/account/password_reset.jsx","app/App.jsx","containers/app.js","serviceWorker.js","index.js"],"names":["module","exports","styles","theme","layout","width","display","marginLeft","spacing","marginRight","breakpoints","up","paper","marginTop","flexDirection","alignItems","padding","avatar","margin","backgroundColor","palette","secondary","main","form","submit","alert","color","fontSize","buttonProgress","green","position","top","left","timeout","textAlign","Login","props","state","username","password","handleChange","bind","handleSubmit","e","target","name","value","this","setState","preventDefault","location","login","from","classes","Fragment","CssBaseline","className","Paper","Avatar","Typography","variant","error","FormControl","required","fullWidth","InputLabel","htmlFor","Input","id","autoFocus","onChange","type","autoComplete","Button","onClick","style","to","Component","withStyles","authConstants","LOGIN_REQUEST","LOGIN_SUCCESS","LOGIN_FAILURE","LOGOUT","userConstants","GET_ME_REQUEST","GET_ME_SUCCESS","GET_ME_FAILURE","CLEAR_ME","NOTIFICATION_ADD","NOTIFICATION_CHANGE","NOTIFICATION_RELOAD","hostApi","isGoogleAnalytics","config","api","authenticate","account","me","logout","password_forget","password_reset","notification_read","notification_list_by_me","member","dashboard","list","add","add_from_contract","portal_list","portal_detail","choices","member_organizations","member_projects","detail","history","organizations","duplicated","release_list","next_code","untreated_waiting_members","untreated_release_members","untreated_project_requests","untreated_partner_orders","untreated_payment_notices","check_duplications","worker_roster_by_member","worker_roster_list","education_list","education_detail","salesperson","salesperson_portal_list","salesperson_list","organization","members","position_list","position_add","position_detail","member_organization_add","member_organization_detail","turnover_for_clients_by_month","attendance_by_month","export_attendance_excel","import_attendance_excel","contract","member_list","member_detail","add_member_contract","member_timeline","member_emergency_contact_list","member_emergency_contact_add","member_emergency_contact_detail","member_family_list","member_family_add","member_family_detail","member_residence_list","member_residence_add","member_residence_detail","member_bank_account_list","member_bank_account_add","member_bank_account_detail","member_salary_csv_preview","member_salary_pdf_preview","contract_items","contract_allowances","report_employment","report_incumbency","report_income","auto_update_list","expire_list","contract_allowances_detail","contract_comment_list","contract_comment_detail","contract_comments_for_add","commutation_list","commutation_add","commutation_detail","paid_vacation_list","paid_vacation_detail","partner","company_members","company_member","company_orders_status","company_payment_notice_status","company_payment_notice_by_month","add_from_partner","member_contracts","member_contract","member_contract_total","member_contract_add","member_contract_save","member_monthly_request","member_monthly_request_detail","member_orders_status","member_retire","individual_members","individual_member_add","individual_member_detail","individual_member_contracts","individual_payment_notice_status","individual_payment_notice_by_month","order_add","order_detail","order_html","order_request_html","order_email_data","orders_status","monthly_orders","monthly_requests","create_payment_notice","payment_notice_email_data","next_partner_member_code","next_self_employee_code","request_list_by_month","partner_request_detail","client","company_bank_account_list","project_list","project","finish","request_profile","request_profile_change","add_project","member_portal_list","member_add","blanket_contracts","blanket_contract_detail","blanket_contract_total","blanket_contract_add","blanket_contract_save","project_attendance_status","project_attendance_by_month","project_attendance_add","project_attendance_detail","project_request_status","project_request_create","project_request_html","project_request_delete","project_order_add","project_order_detail","subcontractor_list","subcontractor_save","subcontractor_detail","subcontractor_contract_total","subcontractor_contract_save","subcontractor_contract_detail","duplicated_project_members_for_add","project_members_duplications","attendance","expense_list_by_content_object_list","expense_list_by_content_object_add","expense_list_by_content_object_detail","expense_months","expense_by_month","expense_by_object","expense_by_object_download","expense_add","expense_detail","master","project_business_type","company_category","member_category","content_objects","bank_list","bank_branch_list","bank_account_add","bank_account_detail","bank_account_by_ct","expense_category_list","attachment_download","send_email","send_email_for_content_type","register_firebase_device","turnover","company_monthly","clients_monthly","members_fiscal_year","members_monthly","members_by_month","members_by_fiscal_year","third_part","get_address_by_postcode","rowsPerPage","autoHideDuration","fileSizeLimit","systemName","authHeader","token","JSON","parse","localStorage","getItem","initialState","loggingIn","loggedIn","auth","action","payload","loading","perms","notifications","user","push","notification","slice","items","filter","col","length","Object","assign","createBrowserHistory","store","createStore","combineReducers","reducers","router","connectRouter","applyMiddleware","logger","thunk","routerMiddleware","getMeRequest","getMeSuccess","data","getMeFailure","clearMe","constant","INFO","NO_NOTIFICATIONS","ERROR","REQUIRE_SELECTED","NO_CALLBANK","FORM_CHECK_ERROR","DATE_CONTRADICT","DELETED_FAILURE","UNIQUE","REQUEST_FILE_NOT_FOUND","BP_ORDER_FILE_NOT_FOUND","PAYMENT_NOTICE_NOT_FOUND","HTTP_NOT_FOUND","HTTP_NOT_ALLOWED","PASSWORD_CONFIRM","REQUIRE_MAIL_AND_SECURITY_CODE","REQUIRE_PASSWORD_AND_SECURITY_CODE","SECURITY_CODE_LENGTH","SELECT_SINGLE","SUCCESS","SAVED","DELETED","UPLOADED","RETIRED","REQUEST_FILE_CREATED","BP_ORDER_FILE_CREATED","PAYMENT_NOTICE_CREATED","EMAIL_SENT","BANK_ACCOUNT_ADDED","EMERGENCY_CONTACT_ADDED","CONFIRM","RECEIVE_ORDER_REQUEST","RECEIVE_ORDER_REQUEST_UNDO","RECEIVE_PARTNER_REQUEST","RECEIVE_PARTNER_REQUEST_UNDO","common","toNumComma","num","undefined","replace","isEmpty","obj","Array","isArray","key","hasOwnProperty","trim","s","c","RegExp","pad","size","substr","addUrlParameter","url","params","queryString","stringify","indexOf","parseQueryString","qs","hasPerm","perm","getState","is_superuser","redirect","search","dispatch","pathname","getFromJsonList","json_list","split","cols","isJSON","arg","formatStr","format","arguments","vsprintf","i","j","r","next","args","charCodeAt","Number","formatDate","date","Date","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","match","milliSeconds","getMilliseconds","substring","getFormErrorMessage","response","printIframeContent","idFrame","frm","document","getElementById","contentWindow","focus","print","cascade_reflect","results","schema","src_field","column","cascade_to","toBlob","base64","mime_ctype","bin","atob","buffer","Uint8Array","blob","Blob","downloadBlog","filename","csvURL","window","URL","createObjectURL","tempLink","createElement","href","setAttribute","click","clone","cloneDeep","getCurrentDateStr","getCurrentYear","getCurrentMonth","d","getPrevMonthDict","getNextMonthDict","getPrevMonthDictByYm","year","month","getNextMonthDictByYm","getMonthDiff","d1","d2","isNaN","months","getHeaderHeight","getElementsByTagName","offsetHeight","addMonths","resultDate","getTime","setMonth","getOneYearEndDate","date_after_12_month","ajax","getMethod","fetchGet","fetchPost","fetchDelete","fetchPut","fetchOptions","Error","fetchCommon","fetchPatch","fetchBinary","requestOptions","method","headers","fetch","then","handleStatus","res","handleResponse","ok","status","logoutAndRedirect","Promise","reject","text","userService","body","setItem","getMe","removeItem","message","statusText","nameOffset","verOffset","ix","loginRequest","loginSuccess","loginFailure","connect","ownProps","choice_years","choice_months","choice_residence_type","choice_bank_account_type","choice_simple_member_type","choice_contract_type_all_member","choice_contract_type_individual","choice_contract_type_bp","choice_contract_type_partner","choice_expense_cost_type","choice_gender","choice_marriage","choice_dependant_type","choice_relation_ship","choice_business_type","choice_contract_comment","choice_country","choice_attendance_type","choice_project_status","choice_degree","checkDateContradict","start_name","end_name","start","end","checkUnique","fields","dataList","vals","map","index","item","checkEndYearAndMonth","start_year","start_month","end_year","end_month","start_ym","end_ym","checkAllowanceAmount","amount","nAgt","navigator","userAgent","browserName","appName","fullVersion","parseFloat","appVersion","majorVersion","parseInt","lastIndexOf","toLowerCase","toUpperCase","OSName","firebaseDeviceInfo","AccountInfo","handleOpen","anchorEl","open","handleClose","handleExpandMyPage","mypage_expanded","Popper","transition","disablePortal","placement","popper","TransitionProps","Grow","Card","card","elevation","CardHeader","aria-label","src","alt","title","full_name","subheader","positions","email","x","join","CardContent","cardContent","List","listRoot","Divider","component","ListItem","button","ListItemAvatar","listIcon","ListItemText","primary","Collapse","in","unmountOnExit","disablePadding","Link","nested","CardActions","disableSpacing","flex","Tooltip","enterDelay","IconButton","React","withRouter","border","listStyle","backgroundImage","paddingLeft","grid","children","rest","Grid","container","toInteger","radix","val","getFromList","getChildren","parent","filter_in","concat","getDataForDisplay","page","stableSort","array","cmp","stabilizedThis","el","sort","a","b","order","stableFilter","filters","keys","item_value","getSorting","orderBy","isNumeric","getLabelFromColumn","label","display_name","getExtraRowStyles","rowData","tableHead","extraStyles","rowStyles","getColumnDisplay","getDisplayNameFromChoice","getDisplayNameFromChoices","decimal_digits","toFixed","whiteSpace","verbose_name","handle_download","choice","values","tmp_display_name","setFixedTableHeader","wrapperId","toolbarId","srcTabelid","fixedTableId","offset","wrapper","srcTable","toolbar","fixedTable","getBoundingClientRect","height","bodyHeight","querySelector","colsWidth","prototype","forEach","call","ele","idx","colWidth","dataTableToCSV","tableData","self","headArray","csvArray","visible","csv","row","dataArray","arrayToCSV","lineArray","infoArray","line","downloadCSV","csvContent","link","bom","webkitURL","appendChild","removeChild","downloadDataTableCSV","jsonToUrl","json","k","encodeURIComponent","urlToJson","hash","hashes","getB64FileSize","b64string","table","initTableData","getOrder","order_by","__order","orderNumeric","__orderNumeric","changeOrderUrl","changePaginationUrl","changePageSizeUrl","pageSize","changeFilterUrl","loadFilters","columns","resetFilter","PropTypes","object","isRequired","string","oneOf","arrayOf","tableHeaderColor","func","tableActions","rowActions","NO_DATA","INPUT_KEYWORD","DELETE_CONFIRM","REQUIRE_FIELD","INVALID_DATA","FILE_SIZE_LIMIT","useStyles","makeStyles","NonFieldErrors","errors","formStyle","formControl","helpText","inputFileBtnHide","opacity","appearance","cursor","fileWrapper","overflow","fileNameWrapper","borderBottom","lineHeight","fileDownloadWrapper","right","fileDownloadIcon","autoCompleteWrapper","HierarchySelect","rootItems","getChildItems","deep","native","sub","itemProps","parentItem","disabled","repeat","MenuItem","getAllItems","Select","inputProps","minWidth","fontWeight","ControlCreator","event","checked","file","files","reader","FileReader","addEventListener","readFileBlob","readAsDataURL","innerText","handleChangeAutoComplete","option","fileName","btoa","unescape","result","handleBlur","setDatasource","datasource","control","errorNodes","FormHelperText","placeholderProps","help_text","placeholder","InputLabelProps","shrink","read_only","TextField","toString","FormControlLabel","Checkbox","Autocomplete","options","getOptionLabel","getOptionDisabled","renderInput","multiple","renderValue","selected","Chip","multiline","InputProps","colStyles","min","min_value","max","max_value","step","maxLength","max_length","onBlur","defaultProps","createFormLayout","isSingleLine","prefix","inlineIndex","inlineDataList","colspanArr","arr","avgSpan","Math","floor","getColspanArray","createFormField","createRowLayout","colSpan","fieldName","fieldErrors","element","xs","sm","md","newCol","get_props","innerRef","ctrl","cascade_from","validate_form","checkList","valid","validate_by_schema","retVal","pushError","isInline","formData","regex","test","limit","fileSize","newErrors","inlineErrors","clean_form","validateFunc","MyForm","onChanges","onBlurs","handleDeleteInline","splice","existErrors","handleInlineAdd","inlineData","validate","inlines","formset","clean","initializeData","default","nextProps","non_field_errors","init_data_array","inlineTitle","init_data","key2","inlineTable","allowDelete","allowAdd","inlineAdd","Form","grey","FormDialog","initial","handleOk","_clean","saveCallback","catch","finally","description","Dialog","onClose","PaperProps","fullScreen","DialogTitle","DialogContent","dividers","DialogActions","CircularProgress","down","maxWidth","maxHeight","borderRadius","ConfirmDialog","handleCancel","content","onOk","aria-labelledby","root","background","getCellAlignment","colType","align","numeric","isSelected","pkName","__index__","handleMinWidth","tableId","tableStyles","wrapperDiv","parentElement","offsetWidth","DataTableCell","handleShowActions","stopPropagation","handleHideActions","handleFileDownload","file_id","handleActionClick","actions","actionsTrigger","attrs","output","tableActionWrapper","trigger","icon","tooltip","Fab","handleClick","tableActionButton","getOutput","TableCell","tableCell","uuid","max_width","tableCellFixedWidth","DataTableHead","createSortHandler","property","sortable","onSort","selectable","numSelected","rowCount","chkCell","tableCellCheckable","indeterminate","onSelectAllClick","TableHead","TableRow","tableHeadCell","sortDirection","TableSortLabel","active","sort_field","direction","TablePaginationActions","handleFirstPageButtonClick","onChangePage","handleBackButtonClick","handleNextButtonClick","handleLastPageButtonClick","ceil","count","TablePaginationActionsWrapped","flexShrink","withTheme","DataTablePagination","TablePagination","ActionsComponent","defaultFont","fontFamily","tableStyle","warningTableHeader","primaryTableHeader","dangerTableHeader","successTableHeader","infoTableHeader","roseTableHeader","grayTableHeader","marginBottom","borderSpacing","borderCollapse","tableRow","tableFixedHeader","boxSizing","tableLayout","zIndex","paddingRight","verticalAlign","tableResponsive","tableActionCell","tableRowSelected","MySimpleTable","handleChangePage","tableProps","Table","TableBody","hover","rowsPerPageOptions","backIconButtonProps","nextIconButtonProps","DataTableFixedHead","tableHeader","DataTableToolbar","onEscPress","keyCode","handleCloseFilter","componentDidMount","componentWillUnmount","removeEventListener","handleOpenFilter","openFilter","currentTarget","innerHeight","handleClearFilter","onChangeFilter","handleDeleteFilter","createCsvAction","state_name","btnLoadings","createActions","act","showLoading","onShowAddDialog","_showAddDialog","addProps","handleBeforeShowup","onShowEditDialog","editProps","_showModel","onShowDeleteDialog","_showDeleteConfirm","showTitle","allowCsv","deleteProps","clearSelected","filterLayout","Toolbar","classNames","highlight","chip","onDelete","spacer","searchable","isWidthDown","ClickAwayListener","onClickAway","dlg","handleDelete","minHeight","lighten","light","dark","overflowY","withWidth","MyHierarchyTable","fixedHeaderId","handleFixedHeader","pushpinTop","relatedName","rootRows","rows","getChildRows","pk","getTableRow","is_selected","newSelected","selectedIndex","onRowSelect","getAllRows","headerProps","toolbarProps","overflowX","HierarchyTable","AggregateFooter","getAggregateValue","aggregate","total","reduce","sum","MyEnhancedTable","initialize","__orderBy","__rowsPerPage","__page","urlFilters","storageFilter","getFilter","urlReflect","handleChangeRowsPerPage","server","handleSort","handleChangeFilter","saveFilter","storageKey","getDataKey","handleRowSelect","handleSelectAllClick","handleSaveCallback","pkList","showAggregate","onScroll","role","aria-checked","TableFooter","onChangeRowsPerPage","EnhancedTable","MyInlineForm","handleAppendNew","is_new","createAddComponent","oldErrors","new_line_schema","row_data","alternativeInline","InlineForm","tableDetailStyle","red","paddingBottom","MyTableDetail","handleOpenMenu","handleCloseMenu","handleMenuListKeyDown","getAvatar","avatarIcon","_showEditDialog","cardMenuItems","titleTypographyProps","aria-owns","aria-haspopup","__confirm","handleEdit","ref","dialog","Menu","TableDetail","detailStyle","ActionForm","__clean","methodName","saveEndpoint","Toast","success","deleteEndpoint","deleteCallback","formProps","__toastError","toastError","cardActions","buttons","flexGrow","paddingTop","statusCode","errorMsg","HttpStatus","xm","borderLeft","HttpNotFound","Waiting","DataSource","_isMounted","loaded","status_code","error_message","endpoint","reload","render","ImageEditor","handleNewImage","image","handleScale","scale","getImage","editor","canvas","getImageScaledToCanvas","defaultValue","PrivateRoute","StepForm","getCurrentForm","steps","inline","newCheckList","newOnChangeList","n","p","hasStepError","handleNext","activeStep","maxStep","hasForm","handleBack","getStepActions","stepIndex","formName","stepsData","currentForm","stepActions","Stepper","stepper","Step","StepLabel","errorStepLabel","stepDescription","gutterBottom","justifyContent","untreated_waiting_members_schema","untreated_release_members_schema","untreated_project_requests_schema","untreated_partner_orders_schema","untreated_payment_notices_schema","tabWrapper","tabPaper","WorkingStatusTab","member_id","initData","UntreatedProjectRequestTab","UntreatedPartnerOrderTab","UntreatedPaymentNoticeTab","MyPage","componentDidUpdate","activeIndex","handleChangeTab","newIndex","cover","Container","avatarWrapper","avatarImage","Tabs","Tab","exact","path","backgroundSize","backgroundRepeat","backgroundPosition","defaultCover","mountPoint","msg","toast","warning","info","Display","withSnackbar","enqueueSnackbar","ReactDOM","maxSnack","anchorOrigin","horizontal","vertical","Notifications","handleRead","read","toggleDrawer","toggleNotificationRead","changeNotification","unread_count","Drawer","anchor","AppBar","Badge","badgeContent","Switch","edge","is_read","badge","created_dt","noData","addNotification","TopBar","handleMenuClick","handleDrawerOpen","handleShowNotifications","_openNotifications","toobarEl","handleShowAccountInfo","_openAccountInfo","handleAwayFromAccountInfo","_closeAccountInfo","appBar","appBarShift","disableGutters","bar","menuButton","hide","noWrap","grow","float","flexWrap","breadcrumbs","Breadcrumbs","separator","arial-label","bread","withPermissions","WrappedComponent","permission","forbidden","HasPerm","TimelineItem","time","showTime","timeLineCtnr","bottom","boxShadow","Timeline","showEnd","activities","start_date","moment","dateStr","end_date","getFormattedData","dates","SimpleCard","secondaryList","cardHeader","cardPricing","getModalStyle","transform","shadows","ImageModal","useState","modalStyle","setOpen","Modal","cardStyle","wordWrap","cardPlain","cardProfile","cardChart","plain","profile","chart","cardClasses","cardAvatarStyle","cardAvatar","cardAvatarProfile","cardAvatarPlain","cardAvatarClasses","cardBodyStyle","cardBody","WebkitBoxFlex","cardBodyPlain","cardBodyProfile","cardBodyClasses","cardFooterStyle","cardFooter","cardFooterProfile","cardFooterPlain","cardFooterStats","borderTop","cardFooterChart","stats","cardFooterClasses","warningCardHeader","successCardHeader","dangerCardHeader","infoCardHeader","primaryCardHeader","roseCardHeader","plainCardHeader","textDecoration","paperSpacing","cardHeaderStyle","cardHeaderPlain","cardHeaderStats","cardHeaderIcon","cardHeaderClasses","cardIconStyle","cardIcon","cardIconClasses","HomeListItems","ListItemIcon","MemberListItems","Dashboard","People","HowToReg","FolderShared","NewReleases","Euro","PartnerListItems","RecentActors","AccountBox","ShoppingCart","AttachMoney","ProjectListItems","GroupWork","Business","ContractListItems","Commute","AirplanemodeActive","TurnoverListItems","PieChart","SettingListItems","rel","Settings","mainStyles","drawer","transitions","create","easing","sharp","duration","leavingScreen","enteringScreen","drawerOpen","drawerClose","mixins","withoutMobile","outline","MainFrame","handleDrawerClose","showMessage","onMount","sideMenu","dashboardStyle","successText","upArrowCardCategory","cardCategory","cardCategoryWhite","cardTitle","cardTitleWhite","typographyStyle","defaultFontStyle","defaultHeaderMargins","quote","quoteText","fontStyle","quoteAuthor","mutedText","primaryText","infoText","warningText","dangerText","getOrganizationChoices","getPartnerMemberProjectTimeline","partner_member_id","timelines","project_name","project_id","getSalespersonChoice","companies","getOrganization","org_id","getMemberInfo","getContract","getPartnerCompanyChoices","getPartnerCompany","getPartnerMember","company_id","getIndividualMember","getPartnerMemberChoice","exlude_id","getPartnerMemberContractTotal","contract_id","getProjectBusinessTypeChoice","code","getCompanyCategory","getMemberCategory","getMemberChoices","last_name","first_name","getContentObjects","content_type","getCascadeObjects","current_name","content_type_name","content_type_value","object_list","getProjectDetail","getProjectMemberChoices","getProjectMemberDetial","onDeleteObject","delete_api","success_url","getBankAccountList","object_id","bank_name","branch_name","account_number","getExpenseCategoryChoices","downloadAttachment","viewAttachment","ShowImage","getPartnerPaymentNoticeEmailData","order_id","createPartnerPaymentNotice","sendContentObjectEmail","handleAddObject","callback","added_data","handleEditObject","handleDeleteObject","getDuplicatedProjectMember","project_member_id","checkMemberDuplications","MemberDashboard","lg","total_status","waiting_count","member_count","waiting_rate","release_status","curr_month_cnt","next_year","next_month","next_month_cnt","next_2_year","next_2_month","next_2_month_cnt","member_count_status","employee_count","bp_member_count","individual_count","bp_member_rate","individual_rate","calcMinusOrPlusPerHour","hours","onChangeCalculateType","item_min_hours","calculate_hours","onChangeContractBasicInfo","cnt","onBlurPostcode","postcode","request","getBody","getAddressByPostcodeSync","address","onChangeProjectBlanketContract","unit","round","onChangeProjectBlanketContractInStep","onChangeMinusAndPlus","member_calculate_type","min_hours","item_calc_min_hours","getMinHours","item_minus_per_hours","max_hours","item_max_hours","item_calc_max_hours","getMaxHours","item_plus_per_hours","send_email_form_schema","send_email_form_layout","bank_account_list_schema","bank_account_form_schema","expense_list_schema","expense_form_schema","expense_form_layout","list_member_schema","1","member_list_search_layout","member_detail_schema","member_type","company","member_form_basic_schema","member_form_basic_layout","list_salesperson_schema","release_list_schema","expense_month_list_schema","expense_by_month_list_schema","expense_by_object_list_schema","my_list_member_schema","salesperson_choice","MemberRetire","handleOpenDialog","_openDialog","handleRetire","partnerMemberRetire","_closeDialog","MemberDetail","ct","content_type_id","portal_detail_api","basic_price","is_hourly_pay","is_fixed_pay","company_object_id","getPartnerMemberContractTimeline","onEditMember","handleRetired","org_reload","is_on_sales","defaultAvatar","cardAvatarSpan","cardImage","prevMonthRelease","nextMonthRelease","getYm","my_release_list_schema","console","log","projects","project_choices","org_choices","handleDownloadMemberExpenses","downloadMemberExpense","list_company_schema","client_project_list_schema","company_list_search_layout","company_form_schema","company_form_layout","company_member_list_schema","member_contract_form_schema","contract_allowance_schema","contract_calculate_hours_schema","bp_contract_item_schema","bp_contract_item_layout","bp_member_contract_list_schema","has_permission","partner_contract_detail_schema","member_monthly_request_list_schema","member_monthly_request_form_schema","member_monthly_request_form_layout","partner_orders_status_list_schema","is_blanket_contract","partner_orders_status_filter_layout","create_partner_order_form_schema","choice_years_from_prev","create_partner_order_form_layout","monthly_orders_list_schema","monthly_requests_list_schema","blanket_contract_form_schema","blanket_contract_form_layout","partner_payment_notice_status_list_schema","partner_payment_notice_status_filter_layout","create_partner_payment_notice_form_schema","create_partner_payment_notice_form_layout","individual_member_list_schema","default_contract_data","contract_date","allowances","default_blanket_contract_data","contract_type","partner_payment_notice_by_month_list_schema","onEditCompany","detail_api","onDeleteCompany","ContractDashboard","no_contract_count","auto_updating_count","auto_updated_count","will_expire_count","did_expired_count","heroContent","white","ul","li","footer","divider","DuplicatedMemberDialog","handleSelect","handleSame","handleSelected","duplication","company_name","organization_id","organization_name","dialogContent","Radio","member_code_form_schema","member_add_org_schema","true","member_list_filter_layout","member_edit_layout","contract_detail_schema","contract_form_basic_schema","contract_form_basic_layout","contract_item_schema","contract_item_layout","contract_item_list_schema","contract_allowance_list_schema","member_emergency_contact_list_schema","member_emergency_contact_form_schema","member_family_list_schema","member_family_form_schema","member_family_form_layout","member_residence_list_schema","member_residence_form_schema","member_residence_form_layout","contract_auto_update_list_schema","contract_expire_list_schema","list_member_organization_schema","member_organization_form_schema","commutation_list_schema","commutation_add_schema","commutation_edit_schema","member_education_list_schema","member_education_form_schema","member_salary_preview_list_schema","import_salary_csv_form_schema","paid_vacation_list_schema","paid_vacation_edit_schema","paid_vacation_edit_layout","onBlurMemberDuplicate","_openDuplicatedDlg","onDuplicatedMemberSelect","duplicated_member_data","getSteps","member_list_schema","handleDownloadWorkerRoster","member_id_list","pk_list","BankAccountList","bank_account_form","resetBranchList","bank_id","branch_no","resolve","handleBeforeShowEditDialog","ContractMemberDetail","member_form_basic","onDeleteMember","handleCloseAvatar","handleSaveAvatar","__getAvatarImage","onSaveAvatar","avatar_url","downloadWorkerRoster","_closeMenu","emergency_reload","family_reload","residence_reload","education_reload","changeAvatar","contract_no","basic_info_edit_schema","new_contract_item_schema","getContractItems","default_contract_items","getContractAllownaces","default_contract_allowances","contract_item_choices","exists","default_contract_allowances_empty_comment","comment","default_data","default_value","onChangeContractAllowance","add_contract_item_schema","initCommentsForAdd","getContractCommentsForAdd","comments","comments_for_add","onEditContract","onDeleteContract","onContractCommentChange","allowance_reload","comment_reload","reportId","employment_html","html","srcDoc","frameBorder","incumbency_html","income_html","AutoUpdateList","ContractExpireList","CommutationList","prevMonth","nextMonth","commutation_id","SalaryUpload","handleOpenPreview","openPreview","handleClosePreview","showImportSalaryCSV","_showImportDialog","previewSalaryCSV","getSalaryCSVPreview","salary_list","handlePreviewSalaryStatement","previewSalaryStatement","salary_statment_html","scroll","list_organization_schema","organization_form_schema","organization_detail_schema","org_member_list_schema","0","positionship_form_schema","turnover_client_schema_by_month","profit","org_positionship_list_schema","org_attendance_by_month_schema","import_attendance_form_schema","OrganizationList","OrganizationForm","OrganizationDetail","initializeOrganization","chief","vice_chief","position_name","getOrganizationPositionTimelines","position_timelines","handleOrgExpandClick","org_expanded","prevMonthTurnoverClients","year_turnover_clients","month_turnover_clients","turnover_clients_reload","nextMonthTurnoverClients","_showAddPositionShip","clsx","expand","expandOpen","aria-expanded","blue","shortest","OrgMemberList","OrgPositionList","OrgAttendanceByMonth","prevMonthAttendances","nextMonthAttendances","exportAttendanceExcel","export_attendances_by_month","showImportAttendanceExcel","OrderStatusList","showOrderConfirm","orderCreatedCallback","_showOrderConfirm","_orderCreatedCallback","createPartnerOrder","monthly_request_id","handleOrderReload","showSendEmail","sendEmailCallback","_showSendEmail","mail_data","email_schema","attachment_choices","_sendEmailCallback","sendPartnerOrders","showReceiveOrderRequest","_showReceiveOrderRequest","received_data","is_received","handleReceiveOrderRequest","_closeReceiveOrderRequest","handleDeleteOrder","onDeletePartnerOrder","showMonth","PaymentNoticeStatus","partner_payment_notice_form","showPaymentNoticeConfirm","paymentNoticeCreatedCallback","_showPaymentNoticeConfirm","bank_account_list","_paymentNoticeCreatedCallback","handlePaymentNoticeReload","request_id","sendPartnerPaymentNotice","showReceivePartnerRequest","_showReceivePartnerRequest","handleReceivePartnerRequest","_closeReceivePartnerRequest","handleDeleteRequest","onDeletePartnerRequset","partnerCompaies","members_choice","colCompany","idxCompany","colCode","idxCode","getNextPartnerMemberCode","contract_total","company_content_type","onEditMonthlyRequest","handleRequestFormChanges","is_show_formula","price","minus_per_hour","plus_per_hour","reportRequestId","getPartnerOrderHtml","partner_order_html","partner_order_uuid","getPartnerOrderRequestHtml","partner_order_request_html","partner_order_request_uuid","showDeleteConfirm","IndividualMember","member_contract_list_schema","member_form_schema","project_list_schema","project_list_search_layout","project_basic_info_schema","project_basic_info_layout","project_request_profile_schema","project_request_profile_layout","project_detial_schema","project_member_list_schema","proejct_member_form_schema","cost_percentage_form_schema","project_member_detail_schema","project_attendance_status_schema","project_attendance_by_month_schema","project_attendance_edit_schema","project_attendance_edit_layout","project_request_status_schema","create_request_form_schema","project_order_form_schema","project_order_form_layout","project_member_contract_list_schema","project_subcontractor_list_schema","project_subcontractor_add_schema","project_blanket_contract_list_schema","business_types","handleProjectFinish","projectFinish","_closeFinshDialog","list_schema","_openFinshDialog","project_business_type_list","company_categories","project_basic_info","ProjectDetial","project_info_schema","companyList","my_company_content_type","my_company_id","getProjectRequestProfile","project_request_profile","onEditProject","onDeleteProject","showRequestConfirm","requestCreatedCallback","_showRequestConfirm","_requestCreatedCallback","createProjectRequest","handleRequestCreated","onDeleteProjectRequset","showChangeProjectRequestProfile","_showChangeProjectRequestProfile","onChangeProjectRequestProfile","changeProjectRequestProfile","listItem","attendance_type","request_file_id","project_member_schema","initial_member_list","member_categories","src_object","member_content_type","duplications","getProjectMemberFormSchema","checkProjectMemberDuplicated","currData","project_member","member_content_type_id","getDuplicatedProjectMemberSync","member_object_id","arr_tmp_ym","arr_ym","ym","keyA","keyB","expense_list","expense_form","colProject","is_duplicated","onEditProjectMember","getDetailActions","col_member_ct","col_member_id","getProjectMemberContractTotal","project_member_content_type","ProjectOrderAdd","project_order_form","project_members_chioce","getProjectOrderDetail","onEditProjectOrder","onAttendanceModified","onSaveProjectAttendance","attendance_id","onDeleteSubcontractor","company_choice","handleSubcontractorCompanyChange","contract_data","my_project_subcontractor_add_schema","subcontractor_id","getProjectSubcontractorDetail","subcontractor","subcontractors_id","getProjectSubcontractorContractTotal","ProjectMemberDuplications","saveCostPercentage","saveProjectMemberCostPercentage","getProjectContractTotal","company_monthly_turnover_option","plotOptions","columnWidth","endingShape","dataLabels","enabled","stroke","show","colors","xaxis","categories","yaxis","labels","formatter","fill","y","clients_monthly_turnover_option","zoom","animations","curve","TurnoverDashBoard","company_turnover_monthly","series","clients_turnover_monthly","charts","member_monthly_turnover_list_schema","member_turnover_by_month_list_schema","member_fiscal_year_turnover_list_schema","MembersMonthlyTurnover","MembersTurnoverByMonth","MembersTurnoverByFiscalYear","Home","allow","allowFullScreen","MainLayout","is_staff","AccountRouter","ContractRouter","MemberRouter","PartnerRouter","OrganizationRouter","ClientRouter","ProjectRouter","TurnoverRouter","MemberList","SalespersonList","ReleaseList","ExpenseMonths","ExpenseByMonthList","ExpenseByObjectList","PartnerCompanyList","PartnerCompanyForm","PartnerCompanyDetail","PartnerMemberList","PartnerMemberAdd","PartnerMemberDetail","PartnerContractForm","PartnerContractDetail","PartnerOrderDetail","PartnerCompanyBankAccounts","PartnerCompanyPaymentNotice","IndividualMembers","IndividualMemberAdd","IndividualPaymentNotice","PartnerMonthlyOrders","PartnerMonthlyRequests","PartnerOrderList","PartnerRequestList","ContractMemberAdd","ContractMemberList","ContractAdd","ContractDetail","ContractEmployment","ContractIncumbency","ContractIncome","ContractAutoUpdateList","PaidVacationList","ClientCompanyList","ClientCompanyForm","ClientCompanyDetail","ProjectList","ProjectAdd","ProjectMemberList","ProjectMemberAdd","ProjectMemberDetail","ProjectMemberContractForm","ProjectAttendance","ProjectOrderDetail","ProjectRequest","SubcontractorList","SubcontractorForm","SubcontractorContractForm","ProjectContractList","ProjectContractForm","initializedFirebaseApp","firebase","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","messaging","usePublicVapidKey","PasswordForget","security_code","sendPasswordForgetEmail","helperText","onInput","PasswordReset","signature","initPasswordReset","timeout_msg","password_confirm","sendPasswordReset","App","ReactGA","set","pageview","sendTokenToServer","devices","requestPermission","getToken","onTokenRefresh","refreshedToken","err","serviceWorker","messageEvent","setTimeout","reloadNotification","Boolean","hostname","register","registration","scope","listen","ready","unregister"],"mappings":"6GAAAA,EAAOC,QAAU,8rN,oBCAjBD,EAAOC,QAAU,IAA0B,mC,qdCgBrCC,EAAS,SAAAC,GAAK,MAAK,CACvBC,OAAO,aACLC,MAAO,OACPC,QAAS,QACTC,WAAYJ,EAAMK,QAAQ,GAC1BC,YAAaN,EAAMK,QAAQ,IAC1BL,EAAMO,YAAYC,GAAG,IAAyB,EAAnBR,EAAMK,QAAQ,IAAU,CAClDH,MAAO,IACPE,WAAY,OACZE,YAAa,SAGjBG,MAAO,CACLC,UAAWV,EAAMK,QAAQ,GACzBF,QAAS,OACTQ,cAAe,SACfC,WAAY,SACZC,QAAQ,GAAD,OAAKb,EAAMK,QAAQ,GAAnB,cAA2BL,EAAMK,QAAQ,GAAzC,cAAiDL,EAAMK,QAAQ,GAA/D,OAETS,OAAQ,CACNC,OAAQf,EAAMK,QAAQ,GACtBW,gBAAiBhB,EAAMiB,QAAQC,UAAUC,MAE3CC,KAAM,CACJlB,MAAO,OACPQ,UAAWV,EAAMK,QAAQ,IAE3BgB,OAAQ,CACNX,UAAWV,EAAMK,QAAQ,IAE3BiB,MAAO,CACLC,MAAO,MACPC,SAAU,IAEZC,eAAgB,CACdF,MAAOG,IAAM,KACbC,SAAU,WACVC,IAAK,MACLC,KAAM,MACNnB,WAAY,GACZN,YAAa,IAEf0B,QAAS,CACPC,UAAW,SACX,MAAO,CACLzB,YAAaN,EAAMK,QAAQ,OAO3B2B,E,YAEJ,WAAYC,GAAQ,IAAD,8BACjB,4CAAMA,KACDC,MAAQ,CACXC,SAAU,GACVC,SAAU,IAEZ,EAAKC,aAAe,EAAKA,aAAaC,KAAlB,gBACpB,EAAKC,aAAe,EAAKA,aAAaD,KAAlB,gBAPH,E,0EAUNE,GAAI,IAAD,EACUA,EAAEC,OAAlBC,EADM,EACNA,KAAMC,EADA,EACAA,MACdC,KAAKC,SAAL,eAAiBH,EAAOC,M,mCAGbH,GACXA,EAAEM,iBADY,IAENC,EAAaH,KAAKX,MAAlBc,SAFM,EAGiBH,KAAKV,MAA5BC,EAHM,EAGNA,SAAUC,EAHJ,EAGIA,SACdD,GAAYC,GACdQ,KAAKX,MAAMe,MAAMb,EAAUC,EAAUW,EAASb,OAASa,EAASb,MAAMe,Q,+BAIjE,IACCC,EAAYN,KAAKX,MAAjBiB,QACR,OACE,kBAAC,IAAMC,SAAP,KAEE,kBAACC,EAAA,EAAD,MACA,0BAAMC,UAAWH,EAAQjD,QACvB,kBAACqD,EAAA,EAAD,CAAOD,UAAWH,EAAQzC,OACxB,kBAAC8C,EAAA,EAAD,CAAQF,UAAWH,EAAQpC,QACzB,kBAAC,IAAD,OAEF,kBAAC0C,EAAA,EAAD,CAAYC,QAAQ,aAApB,4EACCb,KAAKX,MAAMyB,MACV,uBAAGL,UAAWH,EAAQ5B,OAAtB,8IACE,GAGJ,0BAAM+B,UAAWH,EAAQ9B,MACvB,kBAACuC,EAAA,EAAD,CAAa5C,OAAO,SAAS6C,UAAQ,EAACC,WAAS,GAC7C,kBAACC,EAAA,EAAD,CAAYC,QAAQ,SAApB,kCACA,kBAACC,EAAA,EAAD,CAAOC,GAAG,QAAQvB,KAAK,WAAWwB,WAAS,EAACC,SAAUvB,KAAKP,gBAE7D,kBAACsB,EAAA,EAAD,CAAa5C,OAAO,SAAS6C,UAAQ,EAACC,WAAS,GAC7C,kBAACC,EAAA,EAAD,CAAYC,QAAQ,YAApB,kCACA,kBAACC,EAAA,EAAD,CACEtB,KAAK,WACL0B,KAAK,WACLH,GAAG,WACHI,aAAa,mBACbF,SAAUvB,KAAKP,gBAGnB,kBAACiC,EAAA,EAAD,CACEF,KAAK,SACLP,WAAS,EACTJ,QAAQ,YACRlC,MAAM,UACN8B,UAAWH,EAAQ7B,OACnBkD,QAAS3B,KAAKL,cANhB,4BAUA,kBAACiB,EAAA,EAAD,CAAYgB,MAAO,CAAC9D,UAAW,EAAGc,SAAU,KAC1C,kBAAC,IAAD,CAAMiD,GAAG,oBAAT,uD,GArEIC,aA+ELC,MAAW5E,EAAX4E,CAAmB3C,GCnJrB4C,EAAgB,CACzBC,cAAe,gBACfC,cAAe,gBACfC,cAAe,gBAEfC,OAAQ,UCLCC,EAAgB,CAC3BC,eAAgB,iBAChBC,eAAgB,iBAChBC,eAAgB,iBAChBC,SAAU,WACVC,iBAAkB,mBAClBC,oBAAqB,sBACrBC,oBAAqB,uBCPVC,EAAU,kCAGVC,GAAqBD,EAErBE,EAAS,CACpBC,IAAK,CACHC,aAAcJ,EAAU,mBACxBK,QAAS,CACPC,GAAIN,EAAU,mBACdO,OAAQP,EAAU,uBAClBQ,gBAAiBR,EAAU,gCAC3BS,eAAgBT,EAAU,+BAC1BU,kBAAmBV,EAAU,sCAC7BW,wBAAyBX,EAAU,kCAErCY,OAAQ,CACNC,UAAWb,EAAU,yBACrBc,KAAMd,EAAU,uBAChBe,IAAKf,EAAU,uBACfgB,kBAAmBhB,EAAU,yCAC7BiB,YAAajB,EAAU,mCACvBkB,cAAelB,EAAU,2BACzBmB,QAASnB,EAAU,+BACnBoB,qBAAsBpB,EAAU,yCAChCqB,gBAAiBrB,EAAU,oCAC3BsB,OAAQtB,EAAU,0BAClBuB,QAASvB,EAAU,kCACnBwB,cAAexB,EAAU,wCACzByB,WAAYzB,EAAU,kCACtB3E,OAAQ2E,EAAU,iCAClB0B,aAAc1B,EAAU,8BACxB2B,UAAW3B,EAAU,iCACrB4B,0BAA2B5B,EAAU,oDACrC6B,0BAA2B7B,EAAU,oDACrC8B,2BAA4B9B,EAAU,qDACtC+B,yBAA0B/B,EAAU,mDACpCgC,0BAA2BhC,EAAU,mDACrCiC,mBAAoBjC,EAAU,6DAC9BkC,wBAAyBlC,EAAU,iDACnCmC,mBAAoBnC,EAAU,8CAC9BoC,eAAgBpC,EAAU,qCAC1BqC,iBAAkBrC,EAAU,yCAE9BsC,YAAa,CACXC,wBAAyBvC,EAAU,uCACnCwC,iBAAkBxC,EAAU,4BAE9ByC,aAAc,CACZ1B,IAAKf,EAAU,0BACfc,KAAMd,EAAU,0BAChBiB,YAAajB,EAAU,sCACvBsB,OAAQtB,EAAU,6BAClB0C,QAAS1C,EAAU,qCACnB2C,cAAe3C,EAAU,uCACzB4C,aAAc5C,EAAU,uCACxB6C,gBAAiB7C,EAAU,0CAC3B8C,wBAAyB9C,EAAU,iCACnC+C,2BAA4B/C,EAAU,oCACtCgD,8BAA+BhD,EAAU,oDACzCiD,oBAAqBjD,EAAU,+CAC/BkD,wBAAyBlD,EAAU,sDACnCmD,wBAAyBnD,EAAU,uDAErCoD,SAAU,CACRvC,UAAWb,EAAU,2BACrBsB,OAAQtB,EAAU,8BAClBqD,YAAarD,EAAU,yBACvBsD,cAAetD,EAAU,4BACzBuD,oBAAqBvD,EAAU,yCAC/BwD,gBAAiBxD,EAAU,qCAC3ByD,8BAA+BzD,EAAU,+CACzC0D,6BAA8B1D,EAAU,+CACxC2D,gCAAiC3D,EAAU,kDAC3C4D,mBAAoB5D,EAAU,mCAC9B6D,kBAAmB7D,EAAU,mCAC7B8D,qBAAsB9D,EAAU,sCAChC+D,sBAAuB/D,EAAU,sCACjCgE,qBAAsBhE,EAAU,sCAChCiE,wBAAyBjE,EAAU,yCACnCkE,yBAA0BlE,EAAU,0CACpCmE,wBAAyBnE,EAAU,0CACnCoE,2BAA4BpE,EAAU,6CACtCqE,0BAA2BrE,EAAU,4CACrCsE,0BAA2BtE,EAAU,4CACrCuE,eAAgBvE,EAAU,oCAC1BwE,oBAAqBxE,EAAU,yCAC/ByE,kBAAmBzE,EAAU,yCAC7B0E,kBAAmB1E,EAAU,yCAC7B2E,cAAe3E,EAAU,qCACzB4E,iBAAkB5E,EAAU,4CAC5B6E,YAAa7E,EAAU,uCACvB8E,2BAA4B9E,EAAU,4CACtC+E,sBAAuB/E,EAAU,uCACjCgF,wBAAyBhF,EAAU,0CACnCiF,0BAA2BjF,EAAU,gDACrCkF,iBAAkBlF,EAAU,+CAC5BmF,gBAAiBnF,EAAU,uCAC3BoF,mBAAoBpF,EAAU,0CAC9BqF,mBAAoBrF,EAAU,8BAC9BsF,qBAAsBtF,EAAU,kCAElCuF,QAAS,CACPzE,KAAMd,EAAU,0BAChBe,IAAKf,EAAU,0BACfsB,OAAQtB,EAAU,6BAClBwF,gBAAiBxF,EAAU,qCAC3ByF,eAAgBzF,EAAU,wCAC1B0F,sBAAuB1F,EAAU,2CACjC2F,8BAA+B3F,EAAU,mDACzC4F,gCAAiC5F,EAAU,mEAC3C6F,iBAAkB7F,EAAU,sDAC5BqB,gBAAiBrB,EAAU,oCAC3B8F,iBAAkB9F,EAAU,kDAC5B+F,gBAAiB/F,EAAU,wCAC3BgG,sBAAuBhG,EAAU,8CACjCiG,oBAAqBjG,EAAU,yCAC/BkG,qBAAsBlG,EAAU,6CAChCmG,uBAAwBnG,EAAU,wDAClCoG,8BAA+BpG,EAAU,2DACzCqG,qBAAsBrG,EAAU,sDAChCsG,cAAetG,EAAU,kCACzBuG,mBAAoBvG,EAAU,2BAC9BwG,sBAAuBxG,EAAU,yCACjCyG,yBAA0BzG,EAAU,8BACpC0G,4BAA6B1G,EAAU,qCACvC2G,iCAAkC3G,EAAU,oDAC5C4G,mCAAoC5G,EAAU,oEAC9C6G,UAAW7G,EAAU,+CACrB8G,aAAc9G,EAAU,0BACxB+G,WAAY/G,EAAU,wCACtBgH,mBAAoBhH,EAAU,gDAC9BiH,iBAAkBjH,EAAU,qCAC5BkH,cAAelH,EAAU,+CACzBmH,eAAgBnH,EAAU,+BAC1BoH,iBAAkBpH,EAAU,sCAC5BqH,sBAAuBrH,EAAU,sCACjCsH,0BAA2BtH,EAAU,6CACrCuH,yBAA0BvH,EAAU,+CACpCwH,wBAAyBxH,EAAU,kCACnCyH,sBAAuBzH,EAAU,0CACjC0H,uBAAwB1H,EAAU,mCAEpC2H,OAAQ,CACN7G,KAAMd,EAAU,yBAChBe,IAAKf,EAAU,yBACfsB,OAAQtB,EAAU,4BAClB4H,0BAA2B5H,EAAU,0CACrC6H,aAAc7H,EAAU,sCAE1B8H,QAAS,CACPhH,KAAMd,EAAU,yBAChBsB,OAAQtB,EAAU,4BAClB+H,OAAQ/H,EAAU,mCAClBgI,gBAAiBhI,EAAU,4CAC3BiI,uBAAwBjI,EAAU,mDAClCkI,YAAalI,EAAU,qCACvBqD,YAAarD,EAAU,oCACvBmI,mBAAoBnI,EAAU,gDAC9BoI,WAAYpI,EAAU,wCACtBsD,cAAetD,EAAU,uCACzB8F,iBAAkB9F,EAAU,iDAC5BgG,sBAAuBhG,EAAU,0DACjCiG,oBAAqBjG,EAAU,qDAC/BkG,qBAAsBlG,EAAU,yDAChC+F,gBAAiB/F,EAAU,oDAC3BqI,kBAAmBrI,EAAU,sCAC7BsI,wBAAyBtI,EAAU,wCACnCuI,uBAAwBvI,EAAU,+CAClCwI,qBAAsBxI,EAAU,0CAChCyI,sBAAuBzI,EAAU,8CACjC0I,0BAA2B1I,EAAU,8CACrC2I,4BAA6B3I,EAAU,yDACvC4I,uBAAwB5I,EAAU,wCAClC6I,0BAA2B7I,EAAU,2CACrC8I,uBAAwB9I,EAAU,2CAClC+I,uBAAwB/I,EAAU,2CAClCgJ,qBAAsBhJ,EAAU,gDAChCiJ,uBAAwBjJ,EAAU,wCAClCkJ,kBAAmBlJ,EAAU,mCAC7BmJ,qBAAsBnJ,EAAU,sCAChCoJ,mBAAoBpJ,EAAU,2CAC9BqJ,mBAAoBrJ,EAAU,2CAC9BsJ,qBAAsBtJ,EAAU,8CAChCuJ,6BAA8BvJ,EAAU,iEACxCwJ,4BAA6BxJ,EAAU,gEACvCyJ,8BAA+BzJ,EAAU,2DACzC0J,mCAAoC1J,EAAU,iDAC9C2J,6BAA8B3J,EAAU,qDAE1C4J,WAAY,CACVC,oCAAqC7J,EAAU,wCAC/C8J,mCAAoC9J,EAAU,wCAC9C+J,sCAAuC/J,EAAU,2CACjDgK,eAAgBhK,EAAU,mCAC1BiK,iBAAkBjK,EAAU,6CAC5BkK,kBAAmBlK,EAAU,yDAC7BmK,2BAA4BnK,EAAU,kEACtCoK,YAAapK,EAAU,4BACvBqK,eAAgBrK,EAAU,gCAE5BsK,OAAQ,CACN/F,eAAgBvE,EAAU,8BAC1BwE,oBAAqBxE,EAAU,mCAC/BuK,sBAAuBvK,EAAU,qCACjCwK,iBAAkBxK,EAAU,gCAC5ByK,gBAAiBzK,EAAU,+BAC3B0K,gBAAiB1K,EAAU,qBAC3B2K,UAAW3K,EAAU,qBACrB4K,iBAAkB5K,EAAU,iCAC5B6K,iBAAkB7K,EAAU,6BAC5B8K,oBAAqB9K,EAAU,gCAC/B+K,mBAAoB/K,EAAU,yCAC9BgL,sBAAuBhL,EAAU,gCACjCiL,oBAAqBjL,EAAU,sCAC/BkL,WAAYlL,EAAU,0BACtBmL,4BAA6BnL,EAAU,sCACvCoL,yBAA0BpL,EAAU,iCAEtCqL,SAAU,CACRC,gBAAiBtL,EAAU,yBAC3BuL,gBAAiBvL,EAAU,iCAC3BwL,oBAAqBxL,EAAU,qCAC/ByL,gBAAiBzL,EAAU,iCAC3B0L,iBAAkB1L,EAAU,0CAC5B2L,uBAAwB3L,EAAU,yCAEpC4L,WAAY,CACVC,wBAAyB,qEAG7BC,YAAa,GACbC,iBAAkB,IAClBC,cAAe,QACfC,WAAY,oD,qDC1OP,SAASC,IAEd,IAAIC,EAAQC,KAAKC,MAAMC,aAAaC,QAAQ,UAE5C,OAAIJ,EACK,CACL,OAAU,mBACV,cAAiB,OAASA,EAC1B,eAAgB,mCAGX,CACL,OAAU,mBACV,eAAgB,mC,ynBCXtB,IAAIA,GAAQC,KAAKC,MAAMC,aAAaC,QAAQ,UACtCC,GAAeL,GACrB,CACEM,WAAW,EACXC,UAAU,EACVP,MAAOA,GACPlO,OAAO,GAEP,CACAwO,WAAW,EACXC,UAAU,EACVP,MAAO,KACPlO,OAAO,GAGF,SAAS0O,KAAoC,IAA/BlQ,EAA8B,uDAAtB+P,GAAcI,EAAQ,uCACjD,OAAQA,EAAOjO,MACb,KAAKQ,EAAcC,cACjB,OAAO,GAAP,GACK3C,EADL,CAEEgQ,WAAW,EACXC,UAAU,EACVzO,OAAO,IAEX,KAAKkB,EAAcE,cACjB,OAAO,GAAP,GACK5C,EADL,CAEEgQ,WAAW,EACXC,UAAU,EACVP,MAAOS,EAAOC,QAAQV,QAE1B,KAAKhN,EAAcG,cACjB,OAAO,GAAP,GACK7C,EADL,CAEEwB,OAAO,IAEX,KAAKkB,EAAcI,OACjB,OAAO,GAAP,GACK9C,EADL,CAEEiQ,UAAU,EACVP,MAAO,KACPlO,OAAO,IAEX,QACE,OAAOxB,G,6jBC5Cb,IAAM+P,GAAe,CACnBM,SAAS,EACT7O,OAAO,EACPqC,GAAI,GACJyM,MAAO,GACPC,cAAe,IAGV,SAASC,KAAoC,IAA/BxQ,EAA8B,uDAAtB+P,GAAcI,EAAQ,uCACjD,OAAQA,EAAOjO,MACb,KAAKa,EAAcC,eACjB,OAAO,MACFhD,EADL,CAEEqQ,SAAS,EACT7O,OAAO,IAEX,KAAKuB,EAAcE,eACjB,OAAO,MACFjD,EADL,CAEEqQ,SAAS,EACTxM,GAAIsM,EAAOC,QAAQvM,GACnByM,MAAOH,EAAOC,QAAQE,MACtBC,cAAeJ,EAAOC,QAAQG,gBAElC,KAAKxN,EAAcG,eACjB,OAAO,MACFlD,EADL,CAEEqQ,SAAS,EACT7O,OAAO,IAEX,KAAKuB,EAAcI,SACjB,OAAO,MACFnD,EADL,CAEE6D,GAAI,KAER,KAAKd,EAAcK,iBAEjB,OADApD,EAAMuQ,cAAcE,KAAKN,EAAOO,cACzB,MACF1Q,EADL,CAEEuQ,cAAevQ,EAAMuQ,cAAcI,UAEvC,KAAK5N,EAAcM,oBACjB,IAAMuN,EAAQ5Q,EAAMuQ,cAAcM,QAAO,SAAAC,GAAG,OAAIA,EAAG,KAAWX,EAAOO,aAAa3O,MAIlF,OAHI6O,EAAMG,OAAS,GACjBC,OAAOC,OAAOL,EAAM,GAAIT,EAAOO,cAE1B,MACF1Q,EADL,CAEEuQ,cAAevQ,EAAMuQ,cAAcI,UAEvC,KAAK5N,EAAcO,oBACjB,OAAO,MACFtD,EADL,CAEEuQ,cAAeJ,EAAOI,gBAE1B,QACE,OAAOvQ,G,+NClDN,IAAM8E,GAAUoM,eAEVC,GAAQC,YACnBC,Y,2VAAgB,IACXC,EADU,CAEbC,OAAQC,YAAc1M,OAGxB2M,YACEC,KACAC,KACAC,aAAiB9M,MCJf+M,GAAe,iBAAO,CAC1B3P,KAAMa,EAAcC,iBAGhB8O,GAAe,SAACC,GAAD,MAAW,CAC9B7P,KAAMa,EAAcE,eACpBmN,QAAS2B,IAGLC,GAAe,SAACxQ,GAAD,MAAY,CAC/BU,KAAMa,EAAcG,eACpB1B,UAGWyQ,GAAU,iBAAO,CAC5B/P,KAAMa,EAAcI,WC9BT+O,GAAW,CAOtBC,KAAM,CAIJC,iBAAkB,4EAEpBC,MAAO,CAILC,iBAAkB,iFAClBC,YAAa,yGACbC,iBAAkB,+DAClBC,gBAAiB,sEACjBC,gBAAiB,yDACjBC,OAAQ,uCACRC,uBAAwB,2NACxBC,wBAAyB,6OACzBC,yBAA0B,mJAC1BC,eAAgB,qEAChBC,iBAAkB,2HAClBC,iBAAkB,6FAClBC,+BAAgC,qKAChCC,mCAAoC,+JACpCC,qBAAqB,gHACrBC,cAAe,4EAEjBC,QAAS,CACPC,MAAO,qEACPC,QAAS,qEACTC,SAAU,mGACVC,QAAS,+DAETC,qBAAsB,2EACtBC,sBAAuB,6EACvBC,uBAAwB,+GACxBC,WAAY,+DACZC,mBAAoB,iFACpBC,wBAAyB,uFACzBf,iBAAkB,wLAEpBgB,QAAS,CACPC,sBAAuB,mJACvBC,2BAA4B,mJAC5BC,wBAAyB,6IACzBC,6BAA8B,+IC3CrBC,GAAS,CAMpBC,WAAY,SAASC,GACnB,OAAY,OAARA,QAAwBC,IAARD,EACX,IAEYA,EAAM,IAAIE,QAAQ,0BAA2B,QASpEC,QAAS,SAASC,GAChB,GAAY,OAARA,QAAwBH,IAARG,GAA6B,KAARA,EACvC,OAAO,EACF,GAAIC,MAAMC,QAAQF,GACvB,OAAsB,IAAfA,EAAI7D,OACN,GAAmB,kBAAR6D,EAChB,OAAO,EAET,IAAI,IAAIG,KAAOH,EACb,GAAGA,EAAII,eAAeD,GACpB,OAAO,EAEX,OAAO,GAQTE,KAAM,SAASC,EAAGC,GAGhB,MAFU,MAANA,IAAWA,EAAI,OACT,OAANA,IAAYA,EAAI,QACbD,EAAER,QAAQ,IAAIU,OACnB,KAAOD,EAAI,OAASA,EAAI,MAAO,KAC9B,KAQLE,IAAK,SAASb,EAAKc,GACjB,IAAIJ,EAAI,YAAcV,EACtB,OAAOU,EAAEK,OAAOL,EAAEnE,OAAOuE,IAQ3BE,gBAAiB,SAASC,EAAK1D,GAC7B0D,EAAM/U,KAAKuU,KAAKvU,KAAKuU,KAAKQ,EAAK,KAAM,KACrC,IAAMC,EAASC,IAAYC,UAAU7D,GAIrC,OAHI0D,EAAII,QAAQ,KAAO,IACrBJ,GAAO,KAEFA,EAAM,IAAMC,GAOrBI,iBAAkB,SAASC,GACzB,OAAOJ,IAAY/F,MAAMmG,IAO3BC,QAAS,SAASC,GAChB,IAAK9E,GAAM+E,WACT,OAAO,EAET,IAAM1F,EAAOW,GAAM+E,WAAW1F,KAC9B,QAAIA,EAAK3M,GAAGsS,eAGRzV,KAAKiU,QAAQnE,EAAKF,QAGfE,EAAKF,MAAMuF,QAAQI,IAAS,GAOrCG,SAAU,SAASX,GAA2B,IAAtBY,EAAqB,uDAAd,GAAIrW,EAAU,uDAAJ,GACvCmR,GAAMmF,SAAS7F,YAAK,CAClB8F,SAAUd,EACVY,OAAQA,EACRrW,MAAOA,MAUXwW,gBAAiB,SAASC,EAAW1B,EAAKtU,GACxC,GAAKgW,EAEE,IAAyB,IAArBA,EAAU1F,OACnB,MAAO,GACF,GAAqB,qBAAVtQ,EAChB,MAAO,GAEc,kBAAVA,IACTA,EAAQA,EAAMiW,MAAM,MAAM,IAE5B,IAAIC,EAAOF,EAAU5F,QAAO,SAAAC,GAAG,OAAIA,EAAIiE,KAAStU,KAChD,OAAOkW,EAAK5F,OAAS,EAAI4F,EAAK,GAAK,GAVnC,MAAO,IAkBXC,OAAQ,SAASC,GACf,MAAsB,kBAARA,GAShBC,UAAW,SAASC,GAClB,GAAKA,EAEE,IAAIC,WAAkC,IAArBA,UAAUjG,QAAgBrQ,KAAKkW,OAAOI,UAAU,IACtE,OAAOC,mBAASF,EAAQC,UAAU,IAElC,IAAIE,EAAI,EACNC,EAAI,EACJC,EAAI,GACJC,EAAO,SAASC,GAEd,OADQJ,GAAK,OACM,IAAZI,EADPH,GAAK,GACuBG,EAAKH,GAAK,IAG1C,IAAID,EAAE,EAAGA,EAAEH,EAAOhG,OAAQmG,IACxB,GAA4B,KAAzBH,EAAOQ,WAAWL,GACnB,OAAOH,EAAOQ,WAAWL,EAAE,IACzB,KAAK,IAAKE,GAAKC,EAAKL,WAAY,MAChC,KAAK,IAAKI,GAAKI,OAAOH,EAAKL,YAAa,MACxC,QAASI,GAAKL,EAAOG,QAGvBE,GAAKL,EAAOG,GAGhB,OAAOE,EAvBP,OAAO,MAgCXK,WAAY,SAAUC,EAAMX,GAI1B,GAHKA,IACDA,EAAS,4BAERW,EACH,OAAO,KAUT,GAT2B,kBAATA,IACdA,EAAO,IAAIC,KAAKD,KAOpBX,GADAA,GADAA,GADAA,GADAA,GADAA,EAASA,EAAOrC,QAAQ,QAASgD,EAAKE,gBACtBlD,QAAQ,OAAQ,KAAOgD,EAAKG,WAAa,IAAIlH,OAAO,KACpD+D,QAAQ,OAAQ,IAAMgD,EAAKI,WAAWnH,OAAO,KAC7C+D,QAAQ,OAAQ,IAAMgD,EAAKK,YAAYpH,OAAO,KAC9C+D,QAAQ,OAAQ,IAAMgD,EAAKM,cAAcrH,OAAO,KAChD+D,QAAQ,OAAQ,IAAMgD,EAAKO,cAActH,OAAO,KACrDuH,MAAM,MAGb,IAFA,IAAIC,GAAgB,KAAOT,EAAKU,mBAAmBzH,OAAO,GACtDI,EAASgG,EAAOmB,MAAM,MAAMnH,OACvBmG,EAAI,EAAGA,EAAInG,EAAQmG,IAAKH,EAASA,EAAOrC,QAAQ,IAAKyD,EAAaE,UAAUnB,EAAGA,EAAI,IAEhG,OAAOH,GAOTuB,oBAAqB,SAASC,GAC5B,OAAIA,EAAS1T,OACJ0T,EAAS1T,OAETqN,GAASG,MAAMG,kBAQ1BgG,mBAAoB,SAASC,GAC3B,IAAIC,EAAMC,SAASC,eAAeH,GAASI,cAG3C,OAFAH,EAAII,QACJJ,EAAIK,SACG,GAQTC,gBAAiB,SAASC,EAASC,EAAQC,GACzC,IAAMC,EAAS9E,GAAOkC,gBAAgB0C,EAAQ,OAAQC,GACtD,GAAIC,GAAUA,EAAOC,WAAY,CAC/B,IAAMA,EAAa/E,GAAOkC,gBAAgB0C,EAAQ,OAAQE,EAAOC,YAC7DA,GAAcA,EAAWL,iBAC3BK,EAAWL,gBAAgBC,KAUjCK,OAAQ,SAASC,GAGf,IAH+D,IAAxCC,EAAuC,uDAA5B,2BAC9BC,EAAMC,KAAKH,EAAO7E,QAAQ,OAAQ,KAClCiF,EAAS,IAAIC,WAAWH,EAAI1I,QACvBmG,EAAI,EAAGA,EAAIuC,EAAI1I,OAAQmG,IAC5ByC,EAAOzC,GAAKuC,EAAIlC,WAAWL,GAG/B,IACI,IAAI2C,EAAO,IAAIC,KAAK,CAACH,EAAOA,QAAS,CACjCzX,KAAMsX,IAEb,MAAOlZ,GACJ,OAAO,EAEX,OAAOuZ,GAQTE,aAAc,SAASF,EAAMG,GAC3B,IAAIC,EAASC,OAAOC,IAAIC,gBAAgBP,GACpCQ,EAAW1B,SAAS2B,cAAc,KACtCD,EAASE,KAAON,EAChBI,EAASG,aAAa,WAAYR,GAClCK,EAASI,SAOXC,MAAO,SAAS3I,GACd,OAAO4I,IAAU5I,IAMnB6I,kBAAmB,WACjB,OAAOla,KAAK+W,WAAW,IAAIE,KAAQ,eAMrCkD,eAAgB,WAEd,OADU,IAAIlD,MACLC,cAAgB,IAM3BkD,gBAAiB,WACf,IAAMC,EAAI,IAAIpD,KAEd,OAAOjX,KAAK2U,IAAI0F,EAAElD,WAAa,EAAG,IAQpCmD,iBAAkB,SAAStD,GACnBA,aAAgBC,OACpBD,EAAO,IAAIC,MAEb,IAAMoD,EAAI,IAAIpD,KAAKD,EAAKE,cAAeF,EAAKG,WAAa,EAAG,GAC5D,MAAO,CACL,KAAQkD,EAAEnD,cAAgB,GAC1B,MAASlX,KAAK2U,IAAI0F,EAAElD,WAAa,EAAG,KASxCoD,iBAAkB,SAASvD,GACnBA,aAAgBC,OACpBD,EAAO,IAAIC,MAEb,IAAMoD,EAAI,IAAIpD,KAAKD,EAAKE,cAAeF,EAAKG,WAAa,EAAG,GAC5D,MAAO,CACL,KAAQkD,EAAEnD,cAAgB,GAC1B,MAASlX,KAAK2U,IAAI0F,EAAElD,WAAa,EAAG,KAUxCqD,qBAAsB,SAASC,EAAMC,GACnC,IAAM1D,EAAO,IAAIC,KAAKwD,EAAMC,EAAQ,EAAG,GACvC,OAAO1a,KAAKsa,iBAAiBtD,IAS/B2D,qBAAsB,SAASF,EAAMC,GACnC,IAAM1D,EAAO,IAAIC,KAAKwD,EAAMC,EAAQ,EAAG,GACvC,OAAO1a,KAAKua,iBAAiBvD,IAQ/B4D,aAAc,SAASC,EAAIC,GAOzB,GANkB,kBAAPD,IACTA,EAAK,IAAI5D,KAAK4D,IAEE,kBAAPC,IACTA,EAAK,IAAI7D,KAAK6D,KAEXD,IAAOC,EACV,OAAO,KAET,GAAIC,MAAMF,IAAOE,MAAMD,GACrB,OAAO,KAET,IAAIE,EAAiD,IAAvCF,EAAG5D,cAAgB2D,EAAG3D,eAGpC,OAFA8D,GAAUH,EAAG1D,YACb6D,GAAUF,EAAG3D,aACI,EAAI,EAAI6D,GAG3BC,gBAAiB,WACf,OAAIhD,SAASiD,qBAAqB,UAAU7K,OAAS,EAC5C4H,SAASiD,qBAAqB,UAAU,GAAGC,aAE3C,IASXC,UAAW,SAASpE,EAAMgE,GAIxB,GAHoB,kBAAThE,IACTA,EAAO,IAAIC,KAAKD,IAEd+D,MAAM/D,GACR,OAAO,KAET,IAAMqE,EAAa,IAAIpE,KAAKD,EAAKsE,WAEjC,OADAD,EAAWE,SAASvE,EAAKG,WAAa6D,GAC/BK,GAQTG,kBAAmB,SAAUxE,GAC3B,IAAMyE,EAAsBzb,KAAKob,UAAUpE,EAAM,IACjD,OAAIyE,EACK,IAAIxE,KAAKwE,EAAoBvE,cAAeuE,EAAoBtE,WAAY,GAE5E,OAKAuE,GAAO,CAElBC,UAAW,SAAS7b,GAClB,OAAQA,GACN,IAAK,MACH,OAAOE,KAAK4b,SACd,IAAK,OACH,OAAO5b,KAAK6b,UACd,IAAK,SACH,OAAO7b,KAAK8b,YACd,IAAK,MACH,OAAO9b,KAAK+b,SACd,IAAK,UACH,OAAO/b,KAAKgc,aACd,QACE,MAAMC,MAAM,0BASlBL,SAAU,SAAS7G,EAAKC,GACtB,OAAO0G,GAAKQ,YAAYnH,EAAK,MAAOC,IAQtC6G,UAAW,SAAS9G,EAAKC,GACvB,OAAO0G,GAAKQ,YAAYnH,EAAK,OAAQC,IAQvCmH,WAAY,SAASpH,EAAKC,GACxB,OAAO0G,GAAKQ,YAAYnH,EAAK,QAASC,IAQxC8G,YAAa,SAAS/G,EAAKC,GACzB,OAAO0G,GAAKQ,YAAYnH,EAAK,SAAUC,IAQzC+G,SAAU,SAAShH,EAAKC,GACtB,OAAO0G,GAAKQ,YAAYnH,EAAK,MAAOC,IAQtCgH,aAAc,SAASjH,GACrB,OAAO2G,GAAKQ,YAAYnH,EAAK,YAG/BqH,YAAa,SAASrH,GACpB,IAAMsH,EAAiB,CACrBC,OAAQ,MACRC,QAASxN,KAGX,OAAOyN,MAAMzH,EAAKsH,GACfI,KAAKf,GAAKgB,cACVD,MAAK,SAASE,GACb,OAAOA,EAAIxD,WAUjB+C,YAAa,SAASnH,EAAKuH,EAAQtH,GACjC,IAAMqH,EAAiB,CACrBC,OAAQA,EACRC,QAASxN,KAeX,OAZIiG,IAAWpB,GAAOK,QAAQe,KACb,QAAXsH,EACFvH,EAAMnB,GAAOkB,gBAAgBC,EAAKC,GACzB,CAAC,OAAQ,OAAOG,QAAQmH,IAAW,GAAK,SAAUtH,GAC3DqH,EAAc,KAAWrH,EAAM,KAC/BqH,EAAeE,QAAQ,gBAAkBvH,EAAOxT,MAAQ,uBAExD6a,EAAc,KAAWpN,KAAKiG,UAAUF,IAI5CD,EAAMnB,GAAOkB,gBAAgBC,EAAK,CAAC,OAAU,SACtCyH,MAAMzH,EAAKsH,GACfI,KAAKf,GAAKgB,cACVD,KAAKf,GAAKkB,iBAGfF,aAAc,SAAS7E,GACrB,OAAKA,EAASgF,GAYLhF,GAViB,MAApBA,EAASiF,SAEXrM,GAAMmF,SAASmH,MACftM,GAAMmF,SAASrE,OAGVmK,GAAKkB,eAAe/E,GAAU4E,MAAK,SAAApL,GACxC,OAAO2L,QAAQC,OAAO5L,QAO5BuL,eAAgB,SAAS/E,GACvB,OAAOA,EAASqF,OAAOT,MAAK,SAAAS,GAC1B,IAAI7L,EAAO6L,EACX,IACE7L,EAAOpC,KAAKC,MAAMgO,GAClB,MAAOtd,IAET,OAAOyR,OC1jBA8L,GAAc,CACzB/c,MAKF,SAAeb,EAAUC,GACvB,IAAM6c,EAAiB,CACrBC,OAAQ,OACRC,QAAS,CAAE,eAAgB,oBAC3Ba,KAAMnO,KAAKiG,UACT,CACE3V,WACAC,cAKN,OAAOgd,MAAMzZ,EAAOC,IAAIC,aAAcoZ,GACnCI,KAAKG,IACLH,MAAK,SAAApL,GAOJ,OALIA,EAAKrC,OAEPG,aAAakO,QAAQ,QAASpO,KAAKiG,UAAU7D,EAAKrC,QAG7CqC,MAzBXjO,UACAka,MAmCF,WACE,OAAO5B,GAAKG,UAAU9Y,EAAOC,IAAIE,QAAQC,MAR3C,SAASC,KAEP,OAAOsY,GAAKG,UAAU9Y,EAAOC,IAAIE,QAAQE,QAAQqZ,MAAK,kBACpDtN,aAAaoO,WAAW,YAQ5B,SAASX,GAAe/E,GACtB,OAAOA,EAASqF,OAAOT,MAAK,SAAAS,GAC1B,IAAM7L,EAAO6L,GAAQjO,KAAKC,MAAMgO,GAChC,IAAKrF,EAASgF,GAAI,CACQ,MAApBhF,EAASiF,QAEX1Z,KAIF,IAAMtC,EAASuQ,GAAQA,EAAKmM,SAAY3F,EAAS4F,WACjD,OAAOT,QAAQC,OAAOnc,GAGxB,OAAOuQ,KCvDJ,ICCHqM,GAAYC,GAAWC,GDgBdb,GAAoB,SAAC5c,GAChC,OAAO,SAAAyV,GACLuH,GAAY/Z,SACZwS,EAASxS,MACTwS,EAAS7F,YAAK,SAAU,CAAC1P,KAAMF,OAI7BiD,GAAS,iBAAO,CACpB5B,KAAMQ,EAAcI,SAGhByb,GAAe,SAAAxM,GAAI,MAAK,CAC5B7P,KAAMQ,EAAcC,gBAGhB6b,GAAe,SAAAzM,GAAI,MAAK,CAC5B7P,KAAMQ,EAAcE,cACpBwN,QAAS2B,IAGL0M,GAAe,SAAAjd,GAAK,MAAK,CAC7BU,KAAMQ,EAAcG,cACpBuN,QAAS5O,IE9BIkd,gBAVS,SAAC1e,EAAO2e,GAAR,MAAsB,CAC5Cnd,MAAOxB,EAAMkQ,KAAK1O,UAGO,SAAA8U,GAAQ,MAAK,CACtCxV,MADsC,SAChCb,EAAUC,EAAUa,GACxBuV,EFNiB,SAACrW,EAAUC,EAAUa,GACxC,OAAO,SAAAuV,GACLA,EAASiI,GAAa,CAAEte,cAExB4d,GAAY/c,MAAMb,EAAUC,GACzBid,MACC,SAAApL,GACEuE,EAASkI,GAAazM,IACtBuE,EAAS7F,YAAK1P,GAAQ,SAExB,SAAAS,GACE8U,EAASmI,GAAajd,QELnBV,CAAMb,EAAUC,EAAUa,QAIxB2d,CAA6C5e,G,oPCd/C8e,GAAe,CAC1B,CAAE,MAAS,OAAQ,aAAgB,cACnC,CAAE,MAAS,OAAQ,aAAgB,cACnC,CAAE,MAAS,OAAQ,aAAgB,cACnC,CAAE,MAAS,OAAQ,aAAgB,cACnC,CAAE,MAAS,OAAQ,aAAgB,cACnC,CAAE,MAAS,OAAQ,aAAgB,cACnC,CAAE,MAAS,OAAQ,aAAgB,cACnC,CAAE,MAAS,OAAQ,aAAgB,cACnC,CAAE,MAAS,OAAQ,aAAgB,cACnC,CAAE,MAAS,OAAQ,aAAgB,cACnC,CAAE,MAAS,OAAQ,aAAgB,cACnC,CAAE,MAAS,OAAQ,aAAgB,cACnC,CAAE,MAAS,OAAQ,aAAgB,cACnC,CAAE,MAAS,OAAQ,aAAgB,cACnC,CAAE,MAAS,OAAQ,aAAgB,cACnC,CAAE,MAAS,OAAQ,aAAgB,eAGxBC,GAAgB,CAC3B,CAAE,MAAS,KAAM,aAAgB,WACjC,CAAE,MAAS,KAAM,aAAgB,WACjC,CAAE,MAAS,KAAM,aAAgB,WACjC,CAAE,MAAS,KAAM,aAAgB,WACjC,CAAE,MAAS,KAAM,aAAgB,WACjC,CAAE,MAAS,KAAM,aAAgB,WACjC,CAAE,MAAS,KAAM,aAAgB,WACjC,CAAE,MAAS,KAAM,aAAgB,WACjC,CAAE,MAAS,KAAM,aAAgB,WACjC,CAAE,MAAS,KAAM,aAAgB,YACjC,CAAE,MAAS,KAAM,aAAgB,YACjC,CAAE,MAAS,KAAM,aAAgB,aActBC,GAAwB,CACnC,CAAE,MAAS,KAAM,aAAgB,4BACjC,CAAE,MAAS,KAAM,aAAgB,kCACjC,CAAE,MAAS,KAAM,aAAgB,4EACjC,CAAE,MAAS,KAAM,aAAgB,yCACjC,CAAE,MAAS,KAAM,aAAgB,yCACjC,CAAE,MAAS,KAAM,aAAgB,sBACjC,CAAE,MAAS,KAAM,aAAgB,8CACjC,CAAE,MAAS,KAAM,aAAgB,8CACjC,CAAE,MAAS,KAAM,aAAgB,uBAGtBC,GAA2B,CACtC,CAAE,MAAS,KAAM,aAAgB,4BACjC,CAAE,MAAS,KAAM,aAAgB,4BACjC,CAAE,MAAS,KAAM,aAAgB,4BACjC,CAAE,MAAS,KAAM,aAAgB,4BACjC,CAAE,MAAS,KAAM,aAAgB,4BACjC,CAAE,MAAS,KAAM,aAAgB,wCACjC,CAAE,MAAS,KAAM,aAAgB,yCAGtBC,GAA4B,CACvC,CAAE,MAAS,KAAM,aAAgB,gBACjC,CAAE,MAAS,KAAM,aAAgB,kCACjC,CAAE,MAAS,KAAM,aAAgB,mCAGtBC,GAAkC,CAC7C,CAAE,MAAS,OAAQ,aAAgB,sBACnC,CAAE,MAAS,OAAQ,aAAgB,0DACnC,CAAE,MAAS,OAAQ,aAAgB,4BACnC,CAAE,MAAS,OAAQ,aAAgB,sBACnC,CAAE,MAAS,OAAQ,aAAgB,kCACnC,CAAE,MAAS,OAAQ,aAAgB,kCACnC,CAAE,MAAS,OAAQ,aAAgB,mCAGxBC,GAAkC,CAC7C,CAAE,MAAS,OAAQ,aAAgB,mCAGxBC,GAA0B,CACrC,CAAE,MAAS,OAAQ,aAAgB,mCAGxBC,GAA+B,CAC1C,CAAE,MAAS,OAAQ,aAAgB,4BACnC,CAAE,MAAS,OAAQ,aAAgB,sBACnC,CAAE,MAAS,OAAQ,aAAgB,gBACnC,CAAE,MAAS,OAAQ,aAAgB,gBACnC,CAAE,MAAS,OAAQ,aAAgB,wCACnC,CAAE,MAAS,OAAQ,aAAgB,wCACnC,CAAE,MAAS,OAAQ,aAAgB,uBAcxBC,GAA2B,CACtC,CAAE,MAAS,KAAM,aAAgB,gBACjC,CAAE,MAAS,KAAM,aAAgB,gBACjC,CAAE,MAAS,KAAM,aAAgB,iBAGtBC,GAAgB,CAC3B,CAAE,MAAS,IAAK,aAAgB,UAChC,CAAE,MAAS,IAAK,aAAgB,WAQrBC,GAAkB,CAC7B,CAAE,MAAS,IAAK,aAAgB,gBAChC,CAAE,MAAS,IAAK,aAAgB,iBAGrBC,GAAwB,CACnC,CAAE,MAAS,KAAM,aAAgB,sBACjC,CAAE,MAAS,KAAM,aAAgB,sBACjC,CAAE,MAAS,KAAM,aAAgB,6BAGtBC,GAAuB,CAClC,CAAE,MAAS,IAAK,aAAgB,sBAChC,CAAE,MAAS,IAAK,aAAgB,UAChC,CAAE,MAAS,IAAK,aAAgB,UAChC,CAAE,MAAS,IAAK,aAAgB,gBAChC,CAAE,MAAS,IAAK,aAAgB,gBAChC,CAAE,MAAS,IAAK,aAAgB,UAChC,CAAE,MAAS,IAAK,aAAgB,kCAChC,CAAE,MAAS,IAAK,aAAgB,gBAChC,CAAE,MAAS,IAAK,aAAgB,gBAChC,CAAE,MAAS,IAAK,aAAgB,sBAChC,CAAE,MAAS,KAAM,aAAgB,sBACjC,CAAE,MAAS,KAAM,aAAgB,4BACjC,CAAE,MAAS,KAAM,aAAgB,oDACjC,CAAE,MAAS,KAAM,aAAgB,kCACjC,CAAE,MAAS,KAAM,aAAgB,UACjC,CAAE,MAAS,KAAM,aAAgB,kCACjC,CAAE,MAAS,KAAM,aAAgB,sBACjC,CAAE,MAAS,KAAM,aAAgB,sBACjC,CAAE,MAAS,KAAM,aAAgB,4BACjC,CAAE,MAAS,KAAM,aAAgB,4BACjC,CAAE,MAAS,KAAM,aAAgB,8CACjC,CAAE,MAAS,KAAM,aAAgB,sEACjC,CAAE,MAAS,KAAM,aAAgB,oDACjC,CAAE,MAAS,KAAM,aAAgB,sBACjC,CAAE,MAAS,KAAM,aAAgB,8CACjC,CAAE,MAAS,KAAM,aAAgB,4BACjC,CAAE,MAAS,KAAM,aAAgB,gBACjC,CAAE,MAAS,KAAM,aAAgB,wCACjC,CAAE,MAAS,KAAM,aAAgB,sBACjC,CAAE,MAAS,KAAM,aAAgB,sBACjC,CAAE,MAAS,KAAM,aAAgB,0DACjC,CAAE,MAAS,KAAM,aAAgB,kCACjC,CAAE,MAAS,KAAM,aAAgB,4BACjC,CAAE,MAAS,KAAM,aAAgB,gBACjC,CAAE,MAAS,KAAM,aAAgB,wCACjC,CAAE,MAAS,KAAM,aAAgB,0DACjC,CAAE,MAAS,KAAM,aAAgB,oDACjC,CAAE,MAAS,KAAM,aAAgB,sBACjC,CAAE,MAAS,KAAM,aAAgB,gBACjC,CAAE,MAAS,KAAM,aAAgB,8CACjC,CAAE,MAAS,KAAM,aAAgB,0DACjC,CAAE,MAAS,KAAM,aAAgB,oDACjC,CAAE,MAAS,KAAM,aAAgB,wCACjC,CAAE,MAAS,KAAM,aAAgB,sBACjC,CAAE,MAAS,KAAM,aAAgB,iBAGtBC,GAAuB,CAClC,CAAE,MAAS,uCAAU,aAAgB,kFACrC,CAAE,MAAS,yDAAa,aAAgB,oGACxC,CAAE,MAAS,yDAAa,aAAgB,oGACxC,CAAE,MAAS,2EAAgB,aAAgB,sHAC3C,CAAE,MAAS,2BAAQ,aAAgB,sEACnC,CAAE,MAAS,uCAAU,aAAgB,kFACrC,CAAE,MAAS,yDAAa,aAAgB,oGACxC,CAAE,MAAS,yGAAqB,aAAgB,oJAChD,CAAE,MAAS,+DAAc,aAAgB,0GACzC,CAAE,MAAS,+DAAc,aAAgB,0GACzC,CAAE,MAAS,qHAAuB,aAAgB,gKAClD,CAAE,MAAS,iIAAyB,aAAgB,4KACpD,CAAE,MAAS,2BAAQ,aAAgB,sEACnC,CAAE,MAAS,qBAAO,aAAgB,uBAGvBC,GAA0B,CACrC,CAAE,MAAS,OAAQ,aAAgB,4BACnC,CAAE,MAAS,OAAQ,aAAgB,gBACnC,CAAE,MAAS,OAAQ,aAAgB,kCACnC,CAAE,MAAS,OAAQ,aAAgB,kCACnC,CAAE,MAAS,OAAQ,aAAgB,oDACnC,CAAE,MAAS,OAAQ,aAAgB,8CACnC,CAAE,MAAS,OAAQ,aAAgB,4BACnC,CAAE,MAAS,OAAQ,aAAgB,4EACnC,CAAE,MAAS,OAAQ,aAAgB,wCACnC,CAAE,MAAS,OAAQ,aAAgB,gBACnC,CAAE,MAAS,OAAQ,aAAgB,gBACnC,CAAE,MAAS,OAAQ,aAAgB,4BACnC,CAAE,MAAS,OAAQ,aAAgB,4BACnC,CAAE,MAAS,OAAQ,aAAgB,oDACnC,CAAE,MAAS,OAAQ,aAAgB,mCAGxBC,GAAiB,CAC5B,CAAE,MAAS,MAAO,aAAgB,gBAClC,CAAE,MAAS,MAAO,aAAgB,8CAClC,CAAE,MAAS,MAAO,aAAgB,8CAClC,CAAE,MAAS,MAAO,aAAgB,kCAClC,CAAE,MAAS,MAAO,aAAgB,gBAClC,CAAE,MAAS,MAAO,aAAgB,wCAClC,CAAE,MAAS,MAAO,aAAgB,oDAClC,CAAE,MAAS,MAAO,aAAgB,4BAClC,CAAE,MAAS,MAAO,aAAgB,4BAClC,CAAE,MAAS,MAAO,aAAgB,4EAClC,CAAE,MAAS,MAAO,aAAgB,oDAClC,CAAE,MAAS,MAAO,aAAgB,wCAClC,CAAE,MAAS,MAAO,aAAgB,8CAClC,CAAE,MAAS,MAAO,aAAgB,wCAClC,CAAE,MAAS,MAAO,aAAgB,sBAClC,CAAE,MAAS,MAAO,aAAgB,kCAClC,CAAE,MAAS,MAAO,aAAgB,8CAClC,CAAE,MAAS,MAAO,aAAgB,kCAClC,CAAE,MAAS,MAAO,aAAgB,kCAClC,CAAE,MAAS,MAAO,aAAgB,4BAClC,CAAE,MAAS,MAAO,aAAgB,kCAClC,CAAE,MAAS,MAAO,aAAgB,4BAClC,CAAE,MAAS,MAAO,aAAgB,oDAClC,CAAE,MAAS,MAAO,aAAgB,4EAClC,CAAE,MAAS,MAAO,aAAgB,4BAClC,CAAE,MAAS,MAAO,aAAgB,4BAClC,CAAE,MAAS,MAAO,aAAgB,4BAClC,CAAE,MAAS,MAAO,aAAgB,4BAClC,CAAE,MAAS,MAAO,aAAgB,sEAClC,CAAE,MAAS,MAAO,aAAgB,wCAClC,CAAE,MAAS,MAAO,aAAgB,4EAClC,CAAE,MAAS,MAAO,aAAgB,sEAClC,CAAE,MAAS,MAAO,aAAgB,kCAClC,CAAE,MAAS,MAAO,aAAgB,kCAClC,CAAE,MAAS,MAAO,aAAgB,4BAClC,CAAE,MAAS,MAAO,aAAgB,kCAClC,CAAE,MAAS,MAAO,aAAgB,kCAClC,CAAE,MAAS,MAAO,aAAgB,kCAClC,CAAE,MAAS,MAAO,aAAgB,sBAClC,CAAE,MAAS,MAAO,aAAgB,wCAClC,CAAE,MAAS,MAAO,aAAgB,wCAClC,CAAE,MAAS,MAAO,aAAgB,0DAClC,CAAE,MAAS,MAAO,aAAgB,kCAClC,CAAE,MAAS,MAAO,aAAgB,sBAClC,CAAE,MAAS,MAAO,aAAgB,gBAClC,CAAE,MAAS,MAAO,aAAgB,sEAClC,CAAE,MAAS,MAAO,aAAgB,wCAClC,CAAE,MAAS,MAAO,aAAgB,4EAClC,CAAE,MAAS,MAAO,aAAgB,kCAClC,CAAE,MAAS,MAAO,aAAgB,sBAClC,CAAE,MAAS,MAAO,aAAgB,4BAClC,CAAE,MAAS,MAAO,aAAgB,wCAClC,CAAE,MAAS,MAAO,aAAgB,oDAClC,CAAE,MAAS,MAAO,aAAgB,kCAClC,CAAE,MAAS,MAAO,aAAgB,kCAClC,CAAE,MAAS,MAAO,aAAgB,kCAClC,CAAE,MAAS,MAAO,aAAgB,4BAClC,CAAE,MAAS,MAAO,aAAgB,4BAClC,CAAE,MAAS,MAAO,aAAgB,sBAClC,CAAE,MAAS,MAAO,aAAgB,sBAClC,CAAE,MAAS,MAAO,aAAgB,kCAClC,CAAE,MAAS,MAAO,aAAgB,kCAClC,CAAE,MAAS,MAAO,aAAgB,8CAClC,CAAE,MAAS,MAAO,aAAgB,kCAClC,CAAE,MAAS,MAAO,aAAgB,8CAClC,CAAE,MAAS,MAAO,aAAgB,kCAClC,CAAE,MAAS,MAAO,aAAgB,kCAClC,CAAE,MAAS,MAAO,aAAgB,kCAClC,CAAE,MAAS,MAAO,aAAgB,kCAClC,CAAE,MAAS,MAAO,aAAgB,wCAClC,CAAE,MAAS,MAAO,aAAgB,oGAClC,CAAE,MAAS,MAAO,aAAgB,kIAClC,CAAE,MAAS,MAAO,aAAgB,4BAClC,CAAE,MAAS,MAAO,aAAgB,wCAClC,CAAE,MAAS,MAAO,aAAgB,8CAClC,CAAE,MAAS,MAAO,aAAgB,4BAClC,CAAE,MAAS,MAAO,aAAgB,oDAClC,CAAE,MAAS,MAAO,aAAgB,gEAClC,CAAE,MAAS,MAAO,aAAgB,4EAClC,CAAE,MAAS,MAAO,aAAgB,sBAClC,CAAE,MAAS,MAAO,aAAgB,sBAClC,CAAE,MAAS,MAAO,aAAgB,kCAClC,CAAE,MAAS,MAAO,aAAgB,4BAClC,CAAE,MAAS,MAAO,aAAgB,kCAClC,CAAE,MAAS,MAAO,aAAgB,sBAClC,CAAE,MAAS,MAAO,aAAgB,sBAClC,CAAE,MAAS,MAAO,aAAgB,wCAClC,CAAE,MAAS,MAAO,aAAgB,4BAClC,CAAE,MAAS,MAAO,aAAgB,4BAClC,CAAE,MAAS,MAAO,aAAgB,8CAClC,CAAE,MAAS,MAAO,aAAgB,4BAClC,CAAE,MAAS,MAAO,aAAgB,wCAClC,CAAE,MAAS,MAAO,aAAgB,sBAClC,CAAE,MAAS,MAAO,aAAgB,kCAClC,CAAE,MAAS,MAAO,aAAgB,sBAClC,CAAE,MAAS,MAAO,aAAgB,4BAClC,CAAE,MAAS,MAAO,aAAgB,sBAClC,CAAE,MAAS,MAAO,aAAgB,kFAClC,CAAE,MAAS,MAAO,aAAgB,wCAClC,CAAE,MAAS,MAAO,aAAgB,wCAClC,CAAE,MAAS,MAAO,aAAgB,gBAClC,CAAE,MAAS,MAAO,aAAgB,kCAClC,CAAE,MAAS,MAAO,aAAgB,wCAClC,CAAE,MAAS,MAAO,aAAgB,sBAClC,CAAE,MAAS,MAAO,aAAgB,wCAClC,CAAE,MAAS,MAAO,aAAgB,sEAClC,CAAE,MAAS,MAAO,aAAgB,sBAClC,CAAE,MAAS,MAAO,aAAgB,wCAClC,CAAE,MAAS,MAAO,aAAgB,kCAClC,CAAE,MAAS,MAAO,aAAgB,4BAClC,CAAE,MAAS,MAAO,aAAgB,oDAClC,CAAE,MAAS,MAAO,aAAgB,kCAClC,CAAE,MAAS,MAAO,aAAgB,wCAClC,CAAE,MAAS,MAAO,aAAgB,4BAClC,CAAE,MAAS,MAAO,aAAgB,sBAClC,CAAE,MAAS,MAAO,aAAgB,sEAClC,CAAE,MAAS,MAAO,aAAgB,4BAClC,CAAE,MAAS,MAAO,aAAgB,kCAClC,CAAE,MAAS,MAAO,aAAgB,4BAClC,CAAE,MAAS,MAAO,aAAgB,gEAClC,CAAE,MAAS,MAAO,aAAgB,4BAClC,CAAE,MAAS,MAAO,aAAgB,sBAClC,CAAE,MAAS,MAAO,aAAgB,4BAClC,CAAE,MAAS,MAAO,aAAgB,4BAClC,CAAE,MAAS,MAAO,aAAgB,sBAClC,CAAE,MAAS,MAAO,aAAgB,0DAClC,CAAE,MAAS,MAAO,aAAgB,kCAClC,CAAE,MAAS,MAAO,aAAgB,8CAClC,CAAE,MAAS,MAAO,aAAgB,sBAClC,CAAE,MAAS,MAAO,aAAgB,wCAClC,CAAE,MAAS,MAAO,aAAgB,4BAClC,CAAE,MAAS,MAAO,aAAgB,kCAClC,CAAE,MAAS,MAAO,aAAgB,kCAClC,CAAE,MAAS,MAAO,aAAgB,gBAClC,CAAE,MAAS,MAAO,aAAgB,sBAClC,CAAE,MAAS,MAAO,aAAgB,8CAClC,CAAE,MAAS,MAAO,aAAgB,wCAClC,CAAE,MAAS,MAAO,aAAgB,wCAClC,CAAE,MAAS,MAAO,aAAgB,4BAClC,CAAE,MAAS,MAAO,aAAgB,sBAClC,CAAE,MAAS,MAAO,aAAgB,4BAClC,CAAE,MAAS,MAAO,aAAgB,8CAClC,CAAE,MAAS,MAAO,aAAgB,wCAClC,CAAE,MAAS,MAAO,aAAgB,wCAClC,CAAE,MAAS,MAAO,aAAgB,4BAClC,CAAE,MAAS,MAAO,aAAgB,wCAClC,CAAE,MAAS,MAAO,aAAgB,4BAClC,CAAE,MAAS,MAAO,aAAgB,4BAClC,CAAE,MAAS,MAAO,aAAgB,sBAClC,CAAE,MAAS,MAAO,aAAgB,4BAClC,CAAE,MAAS,MAAO,aAAgB,4BAClC,CAAE,MAAS,MAAO,aAAgB,kCAClC,CAAE,MAAS,MAAO,aAAgB,sBAClC,CAAE,MAAS,MAAO,aAAgB,oGAClC,CAAE,MAAS,MAAO,aAAgB,wIAClC,CAAE,MAAS,MAAO,aAAgB,oDAClC,CAAE,MAAS,MAAO,aAAgB,4BAClC,CAAE,MAAS,MAAO,aAAgB,oDAClC,CAAE,MAAS,MAAO,aAAgB,kCAClC,CAAE,MAAS,MAAO,aAAgB,kCAClC,CAAE,MAAS,MAAO,aAAgB,wCAClC,CAAE,MAAS,MAAO,aAAgB,sBAClC,CAAE,MAAS,MAAO,aAAgB,8CAClC,CAAE,MAAS,MAAO,aAAgB,kCAClC,CAAE,MAAS,MAAO,aAAgB,8CAClC,CAAE,MAAS,MAAO,aAAgB,oDAClC,CAAE,MAAS,MAAO,aAAgB,oDAClC,CAAE,MAAS,MAAO,aAAgB,8CAClC,CAAE,MAAS,MAAO,aAAgB,sBAClC,CAAE,MAAS,MAAO,aAAgB,kCAClC,CAAE,MAAS,MAAO,aAAgB,sBAClC,CAAE,MAAS,MAAO,aAAgB,0DAClC,CAAE,MAAS,MAAO,aAAgB,kCAClC,CAAE,MAAS,MAAO,aAAgB,sBAClC,CAAE,MAAS,MAAO,aAAgB,kCAClC,CAAE,MAAS,MAAO,aAAgB,kCAClC,CAAE,MAAS,MAAO,aAAgB,kCAClC,CAAE,MAAS,MAAO,aAAgB,kCAClC,CAAE,MAAS,MAAO,aAAgB,wCAClC,CAAE,MAAS,MAAO,aAAgB,wCAClC,CAAE,MAAS,MAAO,aAAgB,wCAClC,CAAE,MAAS,MAAO,aAAgB,4BAClC,CAAE,MAAS,MAAO,aAAgB,kCAClC,CAAE,MAAS,MAAO,aAAgB,kCAClC,CAAE,MAAS,MAAO,aAAgB,kCAClC,CAAE,MAAS,MAAO,aAAgB,4BAClC,CAAE,MAAS,MAAO,aAAgB,0DAClC,CAAE,MAAS,MAAO,aAAgB,gKAClC,CAAE,MAAS,MAAO,aAAgB,8FAClC,CAAE,MAAS,MAAO,aAAgB,4BAClC,CAAE,MAAS,MAAO,aAAgB,wCAClC,CAAE,MAAS,MAAO,aAAgB,wFAClC,CAAE,MAAS,MAAO,aAAgB,kFAClC,CAAE,MAAS,MAAO,aAAgB,4HAClC,CAAE,MAAS,MAAO,aAAgB,kCAClC,CAAE,MAAS,MAAO,aAAgB,gEAClC,CAAE,MAAS,MAAO,aAAgB,8CAClC,CAAE,MAAS,MAAO,aAAgB,4BAClC,CAAE,MAAS,MAAO,aAAgB,4BAClC,CAAE,MAAS,MAAO,aAAgB,kCAClC,CAAE,MAAS,MAAO,aAAgB,wCAClC,CAAE,MAAS,MAAO,aAAgB,wCAClC,CAAE,MAAS,MAAO,aAAgB,kCAClC,CAAE,MAAS,MAAO,aAAgB,4BAClC,CAAE,MAAS,MAAO,aAAgB,kCAClC,CAAE,MAAS,MAAO,aAAgB,4BAClC,CAAE,MAAS,MAAO,aAAgB,kCAClC,CAAE,MAAS,MAAO,aAAgB,kCAClC,CAAE,MAAS,MAAO,aAAgB,4BAClC,CAAE,MAAS,MAAO,aAAgB,kCAClC,CAAE,MAAS,MAAO,aAAgB,4BAClC,CAAE,MAAS,MAAO,aAAgB,4BAClC,CAAE,MAAS,MAAO,aAAgB,4BAClC,CAAE,MAAS,MAAO,aAAgB,sHAClC,CAAE,MAAS,MAAO,aAAgB,wCAClC,CAAE,MAAS,MAAO,aAAgB,wCAClC,CAAE,MAAS,MAAO,aAAgB,sBAClC,CAAE,MAAS,MAAO,aAAgB,gEAClC,CAAE,MAAS,MAAO,aAAgB,wCAClC,CAAE,MAAS,MAAO,aAAgB,gBAClC,CAAE,MAAS,MAAO,aAAgB,sBAClC,CAAE,MAAS,MAAO,aAAgB,4BAClC,CAAE,MAAS,MAAO,aAAgB,sBAClC,CAAE,MAAS,MAAO,aAAgB,gEAClC,CAAE,MAAS,MAAO,aAAgB,oDAClC,CAAE,MAAS,MAAO,aAAgB,kCAClC,CAAE,MAAS,MAAO,aAAgB,sBAClC,CAAE,MAAS,MAAO,aAAgB,oDAClC,CAAE,MAAS,MAAO,aAAgB,sEAClC,CAAE,MAAS,MAAO,aAAgB,sBAClC,CAAE,MAAS,MAAO,aAAgB,4BAClC,CAAE,MAAS,MAAO,aAAgB,kCAClC,CAAE,MAAS,MAAO,aAAgB,wCAClC,CAAE,MAAS,MAAO,aAAgB,4BAClC,CAAE,MAAS,MAAO,aAAgB,4BAClC,CAAE,MAAS,MAAO,aAAgB,kCAClC,CAAE,MAAS,MAAO,aAAgB,kCAClC,CAAE,MAAS,MAAO,aAAgB,sBAClC,CAAE,MAAS,MAAO,aAAgB,kCAClC,CAAE,MAAS,MAAO,aAAgB,8CAClC,CAAE,MAAS,MAAO,aAAgB,4EAClC,CAAE,MAAS,MAAO,aAAgB,8CAClC,CAAE,MAAS,MAAO,aAAgB,kCAClC,CAAE,MAAS,MAAO,aAAgB,8CAClC,CAAE,MAAS,MAAO,aAAgB,kFAClC,CAAE,MAAS,MAAO,aAAgB,oDAClC,CAAE,MAAS,MAAO,aAAgB,sBAClC,CAAE,MAAS,MAAO,aAAgB,4BAClC,CAAE,MAAS,MAAO,aAAgB,6BAoDvBC,GAAyB,CACpC,CAAE,MAAS,IAAK,aAAgB,kCAChC,CAAE,MAAS,IAAK,aAAgB,kCAChC,CAAE,MAAS,IAAK,aAAgB,kCAChC,CAAE,MAAS,IAAK,aAAgB,6BAGrBC,GAAwB,CACnC,CAAE,MAAS,KAAM,aAAgB,gBACjC,CAAE,MAAS,KAAM,aAAgB,4BACjC,CAAE,MAAS,KAAM,aAAgB,4BACjC,CAAE,MAAS,KAAM,aAAgB,sBACjC,CAAE,MAAS,KAAM,aAAgB,iBAGtBC,GAAgB,CAC3B,CAAE,MAAS,KAAM,aAAgB,kCACjC,CAAE,MAAS,KAAM,aAAgB,kCACjC,CAAE,MAAS,KAAM,aAAgB,gBACjC,CAAE,MAAS,KAAM,aAAgB,gBACjC,CAAE,MAAS,KAAM,aAAgB,iBCthBtBC,GAAsB,SAACjO,GAAwD,IAAlDkO,EAAiD,uDAAtC,aAAcC,EAAwB,uDAAf,WACpEC,EAAQpO,EAAKkO,GACbG,EAAMrO,EAAKmO,GACjB,QAAIC,EAAQC,IACH,CAAC,CACN5f,KAAM0f,EACNhC,QAAS5J,GAAOwC,UAAU5E,GAASG,MAAMI,gBAAiB0N,EAAOC,MAW1DC,GAAc,SAACC,GAAD,OAAY,SAACC,GACtC,GAAID,GAAUzL,MAAMC,QAAQyL,IAAaA,EAASxP,OAAS,EAAG,CAC5D,IAAIyP,EAAO,GACPvH,EAAU,GAiBd,OAhBAsH,EAASE,KAAI,SAAC1O,EAAM2O,GAClB,IAAIC,EAAO,GAaX,OAZA9L,MAAM9T,KAAKuf,GAAQG,KAAI,SAAA5J,GAAG,OAAK8J,EAAK9J,GAAO9E,EAAK8E,MAC5C2J,EAAK3K,QAAQlG,KAAKiG,UAAU+K,KAAU,EACxC9L,MAAM9T,KAAKuf,GAAQG,KAAI,SAAA5J,GAAG,OACxBoC,EAAQxI,KAAK,CACXjQ,KAAMqW,EACNqH,QAAShM,GAASG,MAAMM,OACxB+N,MAAOA,OAIXF,EAAK/P,KAAKd,KAAKiG,UAAU+K,KAEpB,OAEFrM,GAAOK,QAAQsE,IAAkBA,EAExC,OAAO,IAUE2H,GAAuB,SAAC7O,GAA8F,IAAxF8O,EAAuF,uDAA5E,OAAQC,EAAoE,uDAAxD,QAASC,EAA+C,uDAAtC,WAAYC,EAA0B,uDAAhB,YAC1GC,EAAWlP,EAAK8O,GAAc9O,EAAK+O,GACnCI,EAASnP,EAAKgP,GAAYhP,EAAKiP,GACrC,QAAIC,EAAWC,IACN,CACL,CACE1gB,KAAMugB,EACN7C,QAAS5J,GAAOwC,UAAU5E,GAASG,MAAMI,gBAAiBwO,EAAUC,IAEtE,CACE1gB,KAAMwgB,EACN9C,QAAS5J,GAAOwC,UAAU5E,GAASG,MAAMI,gBAAiBwO,EAAUC,MAQ/DC,GAAuB,SAACpP,GACnC,OAA4D,IAAxDuC,GAAOkC,gBAAgBzE,EAAM,OAAQ,QAAQqP,QACxC,CACL,CACEV,MAAO,EACPlgB,KAAM,SACN0d,QAAS,8EHlFbmD,GAAOC,UAAUC,UACjBC,GAAcF,UAAUG,QACxBC,GAAc,GAAKC,WAAWL,UAAUM,YACxCC,GAAeC,SAASR,UAAUM,WAAY,KAIL,KAAxCvD,GAAYgD,GAAKxL,QAAQ,WAC5B2L,GAAc,QACdE,GAAcL,GAAKhJ,UAAUgG,GAAY,IACM,KAA1CA,GAAYgD,GAAKxL,QAAQ,cAC5B6L,GAAcL,GAAKhJ,UAAUgG,GAAY,MAGI,KAAvCA,GAAYgD,GAAKxL,QAAQ,UACjC2L,GAAc,8BACdE,GAAcL,GAAKhJ,UAAUgG,GAAY,KAGQ,KAAzCA,GAAYgD,GAAKxL,QAAQ,YACjC2L,GAAc,SACdE,GAAcL,GAAKhJ,UAAUgG,GAAY,KAGQ,KAAzCA,GAAYgD,GAAKxL,QAAQ,YACjC2L,GAAc,SACdE,GAAcL,GAAKhJ,UAAUgG,GAAY,IACM,KAA1CA,GAAYgD,GAAKxL,QAAQ,cAC5B6L,GAAcL,GAAKhJ,UAAUgG,GAAY,MAGO,KAA1CA,GAAYgD,GAAKxL,QAAQ,aACjC2L,GAAc,UACdE,GAAcL,GAAKhJ,UAAUgG,GAAY,KAGjCD,GAAaiD,GAAKU,YAAY,KAAO,IAC5C1D,GAAYgD,GAAKU,YAAY,QAC9BP,GAAcH,GAAKhJ,UAAU+F,GAAYC,IACzCqD,GAAcL,GAAKhJ,UAAUgG,GAAY,GACrCmD,GAAYQ,gBAAkBR,GAAYS,gBAC5CT,GAAcF,UAAUG,WAIa,KAApCnD,GAAKoD,GAAY7L,QAAQ,QAC5B6L,GAAcA,GAAYrJ,UAAU,EAAGiG,MACA,KAApCA,GAAKoD,GAAY7L,QAAQ,QAC5B6L,GAAcA,GAAYrJ,UAAU,EAAGiG,KAEzCuD,GAAeC,SAAS,GAAKJ,GAAa,IACtCjG,MAAMoG,MACRH,GAAc,GAAKC,WAAWL,UAAUM,YACxCC,GAAeC,SAASR,UAAUM,WAAY,KAGhD,IAAIM,GAAS,cACgC,IAAzCZ,UAAUM,WAAW/L,QAAQ,SAAeqM,GAAS,YACZ,IAAzCZ,UAAUM,WAAW/L,QAAQ,SAAeqM,GAAS,UACZ,IAAzCZ,UAAUM,WAAW/L,QAAQ,SAAeqM,GAAS,SACV,IAA3CZ,UAAUM,WAAW/L,QAAQ,WAAiBqM,GAAS,SAO9CZ,UAAUG,QACRH,UAAUC,UANlB,IAaMY,GAAkB,UAAMX,GAAN,YAAqBE,GAArB,gBAAwCQ,IIpBjEE,G,YAEJ,WAAYriB,GAAQ,IAAD,8BACjB,4CAAMA,KASRsiB,WAAa,SAACC,GACZ,EAAK3hB,SAAS,CAAC4hB,MAAM,EAAMD,cAXV,EAcnBE,YAAc,WACZ,EAAK7hB,SAAS,CAAC4hB,MAAM,KAfJ,EAkBnBE,mBAAqB,WACnB,EAAK9hB,UAAS,SAAAX,GACZ,MAAO,CAAE0iB,iBAAkB1iB,EAAM0iB,qBAjBnC,EAAK1iB,MAAQ,CACXuiB,MAAM,EACNG,iBAAiB,EACjBJ,SAAU,MANK,E,sEAwBR,IAAD,SACkB5hB,KAAKX,MAAvBiB,EADA,EACAA,QAASwP,EADT,EACSA,KADT,EAEoC9P,KAAKV,MAAzCuiB,EAFA,EAEAA,KAAMD,EAFN,EAEMA,SAAUI,EAFhB,EAEgBA,gBAExB,OAAIJ,EAEA,kBAACK,GAAA,EAAD,CACEJ,KAAMA,EACND,SAAUA,EACVM,YAAU,EACVC,eAAa,EACbC,UAAU,aACV3hB,UAAWH,EAAQ+hB,SAElB,gBAAGC,EAAH,EAAGA,gBAAH,OACC,kBAACC,GAAA,EAAD,iBAAUD,EAAV,CAA2BpjB,QAAS,MAClC,kBAACsjB,GAAA,EAAD,CAAM/hB,UAAWH,EAAQmiB,KAAMC,UAAW,GACxC,kBAACC,GAAA,EAAD,CACEzkB,OACE,kBAACyC,EAAA,EAAD,CAAQiiB,aAAW,SAASniB,UAAWH,EAAQpC,QAC5C4R,EAAK3M,GAAGjF,OACP,yBAAK2kB,IAAK/S,EAAK3M,GAAGjF,OAAQ4kB,IAAI,SAASxlB,MAAO,KAC5C,kBAAC,KAAD,OAGRylB,MAAOjT,EAAK3M,GAAG6f,UACfC,UACErP,GAAOK,QAAQnE,EAAK3M,GAAG+f,WACnBpT,EAAK3M,GAAGggB,MACRrT,EAAK3M,GAAG+f,UAAUnD,KAAI,SAAAqD,GAAC,gBAAOA,EAAC,SAAR,YAAwBA,EAAC,SAAzB,aAA+D,IAAtBA,EAAC,aAA4B,WAAQ,OAAMC,SAGnH,kBAACC,GAAA,EAAD,CAAa7iB,UAAWH,EAAQijB,aAC9B,kBAACC,GAAA,EAAD,CAAM/iB,UAAWH,EAAQmjB,UACvB,kBAACC,GAAA,EAAD,CAASC,UAAU,OAChB/P,GAAOK,QAAQnE,EAAK3M,GAAGM,QAuDtB,KAtDF,oCACE,kBAACmgB,GAAA,EAAD,CAAUC,QAAM,EAACliB,QAAS,EAAKogB,oBAC7B,kBAAC+B,GAAA,EAAD,KACE,kBAACnjB,EAAA,EAAD,CAAQF,UAAWH,EAAQyjB,UACzB,kBAAC,KAAD,QAGJ,kBAACC,GAAA,EAAD,CACEC,QAAQ,mCAETjC,EAAkB,kBAAC,KAAD,MAAiB,kBAAC,KAAD,OAEtC,kBAACkC,GAAA,EAAD,CAAUC,GAAInC,EAAiB9iB,QAAQ,OAAOklB,eAAa,GACzD,kBAACZ,GAAA,EAAD,CAAMa,gBAAc,GAClB,kBAACT,GAAA,EAAD,CACEC,QAAM,EACNF,UAAWW,IACX7jB,UAAWH,EAAQikB,OACnB1iB,GAAE,0BAAqBiO,EAAK3M,GAAGM,OAA7B,mBACF9B,QAAS,EAAKmgB,aAEd,kBAACkC,GAAA,EAAD,CAAcC,QAAQ,8BAExB,kBAACL,GAAA,EAAD,CACEC,QAAM,EACNF,UAAWW,IACX7jB,UAAWH,EAAQikB,OACnB1iB,GAAE,0BAAqBiO,EAAK3M,GAAGM,OAA7B,oBACF9B,QAAS,EAAKmgB,aAEd,kBAACkC,GAAA,EAAD,CAAcC,QAAQ,8BAExB,kBAACL,GAAA,EAAD,CACEC,QAAM,EACNF,UAAWW,IACX7jB,UAAWH,EAAQikB,OACnB1iB,GAAE,0BAAqBiO,EAAK3M,GAAGM,OAA7B,kBACF9B,QAAS,EAAKmgB,aAEd,kBAACkC,GAAA,EAAD,CAAcC,QAAQ,oCAExB,kBAACL,GAAA,EAAD,CACEC,QAAM,EACNF,UAAWW,IACX7jB,UAAWH,EAAQikB,OACnB1iB,GAAE,0BAAqBiO,EAAK3M,GAAGM,OAA7B,mBACF9B,QAAS,EAAKmgB,aAEd,kBAACkC,GAAA,EAAD,CAAcC,QAAQ,sCAI5B,kBAACP,GAAA,EAAD,CAASC,UAAU,UAK3B,kBAACa,GAAA,EAAD,CAAaC,gBAAc,GACzB,yBAAK7iB,MAAO,CAAC8iB,KAAM,KACnB,kBAACC,GAAA,EAAD,CAAS5B,MAAM,iCAAQX,UAAU,SAASwC,WAAY,KACpD,kBAACC,GAAA,EAAD,CAAYjC,aAAW,SAASjhB,QAAS,kBAAM,EAAKtC,MAAM+D,OAAO,EAAK/D,MAAMc,YAC1E,kBAAC,KAAD,cAUT,S,GArIa2kB,IAAMhjB,WA+IjBijB,eAAWhjB,KA1KX,SAAC3E,GAAD,MAAY,CACzBilB,OAAQ,CACN/kB,MAAO,KAETimB,YAAa,CACXtlB,QAAS,GAEXC,OAAQ,CACN8mB,OAAQ,EACR,QAAS,CACPpmB,SAAU,qBAGd6kB,SAAU,CACRtlB,OAAQ,EACRF,QAAS,EACTc,SAAU,WACVkmB,UAAW,QAEblB,SAAU,CACRmB,gBAAiB,qDAEnBX,OAAQ,CACNY,YAAa/nB,EAAMK,QAAQ,OAmJLsE,CAAmB2f,K,2BClL9B3f,WAhBD,CACZqjB,KAAM,CACJjnB,OAAQ,qBACRb,MAAO,UAaIyE,EATf,SAAuB1C,GAAQ,IACrBiB,EAA+BjB,EAA/BiB,QAAS+kB,EAAsBhmB,EAAtBgmB,SAAaC,EADF,aACWjmB,EADX,wBAE5B,OACE,kBAACkmB,GAAA,EAAD,eAAMC,WAAS,GAAKF,EAApB,CAA0B7kB,UAAWH,EAAQ8kB,OAC1CC,M,QCIQtjB,WAfD,CACZqjB,KAAM,CACJnnB,QAAS,sBAaE8D,EATf,YAAiC,IAAV1C,EAAS,mBACtBiB,EAA+BjB,EAA/BiB,QAAS+kB,EAAsBhmB,EAAtBgmB,SAAaC,EADA,aACSjmB,EADT,wBAE9B,OACE,kBAACkmB,GAAA,EAAD,eAAMtF,MAAI,GAAKqF,EAAf,CAAqB7kB,UAAWH,EAAQ8kB,OACrCC,M,qtBCTA,IAAMzR,GAAS,CAMpB6R,UAAW,SAAS3R,GAAgB,IAAX4R,EAAU,uDAAJ,GACzBC,EAAMvE,SAAStN,EAAK4R,GACxB,OAAO3K,MAAM4K,GAAO,EAAIA,GAO1B9R,WAAY,SAASC,GACnB,OAAY,OAARA,QAAwBC,IAARD,EACX,IAEYA,EAAM,IAAIE,QAAQ,0BAA2B,QASpEC,QAAS,SAASC,GAChB,GAAY,OAARA,QAAwBH,IAARG,GAA6B,KAARA,EACvC,OAAO,EACF,GAAIC,MAAMC,QAAQF,GACvB,OAAsB,IAAfA,EAAI7D,OACN,GAAmB,kBAAR6D,EAChB,OAAO,EAET,IAAI,IAAIG,KAAOH,EACb,GAAGA,EAAII,eAAeD,GACpB,OAAO,EAEX,OAAO,GAQTuR,YAAa,SAAS7P,EAAW1B,EAAKtU,GACpC,GAAKgW,EAEE,IAAyB,IAArBA,EAAU1F,OACnB,MAAO,GACF,GAAqB,qBAAVtQ,EAChB,MAAO,GAEc,kBAAVA,IACTA,EAAQA,EAAMiW,MAAM,MAAM,IAE5B,IAAIC,EAAOF,EAAU5F,QAAO,SAAAC,GAAG,OAAIA,EAAIiE,KAAStU,KAChD,OAAOkW,EAAK5F,OAAS,EAAI4F,EAAK,GAAK,GAVnC,MAAO,IAcX4P,YAAa,SAAS9lB,EAAOmQ,GAAsC,IAAD,OAA9BmE,EAA8B,uDAA1B,QAASyR,EAAiB,uDAAV,SAClDC,EAAY,GAQhB,OAPA7V,EAAM6P,KAAI,SAAAE,GAKR,OAJKA,EAAK6F,GAAU,KAAS/lB,EAAQ,KACnCgmB,EAAUhW,KAAKkQ,EAAK5L,IACpB0R,EAAYA,EAAUC,OAAO,EAAKH,YAAY5F,EAAK5L,GAAMnE,EAAOmE,EAAKyR,KAEhE7F,KAEF8F,GAST3P,UAAW,SAASC,EAAQO,GAC1B,OAAOL,mBAASF,EAAQO,IAS1BqP,kBAAmB,SAAS5U,EAAM1C,EAAauX,GAO7C,OALKvX,EAGO0C,EAAKpB,MAAMiW,EAAOvX,EAAauX,EAAOvX,EAAcA,GAFpD0C,GAYd8U,WAAY,SAASC,EAAOC,GAC1B,IAAMC,EAAiBF,EAAMrG,KAAI,SAACwG,EAAIvG,GAAL,MAAe,CAACuG,EAAIvG,MAMrD,OALAsG,EAAeE,MAAK,SAACC,EAAGC,GACtB,IAAMC,EAAQN,EAAII,EAAE,GAAIC,EAAE,IAC1B,OAAc,IAAVC,EAAoBA,EACjBF,EAAE,GAAKC,EAAE,MAEXJ,EAAevG,KAAI,SAAAwG,GAAE,OAAIA,EAAG,OAQrCK,aAAc,SAASR,EAAOS,GAqB5B,OApBAvW,OAAOwW,KAAKD,GAAS9G,KAAI,SAAA1L,GAkBvB,OAjBA+R,EAAQA,EAAMjW,QAAO,SAAS8P,GAC5B,IAAI8G,EAAa9G,EAAK5L,GACtB,OAAIwS,EAAQxS,IAAQF,MAAMC,QAAQyS,EAAQxS,GAAKgR,UAEtCwB,EAAQxS,GAAKtU,QAAUgnB,GAAcF,EAAQxS,GAAKgR,SAASlQ,QAAQ4R,IAAe,GACjE,IAAfA,IAAsC,IAAfA,GACP,IAAjBF,EAAQxS,KAAkC,IAAjBwS,EAAQxS,IAAkB0S,IAAeF,EAAQxS,IACxD,IAAjBwS,EAAQxS,KAAkC,IAAjBwS,EAAQxS,GACnC0S,MAAiC,IAAjBF,EAAQxS,GAAgB,EAAI,GACpB,kBAAf0S,EACTA,IAAeF,EAAQxS,KACrB0S,GACFA,EAAW5R,QAAQ0R,EAAQxS,KAAS,QAO1C+R,GASTY,WAAY,SAASL,EAAOM,EAASC,GACnC,OAAIA,EACe,SAAVP,EACL,SAACF,EAAGC,GAAJ,OAAWA,EAAEO,GAAWR,EAAEQ,IAC1B,SAACR,EAAGC,GAAJ,OAAWD,EAAEQ,GAAWP,EAAEO,IAEX,SAAVN,EACL,SAACF,EAAGC,GAAJ,OAAYA,EAAEO,IAAY,KAAOR,EAAEQ,IAAY,KAAO,EAAI,GAC1D,SAACR,EAAGC,GAAJ,OAAYD,EAAEQ,IAAY,KAAOP,EAAEO,IAAY,KAAO,EAAI,IAIhEE,mBAAoB,SAASpnB,EAAO2Y,GAClC,IAAI0O,EAAQrnB,EACZ,GAAe,OAAX2Y,QAA8B3E,IAAX2E,QAEhB,GAAIA,EAAO1U,UAAYhE,KAAKiU,QAAQyE,EAAO1U,SAAU,CAC1D,IAAIic,EAAOjgB,KAAK4lB,YAAYlN,EAAO1U,QAAS,QAASjE,GACjDkgB,IACFmH,EAAQnH,EAAKoH,kBAEU,YAAhB3O,EAAOlX,QACF,IAAVzB,EACFqnB,EAAQ1O,EAAO0O,OACI,IAAVrnB,IACTqnB,EAAQ1O,EAAO0O,MAAQ,6BAG3B,OAAOA,GAOTE,kBAAmB,SAASC,EAASC,GACnC,IAAIC,EAAc,GAMlB,OALgBD,EAAUrX,QAAO,SAAAC,GAAG,OAAIA,EAAIkE,eAAe,gBACnDyL,KAAI,SAAA3P,GACV,IAAIjT,EAASiT,EAAIsX,UAAUH,EAAQnX,EAAItQ,OACvC,OAAOwQ,OAAOC,OAAOkX,EAAatqB,MAE7BsqB,GAGTE,iBAAkB,SAAS5nB,EAAO2Y,EAAQrH,GAAkB,IAAZlU,EAAW,uDAAJ,GACrD,OAAQub,EAAOlX,MACb,IAAK,SACH,OAAOoS,GAAOgU,yBAAyB7nB,EAAO2Y,GAChD,IAAK,UACH,OAAO9E,GAAOiU,0BAA0B9nB,EAAO2Y,GACjD,IAAK,UACH,OAAc,IAAV3Y,GAA4B,IAAVA,EACb,kBAAC,KAAD,CAAiBnB,SAAS,QAAQgD,MAAO,CAACjD,MAAO,YACrC,IAAVoB,GAA6B,IAAVA,EACrB,kBAAC,KAAD,CAAkBnB,SAAS,QAAQgD,MAAO,CAACjD,MAAO,SAElD,KAEX,IAAK,UACL,IAAK,UACH,OAAOiV,GAAOC,WAAW9T,GAC3B,IAAK,UAYH,OAXAA,EAA4B,IAApBkhB,WAAWlhB,GACdgb,MAAMhb,GAQTA,EAAQ,MANNA,EADE2Y,EAAOoP,gBAAkB,EACnB/nB,EAAMgoB,QAAQrP,EAAOoP,gBAErB/nB,EAAMgoB,QAAQ,GAExBhoB,GAAS,KAIJA,EACT,IAAK,OACH,OACE,yBAAK6B,MAAK,IAAGomB,WAAY,YAAe7qB,IACrC4C,GAGP,IAAK,OACH,IAAIsnB,EAAetnB,EAInB,OAHK6T,GAAOK,QAAQ5C,IAASqH,EAAOuP,eAClCZ,EAAehW,EAAKqH,EAAOuP,eAEzBvP,EAAOwP,gBAEP,kBAAC5D,GAAA,EAAD,CACEX,UAAU,SACV9iB,QAAQ,UACRc,QAAS,kBAAM+W,EAAOwP,gBAAgBnoB,EAAOsR,KAE5CgW,GAAgB,IAIdA,EAEX,QACE,OAAOtnB,IASb6nB,yBAA0B,SAAS7nB,EAAO2Y,GACxC,GAAIA,EAAO1U,UAAYhE,KAAKiU,QAAQyE,EAAO1U,SAAU,CACnD,IAAMmkB,EAASnoB,KAAK4lB,YAAYlN,EAAO1U,QAAS,QAASjE,GAEzD,OADqBooB,EAASA,EAAOd,aAAe,OAC7BtnB,EAEvB,OAAOA,GASX8nB,0BAA2B,SAASO,EAAQ1P,GAAS,IAAD,OAClD,GAAIA,EAAO1U,UAAYhE,KAAKiU,QAAQyE,EAAO1U,SAAU,CACnD,IAAIqjB,EAAe,GACfc,EAAS,KACTE,EAAmB,GAOvB,OANAD,EAAOrI,KAAI,SAAAhgB,GAIT,OAHAooB,EAAS,EAAKvC,YAAYlN,EAAO1U,QAAS,QAASjE,GACnDsoB,GAAoBF,EAASA,EAAOd,aAAe,OAAS,GAC5DA,IAAmC,KAAjBA,EAAsB,GAAK,MAAQgB,KAGhDhB,EAEP,OAAOe,GAYXE,oBAAqB,SAASC,EAAWC,EAAWC,EAAYC,GAAyB,IAAXC,EAAU,uDAAH,EAC7EC,EAAU3Q,SAASC,eAAeqQ,GAClCM,EAAW5Q,SAASC,eAAeuQ,GACnCK,EAAU7Q,SAASC,eAAesQ,GAClCO,EAAa9Q,SAASC,eAAewQ,GAJ2C,EAKrDG,EAASG,wBAArC/pB,EALiF,EAKjFA,KAAM3B,EAL2E,EAK3EA,MAAO0B,EALoE,EAKpEA,IAAKiqB,EAL+D,EAK/DA,OACjBC,EAAaL,EAASM,cAAc,SAASH,wBAAwBC,OAQ3E,GAPIC,IACFD,EAASC,GAEPJ,IACF9pB,EAAM8pB,EAAQE,wBAAwBhqB,KAGpCA,EAAM2pB,GAAU3pB,EAAO2pB,EAASM,EAAS,CAC3CL,EAAQhnB,MAAMrE,QAAU,UACxBqrB,EAAQhnB,MAAM3C,KAAOA,EAAO,KAC5B2pB,EAAQhnB,MAAMtE,MAAQA,EAAQ,KAC9BsrB,EAAQhnB,MAAM5C,IAAM2pB,EAAS,KAE7B,IAAIS,EAAY,GAChBjV,MAAMkV,UAAUC,QAAQC,KAAKV,EAASM,cAAc,YAAY9D,UAAU,SAASmE,EAAKC,GACtF,IAAMC,EAAWF,EAAIR,wBAAwB1rB,MAC7C8rB,EAAUrZ,KAAK2Z,MAEjBvV,MAAMkV,UAAUC,QAAQC,KAAKR,EAAWI,cAAc,YAAY9D,UAAU,SAASmE,EAAKC,GACxFD,EAAI5nB,MAAMtE,MAAQ8rB,EAAUK,GAAO,aAGrCb,EAAQhnB,MAAMrE,QAAU,QAS5BosB,eAAgB,SAASnC,EAAWoC,GAClC,IAAIC,EAAO7pB,KACP8pB,EAAY,GACZC,EAAW,GAqBf,OAnBAvC,GADAA,EAAYA,EAAUrX,QAAO,SAAAC,GAAG,OAAqB,IAAhBA,EAAI4Z,UAAiC,IAAZ5Z,EAAI6Z,QAC5C9Z,QAAO,SAAAC,GAAG,OAAiB,IAAZA,EAAI6Z,QAC/BlK,KAAI,SAAA3P,GAAG,OACf0Z,EAAU/Z,KAAKK,EAAIgX,OAAShX,EAAItQ,SAElCiqB,EAASha,KAAK+Z,GAEdF,EAAUN,SAAQ,SAASY,GACzB,IAAIC,EAAY,GAChB3C,EAAUzH,KAAI,SAAA3P,GACZ,IAAIrQ,EAAQmqB,EAAI9Z,EAAItQ,MAKpB,MAJiB,WAAbsQ,EAAI5O,OACNzB,EAAQ8pB,EAAKjC,yBAAyB7nB,EAAOqQ,IAE/C+Z,EAAUpa,KAAKhQ,IACR,KAETgqB,EAASha,KAAKoa,MAGTnqB,KAAKoqB,WAAWL,IAGzBK,WAAY,SAAShE,GACnB,IAAIiE,EAAY,GAMhB,OALAjE,EAAMkD,SAAQ,SAAUgB,EAAWtK,GACjC,IAAIuK,EAAOD,EAAUjH,KAAK,KAC1BgH,EAAUta,KAAKwa,MAEAF,EAAUhH,KAAK,OAIlCmH,YAAa,SAAUC,EAAYnR,GAC7BA,EACFA,GAAY,OAEZA,EAAW,aAEb,IAAIoR,EAAOzS,SAAS2B,cAAc,KAC9B+Q,EAAM,IAAIzR,WAAW,CAAC,IAAM,IAAM,MAClCC,EAAO,IAAIC,KAAK,CAACuR,EAAKF,GAAa,CAAEjpB,KAAM,aAC/CkpB,EAAK5Q,aAAa,WAAYR,GAC1BE,OAAOoR,WAAapR,OAAOoR,UAAUlR,iBAEvCgR,EAAK5Q,aAAa,OAAQN,OAAOoR,UAAUlR,gBAAgBP,IAC3DuR,EAAK3Q,SACIP,OAAOC,KAAOD,OAAOC,IAAIC,iBAElCgR,EAAK5Q,aAAa,OAAQN,OAAOC,IAAIC,gBAAgBP,IACrDlB,SAASmF,KAAKyN,YAAYH,GAC1BA,EAAK3Q,QACL9B,SAASmF,KAAK0N,YAAYJ,IAE1BhsB,MAAM,yFAIVqsB,qBAAsB,SAASzR,EAAUkO,EAAWoC,GAClD,IAAMvY,EAAOrR,KAAK2pB,eAAenC,EAAWoC,GAC5C5pB,KAAKwqB,YAAYnZ,EAAMiI,IAOzB0R,UAAW,SAASC,GAClB,OAAO3a,OAAOwW,KAAKmE,GAAMlL,KAAI,SAASmL,GACpC,OAAOC,mBAAmBD,GAAK,IAAMC,mBAAmBF,EAAKC,OAC5D7H,KAAK,MAOV+H,UAAW,SAASrW,GAClB,IAAKA,EACH,MAAO,GAKT,IAHA,IAAIsW,EACAJ,EAAO,GACPK,EAASvW,EAAI9E,MAAM8E,EAAII,QAAQ,KAAO,GAAGa,MAAM,KAC1CQ,EAAI,EAAGA,EAAI8U,EAAOjb,OAAQmG,IAE/ByU,GADAI,EAAOC,EAAO9U,GAAGR,MAAM,MACb,IAAkB,SAAZqV,EAAK,IAAmC,UAAZA,EAAK,IAAyBA,EAAK,GAInF,OAAOJ,GAOTM,eAAgB,SAASC,GACvB,GAAIA,GAAaA,EAAUrW,QAAQ,aAAe,EAAG,CACnD,IACM9D,EADMma,EAAUxV,MAAM,YACX,GACjB,OAAqB,EAAd3E,EAAKhB,OAAa,GAAKgB,EAAKmG,MAAM,OAAS,IAAInH,OAEtD,OAAO,IAKAob,GAAQ,CAKnBC,cAAe,SAASra,GAItB,OAHIA,GACFA,EAAK0O,KAAI,SAACmK,EAAKlK,GAAN,OAAgBkK,EAAG,UAAgBlK,KAEvC3O,GAOTsa,SAAU,SAASxrB,GACjB,IAAIwmB,EAAQ,CAAC,QAAW,MAAO,UAAa,IAC5C,GAAIxmB,GAAYA,EAASwV,OAAQ,CAC/B,IAAMsV,EAAOrX,GAAOwX,UAAUjrB,EAASwV,QACjCiW,EAAWX,EAAKY,QAChBC,EAAeb,EAAKc,eACtBH,GAA4B,MAAhBA,EAAS,IACvBjF,EAAK,QAAc,OACnBA,EAAK,UAAgBiF,EAAS3b,MAAM,IAEpC0W,EAAK,UAAgBiF,EAEvBjF,EAAK,eAAqBmF,EAE5B,OAAOnF,GAWTqF,eAAgB,SAASrF,EAAOM,EAAS6E,EAAc3rB,EAAUiE,GAC/D,IAAI6mB,EAAOrX,GAAOwX,UAAUjrB,EAASwV,QACrCsV,EAAI,SAAyB,QAAVtE,EAAkB,GAAK,KAAOM,EACjDgE,EAAI,eAAqBa,EACzB1nB,EAAQ2L,KAAK,CACX,SAAY5P,EAAS0V,SACrB,OAAUjC,GAAOoX,UAAUC,MAU/BgB,oBAAqB,SAAS/F,EAAM/lB,EAAUiE,GAC5C,IAAI6mB,EAAOrX,GAAOwX,UAAUjrB,EAASwV,QACrCsV,EAAI,OAAa/E,EACjB9hB,EAAQ2L,KAAK,CACX,SAAY5P,EAAS0V,SACrB,OAAUjC,GAAOoX,UAAUC,MAI/BiB,kBAAmB,SAASC,EAAUhsB,EAAUiE,GAC9C,IAAI6mB,EAAOrX,GAAOwX,UAAUjrB,EAASwV,QACrCsV,EAAI,cAAoBkB,EACxB/nB,EAAQ2L,KAAK,CACX,SAAY5P,EAAS0V,SACrB,OAAUjC,GAAOoX,UAAUC,MAU/BmB,gBAAiB,SAASvF,EAAS1mB,EAAUiE,GAC3C,IAAI6mB,EAAOrX,GAAOwX,UAAUjrB,EAASwV,QACrCrF,OAAOwW,KAAKmE,GAAMlL,KAAI,SAAA1L,GAIpB,MAHwB,OAApBA,EAAIpE,MAAM,EAAG,WACRgb,EAAK5W,IAEP,KAET/D,OAAOC,OAAO0a,EAAMpE,GACpBziB,EAAQ2L,KAAK,CACX,SAAY5P,EAAS0V,SACrB,OAAUjC,GAAOoX,UAAUC,MAQ/BoB,YAAa,SAASlsB,EAAUmsB,GAC9B,GAAInsB,GAAYA,EAASwV,OAAQ,CAC/B,IAAIsV,EAAOrX,GAAOwX,UAAUjrB,EAASwV,QAiBrC,OAhBArF,OAAOwW,KAAKmE,GAAMlL,KAAI,SAAA1L,GACI,OAApBA,EAAIpE,MAAM,EAAG,WACRgb,EAAK5W,GAEd,IAAMqE,EAAS9E,GAAOgS,YAAY0G,EAAS,OAAQjY,GAUnD,OATIqE,IACkB,YAAhBA,EAAOlX,KACTypB,EAAK5W,GAAO+M,SAAS6J,EAAK5W,IACjBqE,EAAO1U,UAAY4P,GAAOK,QAAQyE,EAAO1U,UACX,kBAA5B0U,EAAO1U,QAAQ,GAAGjE,QAC3BkrB,EAAK5W,GAAO4M,WAAWgK,EAAK5W,OAI3B,KAEF4W,EAEP,MAAO,IAIXsB,YAAa,SAAS1F,EAASyF,GAmB7B,OAlBAhc,OAAOwW,KAAKD,GAAS9G,KAAI,SAAA1L,GACvB,IAAMqE,EAAS9E,GAAOgS,YAAY0G,EAAS,OAAQjY,GAenD,OAdIqE,IACkB,YAAhBA,EAAOlX,KACTqlB,EAAQxS,GAAO+M,SAASyF,EAAQxS,IACvBqE,EAAO1U,UAAY4P,GAAOK,QAAQyE,EAAO1U,UACX,kBAA5B0U,EAAO1U,QAAQ,GAAGjE,QACvB8mB,EAAQxS,IAAQwS,EAAQxS,GAAKtU,MAE/B8mB,EAAQxS,GAAKtU,MAAQkhB,WAAW4F,EAAQxS,GAAKtU,OAE7C8mB,EAAQxS,GAAO4M,WAAW4F,EAAQxS,OAKnC,KAEFwS,I,mBCvlBErV,IAEAgb,KAAUC,OAAOC,WACnBF,KAAUG,OACCH,KAAUI,MAAM,CAChC,UACA,UACA,SACA,UACA,OACA,OACA,SAESJ,KAAUK,QAAQL,KAAUC,QAC5BD,KAAUK,QAAQL,KAAUC,QAC3BD,KAAUC,OAEL,CACjBK,iBAAkB,OAClBtF,UAAW,GACXoC,UAAW,KApBFpY,IAuBKgb,KAAUK,QAAQL,KAAUC,QAC9BD,KAAUK,QAAQL,KAAUC,QACxBD,KAAUO,KAEH,CACvBC,aAAc,GACdC,WAAY,KA7BHzb,GA+BL,CACJ0b,QAAS,+DACTC,cAAe,2KACfC,eAAgB,+GAChB1b,iBAAkB,0DAnCTF,GAqCJ,CACL6b,cAAe,2DACfvb,iBAAkB,+DAClBwb,aAAc,mGACdC,gBAAiB,mH,UCxCfC,GAAYC,cAAW,SAAArwB,GAAK,MAAK,CACrC0D,MAAO,CACLnC,MAAO,WAIJ,SAAS+uB,GAAeruB,GAC7B,IAAMiB,EAAUktB,KACVG,EAAWtuB,EAAXsuB,OAKN,MAJsB,kBAAXA,IACTA,EAAS,CAACA,IAIV,kBAAC,IAAMptB,SAAP,KACG4T,MAAMC,QAAQuZ,IAAWA,EAAOtd,OAAS,EACxC,wBAAI5P,UAAWH,EAAQQ,OACpB6sB,EAAO5N,KAAI,SAACjf,EAAOuT,GAAR,OACV,wBAAIA,IAAKA,GACNvT,OAIL,M,yGCqBK8sB,GA/CG,SAAAxwB,GAAK,MAAK,CAC1BywB,YAAa,CACX1vB,OAAQf,EAAMK,QAAQ,GACtBH,MAAM,eAAD,OAAiBF,EAAMK,QAAQ,GAA/B,QAEPqwB,SAAU,CACRnvB,MAAO,OACPC,SAAUxB,EAAMK,QAAQ,MAE1BswB,iBAAkB,CAChBC,QAAS,EACTC,WAAY,OACZlvB,SAAU,WACVE,KAAM,EACND,IAAK,EACL1B,MAAO,OACP2rB,OAAQ,OACRiF,OAAQ,WAEVC,YAAa,CACXnG,WAAY,SACZoG,SAAU,UAEZC,gBAAiB,CACf9wB,QAAS,eACT+wB,aAAc,sBACd9wB,WAAY,MACZ+wB,WAAY,OACZ7J,KAAM,EACNwJ,OAAQ,UACR5wB,MAAO,QAETkxB,oBAAqB,CACnBzvB,SAAU,WACV0vB,MAAO,EACPrwB,gBAAiB,SAEnBswB,iBAAkB,CAChBzwB,QAASb,EAAMK,QAAQ,IAEzBkxB,oBAAqB,CACnB,yBAA0B,CACxBxwB,OAAQ,MCtBRywB,G,sLAEW,IAAD,OACJ5qB,EAAYhE,KAAKX,MAAjB2E,QACF6qB,EAAYjb,GAAOK,QAAQjQ,GAAW,GAAKA,EAAQmM,QAAO,SAAA8P,GAAI,OAAoB,OAAhBA,EAAK6F,UACzE5V,EAAQ,GAIZ,OAHA2e,EAAU9O,KAAI,SAAAE,GACZ,OAAO,EAAK6O,cAAc5e,EAAO+P,MAE5B/P,I,oCAGKA,EAAO+P,GAAiB,IAAD,OAAV8O,EAAU,uDAAH,EAAG,EACE/uB,KAAKX,MAAlCiB,EAD2B,EAC3BA,QAAS0D,EADkB,EAClBA,QAASgrB,EADS,EACTA,OACpB3J,EAAWrhB,EAAQmM,QAAO,SAAA8e,GAAG,OAAIA,EAAInJ,SAAW7F,EAAKlgB,SACvDmvB,EAAY,CAAE7a,IAAK4L,EAAKlgB,MAAQ,QAASA,MAAOkgB,EAAKlgB,OACrDsnB,EAAepH,EAAKoH,aACpBhC,GAAYA,EAAShV,OAAS,IAChC6e,EAAS,UAAgB5uB,EAAQ6uB,WACjC9H,EAAe,SAAMA,IAGR,IAAX2H,EACF9e,EAAMH,KACJ,0CACEqf,UAA4B,IAAlBnP,EAAKmP,UACXF,GAFN,UAIM,SAAIG,OAAON,IAJjB,OAIyB1H,KAI3BnX,EAAMH,KACJ,kBAACuf,GAAA,EAAD,eACEF,UAA4B,IAAlBnP,EAAKmP,UACXF,EAFN,CAGEttB,MAAO,CAAEpE,WAAmB,GAAPuxB,KAEpB1H,IAIPhC,EAAStF,KAAI,SAAAkP,GACX,OAAO,EAAKH,cAAc5e,EAAO+e,EAAKF,EAAO,Q,+BAIvC,IAAD,EAC8C/uB,KAAKX,MAAlDS,EADD,EACCA,KAAMC,EADP,EACOA,MAAOqnB,EADd,EACcA,MAAO4H,EADrB,EACqBA,OAAQvvB,EAD7B,EAC6BA,aAC9ByQ,EAAQlQ,KAAKuvB,cAEnB,OACE,kBAAC,IAAMhvB,SAAP,KACE,kBAACW,EAAA,EAAD,CAAYC,QAASrB,GAAOsnB,GAC5B,kBAACoI,GAAA,EAAD,CACER,QAAmB,IAAXA,EACRjvB,MAAOA,EACP0vB,WAAY,CAAE3vB,KAAMA,EAAMC,MAAOA,GACjCwB,SAAU9B,IAEE,IAAXuvB,EAAkB,4BAAQjvB,MAAM,KAAe,kBAACuvB,GAAA,EAAD,CAAUjb,IAAI,OAAOtU,MAAM,IAAG,qCAC7EmQ,EAAM6P,KAAI,SAAAE,GACT,OAAOA,W,GA9DW6E,IAAMhjB,WAsErBC,iBAjFA,SAAA3E,GAAK,MAAK,CACvBywB,YAAa,CACX1vB,OAAQf,EAAMK,QAAQ,GACtBiyB,SAAU,IACVpyB,MAAO,QAET6xB,WAAY,CACVQ,WAAY,WA0ED5tB,CAAmB6sB,ICnE5BgB,G,YAEJ,WAAYvwB,GAAQ,IAAD,8BACjB,4CAAMA,KAQRI,aAAe,SAACowB,GAAW,IAAD,EACFA,EAAMhwB,OAAtBC,EADkB,EAClBA,KAAMC,EADY,EACZA,MADY,EAEE,EAAKV,MAAMqZ,OAA7BlX,EAFgB,EAEhBA,KAAMX,EAFU,EAEVA,QACd,GAAa,YAATW,EACc,WAAZX,GAEFf,EAAO+vB,EAAMhwB,OAAOE,MACpBA,EAAQ8vB,EAAMhwB,OAAOiwB,SAEP,SAAV/vB,EACFA,GAAQ,EACW,UAAVA,IACTA,GAAQ,QAGP,GAAa,YAATyB,EACTzB,EAAQ6T,GAAO6R,UAAU1lB,QACpB,GAAa,SAATyB,EAAiB,CAC1B,IAAMuuB,EAAOF,EAAMhwB,OAAOmwB,MAAM,GAC1BC,EAAS,IAAIC,WAInB,OAHAD,EAAOE,iBAAiB,QAAQ,SAACvwB,GAAD,OAAO,EAAKwwB,aAAaxwB,EAAGE,EAAMiwB,EAAKjwB,SACvEmwB,EAAOI,cAAcN,QACrB9X,SAASC,eAAT,mBAAoC,EAAK7Y,MAAMqZ,OAAO5Y,OAAQwwB,UAAYP,EAAKjwB,MAI7E,EAAKT,MAAMI,cACb,EAAKJ,MAAMI,aAAaK,EAAMC,EAAOyB,EAArC,CAA2CquB,IApC5B,EAwCnBU,yBAA2B,SAACV,EAAOW,GAAY,IAAD,EACrB,EAAKnxB,MAAMqZ,OAA1B5Y,EADoC,EACpCA,KAAM0B,EAD8B,EAC9BA,KACV,EAAKnC,MAAMI,eACT+wB,EAEF,EAAKnxB,MAAMI,aAAaK,EAAM0wB,EAAOzwB,MAAOyB,EAA5C,CAAkDquB,GAGlD,EAAKxwB,MAAMI,aAAaK,EAAM,KAAM0B,EAApC,CAA0CquB,KAhD7B,EAqDnBO,aAAe,SAACP,EAAO/vB,EAAM2wB,GAC3B,EAAKpxB,MAAMI,aACTK,EADF,eAEU4wB,KAAKC,SAASxF,mBAAmBsF,KAF3C,YAE0DZ,EAAMhwB,OAAO+wB,QACrE,OAHF,CAIEf,IA1De,EA6DnBgB,WAAa,SAAC/wB,GAAD,OAAU,SAAC+vB,GAClB,EAAKxwB,MAAMwxB,YACb,EAAKxxB,MAAMwxB,WAAWhB,EAAO/vB,KA/Dd,EAmEnBgxB,cAAgB,SAACC,GACf,EAAK9wB,SAAS,CAAC8wB,gBAjEf,EAAKD,cAAgB,EAAKA,cAAcpxB,KAAnB,gBACrB,EAAKJ,MAAQ,CACXyxB,WAAY,MALG,E,sEAuET,IAAD,EACmC/wB,KAAKX,MAAvCiB,EADD,EACCA,QAASoY,EADV,EACUA,OAAQrH,EADlB,EACkBA,KAAMsc,EADxB,EACwBA,OACvBoD,EAAe/wB,KAAKV,MAApByxB,WACJC,EAAU,KACRjxB,EAAUC,KAAKX,MAAfU,MACFqnB,EAAQ1O,EAAO0O,QAA6B,IAApB1O,EAAO1X,SAAoB,WAAQ,IAC/DjB,EAAmB,OAAVA,QAA4BgU,IAAVhU,EAAuB,GAAKA,EACvD,IAAMe,EAAQqT,MAAMC,QAAQuZ,IAAWA,EAAOtd,OAAS,EACjD4gB,GACM,IAAVnwB,EACE,kBAAC,IAAMP,SAAP,KACGotB,EAAO5N,KAAI,SAACvC,EAASnJ,GAAV,OAAkB,kBAAC6c,GAAA,EAAD,CAAgB7c,IAAKA,GAAMmJ,OAEzD,KAEF2T,EAAmB,KAQvB,GAPIzY,EAAO0Y,YACTD,EAAmB,CACjBE,YAAa3Y,EAAO0Y,UACpBE,gBAAiB,CAAEC,QAAQ,MAIN,IAArB7Y,EAAO8Y,UACTR,EACE,kBAACS,GAAA,EAAD,CACErC,UAAQ,EACRtuB,MAAOA,EACPhB,KAAM4Y,EAAO5Y,KACbC,MAAuB,WAAhB2Y,EAAOlX,KAAoBoS,GAAOgU,yBAAyB7nB,EAAO2Y,GAAU3Y,EACnFqnB,MAAOA,EACPkK,gBAAiB,CACfC,QAAQ,UAIT,GAAoB,YAAhB7Y,EAAOlX,KAEhBwvB,EACE,kBAAC,IAAMzwB,SAAP,KACuB,WAAnBmY,EAAO7X,QACP,kBAAC,IAAMN,SAAP,KACE,kBAACW,EAAA,EAAD,CAAYC,QAASuX,EAAO5Y,MAAOsnB,IAChB,IAAlB1O,EAAOsW,OACN,kBAACQ,GAAA,EAAD,CACER,QAAM,EACNjvB,MAAOA,EAAM2xB,WACbjC,WAAY,CAAE3vB,KAAM4Y,EAAO5Y,KAAMC,MAAOA,GACxCwB,SAAUvB,KAAKP,cAEf,4BAAQM,MAAM,KACd,4BAAQsU,IAAI,OAAOtU,MAAM,QAAzB,gBACA,4BAAQsU,IAAI,QAAQtU,MAAM,SAA1B,uBAGF,kBAACyvB,GAAA,EAAD,CACEzvB,MAAOA,EAAM2xB,WACbjC,WAAY,CAAE3vB,KAAM4Y,EAAO5Y,KAAMC,MAAOA,GACxCwB,SAAUvB,KAAKP,cAEf,kBAAC6vB,GAAA,EAAD,CAAUvvB,MAAM,IAAG,qCACnB,kBAACuvB,GAAA,EAAD,CAAUjb,IAAI,OAAOtU,MAAM,QAA3B,gBACA,kBAACuvB,GAAA,EAAD,CAAUjb,IAAI,QAAQtU,MAAM,SAA5B,wBAKN,kBAAC,IAAMQ,SAAP,KACE,kBAACoxB,GAAA,EAAD,CACEX,QACE,kBAACY,GAAA,EAAD,CACE9B,QAAS/vB,GAAkB,IAAVA,EACjBA,MAAO2Y,EAAO5Y,KACdyB,SAAUvB,KAAKP,eAGnB2nB,MAAOA,KAIZ1O,EAAO0Y,UACN,kBAACF,GAAA,EAAD,KAAiBxY,EAAO0Y,WACtB,WAGH,GAAoB,WAAhB1Y,EAAOlX,KAAmB,CAEnC,IAAMwC,EAAUmQ,MAAMC,QAAQ2c,GAAcA,EAAcrY,EAAO1U,SAAW,GAC5E0U,EAAM,QAAc1U,EAElBgtB,GADGpd,GAAOK,QAAQyE,EAAO1U,UAAY0U,EAAO1U,QAAQ,GAAGsQ,eAAe,UAEpE,kBAAC,IAAM/T,SAAP,KACE,kBAAC,GAAD,CACEyuB,QAA0B,IAAlBtW,EAAOsW,OACflvB,KAAM4Y,EAAO5Y,KACbsnB,MAAOA,EACPrnB,MAAOA,EACPe,MAAOA,EACPkD,QAASA,EACTvE,aAAcO,KAAKP,eAEpBiZ,EAAO0Y,UACN,kBAACF,GAAA,EAAD,KAAiBxY,EAAO0Y,WACtB,MAGoB,iBAAnB1Y,EAAO7X,QAEd,oCACE,kBAACgxB,GAAA,EAAD,CACEpxB,UAAWH,EAAQquB,oBACnB5uB,MAAO6T,GAAOgS,YAAY5hB,EAAS,QAASjE,GAC5C+xB,QAAS9tB,EACT+tB,eAAgB,SAAAvB,GAAM,OAAIA,EAAOnJ,cAAgB,IACjD2K,kBAAmB,SAACxB,GAAD,OAAgC,IAApBA,EAAOpB,UACtC7tB,SAAUvB,KAAKuwB,yBACf0B,YAAa,SAAAjd,GAAM,OACjB,kBAACyc,GAAA,EAAD,iBAAezc,EAAf,CAAuBoS,MAAOA,EAAOjpB,OAAO,eAG/Cua,EAAO0Y,UACN,kBAACF,GAAA,EAAD,KAAiBxY,EAAO0Y,WACtB,MAKN,kBAAC,IAAM7wB,SAAP,KACE,kBAACW,EAAA,EAAD,CAAYC,QAASuX,EAAO5Y,MAAOsnB,GACnC,kBAACoI,GAAA,EAAD,CACER,QAA0B,IAAlBtW,EAAOsW,OACfjvB,MAAOA,EACP0vB,WAAY,CAAE3vB,KAAM4Y,EAAO5Y,KAAMC,MAAOA,GACxCwB,SAAUvB,KAAKP,eAEI,IAAlBiZ,EAAOsW,OAAkB,4BAAQjvB,MAAM,KAAe,kBAACuvB,GAAA,EAAD,CAAUvvB,MAAM,IAAG,sCACvD,IAAlB2Y,EAAOsW,OACNhrB,EAAQ+b,KAAI,SAAAE,GACV,OACE,4BACE5L,IAAK4L,EAAKlgB,MACVA,MAAOkgB,EAAKlgB,OAEXkgB,EAAKoH,iBAKZrjB,EAAQ+b,KAAI,SAAAE,GACV,OACE,kBAACqP,GAAA,EAAD,CACEjb,IAAK4L,EAAKlgB,MACVA,MAAOkgB,EAAKlgB,OAEXkgB,EAAKoH,kBAMf3O,EAAO0Y,UACN,kBAACF,GAAA,EAAD,KAAiBxY,EAAO0Y,WACtB,UAIe,YAAhB1Y,EAAOlX,MAChBzB,EAAQA,GAAS,GACjBixB,EACE,kBAAC,IAAMzwB,SAAP,KACE,kBAACW,EAAA,EAAD,CAAYC,QAASuX,EAAO5Y,MAAOsnB,GACnC,kBAACoI,GAAA,EAAD,CACE0C,UAAQ,EACRnyB,MAAOA,EACP0vB,WAAY,CAAE3vB,KAAM4Y,EAAO5Y,KAAMC,MAAOA,GACxCwB,SAAUvB,KAAKP,aACf0yB,YAAa,SAAAC,GAAQ,OACnB,6BACGA,EAASrS,KAAI,SAAAhgB,GAAK,OACjB,kBAACsyB,GAAA,EAAD,CAAMhe,IAAKtU,EAAOqnB,MAAOxT,GAAOgS,YAAYlN,EAAO1U,QAAS,QAASjE,GAAOsnB,qBAKjF3O,EAAO1U,SAAW0U,EAAO1U,QAAQ+b,KAAI,SAAAE,GACpC,OACE,kBAACqP,GAAA,EAAD,CAAUjb,IAAK4L,EAAKlgB,MAAOA,MAAOkgB,EAAKlgB,OACrC,kBAAC6xB,GAAA,EAAD,CAAU9B,QAAS/vB,EAAMoV,QAAQ8K,EAAKlgB,QAAU,IAChD,kBAACikB,GAAA,EAAD,CAAcC,QAAShE,EAAKoH,oBAKnC3O,EAAO0Y,UACN,kBAACF,GAAA,EAAD,KAAiBxY,EAAO0Y,WACtB,OAIRJ,EADyB,SAAhBtY,EAAOlX,KAEd,kBAACiwB,GAAA,EAAD,CACE3wB,MAAOA,EACPhB,KAAM4Y,EAAO5Y,KACbC,MAAOA,EACPqnB,MAAOA,EACP5lB,KAAK,OACL8vB,gBAAiB,CACfC,QAAQ,GAEVhwB,SAAUvB,KAAKP,eAGM,SAAhBiZ,EAAOlX,KAEd,kBAACiwB,GAAA,EAAD,eACE3wB,MAAOA,EACPwxB,WAAS,EACTxyB,KAAM4Y,EAAO5Y,KACbC,MAAOA,EACPqnB,MAAOA,GACH+J,EANN,CAOE5vB,SAAUvB,KAAKP,aACf8yB,WAAY,CACV3wB,MAAO8W,EAAO8Z,cAIK,YAAhB9Z,EAAOlX,KAEd,kBAACiwB,GAAA,EAAD,eACE3wB,MAAOA,EACPhB,KAAM4Y,EAAO5Y,KACb0B,KAAK,SACLzB,MAAOA,EACPqnB,MAAOA,EACPqI,WAAY,CAACgD,IAAK/Z,EAAOga,UAAWC,IAAKja,EAAOka,UAAWC,KAAMna,EAAOma,MAAQ,IAC5E1B,EAPN,CAQE5vB,SAAUvB,KAAKP,gBAGM,YAAhBiZ,EAAOlX,KAEd,kBAACiwB,GAAA,EAAD,eACE3wB,MAAOA,EACPhB,KAAM4Y,EAAO5Y,KACb0B,KAAK,SACLzB,MAAOA,EACPqnB,MAAOA,EACPqI,WAAY,CAACgD,IAAK/Z,EAAOga,UAAWC,IAAKja,EAAOka,UAAWC,KAAMna,EAAOma,OACpE1B,EAPN,CAQE5vB,SAAUvB,KAAKP,gBAGM,SAAhBiZ,EAAOlX,KAEd,yBAAKf,UAAWH,EAAQ6tB,aACtB,2BAAOhtB,QAAO,aAAQuX,EAAO5Y,OAC3B,kBAAC4B,EAAA,EAAD,CAAQb,QAAQ,WAAW8iB,UAAU,QAClCyD,GAAS,8CAEZ,2BACE5lB,KAAK,OACL1B,KAAM4Y,EAAO5Y,KACbuB,GAAE,aAAQqX,EAAO5Y,MACjBW,UAAWH,EAAQytB,iBACnBxsB,SAAUvB,KAAKP,gBAGnB,2BACE0B,QAAO,aAAQuX,EAAO5Y,MACtBW,UAAWH,EAAQ+tB,gBACnBhtB,GAAE,mBAAcqX,EAAO5Y,OAEtBuR,EAAKqH,EAAOuP,eAAiB,gEAE/B5W,EAAKqH,EAAOuP,cACX,0BAAMxnB,UAAWH,EAAQkuB,qBACvB,kBAAC3J,GAAA,EAAD,CACEpkB,UAAWH,EAAQouB,iBACnB/sB,QAAS,kBAAM+W,EAAOwP,gBAAgBnoB,KAEtC,kBAAC,KAAD,QAGF,MAKN,kBAAC0xB,GAAA,EAAD,eACE3wB,MAAOA,EACPhB,KAAM4Y,EAAO5Y,KACbsnB,MAAOA,EACPrnB,MAAOA,GACHoxB,EALN,CAME1B,WAAY,CAACqD,UAAWpa,EAAOqa,YAC/BxxB,SAAUvB,KAAKP,aACfuzB,OAAQhzB,KAAK6wB,WAAWnY,EAAO5Y,SAKrC,OACE,kBAACiB,EAAA,EAAD,CAAaN,UAAWH,EAAQutB,YAAa/sB,MAAOA,GACjDkwB,EACAC,O,GA1XoBnM,IAAMhjB,WA4YnC8tB,GAAeqD,aAAe,CAC5BtF,OAAQ,IAGK5rB,oBAAW6rB,GAAX7rB,CAAsB6tB,IClZxBsD,GAAmB,SAAC7hB,EAAMmH,EAAQnb,EAAQ81B,EAAcC,EAAQC,EAAaC,EAAgB3F,EAAQluB,EAAcoxB,GAC9H,IAAIG,EAAU,KACd,GAAIpd,GAAOK,QAAQ5W,GAAS,CAC1B,IAAMk2B,EAjBc,SAAC/a,EAAQ2a,GAC/B,IAAIK,EAAM,IAAIrf,MAAMqE,EAAOnI,QAC3B,IAAqB,IAAjB8iB,EAAuB,CACzB,IAAMM,EAAUC,KAAKC,MAAM,GAAKnb,EAAOnI,QACnCojB,EAAU,IACZjb,EAAOuH,KAAI,SAACtL,EAAGuL,GAAJ,OAAewT,EAAIxT,GAASyT,KACvCD,EAAIhb,EAAOnI,OAAS,GAAK,IAAOmI,EAAOnI,OAAS,GAAKojB,QAGvDjb,EAAOuH,KAAI,SAACtL,EAAGuL,GAAJ,OAAewT,EAAIxT,GAAS,MAEzC,OAAOwT,EAMcI,CAAgBpb,EAAQ2a,GAC3CnC,EACE,kBAACzL,GAAA,EAAD,CAAMC,WAAS,GACZhN,EAAOuH,KAAI,SAAC3P,EAAKiE,GAAN,OACVwf,GAAgBzjB,EAAKiE,EAAKkf,EAAWlf,GAAMhD,EAAM+hB,EAAQC,EAAaC,EAAgB3F,EAAQluB,EAAcoxB,YAKlHG,EACE,kBAACzL,GAAA,EAAD,CAAMC,WAAS,GACZnoB,EAAO0iB,KAAI,SAACmK,EAAK7V,GAAN,OACVyf,GAAgB5J,EAAK7V,EAAKhD,EAAM+hB,EAAQC,EAAaC,EAAgB9a,EAAQmV,EAAQluB,EAAcoxB,OAK3G,OAAOG,GAGI8C,GAAkB,SAAC5J,EAAK7V,EAAKhD,EAAM+hB,EAAQC,EAAaC,EAAgB9a,EAAQmV,EAAQluB,EAAcoxB,GACjH,GAAmB,kBAAR3G,EAAkB,CAC3B,IAAM9Z,EAAMwD,GAAOgS,YAAYpN,EAAQ,OAAQ0R,GAC/C,OAAO9Z,IAAQwD,GAAOK,QAAQ7D,GAAOyjB,GAAgBzjB,EAAK8Z,EAAK,GAAI7Y,EAAM+hB,EAAQC,EAAaC,EAAgB3F,EAAQluB,EAAcoxB,GAAc,KAC7I,GAAI1c,MAAMC,QAAQ8V,GAAM,CAC7B,IAAM6J,EAAUL,KAAKC,MAAM,GAAKzJ,EAAI7Z,QACpC,OACE,kBAAC,IAAM9P,SAAP,CAAgB8T,IAAKA,GAClB6V,EAAInK,KAAI,SAACiU,EAAW3f,GACnB,IAAMjE,EAAMwD,GAAOgS,YAAYpN,EAAQ,OAAQwb,GAC/C,OAAO5jB,IAAQwD,GAAOK,QAAQ7D,GAAOyjB,GAAgBzjB,EAAKiE,EAAK0f,EAAS1iB,EAAM+hB,EAAQC,EAAaC,EAAgB3F,EAAQluB,EAAcoxB,GAAc,SAK/J,OAAO,MAGIgD,GAAkB,SAACzjB,EAAKiE,EAAK0f,EAAS1iB,EAAM+hB,EAAQC,EAAaC,EAAgB3F,EAAQluB,EAAcoxB,GAClH,IAAIoD,EAAc,KAIlB,GAHItG,IACFsG,EAActG,EAAOvd,EAAItQ,OAEV,YAAbsQ,EAAI5O,KACN,OACE,kBAAC,GAAD,CACE6S,IAAKA,EACLqE,OAAQtI,EACRiB,KAAMA,EACN5R,aAAcA,EAAa4zB,GAC3BzK,QAAS,CAACsL,QAAS3O,KAAMlmB,MAAO,CAAC80B,GAAI,GAAIC,GAAI,GAAIC,GAAIN,EAAS9T,MAAM,IACpE0N,OAAQsG,IAIZ,IAAMjwB,EAAUqN,EAAKjB,EAAItQ,KAAO,YAC5BC,EAAQsR,EAAKjB,EAAItQ,MACjBC,GAASA,EAAMuU,eAAe,WAEhCvU,EAAQA,EAAMA,OAEC,YAAbqQ,EAAI5O,MAAsBwC,IAE5BoM,EAAG,QAAcpM,EACb4P,GAAOK,QAAQjQ,KACjBjE,EAAQ,KACRsR,EAAKjB,EAAItQ,MAAQ,OAGrB,IAAIw0B,EAASlkB,EAIb,OAHIA,EAAImkB,WAAsC,oBAAlBnkB,EAAImkB,YAC9BD,EAAShkB,OAAOC,OAAO,GAAIH,EAAKA,EAAImkB,UAAUljB,EAAMiiB,KAGpD,kBAAC/N,GAAA,EAAD,CAAMtF,MAAI,EAAC5L,IAAKA,EAAK8f,GAAI,GAAIC,GAAI,GAAIC,GAAIN,GACvC,kBAAC,GAAD,CACErb,OAAQ4b,EACRv0B,MAAOA,EACPsR,KAAMA,EACNsc,OAAQsG,EACRpD,WAAYA,EACZpxB,aAAcA,EAAa2zB,EAAQC,GACnCmB,SAAU,SAACC,GACLrkB,EAAIskB,cAAgBD,GAAQA,EAAK3D,gBACnC1gB,EAAG,gBAAsBqkB,EAAK3D,oBAS/B6D,GAAgB,SAACtjB,EAAMmH,EAAQoc,EAAWjH,GACrD,IAAIkH,GAAQ,EAmBZ,OAjBuD,IAAnDC,GAAmB,KAAMtc,EAAQnH,EAAMsc,KACzCkH,GAAQ,IAGI,IAAVA,IACDD,GAAa,IAAI7U,KAAI,SAAAzD,GACpB,IAAMyY,EAASzY,EAAOjL,GAOtB,OANe,IAAX0jB,IACFF,GAAQ,EACRE,EAAOhV,KAAI,SAAAE,GAAI,OACb+U,GAAU,KAAM/U,EAAKD,MAAOC,EAAKngB,KAAMmgB,EAAKzC,QAASmQ,QAGlD,KAIJkH,GAGIC,GAAqB,SAAC1B,EAAQ5a,EAAQnH,EAAMsc,GACvD,IAAIkH,GAAQ,EACRhV,EAAW,KACXoV,IAAW7B,EAsCf,OArCIjf,MAAMC,QAAQ/C,IAChBwO,EAAWxO,EACX4jB,GAAW,GAEXpV,EAAW,CAACxO,GAEdwO,EAASE,KAAI,SAACmV,EAAU7gB,GA6BtB,OA5BAmE,EAAOuH,KAAI,SAAA3P,GACT,IAAMtQ,EAAOsQ,EAAItQ,KACXC,EAAQm1B,EAASp1B,GACjBkgB,EAAQiV,EAAW5gB,EAAM,OACV,IAAjBjE,EAAIpP,WAEQ,OAAVjB,GAA4B,KAAVA,QAA0BgU,IAAVhU,GAAyC,kBAAVA,GAAsB6T,GAAOK,QAAQlU,MACxG80B,GAAQ,EACRG,GAAU5B,EAAQpT,EAAOlgB,EAAM8T,GAAOwC,UAAU5E,GAAe6b,cAAe,CAACvtB,KAAMsQ,EAAIgX,QAASuG,IAGlG5tB,GAASqQ,EAAI+kB,UAGW,IADZ,IAAIzgB,OAAOtE,EAAI+kB,OACnBC,KAAKr1B,KACb80B,GAAQ,EACRG,GAAU5B,EAAQpT,EAAOlgB,EAAM0R,GAAe8b,aAAcK,KAGhE,GAAiB,SAAbvd,EAAI5O,MAAmB4O,EAAIilB,MAAO,CACpC,IAAMC,EAAW1hB,GAAO2X,eAAexrB,GACnCu1B,EAAW,GAAKA,EAAWllB,EAAIilB,QACjCR,GAAQ,EACRG,GAAU5B,EAAQpT,EAAOlgB,EAAM8T,GAAOwC,UAAU5E,GAAe+b,gBAAiB,CAAC8H,MAAOjlB,EAAIilB,MAAQ,KAAO,KAAO,OAAQ1H,IAG9H,OAAO,MAEF,KAEFkH,GAGIG,GAAY,SAAC5B,EAAQpT,EAAOlgB,EAAMgB,EAAO6sB,GACpD,IAAI4H,EAAY5H,EAChB,GAAIyF,QAAoBrf,IAAViM,GAAiC,OAAVA,EAAgB,CACnD,IAAIwV,EAAe,GACfpC,KAAUzF,EACZ6H,EAAe7H,EAAOyF,IAEtBoC,EAAe,GACf7H,EAAOyF,GAAUoC,GAEfxV,KAASwV,EACXD,EAAYC,EAAaxV,IAEzBuV,EAAY,GACZC,EAAaxV,GAASuV,aAELxhB,IAAViM,GAAiC,OAAVA,IAC5BA,KAAS2N,EACX4H,EAAY5H,EAAO3N,IAEnBuV,EAAY,GACZ5H,EAAO3N,GAASuV,IAGhBz1B,KAAQy1B,EACVA,EAAUz1B,GAAMiQ,KAAKjP,GAErBy0B,EAAUz1B,GAAQ,CAACgB,IAIV20B,GAAa,SAACC,EAAcR,EAAU1c,GACjD,IAAuB,IAAnBkd,IAAyB,CAC3B,IAAIrkB,EAAO,KAuBX,OAtBI8C,MAAMC,QAAQ8gB,GAChB7jB,EAAO6jB,EAASjlB,SAEhBoB,EAAOf,OAAOC,OAAO,GAAI2kB,GACzB1c,EAAOuH,KAAI,SAAA3P,GACT,GAAiB,UAAbA,EAAI5O,KAAkB,CACxB,IAAMzB,EAAQsR,EAAKjB,EAAItQ,MACvB,GAAIqU,MAAMC,QAAQrU,IAAUA,EAAMsQ,OAAS,EAAG,CAC5C,IAAM4P,EAAOlgB,EAAM,GACnBsR,EAAKjB,EAAItQ,MAAQmgB,EAAKlgB,YAEnB,GAAiB,WAAbqQ,EAAI5O,KAAmB,CAChC,IAAMzB,EAAQsR,EAAKjB,EAAItQ,MACvB,GAAIqU,MAAMC,QAAQrU,IAAUA,EAAMsQ,OAAS,EAAG,CAC5C,IAAIH,EAAQ,GACZnQ,EAAMggB,KAAI,SAAAE,GAAI,OAAK/P,EAAMH,KAAKkQ,EAAKlgB,UACnCsR,EAAKjB,EAAItQ,MAAQoQ,GAGrB,OAAO,MAGJmB,EAEP,OAAO,MC7MLskB,G,YAEJ,WAAYt2B,GAAQ,IAAD,8BACjB,4CAAMA,KAuCRI,aAAe,SAAC2zB,EAAQC,GAAT,OAAyB,SAACvzB,EAAMC,EAAOyB,GAAd,OAAuB,SAACquB,GAC9D,EAAK5vB,UAAS,SAACX,GACb,IAAI+R,EAAOf,OAAOC,OAAO,GAAIjR,EAAM+R,MAC/B+hB,QAA0Brf,IAAhBsf,GAA6C,OAAhBA,EACvBhiB,EAAK+hB,GACXC,GAAavzB,GAAQC,EAEjCsR,EAAKvR,GAAQC,EAEf,MAAO,CAACsR,KAAMA,MAGhB,EAAKhS,MAAMu2B,UAAU7V,KAAI,SAAAzD,GACvB,IAAIjL,EAAO,EAAK/R,MAAM+R,KAClB+hB,QAA0Brf,IAAhBsf,GAA6C,OAAhBA,EACzChiB,EAAK+hB,GAAQC,GAAavzB,GAAQC,EAElCsR,EAAKvR,GAAQC,EAEf,IAAMg1B,EAASzY,EAAOxc,EAAMuR,EAAM,KAAM+hB,EAAQC,GAOhD,OANI0B,GACF,EAAK90B,UAAS,SAACX,GAEb,MAAO,CAAC+R,KADGf,OAAOC,OAAO,GAAIjR,EAAM+R,KAAM0jB,QAItC,QAlEQ,EAgFnBlE,WAAa,SAAChB,EAAO/vB,GACnB,EAAKT,MAAMw2B,QAAQ9V,KAAI,SAAAzD,GACrB,IAAMjL,EAAO,EAAK/R,MAAM+R,KAClB0jB,EAASzY,EAAOxc,EAAMuR,GAO5B,OANI0jB,GACF,EAAK90B,UAAS,SAACX,GAEb,MAAO,CAAC+R,KADGf,OAAOC,OAAO,GAAIjR,EAAM+R,KAAM0jB,QAItC,MA1FQ,EA8FnBe,mBAAqB,SAAC1C,EAAQpT,GAAT,OAAmB,WAAO,IAAD,EACrB,EAAK1gB,MAAtB+R,EADsC,EACtCA,KAAMsc,EADgC,EAChCA,OACKtc,EAAK+hB,GACX2C,OAAO/V,EAAO,GACzB,IAAIwV,EAAe7H,EAAOyF,GACtBoC,WAEKA,EAAaxV,GACpB1P,OAAOwW,KAAK0O,GAAczV,KAAI,SAAA1L,GAC5B,GAAIA,EAAM2L,EAAO,CACf,IAAMgW,EAAcR,EAAanhB,UAC1BmhB,EAAanhB,GACpBmhB,EAAanhB,EAAM,GAAK2hB,EAE1B,OAAO,MAGX,EAAK/1B,SAAS,CAACoR,OAAMsc,aA/GJ,EAkHnBsI,gBAAkB,SAAC7C,EAAQ5a,GAAT,OAAoB,WAAO,IACrCnH,EAAS,EAAK/R,MAAd+R,KACF6kB,EAAa7kB,EAAK+hB,GAClBjf,MAAMC,QAAQ8hB,GAChBA,EAAWnmB,KAAK,IAEhBsB,EAAK+hB,GAAU,GAEjB,EAAKnzB,SAAS,CAACoR,WA1HE,EA6HnB8kB,SAAW,WAAO,IACR9kB,EAAS,EAAK/R,MAAd+R,KACJwjB,GAAQ,EACRlH,EAAS,GA+Bb,OA7BkE,IAA9DmH,GAAmB,KAAM,EAAKz1B,MAAMmZ,OAAQnH,EAAMsc,KACpDkH,GAAQ,GAEV,EAAKx1B,MAAM+2B,QAAQrW,KAAI,SAAAsW,GACrB,IAAMxW,EAAWxO,EAAKglB,EAAQv2B,MAI9B,OAH2E,IAAvEg1B,GAAmBuB,EAAQv2B,KAAMu2B,EAAQ7d,OAAQqH,EAAU8N,KAC7DkH,GAAQ,IAEH,MAGK,IAAVA,GACF,EAAKx1B,MAAMu1B,UAAU7U,KAAI,SAAAzD,GACvB,IAAMyY,EAASzY,EAAOjL,GAStB,OARe,IAAX0jB,IACFF,GAAQ,EACJ1gB,MAAMC,QAAQ2gB,IAChBA,EAAOhV,KAAI,SAAAE,GAAI,OACb+U,GAAU,KAAM,KAAM/U,EAAKngB,KAAMmgB,EAAKzC,QAASmQ,QAI9C,KAKXA,EAASrd,OAAOC,OAAO,GAAIod,GAC3B,EAAK1tB,SAAS,CAAC0tB,WACRkH,GA/JU,EAkKnByB,MAAQ,WACN,IAAwB,IAApB,EAAKH,WAAqB,CAC5B,IAAI9kB,EAAOf,OAAOC,OAAO,GAAI,EAAKjR,MAAM+R,MAkBxC,OAjBA,EAAKhS,MAAMmZ,OAAOuH,KAAI,SAAA3P,GACpB,GAAiB,UAAbA,EAAI5O,KAAkB,CACxB,IAAMzB,EAAQsR,EAAKjB,EAAItQ,MACvB,GAAIqU,MAAMC,QAAQrU,IAAUA,EAAMsQ,OAAS,EAAG,CAC5C,IAAM4P,EAAOlgB,EAAM,GACnBsR,EAAKjB,EAAItQ,MAAQmgB,EAAKlgB,YAEnB,GAAiB,WAAbqQ,EAAI5O,KAAmB,CAChC,IAAMzB,EAAQsR,EAAKjB,EAAItQ,MACvB,GAAIqU,MAAMC,QAAQrU,IAAUA,EAAMsQ,OAAS,EAAG,CAC5C,IAAIH,EAAQ,GACZnQ,EAAMggB,KAAI,SAAAE,GAAI,OAAK/P,EAAMH,KAAKkQ,EAAKlgB,UACnCsR,EAAKjB,EAAItQ,MAAQoQ,GAGrB,OAAO,KAEFmB,EAEP,OAAO,MArLT,EAAK5R,aAAe,EAAKA,aAAaC,KAAlB,gBACpB,EAAKmxB,WAAa,EAAKA,WAAWnxB,KAAhB,gBAClB,EAAK42B,MAAQ,EAAKA,MAAM52B,OACxB,EAAKJ,MAAQ,CACX+R,KAAM,EAAKklB,eAAel3B,GAC1BsuB,OAAQtuB,EAAMsuB,QAAU,IART,E,4EAYJtuB,GACb,GAAKuU,GAAOK,QAAQ5U,EAAMgS,MAEnB,IAAIhS,EAAMmZ,OAAQ,CACvB,IAAInH,EAAOhS,EAAMgS,MAAQ,GAOzB,OANAhS,EAAMmZ,OAAOuH,KAAI,SAAA3P,GAIf,OAHIwD,GAAOK,QAAQ5C,EAAKjB,EAAItQ,QAA0B,OAAhBsQ,EAAIomB,cAAoCziB,IAAhB3D,EAAIomB,UAChEnlB,EAAKjB,EAAItQ,MAAQsQ,EAAIomB,UAEhB,KAEFnlB,EAEP,MAAO,GAXP,OAAOhS,EAAMgS,O,uDAegBolB,GAC3BxnB,KAAKiG,UAAUuhB,EAAUplB,QAAUpC,KAAKiG,UAAUlV,KAAKX,MAAMgS,OAC/DrR,KAAKC,SAAS,CAACoR,KAAMrR,KAAKu2B,eAAeE,KAEvCxnB,KAAKiG,UAAUuhB,EAAU9I,UAAY1e,KAAKiG,UAAUlV,KAAKX,MAAMsuB,QACjE3tB,KAAKC,SAAS,CAAC0tB,OAAQ8I,EAAU9I,SACxB1e,KAAKiG,UAAUuhB,EAAU9I,UAAY1e,KAAKiG,UAAUlV,KAAKV,MAAMquB,SACxE3tB,KAAKC,SAAS,CAAC0tB,OAAQ8I,EAAU9I,W,+BAwJ3B,IAAD,SACsC3tB,KAAKX,MAA1CiB,EADD,EACCA,QAASkY,EADV,EACUA,OAAQnb,EADlB,EACkBA,OAAQ+4B,EAD1B,EAC0BA,QAD1B,EAEkBp2B,KAAKV,MAAtB+R,EAFD,EAECA,KAAMsc,EAFP,EAEOA,OACN+I,EAAqB12B,KAAKV,MAAMquB,OAAhC+I,iBAER,OACE,6BACE,kBAAChJ,GAAD,CAAgBC,OAAQ+I,IACvBxD,GAAiB7hB,EAAMmH,EAAQnb,GAAQ,EAAO,KAAM,KAAM,KAAMswB,EAAQ3tB,KAAKP,aAAcO,KAAK6wB,YAChGuF,EAAQrW,KAAI,SAACsW,EAAShiB,GACrB,IAAMsiB,EAAkBtlB,EAAKglB,EAAQv2B,MACrC,OACE,yBAAKuU,IAAKA,GACR,kBAACzT,EAAA,EAAD,CAAYC,QAAQ,YAAYJ,UAAWH,EAAQs2B,aAAcP,EAAQtT,OACvE5O,MAAMC,QAAQuiB,IAAoBA,EAAgBtmB,OAAS,EAC3D,kBAAC,IAAM9P,SAAP,KACGo2B,EAAgB5W,KAAI,SAAC8W,EAAWC,GAC/B,IAAMtB,EAAe7H,EAAO0I,EAAQv2B,OAAS,GAC7C,OACE,2BAAOuU,IAAKyiB,EAAMr2B,UAAWH,EAAQy2B,aACnC,+BACE,4BACE,4BACG7D,GACC2D,EACAR,EAAQ7d,OACR6d,EAAQh5B,QACR,EACAg5B,EAAQv2B,KACRg3B,EACAH,EACAnB,EAAasB,GACb,EAAKr3B,aACL,EAAKoxB,cAGgB,IAAxBwF,EAAQW,YACP,wBAAIp1B,MAAO,CAACtE,MAAO,KACjB,kBAACqnB,GAAA,EAAD,CAAS5B,MAAM,eAAKX,UAAU,SAASwC,WAAY,KACjD,kBAACC,GAAA,EAAD,CAAYjC,aAAW,SAASjhB,QAAS,EAAKm0B,mBAAmBO,EAAQv2B,KAAMg3B,IAC7E,kBAAC,KAAD,SAIJ,YAOd,MACmB,IAArBT,EAAQY,SACR,6BACE,kBAACtS,GAAA,EAAD,CAAS5B,MAAM,eAAKX,UAAU,SAASwC,WAAY,KACjD,kBAACljB,EAAA,EAAD,CAAQjB,UAAWH,EAAQ42B,UAAWv1B,QAAS,EAAKs0B,gBAAgBI,EAAQv2B,KAAMu2B,EAAQ7d,SACxF,kBAAC,KAAD,SAIJ,c,GA1PGsM,IAAMhjB,WAgR3B6zB,GAAO1C,aAAe,CACpB51B,OAAQ,GACR+4B,QAAS,GACT/kB,KAAM,GACNukB,UAAW,GACXC,QAAS,GACTjB,UAAW,IAGb,IAAMuC,GAAOp1B,KA9SE,SAAC3E,GAAD,MAAY,CACzB0D,MAAO,CACLnC,MAAO,OAET6e,QAAS,CACPjgB,QAAS,OACTS,WAAY,UAEd44B,YAAa,CACXtI,aAAc,iBACdxwB,UAAWV,EAAMK,QAAQ,IAE3Bs5B,YAAa,CACXz5B,MAAO,QAET45B,UAAW,CACT55B,MAAO,OACPc,gBAAiBg5B,KAAK,SA6Rbr1B,CAAmB4zB,ICnR1B0B,G,YAEJ,WAAYh4B,GAAQ,IAAD,8BACjB,4CAAMA,KAURsiB,WAAa,SAAC2V,GACZ,EAAKr3B,SAAS,CACZ4hB,MAAM,EACNxQ,KAAMimB,KAdS,EAkBnBxV,YAAc,WACZ,EAAK7hB,SAAS,CAAC4hB,MAAM,EAAO8L,OAAQ,MAnBnB,EAsBnB4J,SAAW,WACT,GAAI,EAAKl4B,MAAMk4B,UAAY,EAAKC,OAAQ,CACtC,IAAMnmB,EAAO,EAAKmmB,SACdnmB,IACF,EAAKpR,SAAS,CAAC0P,SAAS,IACxB,EAAKtQ,MAAMk4B,SAASlmB,EAAM,EAAKyQ,aAAarF,MAAK,WAC3C,EAAKpd,MAAMo4B,cACb,EAAKp4B,MAAMo4B,aAAapmB,GAE1B,EAAKyQ,iBACJ4V,OAAM,SAAA/J,GACP,EAAK1tB,SAAS,CAAC0tB,cACdgK,SAAQ,WACT,EAAK13B,SAAS,CAAC0P,SAAS,UAhC9B,EAAKrQ,MAAQ,CACXuiB,MAAM,EACNxQ,KAAM,GACNsc,OAAQtuB,EAAMsuB,QAAU,GACxBhe,SAAS,GAPM,E,sEAyCT,IAAD,SAC0D3P,KAAKX,MAA9DiB,EADD,EACCA,QAASyiB,EADV,EACUA,MAAO6U,EADjB,EACiBA,YAAapf,EAD9B,EAC8BA,OAAQnb,EADtC,EACsCA,OAAWioB,EADjD,sEAEiCtlB,KAAKV,MAArCuiB,EAFD,EAECA,KAAMxQ,EAFP,EAEOA,KAAMsc,EAFb,EAEaA,OAAQhe,EAFrB,EAEqBA,QAE5B,OACE,kBAACkoB,GAAA,EAAD,CACEhW,KAAMA,EACNiW,QAAS93B,KAAK8hB,YACdiW,WAAY,CAACt3B,UAAWH,EAAQ03B,aAEhC,kBAACC,GAAA,EAAD,KACGlV,GAEH,kBAACmV,GAAA,EAAD,CAAeC,UAAQ,GACpBP,EACC,kBAACh3B,EAAA,EAAD,CAAYH,UAAWH,EAAQs3B,YAAa/2B,QAAQ,SACjD+2B,GAED,KACJ,kBAACT,GAAD,eACE3e,OAAQA,EACRnb,OAAQA,EACRgU,KAAMA,EACNsc,OAAQA,GACJrI,EALN,CAMEkP,SAAU,SAACh2B,GAAU,EAAKg5B,OAASh5B,GAAQA,EAAK83B,WAGpD,kBAAC8B,GAAA,EAAD,KACE,kBAAC12B,EAAA,EAAD,CAAQC,QAAS3B,KAAK8hB,YAAanjB,MAAM,aAAzC,gBACA,yBAAK8B,UAAWH,EAAQsoB,SACtB,kBAAClnB,EAAA,EAAD,CACEC,QAAS3B,KAAKu3B,SACdj2B,WAAW,EACX8tB,SAAUzf,EACVhR,MAAM,WAJR,gBAMCgR,GAAW,kBAAC0oB,GAAA,EAAD,CAAkBzjB,KAAM,GAAInU,UAAWH,EAAQzB,wB,GAhF9CimB,IAAMhjB,WAgG/Bu1B,GAAWpE,aAAe,GAGXlxB,YA/HA,SAAA3E,GAAK,MAAK,CACvB46B,WAAW,eACR56B,EAAMO,YAAY26B,KAAK,MAAQ,CAC9Bh7B,MAAO,OACP2rB,OAAQ,OACR9qB,OAAQ,EACRo6B,SAAU,OACVC,UAAW,OACXC,aAAc,IAGlB7P,QAAS,CACPzqB,OAAQf,EAAMK,QAAQ,GACtBsB,SAAU,YAEZF,eAAgB,CACdF,MAAOG,IAAM,KACbC,SAAU,WACVC,IAAK,MACLC,KAAM,MACNnB,WAAY,GACZN,YAAa,IAEfo6B,YAAa,CACX5P,WAAY,eAuGDjmB,CAAmBs1B,ICrH5BqB,G,YAEJ,WAAYr5B,GAAQ,IAAD,8BACjB,4CAAMA,KAEDsiB,WAAa,EAAKA,WAAWjiB,KAAhB,gBAClB,EAAKi5B,aAAe,EAAKA,aAAaj5B,KAAlB,gBACpB,EAAK63B,SAAW,EAAKA,SAAS73B,KAAd,gBAChB,EAAKJ,MAAQ,CACXuiB,MAAM,EACN+W,QAAS,MARM,E,wEAYRA,GACT54B,KAAKC,SAAS,CAAC4hB,MAAM,EAAM+W,QAASA,M,qCAIpC54B,KAAKC,SAAS,CAAC4hB,MAAM,M,iCAIjB7hB,KAAKX,MAAMw5B,MACT74B,KAAKX,MAAMw5B,QACb74B,KAAK24B,iB,+BAKD,IACA5V,EAAU/iB,KAAKX,MAAf0jB,MADD,EAEmB/iB,KAAKV,MAAvBuiB,EAFD,EAECA,KAAM+W,EAFP,EAEOA,QAEd,OACE,kBAACf,GAAA,EAAD,CACEhW,KAAMA,EACN0W,SAAS,KACTO,kBAAgB,6BAEhB,kBAACb,GAAA,EAAD,CAAa52B,GAAG,6BAA8B0hB,GAC9C,kBAACmV,GAAA,EAAD,KACGU,EACC,KACEpnB,GAAc4b,eAClB,kBAACxsB,EAAA,EAAD,CAAYgB,MAAO,CAAComB,WAAY,aAC7B4Q,IAGL,kBAACR,GAAA,EAAD,KACE,kBAAC12B,EAAA,EAAD,CAAQC,QAAS3B,KAAK24B,aAAch6B,MAAM,aAA1C,gBAGA,kBAAC+C,EAAA,EAAD,CAAQC,QAAS3B,KAAKu3B,SAAU54B,MAAM,WAAtC,sB,GArDkBmmB,IAAMhjB,WAoEnBC,iBAhFA,SAAA3E,GAAK,MAAK,CACvB27B,KAAM,CACJz7B,MAAO,OACPi7B,SAAU,IACVn6B,gBAAiBhB,EAAMiB,QAAQ26B,WAAWn7B,OAE5CA,MAAO,CACLP,MAAO,MACPk7B,UAAW,QAwEAz2B,CAAmB22B,I,gHCvFrBO,GAAmB,SAACC,GAC/B,MAAI,CAAC,UAAW,UAAW,WAAW/jB,QAAQ+jB,IAAY,EACjD,CAAEC,MAAO,QAASC,SAAS,GACb,YAAZF,EACF,CAAEC,MAAO,SAAUC,SAAS,GAE5B,CAAED,MAAO,OAAQC,SAAS,IAUxBC,GAAa,SAACnP,EAAKkI,EAAUkH,GACxC,GAAI1lB,GAAOK,QAAQiW,GACjB,OAAO,EAGT,IAAI7V,EAAM,KAOV,OALEA,EADoB,OAAlB6V,EAAIqP,gBAAwCxlB,IAAlBmW,EAAIqP,UAC1B,YAEAD,IAGHlH,GAGIA,EAASjiB,QAAO,SAAAuG,GAAC,OAAIA,EAAErC,KAAS6V,EAAI7V,MAAMhE,OAAS,GAmCjDmpB,GAAiB,SAACC,EAASC,GACtC,IAAK9lB,GAAOK,QAAQylB,IAAgBA,EAAYhK,SAAU,CAExD,IAAMiK,EAAa1hB,SAASC,eAAeuhB,GAASG,cAAcA,cAClED,EAAW/3B,MAAMtE,MAAjB,UAA4Bq8B,EAAWE,YAAvC,MACA5hB,SAASC,eAAeuhB,GAAS73B,MAAM8tB,SAAvC,UAAqDgK,EAAYhK,SAAjE,QCzDEoK,G,YAEJ,WAAYz6B,GAAQ,IAAD,8BACjB,4CAAMA,KA0BR06B,kBAAoB,SAAClK,GACnBA,EAAMmK,kBACN,EAAK/5B,SAAS,CAAC4hB,MAAM,KA7BJ,EAgCnBoY,kBAAoB,SAACpK,GACfA,GACFA,EAAMmK,kBAER,EAAK/5B,SAAS,CAAC4hB,MAAM,KApCJ,EAuCnBqY,mBAAqB,SAAAC,GAAO,OAAI,SAACtK,GAAW,IAAD,EAChB,EAAKxwB,MAAtBqZ,EADiC,EACjCA,OAAQrH,EADyB,EACzBA,KAChBwe,EAAMmK,kBACFthB,EAAOwP,iBACTxP,EAAOwP,gBAAgBiS,EAAS9oB,KA3CjB,EA+CnB+oB,kBAAoB,SAAC9d,GAAD,OAAY,SAACuT,GAC/BA,EAAMmK,kBADoC,IAElC3oB,EAAS,EAAKhS,MAAdgS,KACJiL,GACFA,EAAOjL,KAhDT,EAAK4oB,kBAAoB,EAAKA,kBAAkBv6B,KAAvB,gBACzB,EAAKJ,MAAQ,CACXuiB,MAAM,GALS,E,uEAST9hB,GAAQ,IAAD,EACUC,KAAKX,MAAtBqZ,EADO,EACPA,OAAQrH,EADD,EACCA,KACZ0D,EAAM,KASV,OARI2D,EAAOgS,OACkB,kBAAhBhS,EAAOgS,KAChB3V,EAAMnB,GAAOwC,UAAUsC,EAAOgS,KAAMrZ,GACJ,oBAAhBqH,EAAOgS,OACvB3V,EAAMnB,GAAOwC,UAAUsC,EAAOgS,KAAKrZ,GAAOA,KAK5C0D,EACE,kBAAC,IAAD,CAAMlT,GAAIkT,GAAMhV,GACdA,I,+BAgCE,IAAD,SACoDC,KAAKX,MAAxDiB,EADD,EACCA,QAASoY,EADV,EACUA,OAAQrH,EADlB,EACkBA,KAAMgpB,EADxB,EACwBA,QAASC,EADjC,EACiCA,eAChCzY,EAAS7hB,KAAKV,MAAduiB,KACJ9hB,EAAQsR,EAAKqH,EAAO5Y,MAEpB8B,EAAQ0O,OAAOC,OAAO,GAAIvQ,KAAKX,MAAMuC,OACrC24B,EAAQ,CAAE,MAAStB,GAAiBvgB,EAAOlX,MAAM23B,OACjDqB,EAAS,KACb,GAAIrmB,MAAMC,QAAQimB,IAAYA,EAAQhqB,OAAS,KAAOiqB,GAAkBA,EAAejpB,IACrFzP,EAAK,QAAc,EACnBA,EAAK,MAAY,GACjBA,EAAK,SAAe,WACpB24B,EAAK,MAAY,SACjBC,EACE,kBAAC,IAAMj6B,SAAP,KACGshB,EACC,kBAACgD,GAAA,EAAD,CAAYjjB,MAAO,CAAC3D,QAAS,IAAK0D,QAAS3B,KAAKi6B,mBAC9C,kBAAC,KAAD,OAGF,kBAACpV,GAAA,EAAD,CAAYjjB,MAAO,CAAC3D,QAAS,IAAK0D,QAAS3B,KAAK+5B,mBAC9C,kBAAC,KAAD,OAGJ,yBAAKt5B,UAAWH,EAAQm6B,oBACtB,kBAAClY,GAAA,EAAD,CAAM4B,GAAItC,GACR,yBAAKjgB,MAAO,CAACrE,QAASskB,EAAO,QAAU,SACpCwY,EAAQta,KAAI,SAACtQ,EAAQ4E,GACpB,OAAI5E,EAAOirB,UAAYjrB,EAAOirB,QAAQrpB,GAC7B,KACE5B,EAAOkrB,KAEd,kBAAChW,GAAA,EAAD,CAAStQ,IAAKA,EAAK0O,MAAOtT,EAAOmrB,QAASxY,UAAU,SAASwC,WAAY,KACvE,kBAACiW,GAAA,EAAD,CACEjmB,KAAK,SACLjW,MAAO8Q,EAAO9Q,MAAQ8Q,EAAO9Q,MAAQ,UACrCikB,aAAW,MACXjhB,QAAS,EAAKy4B,kBAAkB3qB,EAAOqrB,aACvCr6B,UAAWH,EAAQy6B,mBAElBtrB,EAAOkrB,OAMZ,kBAACj5B,EAAA,EAAD,CACE2S,IAAKA,EACLxT,QAAQ,YACRlC,MAAO8Q,EAAO9Q,MAAQ8Q,EAAO9Q,MAAQ,UACrC8B,UAAWH,EAAQujB,QAElBpU,EAAO3P,kBAUrB,GAAoB,YAAhB4Y,EAAOlX,MAAsC,YAAhBkX,EAAOlX,KAE7CzB,EAAQ6T,GAAOC,WAAW9T,GAC1By6B,EAASx6B,KAAKg7B,UAAUj7B,QACnB,GAAoB,YAAhB2Y,EAAOlX,KAChBg5B,EAAS5mB,GAAO+T,iBAAiB5nB,EAAO2Y,QACnC,GAAoB,YAAhBA,EAAOlX,KAChBI,EAAK,QAAc,GACL,IAAV7B,GAA4B,IAAVA,EACpBy6B,EAAS,kBAAC,KAAD,CAAiB54B,MAAO,CAACjD,MAAO,YACtB,IAAVoB,GAA6B,IAAVA,IAC5By6B,EAAS,kBAAC,KAAD,CAAkB54B,MAAO,CAACjD,MAAO,eAEvC,GAAoB,SAAhB+Z,EAAOlX,KAChBI,EAAK,QAAc,EACnB44B,EAAUz6B,EACR,kBAAC8kB,GAAA,EAAD,CAAYljB,QAAS3B,KAAKk6B,mBAAmBn6B,GAAQ6B,MAAO,CAAC3D,QAAS,KACpE,kBAAC,KAAD,OAEA,UACC,GAAoB,WAAhBya,EAAOlX,KAAmB,CACnC,IAAM6lB,EAAezT,GAAOgU,yBAAyB7nB,EAAO2Y,GAC5D8hB,EAASx6B,KAAKg7B,UAAU3T,QAExBmT,EADyB,SAAhB9hB,EAAOlX,KACPoS,GAAO+T,iBAAiB5nB,EAAO2Y,GAE/B1Y,KAAKg7B,UAAUj7B,GAG1B,OAA0B,IAAnB2Y,EAAOsR,QAAoB,KAChC,kBAACiR,GAAA,EAAD,eAAWx6B,UAAWH,EAAQ46B,UAAW7mB,IAAK8mB,OAAQv5B,MAAOA,GAAW24B,GACrE7hB,EAAO0iB,UACN,yBAAKx5B,MAAO,CAAE22B,SAAU7f,EAAO0iB,WAAc36B,UAAWH,EAAQ+6B,oBAAqBtY,MAAOhjB,GACzFy6B,GAEDA,O,GA1JgB1V,IAAMhjB,WAgKlCg4B,GAAc7G,aAAe,CAC3Bva,OAAQ,GACRrH,KAAM,GACNgpB,QAAS,IAUIP,U,oBCrLTwB,G,2MAEJC,kBAAoB,SAACC,EAAUtU,GAAX,OAAyB,SAAA2I,IACf,IAAxB,EAAKxwB,MAAMo8B,UAAqB,EAAKp8B,MAAMq8B,QAC7C,EAAKr8B,MAAMq8B,OAAO7L,EAAO2L,EAAUtU,K,wEAI7B,IAAD,SACgGlnB,KAAKX,MAApGiB,EADD,EACCA,QAASwsB,EADV,EACUA,iBAAkBtF,EAD5B,EAC4BA,UAAWiU,EADvC,EACuCA,SAAU9U,EADjD,EACiDA,MAAOM,EADxD,EACwDA,QAASmL,EADjE,EACiEA,SAAUuJ,EAD3E,EAC2EA,WAAYtqB,EADvF,EACuFA,KACxFuqB,EAAcxJ,EAAWA,EAAS/hB,OAAS,EAC3CwrB,EAAWxqB,EAAOA,EAAKhB,OAAS,EAClCyrB,EAAU,kBAAC,IAAMv7B,SAAP,MAkBd,MAjBmB,aAAfo7B,EACFG,EACE,kBAACb,GAAA,EAAD,CAAWh9B,QAAQ,OAAOwC,UAAWH,EAAQy7B,oBAC3C,kBAACnK,GAAA,EAAD,CACEoK,cAAeJ,EAAc,GAAKA,EAAcC,EAChD/L,QAAS8L,IAAgBC,EACzBt6B,SAAUvB,KAAKX,MAAM48B,iBACrB7M,SAAuB,IAAbyM,KAIQ,WAAfF,IACTG,EACE,kBAACb,GAAA,EAAD,CAAWh9B,QAAQ,OAAOwC,UAAWH,EAAQy7B,2BAI/BhoB,IAAdyT,EACK,KAGL,kBAAC0U,GAAA,EAAD,CAAWz7B,UAAWH,EAAQwsB,EAAmB,gBAC/C,kBAACqP,GAAA,EAAD,KACIL,EACDtU,EAAUrX,QAAO,SAAAC,GAAG,OAAoB,IAAhBA,EAAI4Z,WAAmBjK,KAAI,SAACrH,EAAQrE,GAAS,IAAD,EACxC4kB,GAAiBvgB,EAAOlX,MAA3C23B,EAD2D,EAC3DA,MAAOC,EADoD,EACpDA,QACf,OACE,kBAAC6B,GAAA,EAAD,CACEx6B,UAAWH,EAAQ46B,UAAY,IAAM56B,EAAQ87B,cAC7C/nB,IAAKA,EACL8kB,MAAOA,EACPkD,cAAepV,IAAYvO,EAAO5Y,MAAO6mB,IAE3B,IAAb8U,IAAyC,IAApB/iB,EAAO+iB,SAC3B,kBAAC9W,GAAA,EAAD,CACE5B,MAAM,OACNX,UAAWgX,EAAU,aAAe,eACpCxU,WAAY,KAEZ,kBAAC0X,GAAA,EAAD,CACEC,OAAQtV,KAAavO,EAAO8jB,YAAc9jB,EAAO5Y,MACjD28B,UAAW9V,EACXhlB,QAAS,EAAK45B,kBAAmB7iB,EAAO8jB,YAAc9jB,EAAO5Y,KAAOs5B,IAEnE1gB,EAAO0O,QAGV1O,EAAO0O,gB,GA5DDtC,IAAMhjB,WA2ElCw5B,GAAcrI,aAAe,CAC3BwI,UAAU,GAGGH,U,8FC5DToB,G,2MACJC,2BAA6B,SAAA9M,GAC3B,EAAKxwB,MAAMu9B,aAAa/M,EAAO,I,EAGjCgN,sBAAwB,SAAAhN,GACtB,EAAKxwB,MAAMu9B,aAAa/M,EAAO,EAAKxwB,MAAM6mB,KAAO,I,EAGnD4W,sBAAwB,SAAAjN,GACtB,EAAKxwB,MAAMu9B,aAAa/M,EAAO,EAAKxwB,MAAM6mB,KAAO,I,EAGnD6W,0BAA4B,SAAAlN,GAC1B,EAAKxwB,MAAMu9B,aACT/M,EACA6D,KAAKf,IAAI,EAAGe,KAAKsJ,KAAK,EAAK39B,MAAM49B,MAAQ,EAAK59B,MAAMsP,aAAe,K,wEAI7D,IAAD,EAC8C3O,KAAKX,MAAlDiB,EADD,EACCA,QAAS28B,EADV,EACUA,MAAO/W,EADjB,EACiBA,KAAMvX,EADvB,EACuBA,YAAavR,EADpC,EACoCA,MAE3C,OACE,yBAAKqD,UAAWH,EAAQy4B,MACtB,kBAAClU,GAAA,EAAD,CACEljB,QAAS3B,KAAK28B,2BACdvN,SAAmB,IAATlJ,EACVtD,aAAW,cAEU,QAApBxlB,EAAMq/B,UAAsB,kBAAC,KAAD,MAAmB,kBAAC,KAAD,OAElD,kBAAC5X,GAAA,EAAD,CACEljB,QAAS3B,KAAK68B,sBACdzN,SAAmB,IAATlJ,EACVtD,aAAW,iBAEU,QAApBxlB,EAAMq/B,UAAsB,kBAAC,KAAD,MAAyB,kBAAC,KAAD,OAExD,kBAAC5X,GAAA,EAAD,CACEljB,QAAS3B,KAAK88B,sBACd1N,SAAUlJ,GAAQwN,KAAKsJ,KAAKC,EAAQtuB,GAAe,EACnDiU,aAAW,aAEU,QAApBxlB,EAAMq/B,UAAsB,kBAAC,KAAD,MAAwB,kBAAC,KAAD,OAEvD,kBAAC5X,GAAA,EAAD,CACEljB,QAAS3B,KAAK+8B,0BACd3N,SAAUlJ,GAAQwN,KAAKsJ,KAAKC,EAAQtuB,GAAe,EACnDiU,aAAW,aAEU,QAApBxlB,EAAMq/B,UAAsB,kBAAC,KAAD,MAAoB,kBAAC,KAAD,Y,GAnDtB3X,IAAMhjB,WAmErCo7B,GAAgCn7B,KArFN,SAAA3E,GAAK,MAAK,CACxC27B,KAAM,CACJoE,WAAY,EACZx+B,MAAOvB,EAAMiB,QAAQ6e,KAAK5e,UAC1Bd,WAAYJ,EAAMK,QAAQ,SAiF4C,CAAE2/B,WAAW,GAAjDr7B,CACpC26B,IAGIW,G,iLACM,IACA/8B,EAAYN,KAAKX,MAAjBiB,QACR,OACE,kBAACg9B,GAAA,EAAD,iBACMt9B,KAAKX,MADX,CAEEoB,UAAWH,EAAQy4B,KACnBn3B,MAAO,CAACwsB,SAAU,WAClBmP,iBAAkBL,U,GARQpY,IAAMhjB,WAczBC,QA/FA,SAAA3E,GAAK,MAAK,CACvB27B,KAAM,CACJ,kEAAkE,eAC/D37B,EAAMO,YAAY26B,KAAK,MAAQ,CAC9B/6B,QAAS,aA2FFwE,CAAmBs7B,ICpH5BG,GAAc,CAClBC,WAAY,6CACZ9N,WAAY,MACZpB,WAAY,S,6jBCQd,IAgGemP,GAhGI,SAAAtgC,GAAK,MAAK,CAC3BugC,mBAAoB,CAClBh/B,MDNiB,WCQnBi/B,mBAAoB,CAClBj/B,MDViB,WCYnBk/B,kBAAmB,CACjBl/B,MDXgB,WCalBm/B,mBAAoB,CAClBn/B,MDbiB,WCenBo/B,gBAAiB,CACfp/B,MDfc,WCiBhBq/B,gBAAiB,CACfr/B,MDjBc,WCmBhBs/B,gBAAiB,CACft/B,MDnBc,WCqBhB8sB,MAAO,CACLyS,aAAc,IACd5gC,MAAO,OACPoyB,SAAU,IACV6I,SAAU,OACVn6B,gBAAiB,cACjB+/B,cAAe,IACfC,eAAgB,YAElBC,SAAU,CACR,UAAW,CACTjgC,gBAAiB,mCAGrBg+B,cAAc,IACZz9B,MAAO,WACJ6+B,IAELc,iBAAkB,CAChB,OAAQ,CACNC,UAAW,cAEbx/B,SAAU,QACVX,gBAAiB,QACjBogC,YAAa,QACbjhC,QAAS,OACTkhC,OAAQ,GAEVvD,UAAU,MACLsC,GADI,CAEPjP,WAAY,aACZpJ,YAAa,MACbuZ,aAAc,MACdC,cAAe,WAGjB5C,mBAAoB,CAClBz+B,MAAO,IAETshC,gBAAiB,CACfthC,MAAO,QAIT0vB,aAAc,CACZzvB,QAAS,OACTU,QAAS,sBACT0gC,cAAe,SACfx/B,UAAW,UAEb0/B,gBAAiB,CACfvhC,MAAO,GACP6B,UAAW,SACXlB,QAAS,GAEX88B,kBAAmB,CACjB58B,OAAQ,GAEVs8B,mBAAoB,CAClBl9B,QAAS,OACTwB,SAAU,WACVC,IAAK,IACLyvB,MAAO,OACPzG,WAAY,UAEd8W,iBAAkB,CAChB1gC,gBAAiB,WAEnBi9B,oBAAqB,CACnBrT,WAAY,SACZoG,SAAU,Y,mOCtFR2Q,G,YAEJ,WAAY1/B,GAAQ,IAAD,8BACjB,4CAAMA,KAQR2/B,iBAAmB,SAACnP,EAAO3J,GACzB,EAAKjmB,SAAS,CAACimB,UAPf,EAAK8Y,iBAAmB,EAAKA,iBAAiBt/B,KAAtB,gBACxB,EAAKJ,MAAQ,CACX4mB,KAAM,GALS,E,sEAaR,IAAD,EAC2DlmB,KAAKX,MAAhEiB,EADA,EACAA,QAASknB,EADT,EACSA,UAAWoC,EADpB,EACoBA,UAAWqV,EAD/B,EAC+BA,WAAYtwB,EAD3C,EAC2CA,YAC3CuX,EAASlmB,KAAKV,MAAd4mB,KAER,OACE,yBAAKzlB,UAAWH,EAAQs+B,iBACtB,kBAACM,GAAA,EAAD,eAAOz+B,UAAWH,EAAQmrB,OAAWwT,GACnC,kBAAC,GAAD,CACE3+B,QAASA,EACTwsB,iBAAkB9sB,KAAKX,MAAMytB,iBAC7BtF,UAAWA,EACXiU,UAAU,IAEZ,kBAAC0D,GAAA,EAAD,KACGvrB,GAAOqS,kBAAkB2D,EAAWjb,EAAauX,GAC/CnG,KAAI,SAACmK,EAAK7V,GACT,OACE,kBAAC8nB,GAAA,EAAD,CAAU9nB,IAAKA,EAAK+qB,OAAK,GACtB5X,EAAUzH,KAAI,SAAC3P,EAAKiE,GACnB,OACE,kBAAC,GAAD,CACEA,IAAKA,EACL/T,QAASA,EACToY,OAAQtI,EACRiB,KAAM6Y,aAStBvb,GAAeib,EAAUvZ,OAAS1B,EAClC,kBAAC,GAAD,CACEgV,UAAU,MAEVsZ,MAAOrT,EAAUvZ,OACjB1B,YAAaA,EACb0wB,mBAAoB,GACpBnZ,KAAMA,EACNoZ,oBAAqB,CACnB,aAAc,iBAEhBC,oBAAqB,CACnB,aAAc,aAEhB3C,aAAc58B,KAAKg/B,mBAEnB,kBAAC,IAAMz+B,SAAP,W,GAhEgBukB,IAAMhjB,WA2ElCi9B,GAAc9L,a,2VAAd,IACKzhB,GADL,CAEE7C,YAAa,OAGK5M,IAAW27B,GAAX37B,CAAuBg9B,IAA3C,I,UCxEeS,G,iLAlBH,IAAD,EACgDx/B,KAAKX,MAApDiB,EADD,EACCA,QAASe,EADV,EACUA,GAAIo4B,EADd,EACcA,QAASgG,EADvB,EACuBA,YAAa3W,EADpC,EACoCA,QAE3C,OACE,yBAAKznB,GAAIA,EAAIZ,UAAWH,EAAQg+B,kBAC7BxV,EACD,kBAACoW,GAAA,EAAD,CACE79B,GAAIo4B,EACJh5B,UAAWH,EAAQmrB,MACnBqN,kBAAgB,eAEf2G,Q,GAbsB3a,IAAMhjB,W,yJC8EjC49B,G,YAEJ,WAAYrgC,GAAQ,IAAD,8BACjB,4CAAMA,KAWRsgC,WAAa,SAAC9P,GACS,KAAlBA,EAAM+P,SAEP,EAAKC,qBAfU,EAmBnBC,kBAAoB,WAClB7nB,SAASkY,iBAAiB,UAAW,EAAKwP,YAAY,IApBrC,EAuBnBI,qBAAuB,WACrB9nB,SAAS+nB,oBAAoB,UAAW,EAAKL,YAAY,IAxBxC,EA2BnBM,iBAAmB,SAACpQ,GAClB,EAAK5vB,SAAS,CAAEigC,YAAY,EAAMte,SAAUiO,EAAMsQ,cAAe3H,UAAWhf,OAAO4mB,YAAc,OA5BhF,EA+BnBP,kBAAoB,WAClB,EAAK5/B,SAAS,CAAEigC,YAAY,KAhCX,EAmCnBG,kBAAoB,SAACxQ,GAAW,IACtBhJ,EAAY,EAAKvnB,MAAjBunB,QACRvW,OAAOwW,KAAKD,GAAS9G,KAAI,SAAA1L,GAAG,cAAWwS,EAAQxS,MAC/C,EAAKpU,SAAS,CAAE4mB,QAASA,IACrB,EAAKxnB,MAAMihC,gBACb,EAAKjhC,MAAMihC,eAAezQ,EAAOhJ,IAxClB,EA4CnB0Z,mBAAqB,SAAAzgC,GAAI,OAAI,SAAC+vB,GAAW,IAC/BhJ,EAAY,EAAKvnB,MAAjBunB,eACDA,EAAQ/mB,GACX,EAAKT,MAAMihC,gBACb,EAAKjhC,MAAMihC,eAAezQ,EAAOhJ,KAhDlB,EAoDnBpnB,aAAe,SAACK,EAAMC,EAAOyB,GAAd,OAAuB,SAACquB,GAAW,IACxCrI,EAAc,EAAKnoB,MAAnBmoB,UACF9O,EAAS9E,GAAOgS,YAAY4B,EAAW,OAAQ1nB,GACjDimB,EAAY,MACXnS,GAAOK,QAAQyE,EAAO1U,UAAY0U,EAAO1U,QAAQ,GAAGsQ,eAAe,YACtEyR,EAAYnS,GAAOiS,YAAY9lB,EAAO2Y,EAAO1U,QAAS,QAAS,WAEjE,EAAK/D,UAAS,SAACX,GACb,IAAIunB,EAAUvnB,EAAMunB,QAWpB,MAVc,KAAV9mB,GAA0B,OAAVA,SACX8mB,EAAQ/mB,GAEf+mB,EAAQ/mB,GADCimB,EACO,CAACV,SAAUU,EAAWhmB,MAAOA,GAE7BA,EAEd,EAAKV,MAAMihC,gBACb,EAAKjhC,MAAMihC,eAAezQ,EAAOhJ,GAE5B,CAACA,QAASA,QAvEF,EA2EnB2Z,gBAAkB,WAAO,IAAD,EACkB,EAAKnhC,MAArC0jB,EADc,EACdA,MAAOyE,EADO,EACPA,UAAWoC,EADJ,EACIA,UAC1B,OACE,kBAACjF,GAAA,EAAD,CAAS5B,MAAM,yDAAYX,UAAU,SAASwC,WAAY,KACxD,kBAACC,GAAA,EAAD,CACEjC,aAAW,SACXjhB,QAAS,kBAAMiS,GAAOmX,qBAAqBhI,EAAOyE,EAAWoC,KAE7D,kBAAC,KAAD,SAnFW,EAyFnBwQ,kBAAoB,SAAC9d,EAAQjd,EAAOohC,GAClC,EAAKxgC,UAAS,SAAAX,GACZ,IAAMohC,EAAcphC,EAAMohC,YAE1B,OADAA,EAAYD,IAAc,EACnBnwB,OAAOC,OAAO,GAAImwB,MAE3BpkB,EAAOjd,GAAOs4B,SAAQ,kBACpB,EAAK13B,UAAS,SAAAX,GACZ,IAAMohC,EAAcphC,EAAMohC,YAE1B,OADAA,EAAYD,IAAc,EACnBnwB,OAAOC,OAAO,GAAImwB,UAnGZ,EAwGnBC,cAAgB,WAAO,IAAD,EAC6D,EAAKthC,MAA9EiB,EADY,EACZA,QAAS8xB,EADG,EACHA,SAAUxI,EADP,EACOA,UAAWoD,EADlB,EACkBA,aAAcC,EADhC,EACgCA,WAAYwK,EAD5C,EAC4CA,aACxDiJ,EAAgB,EAAKphC,MAArBohC,YAER,OAAIvsB,MAAMC,QAAQge,IAAaA,EAAS/hB,OAAS,EAG7C,kBAAC,IAAM9P,SAAP,KACG0sB,EAAW9c,QAAO,SAAAywB,GAAG,OAAuB,IAAnBA,EAAG,WAAuB7gB,KAAI,SAACtQ,EAAQ4E,GAAT,OACtD,kBAACsQ,GAAA,EAAD,CACEtQ,IAAKA,EACL0O,MAAOtT,EAAOmrB,QACdxY,UAAU,SACVwC,WAAY,KAEZ,kBAACC,GAAA,EAAD,CACEjC,aAAW,SACXjhB,QAAS,kBAAM8N,EAAOqrB,YACA,IAApB1I,EAAS/hB,OAAe+hB,EAAS,GAAKA,EACtCqF,KAGDhoB,EAAOkrB,WAQhB,kBAAC,IAAMp6B,SAAP,KACGysB,EAAa7c,QAAO,SAAAywB,GAAG,OAAuB,IAAnBA,EAAG,WAAuB7gB,KAAI,SAACtQ,EAAQ4E,GAAT,OACxD,kBAACsQ,GAAA,EAAD,CACEtQ,IAAKA,EACL0O,MAAOtT,EAAOmrB,QACdxY,UAAU,SACVwC,WAAY,KAEZ,kBAACC,GAAA,EAAD,CACEjC,aAAW,SACXniB,UAAWH,EAAQsoB,QACnBjnB,SACyB,IAAvB8N,EAAOoxB,YACH,SAACxhC,GAAD,OAAW,EAAK+6B,mBAAkB,kBAAM3qB,EAAOqrB,YAAYlR,KAAYvqB,EAA5D,qBAAiFgV,KAC5F,kBAAM5E,EAAOqrB,YAAYlR,IAE/BwF,UAA+C,IAArCsR,EAAY,cAAD,OAAersB,KAEnC5E,EAAOkrB,MACgB,IAAvBlrB,EAAOoxB,aAC+B,IAArCH,EAAY,cAAD,OAAersB,KAC1B,kBAACgkB,GAAA,EAAD,CAAkBzjB,KAAM,GAAInU,UAAWH,EAAQzB,iBAC7C,YA5JC,EAqKnBiiC,gBAAkB,WAChB,GAAI,EAAKC,eAAgB,CAAC,IAChBC,EAAa,EAAK3hC,MAAlB2hC,SACJA,EAASC,oBACXD,EAASC,qBAEX,EAAKF,mBA3KU,EA+KnBG,iBAAmB,WAAO,IAAD,EACS,EAAK7hC,MAA7B+yB,EADe,EACfA,SAAU+O,EADK,EACLA,UACd,EAAKC,aACHD,EAAUF,oBACZE,EAAUF,mBAAmB7O,EAAS,IAExC,EAAKgP,WAAWhP,EAAS,MArLV,EAyLnBiP,mBAAqB,WACf,EAAKC,oBACP,EAAKA,sBAxLP,EAAKhiC,MAAQ,CACX4gC,YAAY,EACZte,SAAU,KACViF,QAASxnB,EAAMwnB,QACf6Z,YAAa,GACblI,UAAW,KARI,E,sEA+LT,IAAD,SAIHx4B,KAAKX,MAFPiB,EAFK,EAELA,QAASe,EAFJ,EAEIA,GAAI0hB,EAFR,EAEQA,MAAOwe,EAFf,EAEeA,UAAW/Z,EAF1B,EAE0BA,UAAW4K,EAFrC,EAEqCA,SAAUoP,EAF/C,EAE+CA,SACpDR,EAHK,EAGLA,SAAUG,EAHL,EAGKA,UAAW1J,EAHhB,EAGgBA,aAAcgK,EAH9B,EAG8BA,YAAaC,EAH3C,EAG2CA,cAAeC,EAH1D,EAG0DA,aAAcrkC,EAHxE,EAGwEA,MAHxE,EAK8C0C,KAAKV,MAAlDunB,EALD,EAKCA,QAASqZ,EALV,EAKUA,WAAYte,EALtB,EAKsBA,SAAU4W,EALhC,EAKgCA,UACjCoD,EAAcxJ,EAAS/hB,OAE7B,OACE,yBAAKhP,GAAIA,GACP,kBAACugC,GAAA,EAAD,CACEnhC,UAAWohC,KAAWvhC,EAAQy4B,KAAT,eAClBz4B,EAAQwhC,UAAYlG,EAAc,KAGrC,yBAAKn7B,UAAWH,EAAQyiB,OACrB6Y,EAAc,EACb,0BAAMj9B,MAAM,UAAU8B,UAAWH,EAAQ8xB,UACtCwJ,EADH,uBAGE7Y,GAASwe,GAAa3tB,GAAOK,QAAQ4S,GAAW9D,EAAQ,KAC3DzS,OAAOwW,KAAKD,GAAS9G,KAAI,SAAAjgB,GACxB,IAAIC,EAAQ8mB,EAAQ/mB,GAChBC,GAASA,EAAMA,QAEjBA,EAAQA,EAAMA,OAEhB,IAAM2Y,EAAS9E,GAAOgS,YAAY4B,EAAW,OAAQ1nB,GACrD,OACE,kBAACuyB,GAAA,EAAD,CACEhe,IAAKvU,EACLsnB,MAAOxT,GAAOuT,mBAAmBpnB,EAAO2Y,GACxCjY,UAAWH,EAAQyhC,KACnBC,SAAU,EAAKzB,mBAAmBzgC,SAK1C,yBAAKW,UAAWH,EAAQ2hC,SACxB,yBAAKxhC,UAAWH,EAAQ+5B,SACrBr6B,KAAK2gC,gBACJK,IAAiC,IAArBA,EAAShX,SAAqBpW,GAAOK,QAAQme,GACzD,kBAACzN,GAAA,EAAD,CAAS5B,MAAM,eAAKX,UAAU,SAASwC,WAAY,KACjD,kBAACC,GAAA,EAAD,CAAYjC,aAAW,MAAMjhB,QAAS3B,KAAK8gC,iBACzC,kBAAC,KAAD,CAASniC,MAAM,gBAGjB,KACFwiC,GACIhtB,MAAMC,QAAQge,IACM,IAApBA,EAAS/hB,SACsB,oBAAvB8wB,EAAUnX,QAA0BmX,EAAUnX,QAAQoI,EAAS,KAA4B,IAAtB+O,EAAUnX,SAE3F,kBAACrF,GAAA,EAAD,CAAS5B,MAAM,eAAKX,UAAU,SAASwC,WAAY,KACjD,kBAACC,GAAA,EAAD,CAAYjC,aAAW,OAAOjhB,QAAS3B,KAAKkhC,kBAC1C,kBAAC,KAAD,QAGF,KACFO,GACIttB,MAAMC,QAAQge,IACM,IAApBA,EAAS/hB,SACwB,oBAAzBoxB,EAAYzX,QAA0ByX,EAAYzX,QAAQoI,EAAS,KAA8B,IAAxBqP,EAAYzX,SAEjG,kBAACrF,GAAA,EAAD,CAAS5B,MAAM,eAAKX,UAAU,SAASwC,WAAY,KACjD,kBAACC,GAAA,EAAD,CAAYjC,aAAW,SAASjhB,QAAS3B,KAAKqhC,oBAC5C,kBAAC,KAAD,QAGF,KACHG,EAAWxhC,KAAKwgC,kBAAoB,KACnC5sB,GAAOK,QAAQ4S,GAMb,KALF,kBAAClC,GAAA,EAAD,CAAS5B,MAAM,mDAAWX,UAAU,SAASwC,WAAY,KACvD,kBAACC,GAAA,EAAD,CAAYjC,aAAW,WAAWjhB,QAAS3B,KAAKqgC,mBAC9C,kBAAC,KAAD,QAIL7Y,EAAUrX,QAAO,SAAAC,GAAG,OAAuB,IAAnBA,EAAI8xB,cAAqB7xB,OAAS,EACzD8xB,aAAY,KAAM7kC,GAChB,kBAACqnB,GAAA,EAAD,CAAS5B,MAAM,eAAKX,UAAU,SAASwC,WAAY,MAChC,IAAfsb,EACA,kBAACrb,GAAA,EAAD,CAAYjC,aAAW,cAAcjhB,QAAS3B,KAAK6/B,mBACjD,kBAAC,KAAD,OAGF,kBAAChb,GAAA,EAAD,CAAYjC,aAAW,cAAcjhB,QAAS3B,KAAKigC,kBACjD,kBAAC,KAAD,QAKN,kBAACmC,GAAA,EAAD,CAAmBC,YAAariC,KAAK6/B,mBACnC,8BACE,kBAAClb,GAAA,EAAD,CAAS5B,MAAM,eAAKX,UAAU,SAASwC,WAAY,KACjD,kBAACC,GAAA,EAAD,CAAYjC,aAAW,cAAcjhB,QAAS3B,KAAKigC,kBACjD,kBAAC,KAAD,QAGJ,kBAAChe,GAAA,EAAD,CACEJ,KAAMqe,EACNhe,YAAU,EACVC,eAAa,EACbC,UAAU,aACVR,SAAUA,EACVhgB,MAAO,CAAC68B,OAAQ,KAEhB,kBAAC/9B,EAAA,EAAD,CAAOD,UAAWH,EAAQ6P,OAAQuS,UAAW,EAAG9gB,MAAO,CAAC42B,UAAWA,IAChEtF,GACCrM,EACAW,EAAUrX,QAAO,SAAAC,GAAG,OAAuB,IAAnBA,EAAI8xB,cAC5BP,GACA,EACA,KACA,KACA,KACA,MACA,kBAAM,EAAKliC,eACX,UAOV,OAGN0iC,aAAY,KAAM7kC,GAClB,6BACE,kBAAC4mB,GAAA,EAAD,CAAUC,GAAI+b,EAAYhhC,QAAQ,OAAOklB,eAAa,GACnD8O,GACCrM,EACAW,EAAUrX,QAAO,SAAAC,GAAG,OAAuB,IAAnBA,EAAI8xB,cAC5BP,GACA,EACA,KACA,KACA,KACA,MACA,kBAAM,EAAKliC,eACX,QAIJ,KAEFuhC,IAAiC,IAArBA,EAAShX,SAAqBpW,GAAOK,QAAQme,GACzD,kBAAC,GAAD,eACErP,MAAK,UAAKA,EAAL,sBACLyR,SAAU,SAAC8N,GAAU,EAAKvB,eAAiBuB,GAAOA,EAAI3gB,aAClDqf,IAEJ,KAEFG,IAAmC,IAAtBA,EAAUnX,SAAqB7V,MAAMC,QAAQge,IAAiC,IAApBA,EAAS/hB,OAChF,kBAAC,GAAD,eACE0S,MAAK,UAAKA,EAAL,sBACLyR,SAAU,SAAC8N,GAAU,EAAKlB,WAAakB,GAAOA,EAAI3gB,aAC9Cwf,EAHN,CAIE1J,aAAcA,KAEd,KAEFgK,IAAuC,IAAxBA,EAAYzX,SAAqB7V,MAAMC,QAAQge,IAAiC,IAApBA,EAAS/hB,OACpF,kBAAC,GAAD,CACE0S,MAAM,eACNyR,SAAU,SAAC8N,GAAU,EAAKhB,mBAAqBgB,GAAOA,EAAI3gB,YAC1DkX,KAAM,WACJ4I,EAAYc,aAAa,EAAKljC,MAAM+yB,SAAS,IAAI3V,MAAK,kBAAMilB,UAG9D,U,GA7WmB5c,IAAMhjB,WAyYrC49B,GAAiBzM,aAAe,CAC9BsO,WAAW,EACX1a,QAAS,GACTma,SAAU,KACVG,UAAW,KACXM,YAAa,MAGA1/B,YArcA,SAAA3E,GAAK,MAAK,CACvB27B,KAAM,CACJ5T,YAAa/nB,EAAMK,QAAQ,GAC3BihC,aAActhC,EAAMK,QAAQ,GAC5B+kC,UAAW,IAEbV,UACyB,UAAvB1kC,EAAMiB,QAAQmD,KACV,CACA7C,MAAOvB,EAAMiB,QAAQC,UAAUC,KAC/BH,gBAAiBqkC,mBAAQrlC,EAAMiB,QAAQC,UAAUokC,MAAO,MAExD,CACA/jC,MAAOvB,EAAMiB,QAAQ6e,KAAK+G,QAC1B7lB,gBAAiBhB,EAAMiB,QAAQC,UAAUqkC,MAG/CV,OAAQ,CACNvd,KAAM,YAER2V,QAAS,CACP17B,MAAOvB,EAAMiB,QAAQ6e,KAAK5e,UAC1B0pB,WAAY,UAEdjF,MAAO,CACL2B,KAAM,YAERqd,KAAM,CACJ5jC,OAAQf,EAAMK,QAAQ,KAExB20B,SAAU,CACR10B,YAAaN,EAAMK,QAAQ,IAE7BmrB,QAAS,CACP7pB,SAAU,YAEZF,eAAgB,CACdF,MAAOG,IAAM,KACbC,SAAU,WACVC,IAAK,MACLC,KAAM,MACNnB,WAAY,GACZN,YAAa,IAEf2S,OAAQ,CACNlS,QAASb,EAAMK,QAAQ,GACvBH,MAAO,IACP2rB,OAAQ,qBACR2Z,UAAW,WAqZA7gC,CAAmB8gC,eAAYnD,K,+NC7c9C,IAEMoD,G,YAMJ,WAAYzjC,GAAQ,IAAD,8BACjB,4CAAMA,KANRo6B,QAAU0B,OAKS,EAJnB3S,UAAY2S,OAIO,EAHnBzS,aAAeyS,OAGI,EAFnB4H,cAAgB5H,OAEG,EASnB6H,kBAAoB,WAAO,IAAD,EACI,EAAK3jC,MAA3B4jC,EADkB,EAClBA,WAAY3lC,EADM,EACNA,MACb6kC,aAAY,KAAM7kC,IACrBsW,GAAO0U,oBAAoB,EAAKya,cAAe,EAAKva,UAAW,EAAKiR,QAAS,EAAK/Q,aAAcua,IATlG,EAAK3jC,MAAQ,CACXsqB,UAAW6B,GAAMC,cAAcrsB,EAAMuqB,WACrCwI,SAAU,IALK,E,iFAiBjB5Y,OAAO2W,iBAAiB,SAAUnwB,KAAKgjC,mBACvCxpB,OAAO2W,iBAAiB,SAAUnwB,KAAKgjC,mBACvCxJ,GAAex5B,KAAKy5B,QAASz5B,KAAKX,MAAMq6B,e,6CAIxClgB,OAAOwmB,oBAAoB,SAAUhgC,KAAKgjC,mBAC1CxpB,OAAOwmB,oBAAoB,SAAUhgC,KAAKgjC,qB,2CAI1ChjC,KAAKgjC,oBACLxJ,GAAex5B,KAAKy5B,QAASz5B,KAAKX,MAAMq6B,e,mCAG5B,IAAD,OACHwJ,EAAgBljC,KAAKX,MAArB6jC,YACAtZ,EAAc5pB,KAAKV,MAAnBsqB,UACFuZ,EAAWvvB,GAAOK,QAAQ2V,GAAa,GAAKA,EAAUzZ,QAAO,SAAA+Z,GAAG,OAAyB,OAArBA,EAAIgZ,MAC1EE,EAAO,GAIX,OAHAD,EAASpjB,KAAI,SAAAmK,GACX,OAAO,EAAKmZ,aAAaD,EAAMlZ,MAE1BkZ,I,mCAGIlzB,EAAO+P,GAAe,IAAD,OAAR8O,EAAQ,uDAAH,EAAG,EACJ/uB,KAAKX,MAAzB6jC,EADwB,EACxBA,YAAaI,EADW,EACXA,GACb1Z,EAAc5pB,KAAKV,MAAnBsqB,UACFvE,EAAWuE,EAAUzZ,QAAO,SAAA8e,GAAG,OAAIA,EAAIiU,KAAiBjjB,EAAKqjB,MAEnEpzB,EAAMH,KAAK/P,KAAKujC,YAAYtjB,EAAM8O,IAClC1J,EAAStF,KAAI,SAAAkP,GACX,OAAO,EAAKoU,aAAanzB,EAAO+e,EAAKF,EAAO,Q,kCAIpC7E,EAAK6E,GAAO,IAAD,SACsB/uB,KAAKX,MAAxCiB,EADa,EACbA,QAASknB,EADI,EACJA,UAAWmU,EADP,EACOA,WACpBvJ,EAAapyB,KAAKV,MAAlB8yB,SACFoR,EAAcnK,GAAWnP,EAAKkI,GAEpC,OACE,kBAAC+J,GAAA,EAAD,CACE9nB,IAAK6V,EAAIqP,UACT6F,OAAK,GAEY,WAAfzD,EACA,kBAACV,GAAA,EAAD,CAAWh9B,QAAQ,QACjB,kBAAC2zB,GAAA,EAAD,CAAU9B,QAAS0T,EAAa7hC,QAAS,kBAAM,EAAK1B,STxDrC,SAACoR,EAAMsqB,EAAYvJ,GAC5C,GAAmB,SAAfuJ,EAAJ,CAIA,IAAM6H,EAAcnK,GAAWhoB,EAAM+gB,GACjCqR,EAAc,GAClB,GAAmB,aAAf9H,EACF,IAAoB,IAAhB6H,EAAsB,CACxB,IAAME,EAAgBtR,EAASjd,QAAQ9D,GACvCoyB,EAAcA,EAAYzd,OACxBoM,EAASniB,MAAM,EAAGyzB,GAClBtR,EAASniB,MAAMyzB,EAAgB,SAGjCD,EAAcA,EAAYzd,OAAOoM,EAAU/gB,OAErB,WAAfsqB,IAEP8H,GADkB,IAAhBD,EACY,GAEA,CAACnyB,IAInB,MAAO,CAAE+gB,SAAUqR,IS+BoDE,CAAYzZ,EAAKyR,EAAYvJ,QAE1F,KACH5K,EAAUzH,KAAI,SAAC3P,EAAKiE,GACnB,IAAI8Q,EAAsB,IAAR9Q,GAAqB,GAAP0a,GA9E3B,EA+EL,OACE,kBAAC,GAAD,CACE1a,IAAKA,EACL/T,QAASA,EACToY,OAAQtI,EACRiB,KAAM6Y,EACNtoB,MAAO,CAACujB,YAAaA,W,+BAQtB,IAAD,EAGJnlB,KAAKX,MADPiB,EAFM,EAENA,QAASyiB,EAFH,EAEGA,MAAO+J,EAFV,EAEUA,iBAAkBtF,EAF5B,EAE4BA,UAAWoC,EAFvC,EAEuCA,UAAWoD,EAFlD,EAEkDA,aAAcC,EAFhE,EAEgEA,WAAYgS,EAF5E,EAE4EA,WAAYuC,EAFxF,EAEwFA,SAAU8B,EAFlG,EAEkGA,GAAI3H,EAFtG,EAEsGA,WAAYr+B,EAFlH,EAEkHA,MAElH80B,EAAapyB,KAAKV,MAAlB8yB,SACFgR,EAAOpjC,KAAK4jC,aACZ9a,IAAUkE,KAAuBC,EAEjC4W,EAAc,CAClBvjC,QAASA,EACTwsB,iBAAkBA,EAClBtF,UAAWA,EACX6S,QAASrN,KAA+BC,EACxC0O,WAAYA,GAERmI,EAAe,CACnB/gB,MAAOA,EACPyE,UAAWA,EACXoC,UAAWA,EACXoD,aAAcA,EACdC,WAAYA,EACZuU,SAAUA,EACVpP,SAAUA,EACVkR,GAAIA,GAGN,OACE,yBAAK7iC,UAAWH,EAAQs+B,iBACrB9V,EACC,kBAAC,GAAD,eACEznB,GAAIrB,KAAKwoB,WACLsb,IAEJ,KACJ,yBAAKliC,MAAO,CAACtE,MAAO,OAAQymC,UAAW,SACvC,kBAAC7E,GAAA,EAAD,eAAOz+B,UAAWH,EAAQmrB,MAAOpqB,GAAIrB,KAAKy5B,SAAawF,GACrD,kBAAC,GACK4E,GAEN,kBAAC1E,GAAA,EAAD,KACGiE,EAAK/yB,OAAS,EACb+yB,EAAKrjB,KAAI,SAAAmK,GACP,OAAOA,KAGT,kBAACiS,GAAA,EAAD,CACE17B,UAAWH,EAAQ+9B,UAEnB,kBAACpD,GAAA,EAAD,CAAWlH,QAASvM,EAAUnX,QAAyB,SAAfsrB,EAAwB,EAAI,IACjEnqB,GAAc0b,aAOvBiV,aAAY,KAAM7kC,GAkBhB,KAjBF,kBAAC,GAAD,CACE+D,GAAIrB,KAAK+iC,cACTtJ,QAASz5B,KAAK0oB,aACdpoB,QAASA,EACTm/B,YACE,kBAAC,GACKoE,GAGR/a,QACEA,EACE,kBAAC,GACKgb,GAEJ,Y,GAlKahf,IAAMhjB,WAqLrCghC,GAAiB7P,a,2VAAjB,IACKzhB,GADL,GAEKA,GAFL,CAGEmqB,WAAY,OACZuH,YAAa,SACbI,GAAI,KACJL,WAAY,IAGd,IAAMe,GAAiBjiC,IAAW27B,GAAX37B,CAAuB8gC,eAAYC,K,UC9MpDmB,G,2MACJ5yB,KAAO,G,EAEP6yB,kBAAoB,SAACxrB,GAAY,IACvBkR,EAAc,EAAKvqB,MAAnBuqB,UACAua,EAAoBzrB,EAApByrB,UAAWrkC,EAAS4Y,EAAT5Y,KAEnB,GAAkB,QAAdqkC,EAAqB,CACvB,IAAMC,EAAQxa,EAAUya,QAAO,SAACC,EAAKpa,GACnC,OAAOoa,GAAOpa,EAAIpqB,IAAS,KAC1B,GAEH,OADA,EAAKuR,KAAKvR,GAAQskC,EACXxwB,GAAOC,WAAWuwB,GACpB,MAAyB,oBAAdD,EACTvwB,GAAO+T,iBAAiBwc,EAAU,EAAK9yB,MAAOqH,GAE9C,G,wEAID,IAAD,SACoC1Y,KAAKX,MAAxCiB,EADD,EACCA,QAASknB,EADV,EACUA,UACbsU,EAAU,KAOd,MANmB,SAHZ,EACqBH,aAG1BG,EACE,kBAACb,GAAA,EAAD,CAAWh9B,QAAQ,eAIL8V,IAAdyT,EACK,KAGL,kBAAC2U,GAAA,EAAD,CACE17B,UAAWH,EAAQ+9B,UAElBvC,EACAtU,EAAUzH,KAAI,SAAC3P,EAAKiE,GACnB,OAAIjE,EAAI+zB,UAEJ,kBAAClJ,GAAA,EAAD,CACE5mB,IAAKA,EACL5T,UAAWH,EAAQ46B,UACnB/B,MAAOF,GAAiB7oB,EAAI5O,MAAM23B,OAEjC,EAAK+K,kBAAkB9zB,IAIpB,kBAAC6qB,GAAA,EAAD,CAAW5mB,IAAKA,Y,GAjDRyQ,IAAMhjB,WAiEpCmiC,GAAgBhR,aAAe,CAC7BzL,UAAW,GACXoC,UAAW,GACX+R,WAAY,QAGCsI,U,ikBCrDTM,G,YAMJ,WAAYllC,GAAQ,IAAD,8BACjB,4CAAMA,KANRo6B,QAAU0B,OAKS,EAJnB3S,UAAY2S,OAIO,EAHnBzS,aAAeyS,OAGI,EAFnB4H,cAAgB5H,OAEG,EAmBnBqJ,WAAa,SAACnlC,GAAW,IAAD,EACY,EAAKA,MAA/Bc,EADc,EACdA,SAAUwO,EADI,EACJA,YACZsc,EAAOrX,GAAOwX,UAAUjrB,EAASwV,QACjCgR,EAAQ8E,GAAME,SAASxrB,GACzBb,EAAQ,CACV4mB,KAAM,EACNvX,YAAaA,EACbgY,MAAO,MACPM,QAAS,GACT6E,cAAc,EACdjF,QAAS,IAEPF,IACFrnB,EAAK,MAAYqnB,EAAMkF,QACvBvsB,EAAK,QAAcqnB,EAAM8d,UACzBnlC,EAAK,aAAmBqnB,EAAMoF,gBAE5Bd,EAAKyZ,gBACPplC,EAAK,YAAkBsU,GAAO6R,UAAUwF,EAAKyZ,gBAE3CzZ,EAAK0Z,SACPrlC,EAAK,KAAWsU,GAAO6R,UAAUwF,EAAK0Z,SAGxC,IAAMC,EAAanZ,GAAMY,YAAYlsB,EAAUd,EAAMmoB,WAC/Cqd,EAAgB,EAAKC,YAM3B,OALKlxB,GAAOK,QAAQ4wB,GAERjxB,GAAOK,QAAQ2wB,KACzBtlC,EAAK,QAAcslC,GAFnBtlC,EAAK,QAAculC,EAIdvlC,GAlDU,EAqDnB0jC,kBAAoB,WAAO,IAAD,EACM,EAAK3jC,MAA3B4jC,EADgB,EAChBA,WAAY3lC,EADI,EACJA,MACf6kC,aAAY,KAAM7kC,IACrBsW,GAAO0U,oBAAoB,EAAKya,cAAe,EAAKva,UAAW,EAAKiR,QAAS,EAAK/Q,aAAcua,IAxDjF,EAiGnBjE,iBAAmB,SAACnP,EAAO3J,GACzB,EAAK8c,oBACL,EAAK/iC,SAAS,CAACimB,SAFmB,MAGQ,EAAK7mB,MAAvC0lC,EAH0B,EAG1BA,WAAY5kC,EAHc,EAGdA,SAAUiE,EAHI,EAGJA,SACX,IAAf2gC,GACFtZ,GAAMQ,oBAAoB/F,EAAM/lB,EAAUiE,IAtG3B,EA0GnB4gC,wBAA0B,SAAAnV,GACxB,EAAKmT,oBACD,EAAK3jC,MAAM4lC,QAEb,EAAKhlC,SAAS,CAAE0O,YAAakhB,EAAMhwB,OAAOE,QAG5C,EAAKi/B,iBAAiBnP,EAAO,GAPI,MAQS,EAAKxwB,MAAvC0lC,EARyB,EAQzBA,WAAY5kC,EARa,EAQbA,SAAUiE,EARG,EAQHA,SACX,IAAf2gC,GACFtZ,GAAMS,kBAAkB2D,EAAMhwB,OAAOE,MAAOI,EAAUiE,IApHvC,EAwHnB8gC,WAAa,SAACrV,EAAO2L,EAAU1P,GAC7B,IAAM7E,EAAUuU,EACZ7U,EAAQ,OAER,EAAKrnB,MAAM2nB,UAAYuU,GAAiC,SAArB,EAAKl8B,MAAMqnB,QAChDA,EAAQ,OAEV,EAAKqc,oBACL,EAAK/iC,SAAS,CAAE0mB,QAAOM,UAAS6E,iBARc,MASJ,EAAKzsB,MAAvC0lC,EATsC,EAStCA,WAAY5kC,EAT0B,EAS1BA,SAAUiE,EATgB,EAShBA,SACX,IAAf2gC,GACFtZ,GAAMO,eAAerF,EAAOM,EAAS6E,EAAc3rB,EAAUiE,IAnI9C,EAuInB+gC,mBAAqB,SAACtV,EAAOhJ,GAAa,IAChCW,EAAc,EAAKnoB,MAAnBmoB,UACR,EAAKwb,oBACLnc,EAAU4E,GAAMc,YAAY1F,EAASW,GACrC,EAAKvnB,SAAS,CAAE4mB,YAChB,EAAKue,WAAWve,GAEhB,EAAKmY,iBAAiBnP,EAAO,GAPU,MAQG,EAAKxwB,MAAvC0lC,EAR+B,EAQ/BA,WAAY5kC,EARmB,EAQnBA,SAAUiE,EARS,EAQTA,SACX,IAAf2gC,GACFtZ,GAAMW,gBAAgBvF,EAAS1mB,EAAUiE,IAjJ1B,EAyJnBghC,WAAa,SAACve,GAAa,IAAD,EACS,EAAKxnB,MAA9Bc,EADgB,EAChBA,SAAUklC,EADM,EACNA,WACdA,GACFl2B,aAAakO,QAAb,UAAwBld,EAAS0V,SAAjC,gBAAiDwvB,GAAcp2B,KAAKiG,UAAU2R,KA5J/D,EAoKnBie,UAAY,WAAO,IAAD,EACiB,EAAKzlC,MAA9Bc,EADQ,EACRA,SAAUklC,EADF,EACEA,WAClB,GAAIA,EAAY,CACd,IAAMh0B,EAAOlC,aAAaC,QAAb,UAAwBjP,EAAS0V,SAAjC,gBAAiDwvB,IAC9D,OAAOp2B,KAAKC,MAAMmC,GAElB,MAAO,IA1KQ,EA8KnBgoB,WAAa,SAAChoB,GACZ,IAAKA,EACH,OAAO,EAFY,IAIb+gB,EAAa,EAAK9yB,MAAlB8yB,SACJ/d,EAAM,EAAKixB,WAAWj0B,GAE1B,QAAK+gB,GAGIA,EAASjiB,QAAO,SAAA+Z,GAAG,OAAIA,EAAI7V,KAAShD,EAAKgD,MAAMhE,OAAS,GAxLhD,EA4LnBi1B,WAAa,SAACj0B,GAAU,IACdiyB,EAAO,EAAKjkC,MAAZikC,GAOR,OALuB,OAAnBjyB,EAAKkoB,gBAAyCxlB,IAAnB1C,EAAKkoB,UAC5B,YAEA+J,GAlMS,EAuMnBiC,gBAAkB,SAACl0B,GACjB,GAA8B,SAA1B,EAAKhS,MAAMs8B,WAAf,CAD0B,IAIlBvJ,EAAa,EAAK9yB,MAAlB8yB,SACFiH,EAAa,EAAKA,WAAWhoB,GAC/BoyB,EAAc,GAClB,GAA8B,aAA1B,EAAKpkC,MAAMs8B,WACb,IAAmB,IAAftC,EAAqB,CACvB,IAAMqK,EAAgBtR,EAASjd,QAAQ9D,GACvCoyB,EAAcA,EAAYzd,OACxBoM,EAASniB,MAAM,EAAGyzB,GAClBtR,EAASniB,MAAMyzB,EAAgB,SAGjCD,EAAcA,EAAYzd,OAAOoM,EAAU/gB,OAEV,WAA1B,EAAKhS,MAAMs8B,aAElB8H,GADiB,IAAfpK,EACY,GAEA,CAAChoB,IAInB,EAAKpR,SAAS,CAAEmyB,SAAUqR,MAhOT,EAmOnB+B,qBAAuB,SAAC3V,EAAOC,GAC7B,GAAIA,EAAJ,CAAc,IAAD,EACoB,EAAKxwB,MAA5BunB,EADG,EACHA,QAAS+C,EADN,EACMA,UACXrR,EAAU3E,GAAOgT,aAAagD,EAAW/C,GAC/C,EAAK5mB,SAAS,CAAEmyB,SAAU7Z,SAG1B,EAAKmpB,iBA1OU,EA8OnBA,cAAgB,WACd,EAAKzhC,SAAS,CAAEmyB,SAAU,MA/OT,EAkPnBqT,mBAAqB,SAACp0B,GAAU,IACtB+gB,EAAa,EAAK9yB,MAAlB8yB,SACJje,MAAMC,QAAQge,IAAiC,IAApBA,EAAS/hB,QAEtC,EAAKpQ,SAAS,CAACmyB,SAAU,CAAC/gB,MAnP5B,EAAK2tB,iBAAmB,EAAKA,iBAAiBt/B,KAAtB,gBACxB,EAAKslC,wBAA0B,EAAKA,wBAAwBtlC,KAA7B,gBAC/B,EAAKwlC,WAAa,EAAKA,WAAWxlC,KAAhB,gBAClB,EAAKylC,mBAAqB,EAAKA,mBAAmBzlC,KAAxB,gBAC1B,EAAK25B,WAAa,EAAKA,WAAW35B,KAAhB,gBAClB,EAAK6lC,gBAAkB,EAAKA,gBAAgB7lC,KAArB,gBACvB,EAAK8lC,qBAAuB,EAAKA,qBAAqB9lC,KAA1B,gBAC5B,EAAKgiC,cAAgB,EAAKA,cAAchiC,KAAnB,gBACrB,EAAK+lC,mBAAqB,EAAKA,mBAAmB/lC,KAAxB,gBAC1B,EAAKJ,MAAL,IACEsqB,UAAW6B,GAAMC,cAAcrsB,EAAMuqB,WACrCwI,SAAU,IACP,EAAKoS,WAAWnlC,IAfJ,E,iFA6DjBma,OAAO2W,iBAAiB,SAAUnwB,KAAKgjC,mBACvCxpB,OAAO2W,iBAAiB,SAAUnwB,KAAKgjC,mBACvCxJ,GAAex5B,KAAKy5B,QAASz5B,KAAKX,MAAMq6B,e,6CAIxClgB,OAAOwmB,oBAAoB,SAAUhgC,KAAKgjC,mBAC1CxpB,OAAOwmB,oBAAoB,SAAUhgC,KAAKgjC,qB,2CAI1ChjC,KAAKgjC,oBACLxJ,GAAex5B,KAAKy5B,QAASz5B,KAAKX,MAAMq6B,e,uDAGTjD,GAC/B,GAAIxnB,KAAKiG,UAAUlV,KAAKX,MAAMuqB,aAAe3a,KAAKiG,UAAUuhB,EAAU7M,WAAY,CAAC,IACzEwI,EAAapyB,KAAKV,MAAlB8yB,SACFxI,EAAY6B,GAAMC,cAAc+K,EAAU7M,WAEhD,GADA5pB,KAAKC,SAAS,CAAC2pB,eACVhW,GAAOK,QAAQme,GAAW,CAE7B,IAAIsT,EAAS,GACTrxB,EAAM,KAHmB,uBAI7B,YAAiB+d,EAAjB,+CAA2B,CAAC,IAAnB/gB,EAAkB,QACpBgD,IACHA,EAAMrU,KAAKslC,WAAWj0B,IAExBq0B,EAAO31B,KAAKsB,EAAKgD,KARU,kFAU7B,IAAMovB,EAAc7Z,EAAUzZ,QAAO,SAAA+Z,GAAG,OAAIwb,EAAOvwB,QAAQ+U,EAAI7V,KAAS,KACxErU,KAAKC,SAAS,CAAEmyB,SAAUqR,Q,+BA8JtB,IAAD,SAIHzjC,KAAKX,MAFPiB,EAFK,EAELA,QAASknB,EAFJ,EAEIA,UAAWwF,EAFf,EAEeA,aAAcC,EAF7B,EAE6BA,WAAYnE,EAFzC,EAEyCA,QAAS6S,EAFlD,EAEkDA,WAAY6F,EAF9D,EAE8DA,SAAU8B,EAFxE,EAEwEA,GAAI/B,EAF5E,EAE4EA,UAAWoE,EAFvF,EAEuFA,cAC5F3E,EAHK,EAGLA,SAAUG,EAHL,EAGKA,UAAWM,EAHhB,EAGgBA,YAAaE,EAH7B,EAG6BA,aAAcrkC,EAH3C,EAG2CA,MAH3C,EAKmF0C,KAAKV,MAAvFsqB,EALD,EAKCA,UAAW/C,EALZ,EAKYA,QAASX,EALrB,EAKqBA,KAAMvX,EAL3B,EAK2BA,YAAagY,EALxC,EAKwCA,MAAOM,EAL/C,EAK+CA,QAAS6E,EALxD,EAKwDA,aAAcsG,EALtE,EAKsEA,SACzE7Z,EAAU3E,GAAOuS,WAAWyD,EAAWhW,GAAOoT,WAAWL,EAAOM,EAAS6E,IACxElY,GAAOK,QAAQ4S,KAClBtO,EAAU3E,GAAOgT,aAAarO,EAASsO,IAEzC,IAAMgd,EAAc,CAClBvjC,QAASA,EACTwsB,iBAAkB9sB,KAAKX,MAAMytB,iBAC7BtF,UAAWA,EACXkU,OAAQ17B,KAAKklC,WACbve,MAAOA,EACPM,QAASA,EACT0U,WAAYA,EACZvJ,SAAUA,EACV/gB,KAAMkH,EACN0jB,iBAAkBj8B,KAAKwlC,sBAEnB1B,EAAe,CACnB/gB,MAAO/iB,KAAKX,MAAM0jB,MAClBwe,UAAWA,EACX1a,QAASA,EACT8a,aAAcA,EACdna,UAAWA,EACXoC,UAAWrR,EACX6Z,SAAUA,EACVkO,eAAgBtgC,KAAKmlC,mBACrBnY,aAAcA,EACdC,WAAYA,EACZuU,SAAUA,EACV8B,GAAIA,EACJtC,SAAUA,EACVG,UAAWA,EACX1J,aAAcz3B,KAAKylC,mBACnBhE,YAAaA,EACbC,cAAe1hC,KAAK0hC,eAGtB,OACE,yBAAKjhC,UAAWH,EAAQs+B,iBACrB9V,EACC,kBAAC,GAAD,eACEznB,GAAIrB,KAAKwoB,WACLsb,IAEJ,KACJ,yBAAKliC,MAAO,CAACtE,MAAO,OAAQymC,UAAW,QAAS6B,SAAU5lC,KAAKgjC,mBAC/D,kBAAC9D,GAAA,EAAD,eAAOz+B,UAAWH,EAAQmrB,MAAOpqB,GAAIrB,KAAKy5B,SAAaz5B,KAAKX,MAAM4/B,YAChE,kBAAC,GACK4E,GAEN,kBAAC1E,GAAA,EAAD,KACG5mB,EAAQlI,OAAS,EAChBuD,GAAOqS,kBAAkB1N,EAAS5J,EAAauX,GAC9CnG,KAAI,SAACmK,EAAK7V,GACT,IAAMqT,EAAY9T,GAAO0T,kBAAkB4C,EAAK1C,GAC1C6R,EAAa,EAAKA,WAAWnP,GAC/B4R,EAAU,KAQd,MAPmB,aAAfH,GAA4C,WAAfA,IAC/BG,EACE,kBAACb,GAAA,EAAD,CAAWh9B,QAAQ,QACjB,kBAAC2zB,GAAA,EAAD,CAAU9B,QAASuJ,EAAY13B,QAAS,kBAAM,EAAK4jC,gBAAgBrb,QAKvE,kBAACiS,GAAA,EAAD,CACE9nB,IAAKA,EACL5T,UAAWH,EAAQ+9B,SACnBwH,KAAK,WACLC,eAAczM,EACdjH,SAAUiH,EACVz3B,MAAK,MAAM8lB,IAEVoU,EACAtU,EAAUzH,KAAI,SAAC3P,EAAKiE,GACnB,OACE,kBAAC,GAAD,CACEA,IAAKA,EACL/T,QAASA,EACToY,OAAQtI,EACRiB,KAAM6Y,WAQlB,kBAACiS,GAAA,EAAD,CACE17B,UAAWH,EAAQ+9B,UAEnB,kBAACpD,GAAA,EAAD,CAAWlH,QAASvM,EAAUnX,QAAyB,SAAfsrB,EAAwB,EAAI,IACjEnqB,GAAc0b,WAKvB,kBAAC6Y,GAAA,EAAD,KACGxtB,EAAQlI,OAAS,IAAuB,IAAlBs1B,EACrB,kBAAC,GAAD,CACErlC,QAASA,EACTknB,UAAWA,EACXoC,UAAWrR,EACXojB,WAAYA,IAEZ,QAIR,kBAAC,GAAD,CACEhY,UAAU,MACVsZ,MAAO1kB,EAAQlI,OACf1B,YAAaA,EACb0wB,mBAAoBr/B,KAAKX,MAAMggC,mBAC/BnZ,KAAMA,EACNoZ,oBAAqB,CACnB,aAAc,iBAEhBC,oBAAqB,CACnB,aAAc,aAEhB3C,aAAc58B,KAAKg/B,iBACnBgH,oBAAqBhmC,KAAKglC,0BAE1B7C,aAAY,KAAM7kC,GAkBhB,KAjBF,kBAAC,GAAD,CACE+D,GAAIrB,KAAK+iC,cACTtJ,QAASz5B,KAAK0oB,aACdpoB,QAASA,EACTm/B,YACE,kBAAC,GACKoE,GAGR/a,QACEA,EACE,kBAAC,GACKgb,GAEJ,Y,GAhZYhf,IAAMhjB,WAicpCyiC,GAAgBtR,aAAhB,MACKzhB,GADL,GAEKA,GAFL,CAGEmqB,WAAY,OACZ2H,GAAI,KACJ30B,YAAa,GACb0wB,mBAAoB,CAAC,EAAG,GAAI,GAAI,GAAI,KACpC4F,QAAQ,EACRnc,SAAS,EACTjC,QAAS,GACToc,WAAY,EACZjW,aAAc,GACdC,WAAY,GACZuU,UAAU,EACVuD,YAAY,EACZxD,WAAW,EACXoE,eAAe,EACf3E,SAAU,KACVG,UAAW,KACXM,YAAa,OAGf,IAAMwE,GAAgBlhB,YAAWhjB,IAAW27B,GAAX37B,CAAuB8gC,eAAY0B,MCvd9D2B,G,YAEJ,WAAY7mC,GAAQ,IAAD,8BACjB,4CAAMA,KA2BRy2B,mBAAqB,SAAA9V,GAAK,OAAI,WAAO,IAAD,EACX,EAAK1gB,MAAtB+R,EAD4B,EAC5BA,KAAMsc,EADsB,EACtBA,OACZtc,EAAK0kB,OAAO/V,EAAO,GACf2N,WAEKA,EAAO3N,GACd1P,OAAOwW,KAAK6G,GAAQ5N,KAAI,SAAA1L,GACtB,GAAIA,EAAM2L,EAAO,CACf,IAAMgW,EAAcrI,EAAOtZ,UACpBsZ,EAAOtZ,GACdsZ,EAAOtZ,EAAM,GAAK2hB,EAEpB,OAAO,MAGX,EAAK/1B,SAAS,CAACoR,OAAMsc,aA3CJ,EA8CnBwY,gBAAkB,WAChB,EAAKlmC,UAAS,SAAAX,GACZ,IAAI+R,EAAO/R,EAAM+R,KAEjB,OADAA,EAAKtB,KAAK,CAACq2B,QAAQ,IACZ,CAAC/0B,YAlDO,EAsDnB5R,aAAe,SAAC2zB,EAAQC,GAAT,OAAyB,SAACvzB,EAAMC,EAAOyB,GAAd,OAAuB,SAACquB,GAC9D,EAAK5vB,UAAS,SAACX,GACb,IAAI+R,EAAO/R,EAAM+R,KAAKpB,QAEtB,OADAoB,EAAKgiB,GAAavzB,GAAQC,EACnB,CAACsR,KAAMA,MAGhB,EAAKhS,MAAMu2B,UAAU7V,KAAI,SAAAzD,GACvB,IAAIjL,EAAO,EAAK/R,MAAM+R,KACtBA,EAAKgiB,GAAavzB,GAAQC,EAC1B,IAAMg1B,EAASzY,EAAOxc,EAAMuR,EAAM,KAAM+hB,EAAQC,GAIhD,OAHI0B,GACF,EAAK90B,SAAS,CAACoR,KAAM0jB,KAEhB,QApEQ,EAwEnBsR,mBAAqB,WACnB,OACE,6BACE,kBAAC3kC,EAAA,EAAD,CAAQT,WAAS,EAACU,QAAS,EAAKwkC,iBAC9B,kBAAC,KAAD,SA5EW,EAkFnBhQ,SAAW,WAAO,IAAD,EACe,EAAK92B,MAA3BmZ,EADO,EACPA,OAAQoc,EADD,EACCA,UACRvjB,EAAS,EAAK/R,MAAd+R,KACJsc,EAAS,GACPkH,EAAQF,GAActjB,EAAMmH,EAAQoc,EAAWjH,GAE/C2Y,EAAY,EAAKjnC,MAAMsuB,QAAU,GAGvC,OAFAA,EAASrd,OAAOC,OAAO+1B,EAAW3Y,GAClC,EAAK1tB,SAAS,CAAC0tB,WACRkH,GA3FU,EA8FnByB,MAAQ,WACN,OAAOb,GAAW,EAAKU,SAAU,EAAK72B,MAAM+R,KAAM,EAAKhS,MAAMmZ,SA5F7D,EAAK2tB,gBAAkB,EAAKA,gBAAgBzmC,OAC5C,EAAK42B,MAAQ,EAAKA,MAAM52B,OACxB,EAAKJ,MAAQ,CACX+R,KAAM,EAAKklB,eAAel3B,GAC1BsuB,OAAQtuB,EAAMsuB,QAAU,IAPT,E,4EAWJtuB,GACb,GAAIA,EAAMmZ,OAAQ,CAChB,IAAInH,EAAOhS,EAAMgS,MAAQ,GASzB,OARAA,EAAK0O,KAAI,SAAAmK,GAAG,OACV7qB,EAAMmZ,OAAOuH,KAAI,SAAA3P,GAIf,OAHIwD,GAAOK,QAAQiW,EAAI9Z,EAAItQ,QAA0B,OAAhBsQ,EAAIomB,cAAoCziB,IAAhB3D,EAAIomB,UAC/DtM,EAAI9Z,EAAItQ,MAAQsQ,EAAIomB,UAEf,QAGJnlB,EAEP,MAAO,K,+BA0ED,IAAD,SACqErR,KAAKX,MAAzEiB,EADD,EACCA,QAASkY,EADV,EACUA,OAAQnb,EADlB,EACkBA,OAAQ45B,EAD1B,EAC0BA,SAAUD,EADpC,EACoCA,YAAauP,EADjD,EACiDA,gBADjD,EAEkBvmC,KAAKV,MAAtB+R,EAFD,EAECA,KAAMsc,EAFP,EAEOA,OACR+I,EAAmB/I,EAASA,EAAO+I,iBAAmB,KAE5D,OAAIviB,MAAMC,QAAQ/C,IAASA,EAAKhB,OAAS,EAErC,6BACE,kBAACqd,GAAD,CAAgBC,OAAQ+I,IACvBrlB,EAAK0O,KAAI,SAACymB,EAAUnyB,GAAX,OACR,yBAAKA,IAAKA,EAAI5T,UAAW4T,EAAM,EAAI/T,EAAQmmC,kBAAoB,MAC7D,2BAAOhmC,UAAWH,EAAQy2B,aACxB,+BACE,4BACE,4BACG7D,GACCsT,GACoB,IAApBA,EAASJ,OAAkBG,EAAkB/tB,EAC7Cnb,GACA,EACA,KACAgX,EACAhD,EACAsc,EAAOtZ,GACP,EAAK5U,gBAGS,IAAhBu3B,EACA,wBAAIp1B,MAAO,CAACtE,MAAO,KACjB,kBAACqnB,GAAA,EAAD,CAAS5B,MAAM,eAAKX,UAAU,SAASwC,WAAY,KACjD,kBAACC,GAAA,EAAD,CAAYjC,aAAW,SAASjhB,QAAS,EAAKm0B,mBAAmBzhB,IAC/D,kBAAC,KAAD,SAIJ,aAMC,IAAb4iB,EAAqBj3B,KAAKqmC,qBAAuB,MAKrD,qCACiB,IAAbpP,EAAqBj3B,KAAKqmC,qBAAuB,U,GAnJlCvhB,IAAMhjB,WAmKjCokC,GAAajT,aAAe,CAC1B51B,OAAQ,GACRgU,KAAM,GACNukB,UAAW,GACXqB,UAAU,EACVD,aAAa,GAGf,IAAM0P,GAAa3kC,KAvLJ,iBAAO,CACpBg1B,YAAa,CACXz5B,MAAO,QAETmpC,kBAAmB,CACjBroC,gBAAiBg5B,KAAK,MAExBt2B,MAAO,CACLnC,MAAO,UA+KQoD,CAAmBmkC,I,yOCjMtC,IAsCeS,GAtCU,CACvBzoC,OAAQ,CACNE,gB,OAAiBwoC,EAAI,MAEvB7jB,MAAO,CACLnkB,SAAU,GACVioC,cAAe,GAEjBpb,MAAO,CACLyS,aAAc,IACd5gC,MAAO,OACPi7B,SAAU,OACVn6B,gBAAiB,cACjB+/B,cAAe,IACfC,eAAgB,YAElBhC,cAAe,CACbj9B,UAAW,QACX7B,MAAO,MACPoyB,SAAU,KAEZwL,U,2VAAU,EACR,MAAO,CACL3M,WAAY,aACZ3vB,SAAU,SAET4+B,GALI,CAMPjP,WAAY,aACZpJ,YAAa,MACbuZ,aAAc,MACdC,cAAe,WAGjBtE,QAAS,CACPp8B,QAAS,KCdP6oC,G,YAEJ,WAAYznC,GAAQ,IAAD,8BACjB,4CAAMA,KAgBR0nC,eAAiB,SAAClX,GAChB,EAAK5vB,SAAS,CAAC4hB,MAAM,EAAMD,SAAUiO,EAAMsQ,iBAlB1B,EAqBnB6G,gBAAkB,SAACnX,GACjB,EAAK5vB,SAAS,CAAC4hB,MAAM,KAtBJ,EAyBnBolB,sBAAwB,SAACpX,GACL,QAAdA,EAAMxb,MACRwb,EAAM3vB,iBACN,EAAKD,SAAS,CAAC4hB,MAAM,MA5BN,EAgCnBqlB,UAAY,WAAO,IAAD,EACY,EAAK7nC,MAAzBiB,EADQ,EACRA,QAASpC,EADD,EACCA,OACbipC,EAAa,KAQjB,MAPsB,kBAAXjpC,IACTipC,EACE,kBAACxmC,EAAA,EAAD,CAAQiiB,aAAW,SAASniB,UAAWH,EAAQpC,OAAQ2kB,IAAK3kB,GACzDA,IAIAipC,GA1CU,EA6CnBjG,iBAAmB,WACjB,GAAI,EAAKkG,gBAAiB,CAAC,IACjB/1B,EAAS,EAAK/R,MAAd+R,KACR,EAAK+1B,gBAAgB/1B,KA7CvB,EAAK6vB,iBAAmB,EAAKA,iBAAiBxhC,KAAtB,gBACxB,EAAKJ,MAAQ,CACXuiB,MAAM,EACND,SAAU,KACVvQ,KAAMhS,EAAMgS,MAAQ,IAPL,E,8FAWcolB,GAC3BxnB,KAAKiG,UAAUlV,KAAKX,MAAMgS,QAAUpC,KAAKiG,UAAUuhB,EAAUplB,OAC/DrR,KAAKC,SAAS,CAACoR,KAAMolB,EAAUplB,S,+BAuCzB,IAAD,SAC4ErR,KAAKX,MAAhFiB,EADD,EACCA,QAASyiB,EADV,EACUA,MAAOvK,EADjB,EACiBA,OAAQ6hB,EADzB,EACyBA,QAAS8G,EADlC,EACkCA,UAAWM,EAD7C,EAC6CA,YAAa4F,EAD1D,EAC0DA,cAD1D,EAE0BrnC,KAAKV,MAA9BuiB,EAFD,EAECA,KAAMD,EAFP,EAEOA,SAAUvQ,EAFjB,EAEiBA,KAExB,OACE,6BACE,kBAACmR,GAAA,EAAD,KACE,kBAACG,GAAA,EAAD,CACEzkB,OAAQ8B,KAAKknC,YACbnkB,MAAOA,EACPukB,qBAAsB,CAAC7mC,UAAWH,EAAQyiB,OAC1CtiB,UAAWH,EAAQyiB,MACnBtT,OAAQ43B,EACN,kBAACxiB,GAAA,EAAD,CACE0iB,YAAW3lB,EAAW,OAAS,KAC/B4lB,gBAAc,OACd7lC,QAAS3B,KAAK+mC,gBAEd,kBAAC,KAAD,OAEA,OAEN,kBAACzjB,GAAA,EAAD,KACE,kBAAC4b,GAAA,EAAD,CAAOz+B,UAAWH,EAAQmrB,OACxB,kBAAC0T,GAAA,EAAD,KACG3mB,EAAOuH,KAAI,SAAA3P,GACV,IAAMrQ,EAAQsR,EAAKjB,EAAItQ,MACjBunB,EAAezT,GAAO+T,iBAAiB5nB,EAAOqQ,EAAKiB,GACzD,OACE,kBAAC8qB,GAAA,EAAD,CAAU9nB,IAAKjE,EAAItQ,MACjB,kBAACm7B,GAAA,EAAD,CAAWx6B,UAAWH,EAAQ46B,UAAY,IAAM56B,EAAQ87B,eAAgBhsB,EAAIgX,OAC5E,kBAAC6T,GAAA,EAAD,CAAWx6B,UAAWH,EAAQ46B,WAC3B9qB,EAAIsa,KACH,kBAAC,IAAD,CAAM7oB,GAAI+R,GAAOwC,UAA8B,oBAAbhG,EAAIsa,KAAsBta,EAAIsa,KAAKrZ,GAAQjB,EAAIsa,KAAMrZ,IAAQgW,GAC7FA,UAQlB,kBAAC7C,GAAA,EAAD,CAAa/jB,UAAWH,EAAQ+5B,SAC5BA,EAAQta,KAAI,SAAA8D,GACZ,OAAOA,KAET,kBAACjjB,EAAA,EAAD,CAAYgB,MAAO,CAAC8iB,KAAM,KACxB9Q,GAAOK,QAAQwtB,KAAwC,IAAxBA,EAAYzX,QASzC,KARF,kBAACtoB,EAAA,EAAD,CACEb,QAAQ,YACRlC,MAAM,YACN8B,UAAWH,EAAQujB,OACnBliB,QAAS,kBAAM,EAAK8lC,UAAY,EAAKA,YAAc,OAJrD,gBASA7zB,GAAOK,QAAQktB,KAAoC,IAAtBA,EAAUnX,QASrC,KARF,kBAACtoB,EAAA,EAAD,CACEb,QAAQ,YACRlC,MAAM,UACN8B,UAAWH,EAAQujB,OACnBliB,QAAS3B,KAAKkhC,kBAJhB,kBAWJttB,GAAOK,QAAQktB,KAAoC,IAAtBA,EAAUnX,QAMrC,KALF,kBAAC,GAAD,iBACMmX,EADN,CAEE5J,SAAU4J,EAAUuG,WACpBC,IAAK,SAACC,GAAY,EAAKR,gBAAkBQ,GAAUA,EAAOjmB,eAG5D/N,GAAOK,QAAQwtB,KAAwC,IAAxBA,EAAYzX,QAMzC,KALF,kBAAC,GAAD,CACEjH,MAAM,iFACN8V,KAAM4I,EAAYc,aAClB/N,SAAU,SAAA8N,GAAS,EAAKmF,UAAYnF,GAAOA,EAAI3gB,cAGlD0lB,EACC,kBAACQ,GAAA,EAAD,CACEjmB,SAAUA,EACVC,KAAMA,EACNiW,QAAS93B,KAAKgnC,iBACdK,GACA,U,GA/IgBviB,IAAMhjB,WAgKlCglC,GAAc7T,aAAe,CAC3BoH,QAAS,GACT8G,UAAW,GACXM,YAAa,IAGf,IAAMqG,GAAc/lC,IAAWgmC,GAAXhmC,CAAwB+kC,IC/JtCkB,G,YAEJ,WAAY3oC,GAAQ,IAAD,8BACjB,4CAAMA,KAeRk4B,SAAW,WACT,GAAI,EAAK0Q,QAAS,CAChB,IAAM/S,EAAW,EAAK+S,UACtB,GAAI/S,EAAU,CAAC,IAAD,EACuC,EAAK71B,MAAhD6oC,EADI,EACJA,WAAYC,EADR,EACQA,aAAc1Q,EADtB,EACsBA,aAClC/b,GAAKC,UAAUusB,EAAfxsB,CAA2BysB,EAAcjT,GAAUzY,MAAK,SAAAwO,GACtDmd,GAAMC,QAAQ72B,GAASoB,QAAQC,OAC3B4kB,GACFA,EAAaxM,MAEdyM,OAAM,SAAA/J,GACP,EAAK1tB,SAAS,CAAC0tB,WACX,WAAYA,EACdya,GAAMtnC,MAAM6sB,EAAOxpB,QAEnBikC,GAAMtnC,MAAM0Q,GAASG,MAAMG,0BAI/Bs2B,GAAMtnC,MAAM0Q,GAASG,MAAMG,oBAnCd,EAwCnBywB,aAAe,WAAO,IAAD,EACwB,EAAKljC,MAAxCipC,EADW,EACXA,eAAgBC,EADL,EACKA,eACxB7sB,GAAKI,YAAYwsB,GAAgB7rB,MAAK,WACpC2rB,GAAMC,QAAQ72B,GAASoB,QAAQE,SAC3By1B,GACFA,OAED7Q,OAAM,SAAA/J,GACP,EAAK1tB,SAAS,CAAC0tB,WACfya,GAAMtnC,MAAM6sB,EAAOxpB,QAAUqN,GAASG,MAAMK,qBA9C9C,EAAKulB,SAAW,EAAKA,SAAS73B,KAAd,gBAChB,EAAKJ,MAAQ,CACX+R,KAAMhS,EAAMgS,KACZsc,OAAQtuB,EAAMsuB,QAAU,IANT,E,8FAUc8I,GAC3BxnB,KAAKiG,UAAUlV,KAAKX,MAAMgS,QAAUpC,KAAKiG,UAAUuhB,EAAUplB,OAC/DrR,KAAKC,SAAS,CAACoR,KAAMolB,EAAUplB,S,+BAyCzB,IAAD,SACkDrR,KAAKX,MAAtDiB,EADD,EACCA,QAASyiB,EADV,EACUA,MAAOulB,EADjB,EACiBA,eAAmBE,EADpC,uDAEkBxoC,KAAKV,MAAtB+R,EAFD,EAECA,KAAMsc,EAFP,EAEOA,OAEd,OACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAUwG,GAAI,GAAIC,GAAI,GAAIC,GAAI,IAC5B,kBAAC7R,GAAA,EAAD,KACGO,EACC,kBAACJ,GAAA,EAAD,CACEI,MAAOA,IAEP,KACJ,kBAACO,GAAA,EAAD,KACE,kBAAC6T,GAAD,eACEwQ,IAAK,SAACnpC,GACJ,EAAKypC,QAAUzpC,GAAQA,EAAK83B,MAC5B,EAAKmS,aAAejqC,GAAQA,EAAKkqC,aAE/BF,EALN,CAMEn3B,KAAMA,EACNsc,OAAQA,MAGZ,kBAACnJ,GAAA,EAAD,CAAa/jB,UAAWH,EAAQqoC,aAC9B,yBAAKloC,UAAWH,EAAQsoC,SACrBN,EACC,kBAAC5mC,EAAA,EAAD,CACEjB,UAAWH,EAAQujB,OACnBliB,QAAS,kBAAM,EAAK8lC,UAAY,EAAKA,YAAc,MACnD5mC,QAAQ,YACRlC,MAAM,aAJR,gBAQE,KACJ,kBAAC+C,EAAA,EAAD,CACEC,QAAS3B,KAAKu3B,SACd12B,QAAQ,YACRlC,MAAM,UACN2C,WAAW,GAJb,oBAYR,kBAAC,GAAD,CACEyhB,MAAM,iFACNyR,SAAU,SAAA8N,GAAS,EAAKmF,UAAYnF,GAAOA,EAAI3gB,YAC/CkX,KAAM74B,KAAKuiC,oB,GA1GIzd,IAAMhjB,WA4HhBC,iBA3IA,SAAC3E,GAAD,MAAY,CACzBS,MAAO,GAEP+qC,QAAS,CACPzpC,UAAW,QACX0pC,SAAU,GAEZhlB,OAAQ,CACN1lB,OAAQf,EAAMK,QAAQ,IAExBkrC,YAAa,CACX1qC,QAASb,EAAMK,QAAQ,OAgIZsE,CAAmBimC,ICvJ5Bxa,GAAYC,cAAW,SAAArwB,GAAK,MAAK,CACrCS,MAAO,CACLI,QAASb,EAAMK,QAAQ,GACvBqrC,WAAY,IACZ3pC,UAAW,SACXR,MAAOvB,EAAMiB,QAAQ6e,KAAK5e,UAC1BkkC,UAAW,IACXtE,aAAc9gC,EAAMK,QAAQ,IAE9BsrC,WAAY,CACV5pC,UAAW,QACXzB,YAAaN,EAAMK,QAAQ,IAE7BurC,SAAU,CACR7pC,UAAW,OACX3B,WAAYJ,EAAMK,QAAQ,QAIf,SAASwrC,GAAW5pC,GACjC,IAAMiB,EAAUktB,KAERub,EAAwB1pC,EAAxB0pC,WAAYvrB,EAAYne,EAAZme,QAEpB,OACE,yBAAK/c,UAAWH,EAAQzC,OACtB,kBAAC0nB,GAAA,EAAD,CAAMC,WAAS,GACb,kBAACD,GAAA,EAAD,CAAMtF,MAAI,EAACkU,GAAI,EAAG+U,GAAI,GACpB,kBAACtoC,EAAA,EAAD,CAAYH,UAAWH,EAAQyoC,WAAYloC,QAAQ,KAAKlC,MAAM,SAC3DoqC,IAGL,kBAACxjB,GAAA,EAAD,CAAMtF,MAAI,EAACkU,GAAI,EAAG+U,GAAI,EAAGtnC,MAAO,CAACunC,WAAY,wBAC3C,yBAAK1oC,UAAWH,EAAQ0oC,UACtB,kBAACpoC,EAAA,EAAD,CAAYC,QAAQ,aAApB,UACA,kBAACD,EAAA,EAAD,CAAYC,QAAQ,SAAS2c,OAQlC,IAAM4rB,GAAe,kBAC1B,kBAACH,GAAD,CACEF,WAAY,IACZvrB,QAAShM,GAASG,MAAMU,kBC/CtBmb,GAAYC,cAAW,SAAArwB,GAAK,MAAK,CACrCS,MAAO,CACLI,QAASb,EAAMK,QAAQ,GACvBqrC,WAAY,IACZ3pC,UAAW,SACXR,MAAOvB,EAAMiB,QAAQ6e,KAAK5e,UAC1BkkC,UAAW,IACXtE,aAAc9gC,EAAMK,QAAQ,QAkBjB4rC,GAdC,SAAChqC,GACf,IAAMiB,EAAUktB,KACR6D,EAAgBhyB,EAAhBgyB,YAER,OACE,yBAAK5wB,UAAWH,EAAQzC,OACtB,kBAACw6B,GAAA,EAAD,MACA,kBAACz3B,EAAA,EAAD,CAAY+iB,UAAU,KACnB0N,GAAe,gBCjBlBiY,G,YAGJ,WAAYjqC,GAAQ,IAAD,8BACjB,4CAAMA,KAHRkqC,YAAa,EAKX,EAAKjqC,MAAQ,CACX+R,KAAM,GACNm4B,QAAQ,EACRC,YAAa,KACbC,cAAe,KACfrY,YAAa,cARE,E,yFAYU,IAAD,OAC1BrxB,KAAKupC,YAAa,EACdvpC,KAAKX,MAAMsqC,UACbjuB,GAAKE,SAAS5b,KAAKX,MAAMsqC,UACtBltB,MAAK,SAAApL,GACA,EAAKk4B,YACP,EAAKtpC,SAAS,CACZoR,OACAm4B,QAAQ,EACRC,YAAa,IACbC,cAAe,UAGlBhS,OAAM,SAAA/J,GACP,EAAK1tB,SAAS,CACZwpC,YAAa9b,EAAO8b,YACpBC,cAAe/b,EAAOxpB,OACtBqlC,QAAQ,S,6CAOhBxpC,KAAKupC,YAAa,I,uDAGa9S,GAAY,IAAD,OAChB,OAAtBz2B,KAAKX,MAAMuqC,aAAyC71B,IAAtB/T,KAAKX,MAAMuqC,QACvC5pC,KAAKX,MAAMuqC,SAAWnT,EAAUmT,QAClCluB,GAAKE,SAAS6a,EAAUkT,UAAUltB,MAAK,SAAApL,GACrC,EAAKpR,SAAS,CAACoR,OAAMm4B,QAAQ,EAAMC,YAAa,SAC/C/R,OAAM,SAAA/J,GACP,EAAK1tB,SAAS,CACZwpC,YAAa9b,EAAO8b,YACpBC,cAAe/b,EAAOxpB,OACtBqlC,QAAQ,S,+BAOR,IAAD,EAC2DxpC,KAAKV,MAA/D+R,EADD,EACCA,KAAMm4B,EADP,EACOA,OAAQC,EADf,EACeA,YAAaC,EAD5B,EAC4BA,cAAerY,EAD3C,EAC2CA,YAElD,OAAImY,EACKxpC,KAAKX,MAAMwqC,OAAOx4B,GACA,OAAhBo4B,QAAwC11B,IAAhB01B,GAA6C,MAAhBA,EAE5D,kBAACR,GAAD,CACEF,WAAYU,EACZjsB,QAASksB,IAKX,kBAAC,GAAD,CACErY,YAAaA,Q,GAzEEvvB,aAuFzBwnC,GAAWrW,aAAe,CACxBje,OAAQ,GACR40B,QAAQ,GAGKN,U,qBCzBAQ,G,YApEb,WAAYzqC,GAAQ,IAAD,8BACjB,4CAAMA,KAQR0qC,eAAiB,SAAAnqC,GACf,EAAKK,SAAS,CAAE+pC,MAAOpqC,EAAEC,OAAOmwB,MAAM,MAVrB,EAanBia,YAAc,SAAArqC,GACZ,IAAMsqC,EAAQjpB,WAAWrhB,EAAEC,OAAOE,OAClC,EAAKE,SAAS,CAAEiqC,WAfC,EAkBnBC,SAAW,WAAO,IACRH,EAAU,EAAK1qC,MAAf0qC,MACR,OAAI,EAAKI,QAAUJ,EAOV,CAACK,OADO,EAAKD,OAAOE,yBACX9oC,KAAMwoC,EAAMxoC,MAErB,MA1BT,EAAKlC,MAAQ,CACX0qC,MAAO,KACPE,MAAO,GALQ,E,sEAiCT,IAAD,SACkBlqC,KAAKV,MAAtB0qC,EADD,EACCA,MAAOE,EADR,EACQA,MAEf,OACE,yBAAKtoC,MAAO,CAAEzC,UAAW,WACvB,kBAAC,KAAD,CACEwoC,IAAK,SAACyC,GAAD,OAAY,EAAKA,OAASA,GAC/BJ,MAAOA,EACP1sC,MAAO,IACP2rB,OAAQ,IACRjE,OAAQ,GACRklB,MAAOA,IAET,6BACE,2BAAOpqC,KAAK,WAAW0B,KAAK,OAAOD,SAAUvB,KAAK+pC,kBAEnDC,EACC,qCAEE,2BACElqC,KAAK,QACL0B,KAAK,QACLD,SAAUvB,KAAKiqC,YACfxX,IAAI,IACJE,IAAI,IACJE,KAAK,OACL0X,aAAa,OAGf,U,GAhEczlB,IAAMhjB,WCQjB0oC,GARM,SAAC,GAAD,IAAc1oC,EAAd,EAAG6hB,UAAyB2B,EAA5B,qCACnB,kBAAC,IAAD,iBAAWA,EAAX,CAAiBukB,OAAQ,SAAAxqC,GAAK,OAC5B8P,aAAaC,QAAQ,SACjB,kBAACtN,EAAczC,GACf,kBAAC,IAAD,CAAUwC,GAAI,CAAEgU,SAAU,SAAUvW,MAAO,CAAEe,KAAMhB,EAAMc,kB,6PCSjE,IA8BMsqC,G,YAEJ,WAAYprC,GAAQ,IAAD,8BACjB,4CAAMA,KAYRqrC,eAAiB,SAAC1qB,GAAW,IACnB2qB,EAAU,EAAKtrC,MAAfsrC,MADkB,EAED,EAAKrrC,MAAtB+R,EAFkB,EAElBA,KAAMsc,EAFY,EAEZA,OACd,GAAI3N,EAAQ2qB,EAAMt6B,OAAQ,CAAC,IAAD,EACiCs6B,EAAM3qB,GAAOwoB,UAA9D1oC,EADgB,EAChBA,KAAM8qC,EADU,EACVA,OAAQhW,EADE,EACFA,UAAWgB,EADT,EACSA,UAAcv2B,EADvB,0DAElByB,EAAQ8S,GAAOK,QAAQ0Z,GAAU,GAAKA,EAAO7tB,GAC/CuR,EAAKvR,KACPT,EAAK,KAAWgS,EAAKvR,IAEvB,IAAI+qC,EAAe,GACfjW,IAEFiW,EAAejW,EAAU7U,KAAI,SAAAzD,GAAM,OAAI,SAACjC,GAAD,OAAOiC,EAAOjC,EAAGhJ,QAE1D,IAAIy5B,EAAkB,GAClBlV,IAEFkV,EAAkBlV,EAAU7V,KAAI,SAAAzD,GAAM,OAAI,SAACyuB,EAAG1wB,EAAG7F,EAAGw2B,EAAGx0B,GAAb,OAAmB8F,EAAOyuB,EAAG1wB,EAAGhJ,EAAM25B,EAAGx0B,QAErF,IAAMhY,EAAOsmB,IAAMlL,eACN,IAAXgxB,EAAkBlE,GAAavP,G,2VADpB,IAGN93B,EAHM,CAITgV,IAAK2L,EACL4U,UAAWiW,EACXjV,UAAWkV,EACXnd,OAAQ7sB,GAAS,GACjB6mC,IAAK,SAAC3vB,GACAA,GAAOA,EAAIse,QACb,EAAK,YAAcx2B,GAAQkY,EAAIse,OAE7Bte,GAAOA,EAAI0wB,aACb,EAAK,iBAAmB5oC,GAAQkY,GAAOA,EAAI0wB,gBAKnD,MAAO,CAAE5oC,OAAMtB,QAEf,OAAO,MApDQ,EAwDnBysC,aAAe,SAACpY,GAGd,QAFmB,EAAKvzB,MAAhBquB,OACKkF,EAAK2V,UAAU1oC,OA1DX,EAkEnBorC,WAAa,SAACprC,GAAD,OAAU,WACrB,IAAMo1B,EAAW,EAAKoB,MAAMx2B,GACxBo1B,EACF,EAAKj1B,UAAS,SAAAX,GACZ,IAAI+R,EAAO/R,EAAM+R,KAEjB,OADAA,EAAKvR,GAAQo1B,EACN,CACL7jB,OACA85B,WAAY7rC,EAAM6rC,WAAa,EAC/BC,QAAS9rC,EAAM8rC,SAAW9rC,EAAM6rC,WAAa7rC,EAAM6rC,WAAa,EAAI7rC,EAAM8rC,YAGpE,EAAKC,QAAQvrC,GAQvBsoC,GAAMtnC,MAAM0Q,GAASG,MAAMG,kBAP3B,EAAK7R,UAAS,SAAAX,GACZ,MAAO,CACL6rC,WAAY7rC,EAAM6rC,WAAa,EAC/BC,QAAS9rC,EAAM8rC,SAAW9rC,EAAM6rC,WAAa7rC,EAAM6rC,WAAa,EAAI7rC,EAAM8rC,cAlF/D,EA0FnBC,QAAU,SAACvrC,GAQT,OAPc,EAAKT,MAAMsrC,MAAMx6B,QAAO,SAAA0iB,GACpC,SAAIA,EAAK2V,WAAa3V,EAAK2V,UAAU1oC,OAASA,MAMnCuQ,OAAS,GAlGL,EAqGnBi7B,WAAa,WACX,EAAKrrC,UAAS,SAAAX,GACZ,MAAO,CAAC6rC,WAAY7rC,EAAM6rC,WAAa,OAvGxB,EA2GnB7U,MAAQ,SAACx2B,GACP,OAAIA,GAAQ,EAAK,YAAcA,GACtB,EAAK,YAAcA,KAEnB,MA/GQ,EAmHnBy3B,SAAW,SAACz3B,GAAD,OAAU,WACnB,IAAMo1B,EAAW,EAAKoB,MAAMx2B,GAC5B,GAAIo1B,EAAU,CAAC,IACP7jB,EAAS,EAAK/R,MAAd+R,KACNA,EAAKvR,GAAQo1B,EAFD,MAGuC,EAAK71B,MAAhD6oC,EAHI,EAGJA,WAAYC,EAHR,EAGQA,aAAc1Q,EAHtB,EAGsBA,aAClC/b,GAAKC,UAAUusB,EAAfxsB,CAA2BysB,EAAc92B,GAAMoL,MAAK,SAAAwO,GAClDmd,GAAMC,QAAQ72B,GAASoB,QAAQC,OAC3B4kB,GACFA,EAAaxM,MAEdyM,OAAM,SAAA/J,GACP,EAAK1tB,SAAS,CAAC0tB,WACfya,GAAMtnC,MAAM8S,GAAOgE,oBAAoB+V,YAGzCya,GAAMtnC,MAAM0Q,GAASG,MAAMG,oBAnIZ,EAuInBy5B,eAAiB,SAACC,GAAe,IACvBb,EAAU,EAAKtrC,MAAfsrC,MACR,OAAIa,GAAab,EAAMt6B,OACds6B,EAAMa,GAAWnR,QAEjB,MA5IQ,EAgJnBD,kBAAoB,SAACqR,EAAUC,EAAWpvB,GACxCA,EAAOovB,GAAWjvB,MAAK,SAAAwO,GACrBygB,EAAUD,GAAYn7B,OAAOC,OAAO,GAAIm7B,EAAUD,GAAWxgB,GAC7D,EAAKhrB,SAAS,CAACoR,KAAMq6B,QAhJvB,EAAKR,WAAa,EAAKA,WAAWxrC,KAAhB,gBAClB,EAAK4rC,WAAa,EAAKA,WAAW5rC,KAAhB,gBAClB,EAAKJ,MAAQ,CACX6rC,WAAY,EACZC,QAAS,EACT/5B,KAAM,GACNsc,OAAQ,IATO,E,sEAuJT,IAAD,SAC2B3tB,KAAKX,MAA/BiB,EADD,EACCA,QAASyiB,EADV,EACUA,MAAO4nB,EADjB,EACiBA,MADjB,EAEsB3qC,KAAKV,MAA1B6rC,EAFD,EAECA,WAAY95B,EAFb,EAEaA,KACds6B,EAAc3rC,KAAK0qC,eAAeS,GAClCS,EAAc5rC,KAAKurC,eAAeJ,GAExC,OAAIv3B,GAAOK,QAAQ02B,GACV,KAGL,6BACE,kBAACjqC,EAAA,EAAD,CAAOD,UAAWH,EAAQzC,OACxB,kBAAC+C,EAAA,EAAD,CAAY+iB,UAAU,KAAK9iB,QAAQ,KAAKs4B,MAAM,UAC3CpW,GAEH,kBAAC8oB,GAAA,EAAD,CAASV,WAAYA,EAAY1qC,UAAWH,EAAQwrC,SACjDnB,EAAM5qB,KAAI,SAAC8S,EAAM7S,GAAP,OACT,kBAAC+rB,GAAA,EAAD,CAAM13B,IAAK2L,GACT,kBAACgsB,GAAA,EAAD,KACE,0BAAMvrC,UAAW,EAAKwqC,aAAapY,GAAQvyB,EAAQ2rC,eAAiB,MACjEpZ,EAAK/yB,YAMfqrC,EAAaR,EAAMt6B,QAAUs6B,EAAMQ,GAAYvT,YAC9C,kBAACh3B,EAAA,EAAD,CAAYH,UAAWH,EAAQ4rC,gBAAiBrrC,QAAQ,QAAQsrC,cAAY,GACzExB,EAAMQ,GAAYvT,aAEnB,KACJ,6BACGuT,IAAeR,EAAMt6B,OACpB,kBAAC,IAAM9P,SAAP,KACE,kBAACK,EAAA,EAAD,CAAYC,QAAQ,KAAKsrC,cAAY,GAArC,6BAGA,kBAACvrC,EAAA,EAAD,CAAYC,QAAQ,aAApB,qIAMF,kBAAC,IAAMN,SAAP,KACGorC,EACCA,EAAYntC,KACV,KACJ,yBAAKiC,UAAWH,EAAQsoC,SACpBgD,EACA,kBAAC,IAAMrrC,SAAP,KACGqrC,EAAY7rB,KAAI,SAACtQ,EAAQ4E,GAAT,OACf,kBAAC3S,EAAA,EAAD,CACE2S,IAAKA,EACLxT,QAAQ,YACRlC,MAAM,UACNgD,QAAS,kBAAM,EAAKy4B,kBAAkBuR,EAAY7rC,KAAMuR,EAAM5B,EAAOqrB,cACrEr6B,UAAWH,EAAQujB,QAElBpU,EAAOsT,UAGZ,yBAAKnhB,MAAO,CAAC8iB,KAAM,MAEnB,KACY,IAAfymB,GACC,kBAACzpC,EAAA,EAAD,CAAQC,QAAS3B,KAAKsrC,WAAY7qC,UAAWH,EAAQujB,QAArD,QAIF,kBAACniB,EAAA,EAAD,CACEb,QAAQ,YACRlC,MAAM,UACNgD,QAASwpC,IAAeR,EAAMt6B,OAAS,EAAIrQ,KAAKu3B,SAASoU,EAAY7rC,MAAQE,KAAKkrC,WAAWS,EAAY7rC,MACzGW,UAAWH,EAAQujB,QAElBsnB,IAAeR,EAAMt6B,OAAS,EAAI,eAAO,iB,GApOzCyU,IAAMhjB,WA8PdC,iBA5RA,SAAC3E,GAAD,MAAY,CACzBS,MAAM,aACJC,UAAWV,EAAMK,QAAQ,GACzBygC,aAAc9gC,EAAMK,QAAQ,GAC5BQ,QAASb,EAAMK,QAAQ,IACtBL,EAAMO,YAAYC,GAAG,IAAyB,EAAnBR,EAAMK,QAAQ,IAAU,CAClDygC,aAAc9gC,EAAMK,QAAQ,GAC5BQ,QAASb,EAAMK,QAAQ,KAG3BquC,QAAS,CACP7tC,QAASb,EAAMK,QAAQ,EAAG,EAAG,IAE/ByuC,gBAAiB,CACfvtC,MAAO,OACPV,QAAS,cAEXguC,eAAgB,CACdttC,MAAO,OAETiqC,QAAS,CACPrrC,QAAS,OACT6uC,eAAgB,YAElBvoB,OAAQ,CACN/lB,UAAWV,EAAMK,QAAQ,GACzBD,WAAYJ,EAAMK,QAAQ,OAkQfsE,CAAmB0oC,I,8DC1RnBzsB,gBAdS,SAAC1e,EAAO2e,GAAR,MAAsB,CAC5C1O,SAAUjQ,EAAMkQ,KAAKD,SACrBO,KAAMxQ,EAAMwQ,SAGa,SAAA8F,GACzB,MAAO,CACLxS,OADK,SACEjD,GACLyV,EAASmH,GAAkB5c,IAC3ByV,EAASrE,UAKAyM,CAA6C0D,I,8BClB/C2qB,GAAmC,CAC9C,CACE,KAAQ,YACR,KAAQ,SACR,MAAS,eACT,KAAQ,wDAEV,CACE,KAAQ,eACR,KAAQ,SACR,MAAS,sBAEX,CACE,KAAQ,gBACR,KAAQ,SACR,MAAS,sBAEX,CACE,KAAQ,kBACR,KAAQ,SACR,MAAS,gBAEX,CACE,KAAQ,eACR,KAAQ,SACR,MAAS,WAIAC,GAAmC,CAC9C,CACE,KAAQ,YACR,KAAQ,SACR,MAAS,eACT,KAAQ,wDAEV,CACE,KAAQ,eACR,KAAQ,SACR,MAAS,eACT,KAAQ,oCAEV,CACE,KAAQ,eACR,KAAQ,SACR,MAAS,sBAEX,CACE,KAAQ,gBACR,KAAQ,SACR,MAAS,sBAEX,CACE,KAAQ,kBACR,KAAQ,SACR,MAAS,gBAEX,CACE,KAAQ,eACR,KAAQ,SACR,MAAS,UAEX,CACE,KAAQ,eACR,KAAQ,OACR,MAAS,mCAIAC,GAAoC,CAC/C,CACE,KAAQ,KACR,KAAQ,SACR,MAAS,4BAEX,CACE,KAAQ,eACR,KAAQ,SACR,MAAS,eACT,KAAQ,oCAEV,CACE,KAAQ,eACR,KAAQ,SACR,MAAS,4BAEX,CACE,KAAQ,gBACR,KAAQ,SACR,MAAS,sBAEX,CACE,KAAQ,kBACR,KAAQ,SACR,MAAS,gBAEX,CACE,KAAQ,eACR,KAAQ,SACR,MAAS,UAEX,CACE,KAAQ,WACR,KAAQ,SACR,MAAS,4BAEX,CACE,KAAQ,mBACR,KAAQ,SACR,MAAS,iBAIAC,GAAkC,CAC7C,CACE,KAAQ,KACR,KAAQ,SACR,MAAS,4BAEX,CACE,KAAQ,YACR,KAAQ,SACR,MAAS,eACT,KAAQ,2DAEV,CACE,KAAQ,eACR,KAAQ,SACR,MAAS,eACT,KAAQ,oCAEV,CACE,KAAQ,eACR,KAAQ,SACR,MAAS,2BACT,KAAQ,qCAEV,CACE,KAAQ,gBACR,KAAQ,SACR,MAAS,sBAEX,CACE,KAAQ,kBACR,KAAQ,SACR,MAAS,gBAEX,CACE,KAAQ,eACR,KAAQ,SACR,MAAS,UAEX,CACE,KAAQ,mBACR,KAAQ,SACR,MAAS,iBAIAC,GAAmC,CAC9C,CACE,KAAQ,KACR,KAAQ,SACR,MAAS,4BAEX,CACE,KAAQ,eACR,KAAQ,SACR,MAAS,2BACT,KAAQ,qCAEV,CACE,KAAQ,YACR,KAAQ,SACR,MAAS,iCACT,KAAQ,qCAEV,CACE,KAAQ,gBACR,KAAQ,SACR,MAAS,sBAEX,CACE,KAAQ,kBACR,KAAQ,SACR,MAAS,gBAEX,CACE,KAAQ,eACR,KAAQ,SACR,MAAS,WC5LAjf,GAAYC,cAAW,SAAArwB,GAAK,YAAK,CAC5CsvC,YAAU,GACR5uC,UAAWV,EAAMK,QAAQ,GACzBD,WAAYJ,EAAMK,QAAQ,GAC1BC,YAAaN,EAAMK,QAAQ,IAHnB,cAIPL,EAAMO,YAAY26B,KAAK,MAAQ,CAC9Bx6B,UAAWV,EAAMK,QAAQ,GACzBD,WAAYJ,EAAMK,QAAQ,KAC1BC,YAAaN,EAAMK,QAAQ,OAPrB,cASPL,EAAMO,YAAY26B,KAAK,MAAQ,CAC9Bx6B,UAAWV,EAAMK,QAAQ,GACzBD,WAAYJ,EAAMK,QAAQ,IAC1BC,YAAaN,EAAMK,QAAQ,MAZrB,GAeVkvC,SAAU,CACR1uC,QAASb,EAAMK,QAAQ,GACvBygC,aAAc9gC,EAAMK,QAAQ,QCiCjBmvC,OA1Cf,SAA0BvtC,GAAQ,IACxBwtC,EAAcxtC,EAAMmY,MAAMxC,OAA1B63B,UACFvsC,EAAUktB,KAEhB,OACE,yBAAK/sB,UAAWH,EAAQosC,YACtB,kBAAChsC,EAAA,EAAD,CAAOD,UAAWH,EAAQqsC,UACxB,kBAAC,GAAD,CACEhD,SAAW/1B,GAAOwC,UAAUrT,EAAOC,IAAIS,OAAOgB,0BAA2BooC,GACzEhD,OAAS,SAACiD,GAAD,OACP,kBAAC7G,GAAD,CACEljB,MAAM,mDACNyE,UAAW6kB,GACXziB,UAAWkjB,EAASv0B,QACpB5J,YAAa5L,EAAO4L,YACpBs0B,WAAYrvB,GAAOqH,kBACnBumB,UAAU,EACVD,WAAW,QAKnB,kBAAC7gC,EAAA,EAAD,CAAOD,UAAWH,EAAQqsC,UACxB,kBAAC,GAAD,CACEhD,SAAW/1B,GAAOwC,UAAUrT,EAAOC,IAAIS,OAAOiB,0BAA2BmoC,GACzEhD,OAAS,SAACiD,GAAD,OACP,kBAAC7G,GAAD,CACEljB,MAAM,mDACNyE,UAAW8kB,GACX1iB,UAAWkjB,EAASv0B,QACpB5J,YAAa5L,EAAO4L,YACpBs0B,WAAYrvB,GAAOqH,kBACnBumB,UAAU,EACVD,WAAW,UCRVwL,OA1Bf,SAAoC1tC,GAAQ,IAClCwtC,EAAcxtC,EAAMmY,MAAMxC,OAA1B63B,UACFvsC,EAAUktB,KAEhB,OACE,yBAAK/sB,UAAWH,EAAQosC,YACtB,kBAAChsC,EAAA,EAAD,CAAOD,UAAWH,EAAQqsC,UACxB,kBAAC,GAAD,CACEhD,SAAW/1B,GAAOwC,UAAUrT,EAAOC,IAAIS,OAAOkB,2BAA4BkoC,GAC1EhD,OAAS,SAACiD,GAAD,OACP,kBAAC7G,GAAD,CACEljB,MAAM,+DACNyE,UAAW+kB,GACX3iB,UAAWkjB,EAASv0B,QACpB5J,YAAa5L,EAAO4L,YACpBs0B,WAAYrvB,GAAOqH,kBACnBumB,UAAU,EACVD,WAAW,U,qBCSVyL,OA1Bf,SAAkC3tC,GAAQ,IAChCwtC,EAAcxtC,EAAMmY,MAAMxC,OAA1B63B,UACFvsC,EAAUktB,KAEhB,OACE,yBAAK/sB,UAAWH,EAAQosC,YACtB,kBAAChsC,EAAA,EAAD,CAAOD,UAAWH,EAAQqsC,UACxB,kBAAC,GAAD,CACEhD,SAAW/1B,GAAOwC,UAAUrT,EAAOC,IAAIS,OAAOmB,yBAA0BioC,GACxEhD,OAAS,SAACiD,GAAD,OACP,kBAAC7G,GAAD,CACEljB,MAAM,qEACNyE,UAAWglB,GACX5iB,UAAWkjB,EAASv0B,QACpB5J,YAAa5L,EAAO4L,YACpBs0B,WAAYrvB,GAAOqH,kBACnBumB,UAAU,EACVD,WAAW,UCSV0L,OA1Bf,SAAmC5tC,GAAQ,IACjCwtC,EAAcxtC,EAAMmY,MAAMxC,OAA1B63B,UACFvsC,EAAUktB,KAEhB,OACE,yBAAK/sB,UAAWH,EAAQosC,YACtB,kBAAChsC,EAAA,EAAD,CAAOD,UAAWH,EAAQqsC,UACxB,kBAAC,GAAD,CACEhD,SAAW/1B,GAAOwC,UAAUrT,EAAOC,IAAIS,OAAOoB,0BAA2BgoC,GACzEhD,OAAS,SAACiD,GAAD,OACP,kBAAC7G,GAAD,CACEljB,MAAM,yGACNyE,UAAWilB,GACX7iB,UAAWkjB,EAASv0B,QACpB5J,YAAa5L,EAAO4L,YACpBs0B,WAAYrvB,GAAOqH,kBACnBumB,UAAU,EACVD,WAAW,UCuBnB2L,G,YAEJ,WAAY7tC,GAAQ,IAAD,8BACjB,4CAAMA,KAOR8tC,mBAAqB,WAAO,IAClBr9B,EAAS,EAAKzQ,MAAdyQ,KACRmI,SAAS8K,MAAT,UAAoBjT,EAAK3M,GAAG6f,WAAa,GAAzC,sCAViB,EAanB8c,kBAAoB,WAAO,IACjBjqB,EAAa,EAAKxW,MAAMc,SAAxB0V,SACJA,EAASV,QAAQ,kBAAoB,EACvC,EAAKlV,SAAS,CAAEmtC,YAAa,IACpBv3B,EAASV,QAAQ,mBAAqB,EAC/C,EAAKlV,SAAS,CAAEmtC,YAAa,IACpBv3B,EAASV,QAAQ,iBAAmB,EAC7C,EAAKlV,SAAS,CAAEmtC,YAAa,IACpBv3B,EAASV,QAAQ,kBAAoB,GAC9C,EAAKlV,SAAS,CAAEmtC,YAAa,KAtBd,EA0BnBC,gBAAkB,SAACxd,EAAOyd,GACxB,EAAKrtC,SAAS,CAAEmtC,YAAaE,KAxB7B,EAAKhuC,MAAQ,CACX8tC,YAAa,GAJE,E,sEA8BT,IAAD,EACmBptC,KAAKX,MAAvBiB,EADD,EACCA,QAASwP,EADV,EACUA,KACTs9B,EAAgBptC,KAAKV,MAArB8tC,YAER,OACE,6BACE,6BACE,yBAAK3sC,UAAWH,EAAQitC,QAExB,kBAACC,GAAA,EAAD,CAAW/sC,UAAWH,EAAQklB,UAAY,IAAMllB,EAAQmtC,eACtD,kBAAC9sC,EAAA,EAAD,CAAQiiB,aAAW,SAASniB,UAAWH,EAAQpC,QAC5C4R,EAAK3M,GAAGjF,OACP,yBAAK2kB,IAAK/S,EAAK3M,GAAGjF,OAAQ4kB,IAAI,SAASriB,UAAWH,EAAQotC,cACxD,kBAAC,KAAD,CAAe9rC,MAAO,CAAChD,SAAU,QAEvC,yBAAKgD,MAAO,CAACpE,WAAY,MACvB,kBAACoD,EAAA,EAAD,CAAYC,QAAQ,UAAUsrC,cAAY,GACvCv4B,GAAOK,QAAQnE,EAAK3M,GAAG+f,WACpBpT,EAAK3M,GAAGggB,MACRrT,EAAK3M,GAAG+f,UAAUnD,KAAI,SAAAqD,GAAC,gBAAOA,EAAC,SAAR,YAAwBA,EAAC,SAAzB,aAA+D,IAAtBA,EAAC,aAA4B,WAAQ,OAAMC,QAEjH,kBAACziB,EAAA,EAAD,CAAYC,QAAQ,YAAYsrC,cAAY,GAAEr8B,EAAK3M,GAAG6f,cAI5D,kBAACwqB,GAAA,EAAD,CAAW/sC,UAAWH,EAAQklB,WAC5B,kBAACmoB,GAAA,EAAD,CAAM5tC,MAAOqtC,EAAa7rC,SAAUvB,KAAKqtC,iBACvC,kBAACO,GAAA,EAAD,CAAKxmB,MAAM,2BAAOzD,UAAWW,IAAMziB,GAAE,0BAAqBiO,EAAK3M,GAAGM,OAA7B,qBACrC,kBAACmqC,GAAA,EAAD,CAAKxmB,MAAM,2BAAOzD,UAAWW,IAAMziB,GAAE,0BAAqBiO,EAAK3M,GAAGM,OAA7B,sBACrC,kBAACmqC,GAAA,EAAD,CAAKxmB,MAAM,iCAAQzD,UAAWW,IAAMziB,GAAE,0BAAqBiO,EAAK3M,GAAGM,OAA7B,oBACtC,kBAACmqC,GAAA,EAAD,CAAKxmB,MAAM,iCAAQzD,UAAWW,IAAMziB,GAAE,0BAAqBiO,EAAK3M,GAAGM,OAA7B,uBAG1C,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOoqC,OAAK,EAACC,KAAK,4CAA4CnqB,UAAWipB,KACzE,kBAAC,IAAD,CAAOiB,OAAK,EAACC,KAAK,6CAA6CnqB,UAAWopB,KAC1E,kBAAC,IAAD,CAAOc,OAAK,EAACC,KAAK,2CAA2CnqB,UAAWqpB,KACxE,kBAAC,IAAD,CAAOa,OAAK,EAACC,KAAK,4CAA4CnqB,UAAWspB,KACzE,kBAAC,IAAD,CAAOtpB,UAAWylB,W,GAtEPtkB,IAAMhjB,WA6EZC,QA3GA,SAAC3E,GAAD,MAAY,CACzBmwC,MAAO,CACLtkB,OAAQ,IACRlqB,SAAU,WACVgvC,eAAgB,QAChBC,iBAAkB,YAClBC,mBAAoB,SACpB/oB,gBAAgB,OAAD,OAASgpB,KAAT,MAEjB1oB,UAAW,CACT+S,SAAU,QAEZkV,cAAe,CACb1uC,SAAU,WACV+pC,WAAY1rC,EAAMK,QAAQ,GAC1BopC,cAAezpC,EAAMK,QAAQ,IAE/BS,OAAQ,CACNZ,MAAO,IACP2rB,OAAQ,IACRlqB,SAAU,WACVC,KAAM,IAER0uC,YAAa,CACXlV,UAAW,IACXD,SAAU,IACVoG,cAAe,aAiFJ58B,CAAmBmrC,ICxHnBlvB,gBAJS,SAAC1e,EAAO2e,GAAR,MAAsB,CAC5CnO,KAAMxQ,EAAMwQ,QAG0B,KAAzBkO,CAA+BkvB,I,oBCHxCiB,GAAal2B,SAAS2B,cAAc,OAC1C3B,SAASmF,KAAKyN,YAAYsjB,IAEX,QACb9F,QAAS,SAAU+F,GACjBpuC,KAAKquC,MAAMD,EAAK,YAGlBttC,MAAO,SAAUstC,GACfpuC,KAAKquC,MAAMD,EAAK,UAGlBE,QAAS,SAAUF,GACjBpuC,KAAKquC,MAAMD,EAAK,YAGlBG,KAAM,SAAUH,GACdpuC,KAAKquC,MAAMD,EAAK,SAGlBC,MAAO,SAAUD,EAAKvtC,GACpB,IAAM2tC,EAAUC,wBAAa,YAAkC,IAA/BjxB,EAA8B,EAA9BA,QAE9B,OADAkxB,EAD4D,EAArBA,iBACvBlxB,EAAS,CAAE3c,YACpB,QAET8tC,IAAS9E,OACP,kBAAC,mBAAD,CAAkB+E,SAAU,EAAGC,aAAc,CAACC,WAAY,QAASC,SAAU,QAC3E,kBAACP,EAAD,CAAShxB,QAAS4wB,EAAKvtC,QAASA,KAElCstC,MCoBAa,G,YAEJ,WAAY3vC,GAAQ,IAAD,8BACjB,4CAAMA,KAQRsiB,WAAa,WACX,EAAK1hB,SAAS,CAAC4hB,MAAM,KAVJ,EAanBC,YAAc,WACZ,EAAK7hB,SAAS,CAAC4hB,MAAM,KAdJ,EAiBnBotB,WAAa,WACX,EAAKhvC,UAAS,SAAAX,GAAK,MAAK,CAAE4vC,MAAO5vC,EAAM4vC,UAlBtB,EAqBnBC,aAAe,WACb,EAAKlvC,SAAS,CACZ4hB,MAAO,EAAKviB,MAAMuiB,QAvBH,EA2BnButB,uBAAyB,SAAC9L,GAAQ,IACxB+L,EAAuB,EAAKhwC,MAA5BgwC,mBACR3zB,GAAKK,SAASnI,GAAOwC,UAAUrT,EAAOC,IAAIE,QAAQK,kBAAmB+/B,IAAK7mB,MAAK,SAACpL,GAC9Eg+B,EAAmBh+B,MAClBqmB,OAAM,SAAA/J,GACPya,GAAMtnC,MAAM6sB,EAAOxpB,YA7BrB,EAAK7E,MAAQ,CACXuiB,MAAM,EACNqtB,MAAM,GALS,E,sEAoCT,IAAD,SAC4BlvC,KAAKX,MAAhCiB,EADD,EACCA,QAASuP,EADV,EACUA,cADV,EAEgB7P,KAAKV,MAApBuiB,EAFD,EAECA,KAAMqtB,EAFP,EAEOA,KACRI,EAAez/B,EAAgBA,EAAcM,QAAO,SAAAqG,GAAC,OAAqB,IAAjBA,EAAC,WAAuBnG,OAAS,EAC1FkI,EAAU1I,EAAgBA,EAAcM,QAAO,SAAAqG,GAAC,OAAIA,EAAC,UAAgB04B,KAAQ,GAEnF,OACE,kBAACK,GAAA,EAAD,CAAQC,OAAO,QAAQ3tB,KAAMA,EAAMiW,QAAS93B,KAAK8hB,aAC/C,kBAAC2tB,GAAA,EAAD,CAAQ1wC,SAAS,SAASJ,MAAM,WAC9B,kBAACijC,GAAA,EAAD,KACE,kBAAChhC,EAAA,EAAD,CAAYC,QAAQ,KAAKJ,UAAWH,EAAQyiB,OACzCusB,EAAe,EACd,kBAACI,GAAA,EAAD,CAAOC,aAAcL,EAAc3wC,MAAM,aAAzC,4BAGE,4BAEN,0BAAMiD,MAAO,CAAClE,YAAa,KACzB,kBAACkyC,GAAA,EAAD,CAAQ9f,SAAUof,EAAM3tC,SAAUvB,KAAKivC,cAEzC,kBAACpqB,GAAA,EAAD,CAAYgrB,KAAK,QAAQlxC,MAAM,UAAUgD,QAAS3B,KAAK8hB,aACrD,kBAAC,KAAD,SAIN,kBAAC0B,GAAA,EAAD,CAAM/iB,UAAWH,EAAQmjB,UACtBlL,EAAQlI,OAAS,EAChB,oCACGkI,EAAQwH,KAAI,SAACE,EAAM5L,GAAP,OACX,kBAAC,IAAM9T,SAAP,CAAgB8T,IAAKA,GACnB,kBAACuP,GAAA,EAAD,KACE,+BACE,+BACE,4BACE,4BAAK3D,EAAK8C,OACV,wBAAInhB,MAAO,CAACtE,MAAO,KAChB2iB,EAAK6vB,QACJ,kBAACnrB,GAAA,EAAD,CAAS5B,MAAM,iCAAQX,UAAU,SAASwC,WAAY,KACpD,kBAAC8qB,GAAA,EAAD,CACEC,aAAc,eACdhxC,MAAM,UACN8B,UAAWH,EAAQyvC,MACnBpuC,QAAS,kBAAM,EAAKytC,uBAAuBnvB,EAAK5e,QAIpD,kBAACsjB,GAAA,EAAD,CAAS5B,MAAM,iCAAQX,UAAU,SAASwC,WAAY,KACpD,kBAAC8qB,GAAA,EAAD,CACEC,aAAc,eACdhxC,MAAM,YACN8B,UAAWH,EAAQyvC,MACnBpuC,QAAS,kBAAM,EAAKytC,uBAAuBnvB,EAAK5e,WAO5D,+BACE,4BACE,wBAAI0yB,QAAS,GAAI9T,EAAK2Y,WAG1B,+BACE,4BACE,wBAAI7E,QAAS,GAAIngB,GAAOmD,WAAWkJ,EAAK+vB,WAAY,yBAK5D,kBAACtsB,GAAA,EAAD,WAKN,kBAAC9iB,EAAA,EAAD,CAAYH,UAAWH,EAAQ2vC,QAASz+B,GAASC,KAAKC,wB,GAjHtCoT,IAAMhjB,WAyHnBC,iBA3JA,SAAA3E,GAAK,MAAK,CACvB2lB,MAAO,CACL8lB,SAAU,GAEZplB,SAAU,CACRnmB,MAAOF,EAAMK,QAAQ,IACrB,UAAW,CACT0gC,cAAe,EACf7gC,MAAO,QAET,gBAAiB,CACfsB,SAAU,IAEZ,gBAAiB,CACfA,SAAU,GACV2vB,WAAY,QAEd,mBAAoB,CAClB3vB,SAAU,GACVO,UAAW,UAGf4wC,MAAO,CACL7hB,OAAQ,UACR,SAAU,CACR5wB,MAAO,GACPsB,SAAU,KAGdqxC,OAAQ,CACN9xC,OAAQf,EAAMK,QAAQ,OA6HXsE,CAAmBitC,IC1JnBhxB,gBAhBS,SAAC1e,EAAO2e,GAAR,MAAsB,CAC5C1O,SAAUjQ,EAAMkQ,KAAKD,SACrBO,KAAMxQ,EAAMwQ,SAGa,SAAA8F,GACzB,MAAO,CACLs6B,gBADK,SACWlgC,GACd4F,EvDyByB,SAAC5F,GAAD,MAAmB,CAChDxO,KAAMa,EAAcK,iBACpBsN,gBuD3BakgC,CAAgBlgC,KAE3Bq/B,mBAJK,SAIcr/B,GACjB4F,EvD+B4B,SAAC5F,GAAD,MAAmB,CACnDxO,KAAMa,EAAcM,oBACpBqN,gBuDjCaq/B,CAAmBr/B,QAKnBgO,CAA6CgxB,IC8G7CmB,G,YA5Gb,WAAY9wC,GAAQ,IAAD,8BACjB,4CAAMA,KAKRygC,kBAAoB,WAClBtmB,OAAOuH,QAAU,EAAK1hB,MAAM0hB,QAC5B9I,SAAS8K,MAAQ,EAAK1jB,MAAM0hB,SARX,EAWnBqvB,gBAAkB,WAChB,EAAK/wC,MAAMgxC,oBAZM,EAenBC,wBAA0B,SAACzgB,GACrB,EAAK0gB,oBACP,EAAKA,mBAAmB,EAAKC,WAjBd,EAqBnBC,sBAAwB,SAAC5gB,GACnB,EAAK6gB,kBACP,EAAKA,iBAAiB,EAAKF,WAvBZ,EA2BnBG,0BAA4B,WACtB,EAAKC,mBACP,EAAKA,qBA1BP,EAAKR,gBAAkB,EAAKA,gBAAgB1wC,KAArB,gBAHN,E,sEAiCT,IAAD,SAC4CM,KAAKX,MAAhDiB,EADD,EACCA,QAASiP,EADV,EACUA,SAAUO,EADpB,EACoBA,KAAMiR,EAD1B,EAC0BA,QAASc,EADnC,EACmCA,KAE1C,OACE,kBAAC4tB,GAAA,EAAD,CACE1wC,SAAS,QACT0B,UAAWohC,KAAWvhC,EAAQuwC,OAAQhvB,GAAQvhB,EAAQwwC,cAEtD,kBAAClP,GAAA,EAAD,CAASmP,gBAAiBlvB,EAAMjgB,MAAO,CAAC88B,aAAc,IAAKiJ,IAAK,SAAAqJ,GAAG,OAAK,EAAKR,SAAWQ,IACtF,kBAACnsB,GAAA,EAAD,CACElmB,MAAM,UACNikB,aAAW,cACXjhB,QAAS3B,KAAKowC,gBACd3vC,UAAWohC,KAAWvhC,EAAQ2wC,WAAYpvB,GAAQvhB,EAAQ4wC,OAE1D,kBAAC,KAAD,OAEF,kBAACtwC,EAAA,EAAD,CAAYC,QAAQ,KAAKlC,MAAM,UAAUwyC,QAAM,EAAC1wC,UAAWH,EAAQ8wC,MAChErwB,GAEDxR,EACA,yBAAK3N,MAAO,CAAEomB,WAAY,WACxB,0BAAMpmB,MAAO,CAACyvC,MAAO,SACnB,kBAACxsB,GAAA,EAAD,CAAYlmB,MAAM,UAAUgD,QAAS3B,KAAKswC,yBACvCxgC,EAAKD,eAAiBC,EAAKD,cAAcM,QAAO,SAAAqG,GAAC,OAAqB,IAAjBA,EAAC,WAAuBnG,OAAS,EACrF,kBAACq/B,GAAA,EAAD,CAAOC,aAAc7/B,EAAKD,cAAcM,QAAO,SAAAqG,GAAC,OAAqB,IAAjBA,EAAC,WAAuBnG,OAAQ1R,MAAM,aACxF,kBAAC,KAAD,OAGF,kBAAC,KAAD,OAGJ,kBAAC,GAAD,CACEkR,cAAeC,EAAKD,cACpB2kB,SAAU,SAAAnS,GACR,EAAKkuB,mBAAqBluB,GAAUA,EAAOV,eAIjD,kBAACygB,GAAA,EAAD,CAAmBC,YAAariC,KAAK2wC,2BACnC,8BACG7gC,EAAK3M,GAAGjF,OACP,kBAAC2mB,GAAA,EAAD,CAAYlmB,MAAM,UAAUiD,MAAO,CAAC3D,QAAS,GAAI0D,QAAS3B,KAAKywC,uBAC7D,kBAAC9vC,EAAA,EAAD,CAAQiiB,aAAW,SAASniB,UAAWH,EAAQpC,OAAQ0D,MAAO,CAACtE,MAAO,GAAI2rB,OAAQ,KAChF,yBAAKpG,IAAK/S,EAAK3M,GAAGjF,OAAQ4kB,IAAI,SAASxlB,MAAO,OAIlD,kBAACunB,GAAA,EAAD,CAAYlmB,MAAM,UAAUgD,QAAS3B,KAAKywC,uBACxC,kBAAC,KAAD,OAGJ,kBAAC,GAAD,CACEjc,SAAU,SAAAnS,GACR,EAAKquB,iBAAmBruB,GAAUA,EAAOV,WACzC,EAAKivB,kBAAoBvuB,GAAUA,EAAOP,kBAOpD,kBAACpgB,EAAA,EAAD,CAAQiiB,UAAWW,IAAM3lB,MAAM,UAAUkD,GAAG,UAA5C,e,GAjGSijB,IAAMhjB,W,UCoCZC,qBA/CA,SAAA3E,GAAK,MAAK,CACvB27B,KAAM,CACJqT,eAAgB,SAChBkF,SAAU,QAEZzzC,MAAO,CACLI,QAAQ,GAAD,OAAKb,EAAMK,QAAQ,GAAnB,cAA8C,EAAnBL,EAAMK,QAAQ,GAAzC,OAET8zC,YAAa,CACX3yC,SAAU,OACV,MAAO,CACLA,SAAU,YAoCDmD,EA/Bf,SAAwB1C,GAAQ,IACtBiB,EAAyBjB,EAAzBiB,QAASixC,EAAgBlyC,EAAhBkyC,YAEjB,OAAI39B,GAAOK,QAAQs9B,GACV,KAGL,yBAAK9wC,UAAWH,EAAQy4B,MACtB,kBAACr4B,EAAA,EAAD,CAAOD,UAAWH,EAAQzC,OACxB,kBAAC2zC,GAAA,EAAD,CAAaC,UAAU,SAAIC,cAAY,aAAajxC,UAAWH,EAAQixC,aACnEA,EAAYxxB,KAAI,SAAC4xB,EAAOt9B,GACxB,OACEs9B,EAAMjnB,KACJ,kBAAC,IAAD,CAAMrW,IAAKA,EAAKxS,GAAI8vC,EAAMjnB,MAAOinB,EAAM7xC,MAEvC,kBAACc,EAAA,EAAD,CAAYyT,IAAKA,EAAK1V,MAAM,eAAegzC,EAAM7xC,eCnCpD,SAAS8xC,GAAgBC,EAAkBC,GACxD,mBAEE,WAAYzyC,GAAQ,IAAD,8BACjB,4CAAMA,KAQR0yC,UAAY,SAACv0B,GACX,EAAKvd,SAAS,CAAEa,OAAO,EAAM4oC,cAAelsB,KAP5C,EAAKle,MAAQ,CACXwB,OAAO,EACP4oC,cAAel4B,GAASG,MAAMW,kBALf,EAFrB,sEAeY,IAAD,EAC0BtS,KAAKV,MAA9BwB,EADD,EACCA,MAAO4oC,EADR,EACQA,cAWf,OARc,IAAV5oC,IAEOqT,MAAMC,QAAQ09B,GAEZA,EAAW3hC,QAAO,SAAAoF,GAAI,OAA6B,IAAzB3B,GAAO0B,QAAQC,MAAgBlF,OAAS,EAEnEuD,GAAO0B,QAAQw8B,IAGlB,kBAACD,EAAD,iBAAsB7xC,KAAKX,MAA3B,CAAkC0yC,UAAW/xC,KAAK+xC,aAGvD,kBAAC9I,GAAD,CACEF,WAAY,IACZvrB,QAASksB,QAjCnB,GAAqB5kB,IAAMhjB,WAyCtB,SAASkwC,GAAQ3yC,GAAQ,IACtByyC,EAAyBzyC,EAAzByyC,WAAYzsB,EAAahmB,EAAbgmB,SACpB,OAAIlR,MAAMC,QAAQ09B,GACCA,EAAW3hC,QAAO,SAAAoF,GAAI,OAA6B,IAAzB3B,GAAO0B,QAAQC,MAAgBlF,OAAS,EAEjF,kBAAC,IAAM9P,SAAP,KACG8kB,GAED,KACKzR,GAAO0B,QAAQw8B,GAEtB,kBAAC,IAAMvxC,SAAP,KACG8kB,GAIE,K,yBCvDX,SAAS4sB,GAAT,GAAsD,IAA9BC,EAA6B,EAA7BA,KAAMh1B,EAAuB,EAAvBA,KAAMwN,EAAiB,EAAjBA,KAASpF,EAAQ,uCACnD,OACE,4BACE,uBAAG7kB,UAAU,OACb,yBAAKA,UAAU,kBACb,0BAAMA,UAAU,QACd,uBAAGA,UAAU,mBACM,IAAlB6kB,EAAK6sB,SAAoBD,EAAO,MAEnC,yBAAKzxC,UAAU,oBACZiqB,EACC,kBAAC,IAAD,CAAM7oB,GAAI6oB,GAAOxN,GACfA,KAOd+0B,GAAahf,aAAe,GAObgf,UChCFzkB,GAAYC,aAAW,CAClC2kB,aAAc,CACZjzC,UAAW,OACXJ,SAAU,WACV,sBAAuB,CACrBA,SAAU,WACVC,IAAK,EACLqzC,OAAQ,QACR/0C,MAAO,MACP07B,WAAY,UACZ/5B,KAAM,OACNw5B,aAAc,OAEhB,eAAgB,CACdt6B,OAAQ,YACRF,QAAS,EACTgnB,UAAW,OACX,kBAAmB,CACjB,WAAY,CACV0K,WAAY,IACZ1xB,QAAS,WACTV,QAAS,eACT2nB,gBAAiB,oDACjBvmB,MAAO,OACP85B,aAAc,MACd75B,SAAU,SAGd,SAAU,CACRG,SAAU,WACVm/B,aAAc,OACdxgC,YAAa,EACb+gC,OAAQ,EACR,sBAAuB,CACrB,qBAAsB,+BACtB6T,UAAW,+BACX7Z,aAAc,MACdO,WAAY,OACZr6B,MAAO,OACPjB,YAAa,OACbqB,SAAU,WACVvB,WAAY,OACZ,wBAAyB,CACvBoB,SAAU,OACVX,QAAS,YAMX,UAAW,CACTW,SAAU,OACVX,QAAS,WACTU,MAAO,OACP0yC,MAAO,SAET,sBAAuB,CACrBlzC,OAAQ,EACRQ,MAAO,OACP2vB,aAAc,oBACdC,WAAY,QAGhB,UAAW,CACTxvB,SAAU,WACV05B,aAAc,MACdn7B,MAAO,OACP2rB,OAAQ,OACRtqB,MAAO,OACPq6B,WAAY,UACZ/5B,KAAM,OACND,IAAK,MACLgmB,OAAQ,oBACRznB,QAAS,eACTghC,UAAW,mBC1CrB,SAASgU,GAAT,GAAgD,IAA5BriC,EAA2B,EAA3BA,MAAOsiC,EAAoB,EAApBA,QAAYltB,EAAQ,oCACvChlB,EAAUktB,KACVilB,EAvBR,SAA0BviC,EAAOsiC,GAC/B,IAAMC,EAAa,GAiBnB,OAhBAviC,EAAMoZ,SAAQ,WAA6BtJ,GAAW,IAArCP,EAAoC,EAApCA,MAAOC,EAA6B,EAA7BA,IAAKxC,EAAwB,EAAxBA,KAAMwN,EAAkB,EAAlBA,KAC3BgoB,EAAaC,KAAOlzB,GACtBmzB,EAAUF,EAAWr8B,OAAO,cAChC,IAAgB,IAAZm8B,GAAoB9yB,EAAK,CAC3B,IAAMmzB,EAAWF,KAAOjzB,GACxBkzB,EAAO,UAAMA,EAAN,iBAAiBC,EAASx8B,OAAO,eAE1C,IAAM1S,EAAO8uC,EAAWG,IAAY,GACpCjvC,EAAKoM,KAAK,CACRmiC,KAAMQ,EAAWr8B,OAAO,SACxB6G,OACAwN,OACArW,IAAK2L,IAEPyyB,EAAWG,GAAWjvC,KAEjB8uC,EAKYK,CAAiB5iC,EAAOsiC,GACrCO,EAAQziC,OAAOwW,KAAK2rB,GAE1B,OACE,yBAAKhyC,UAAWH,EAAQ8xC,cACrBW,EAAMhzB,KAAI,SAAA1F,GAAC,OACV,kBAAC,IAAM9Z,SAAP,CAAgB8T,IAAKgG,GACnB,yBAAK5Z,UAAU,qBACf,wBAAIA,UAAU,aACZ,wBAAIA,UAAU,cACZ,8BAAO4Z,IAERo4B,EAAWp4B,GAAG0F,KAAI,gBAAGmyB,EAAH,EAAGA,KAAMh1B,EAAT,EAASA,KAAMwN,EAAf,EAAeA,KAAMrW,EAArB,EAAqBA,IAArB,OACjB,kBAAC,GAAD,eAAc69B,KAAMA,EAAMh1B,KAAMA,EAAM7I,IAAKA,EAAKqW,KAAMA,GAAUpF,aAqB9EitB,GAAStf,aAAe,CACtBkf,UAAU,EACVK,SAAS,GAGID,ICzEAA,GDyEAA,GEpDTS,G,iLAEM,IAAD,EAC6DhzC,KAAKX,MAAjEiB,EADD,EACCA,QAASyiB,EADV,EACUA,MAAOE,EADjB,EACiBA,UAAW5R,EAD5B,EAC4BA,KAAM4hC,EADlC,EACkCA,cAAe5Y,EADjD,EACiDA,QAExD,OACE,kBAAC7X,GAAA,EAAD,KACE,kBAACG,GAAA,EAAD,CACEI,MAAOA,EACPE,UAAWA,EACXqkB,qBAAsB,CAAEnO,MAAO,UAC/B14B,UAAWH,EAAQ4yC,aAErB,kBAAC5vB,GAAA,EAAD,KACE,yBAAK7iB,UAAWH,EAAQ6yC,aACtB,kBAACvyC,EAAA,EAAD,CAAY+iB,UAAU,KAAK9iB,QAAQ,KAAKlC,MAAM,eAC3C0S,EAAK4rB,OAER,kBAACr8B,EAAA,EAAD,CAAYC,QAAQ,KAAKlC,MAAM,iBAC5B0S,EAAKmM,UAGV,4BACGy1B,EAAclzB,KAAI,SAACE,EAAM5L,GAAP,OACjB,kBAACzT,EAAA,EAAD,CAAYyT,IAAKA,EAAKsP,UAAU,KAAK9iB,QAAQ,YAAYs4B,MAAM,UAC5DlZ,EAAKgd,MAAOhd,EAAKzC,cAK1B,kBAACgH,GAAA,EAAD,CAAaC,gBAAc,GACxB4V,Q,GA/BcvV,IAAMhjB,WAkD/BkxC,GAAW/f,aAAe,CACxBggB,cAAe,IAGFlxC,YAlEA,SAAC3E,GAAD,MAAY,CACzB81C,WAAY,CACV90C,gBAAiBhB,EAAMiB,QAAQ+4B,KAAK,MAEtC+b,YAAa,CACX51C,QAAS,OACT6uC,eAAgB,SAChBpuC,WAAY,WACZkgC,aAAc9gC,EAAMK,QAAQ,OA0DjBsE,CAAmBixC,I,mBCzE5B7E,GAAal2B,SAAS2B,cAAc,OAC1C3B,SAASmF,KAAKyN,YAAYsjB,IAE1B,IAAMiF,GAAgB,WAIpB,MAAO,CACLp0C,IAAI,GAAD,OAJO,GAIP,KACHC,KAAK,GAAD,OAJO,GAIP,KACJo0C,UAAU,cAAD,OANC,GAMD,eALE,GAKF,MACT7a,UAAU,GAAD,OAAKhf,OAAO4mB,YAAZ,MACThS,SAAU,WAIRZ,GAAYC,cAAW,SAACrwB,GAAD,MAAY,CACvCS,MAAO,CACLkB,SAAU,WACVX,gBAAiBhB,EAAMiB,QAAQ26B,WAAWn7B,MAC1CmnB,OAAQ,iBACRstB,UAAWl1C,EAAMk2C,QAAQ,GACzBr1C,QAASb,EAAMK,QAAQ,EAAG,EAAG,GAC7B,QAAS,CACP86B,SAAU,UAKZ5W,GAAa,KAEX4xB,GAAa,SAACl0C,GAClB,IAAMiB,EAAUktB,KADY,EAEP1I,IAAM0uB,SAASJ,IAA7BK,EAFqB,uBAGJ3uB,IAAM0uB,UAAS,GAHX,oBAGrB3xB,EAHqB,KAGf6xB,EAHe,KAK5B/xB,GAAa,WACX+xB,GAAQ,IAOV,OACE,kBAACC,GAAA,EAAD,CACE9xB,KAAMA,EACNiW,QAPgB,WAClB4b,GAAQ,KAQN,yBAAK9xC,MAAO6xC,EAAYhzC,UAAWH,EAAQzC,OACzC,yBAAKilB,IAAKzjB,EAAMS,KAAM+iB,IAAK,yBAA2BxjB,EAAM8Z,UCtDpE,IAiCey6B,GAjCG,CAChBnxB,KAAM,CACJuC,OAAQ,IACRkZ,aAAc,OACdpgC,UAAW,OACX26B,aAAc,MACd95B,MAAO,sBACPq6B,WAAY,OACZ17B,MAAO,OACPg1C,UAAW,kCACXvzC,SAAU,WACVxB,QAAS,OACTQ,cAAe,SACf2xB,SAAU,IACVmkB,SAAU,aACVj1C,SAAU,WAEZk1C,UAAW,CACT9a,WAAY,cACZsZ,UAAW,QAEbyB,YAAa,CACXj2C,UAAW,OACXqB,UAAW,UAEb60C,UAAW,CACT,MAAO,CACLl2C,UAAW,MACXgrC,WAAY,SCgBH/mC,WAAW6xC,GAAX7xC,EAhCf,YAA6B,IAAD,EAAT1C,EAAS,mBAExBiB,EAOEjB,EAPFiB,QACAG,EAMEpB,EANFoB,UACA4kB,EAKEhmB,EALFgmB,SACA4uB,EAIE50C,EAJF40C,MACAC,EAGE70C,EAHF60C,QACAC,EAEE90C,EAFF80C,MACG7uB,EARqB,aAStBjmB,EATsB,8DAUpB+0C,EAAcvS,MAAU,mBAC3BvhC,EAAQmiB,MAAO,GADY,cAE3BniB,EAAQwzC,UAAYG,GAFO,cAG3B3zC,EAAQyzC,YAAcG,GAHK,cAI3B5zC,EAAQ0zC,UAAYG,GAJO,cAK3B1zC,OAA0BsT,IAAdtT,GALe,IAO9B,OACE,uCAAKA,UAAW2zC,GAAiB9uB,GAC9BD,MCRQgvB,GAvBS,CACtBC,WAAY,CACV,0BAA2B,CACzBh3C,MAAO,OACP2rB,OAAQ,SAGZsrB,kBAAmB,CACjBhc,SAAU,QACVC,UAAW,QACXr6B,OAAQ,eACRs6B,aAAc,MACdrK,SAAU,SACVnwB,QAAS,IACTq0C,UACE,gHACF,oBAAqB,CACnBx0C,UAAW,MAGf02C,gBAAiB,ICcJzyC,WAAWsyC,GAAXtyC,EAtBf,YAAmC,IAAD,EAAT1C,EAAS,mBACxBiB,EAA0DjB,EAA1DiB,QAAS+kB,EAAiDhmB,EAAjDgmB,SAAU5kB,EAAuCpB,EAAvCoB,UAAWwzC,EAA4B50C,EAA5B40C,MAAOC,EAAqB70C,EAArB60C,QAAY5uB,EADzB,aACkCjmB,EADlC,sDAE1Bo1C,EAAoB5S,MAAU,mBACjCvhC,EAAQg0C,YAAa,GADY,cAEjCh0C,EAAQi0C,kBAAoBL,GAFK,cAGjC5zC,EAAQk0C,gBAAkBP,GAHO,cAIjCxzC,OAA0BsT,IAAdtT,GAJqB,IAMpC,OACE,uCAAKA,UAAWg0C,GAAuBnvB,GACpCD,MCNQqvB,GAhBO,CACpBC,SAAU,CACR12C,QAAS,iBACTymB,KAAM,WACNkwB,cAAe,IACf71C,SAAU,YAEZ81C,cAAe,CACb1vB,YAAa,MACbuZ,aAAc,OAEhBoW,gBAAiB,CACfh3C,UAAW,SCsBAiE,WAAW2yC,GAAX3yC,EAtBf,YAAiC,IAAD,EAAT1C,EAAS,mBACtBiB,EAA0DjB,EAA1DiB,QAASG,EAAiDpB,EAAjDoB,UAAW4kB,EAAsChmB,EAAtCgmB,SAAU4uB,EAA4B50C,EAA5B40C,MAAOC,EAAqB70C,EAArB60C,QAAY5uB,EAD3B,aACoCjmB,EADpC,sDAExB01C,EAAkBlT,MAAU,mBAC/BvhC,EAAQq0C,UAAW,GADY,cAE/Br0C,EAAQu0C,cAAgBZ,GAFO,cAG/B3zC,EAAQw0C,gBAAkBZ,GAHK,cAI/BzzC,OAA0BsT,IAAdtT,GAJmB,IAMlC,OACE,uCAAKA,UAAWs0C,GAAqBzvB,GAClCD,MCsBQ2vB,GA5CS,CACtBC,WAAY,CACVh3C,QAAS,IACT6qC,WAAY,OACZ3qC,OAAQ,cACRs6B,aAAc,IACd2T,eAAgB,gBAChBpuC,WAAY,SACZT,QAAS,OACTa,gBAAiB,cACjB4mB,OAAQ,KAEVkwB,kBAAmB,CACjBp3C,UAAW,SAEbq3C,gBAAiB,CACfhwB,YAAa,MACbuZ,aAAc,MACdtgC,gBAAiB,eAEnBg3C,gBAAiB,CACfC,UAAW,iBACXv3C,UAAW,OACX,QAAS,CACPiB,SAAU,WACVC,IAAK,MACLtB,YAAa,MACbF,WAAY,MACZF,MAAO,OACP2rB,OAAQ,QAEV,gDAAiD,CAC/CrqB,SAAU,OACVG,SAAU,WACVC,IAAK,MACLtB,YAAa,MACbF,WAAY,QAGhB83C,gBAAiB,CACfD,UAAW,mBCOAtzC,WAAWizC,GAAXjzC,EAnCf,YAAmC,IAAD,EAAT1C,EAAS,mBAE9BiB,EAQEjB,EARFiB,QACAG,EAOEpB,EAPFoB,UACA4kB,EAMEhmB,EANFgmB,SACA4uB,EAKE50C,EALF40C,MACAC,EAIE70C,EAJF60C,QACAqB,EAGEl2C,EAHFk2C,MACApB,EAEE90C,EAFF80C,MACG7uB,EAT2B,aAU5BjmB,EAV4B,sEAW1Bm2C,EAAoB3T,MAAU,mBACjCvhC,EAAQ20C,YAAa,GADY,cAEjC30C,EAAQ60C,gBAAkBlB,GAFO,cAGjC3zC,EAAQ40C,kBAAoBhB,GAHK,cAIjC5zC,EAAQ80C,gBAAkBG,GAJO,cAKjCj1C,EAAQg1C,gBAAkBnB,GALO,cAMjC1zC,OAA0BsT,IAAdtT,GANqB,IAQpC,OACE,uCAAKA,UAAW+0C,GAAuBlwB,GACpCD,M,6jBCbP,IA6BMmY,GAAc,CAClBC,WAAY,6CACZ9N,WAAY,MACZpB,WAAY,SAyCRknB,GAAiB,IACrBzc,WAAY,4CAlBW,CACvBsZ,UACE,yHAmBEoD,GAAiB,IACrB1c,WAAY,4CA1BW,CACvBsZ,UACE,yHA2BEqD,GAAgB,IACpB3c,WAAY,4CAtBU,CACtBsZ,UACE,yHAuBEsD,GAAc,IAClB5c,WAAY,4CAtCQ,CACpBsZ,UACE,yHAuCEuD,GAAiB,IACrB7c,WAAY,4CA9CW,CACvBsZ,UACE,2HA+CEwD,GAAc,IAClB9c,WAAY,4CA9BQ,CACpBsZ,UACE,+EA+BEyD,GAAe,IACnB/c,WAAY,4CA9BS,CACrBsZ,UACA,6EAuDIvvB,IAvBW,IACf5kB,OAAQ,cACR2qC,WAAY,OACZuM,UAAW,oBACXpsB,OAAQ,QACLuU,IAkBS,CACZ7+B,MAAO,UACPq3C,eAAgB,OAChBrmB,WAAY,MACZ7xB,UAAW,OACXogC,aAAc,OACdsE,UAAW,OACX/E,WAAY,6CACZ,UAAW,CACT9+B,MAAO,OACPgxB,WAAY,MACZpB,WAAY,OA2BV0nB,IAvBS,MACVlzB,GADU,CAEbjlB,UAAW,IACXogC,aAAc,MACdsE,UAAW,OACX,MAAM,MACDzf,GADL,CAEEjlB,UAAW,UACXogC,aAAc,UACdsE,UAAW,WAcM,CACnB1kC,UAAW,GACXG,QAAS,K,6jBChLX,IAuHei4C,GAvHS,CACtBhD,WAAY,CACVj1C,QAAS,kBACTigC,aAAc,IACd5P,aAAc,OACd0K,WAAY,cACZyF,OAAQ,eACR,0LAA2L,CACzLtgC,OAAQ,SACRF,QAAS,IACTc,SAAU,WACVJ,MAAO,WAET,gBAAiB,CACf85B,aAAc,6CAEhB,qIAAsI,CACpI,yBAA0B,CACxBA,aAAc,MACd36B,UAAW,QACXG,QAAS,SAGb,wBAAyB,CACvBW,SAAU,OACV2vB,WAAY,OACZpvB,UAAW,SACX7B,MAAO,OACP2rB,OAAQ,OACR9qB,OAAQ,iBAEV,wDAAyD,CACvDS,SAAU,OACV2vB,WAAY,OACZjxB,MAAO,OACP2rB,OAAQ,OACR9pB,UAAW,SACXivB,SAAU,QACV8P,aAAc,OAEhB,mCAAoC,CAClC/+B,UAAW,UAGfg3C,gBAAiB,CACf34C,WAAY,iBACZE,YAAa,kBAEf04C,gBAAiB,CACf,oBAAqB,CACnBj3C,UAAW,SAEb,gCAAiC,CAC/BhB,OAAQ,iBAGZk4C,eAAgB,CACd,qIAAsI,CACpIrd,WAAY,cACZsZ,UAAW,QAEb,wBAAyB,CACvBh1C,MAAO,OACP2rB,OAAQ,OACR9pB,UAAW,SACXovB,WAAY,QAEd,QAAS,CACPjxB,MAAO,OACP2rB,OAAQ,OACR9pB,UAAW,SACXovB,WAAY,OACZpwB,OAAQ,gBAGZs3C,kBAAmB,CACjB92C,MAAO,UACP,yBAAyB,MACpB82C,KAGPC,kBAAmB,CACjB/2C,MAAO,UACP,yBAAyB,MACpB+2C,KAGPC,iBAAkB,CAChBh3C,MAAO,UACP,yBAAyB,MACpBg3C,KAGPC,eAAgB,CACdj3C,MAAO,UACP,yBAAyB,MACpBi3C,KAGPC,kBAAmB,CACjBl3C,MAAO,UACP,yBAAyB,MACpBk3C,KAGPC,eAAgB,CACdn3C,MAAO,UACP,yBAAyB,MACpBm3C,KAGPC,gBAAiB,CACfp3C,MAAO,UACP,yBAAyB,MACpBo3C,MCpEMh0C,WAAWm0C,GAAXn0C,EA3Cf,YAAmC,IAAD,EAAT1C,EAAS,mBAE9BiB,EAQEjB,EARFiB,QACAG,EAOEpB,EAPFoB,UACA4kB,EAMEhmB,EANFgmB,SACA1mB,EAKEU,EALFV,MACAs1C,EAIE50C,EAJF40C,MACAsB,EAGEl2C,EAHFk2C,MACA5a,EAEEt7B,EAFFs7B,KACGrV,EAT2B,aAU5BjmB,EAV4B,mEAW1Bi3C,EAAoBzU,MAAU,mBACjCvhC,EAAQ4yC,YAAa,GADY,cAEjC5yC,EAAQ3B,EAAQ,cAAgBA,GAFC,cAGjC2B,EAAQ61C,gBAAkBlC,GAHO,cAIjC3zC,EAAQ81C,gBAAkBb,GAJO,cAKjCj1C,EAAQ+1C,eAAiB1b,GALQ,cAMjCl6B,OAA0BsT,IAAdtT,GANqB,IAQpC,OACE,uCAAKA,UAAW61C,GAAuBhxB,GACpCD,MCNQkxB,GAnBO,CACpBC,SAAU,CACR,mHAAoH,CAClH/d,aAAc,MACdr6B,gBAAiB,OACjBH,QAAS,OACTH,UAAW,QACXJ,YAAa,OACb2zC,MAAO,SAGXoE,qBACAC,qBACAC,oBACAC,kBACAC,qBACAC,mBCea/zC,WAAWw0C,GAAXx0C,EA3Bf,YAAiC,IAAD,EAAT1C,EAAS,mBACtBiB,EAAiDjB,EAAjDiB,QAASG,EAAwCpB,EAAxCoB,UAAW4kB,EAA6BhmB,EAA7BgmB,SAAU1mB,EAAmBU,EAAnBV,MAAU2mB,EADlB,aAC2BjmB,EAD3B,4CAExBo3C,EAAkB5U,MAAU,mBAC/BvhC,EAAQk2C,UAAW,GADY,cAE/Bl2C,EAAQ3B,EAAQ,cAAgBA,GAFD,cAG/B8B,OAA0BsT,IAAdtT,GAHmB,IAKlC,OACE,uCAAKA,UAAWg2C,GAAqBnxB,GAClCD,M,+LCQMqxB,GAAgB,kBAC3B,6BACE,kBAAC9yB,GAAA,EAAD,CAAUC,QAAM,EAACF,UAAWW,IAAMziB,GAAG,KACnC,kBAAC80C,GAAA,EAAD,KACE,kBAAC,KAAD,OAEF,kBAAC3yB,GAAA,EAAD,CAAcC,QAAQ,0BAKf2yB,GAAkB,kBAC7B,6BACE,kBAAC5E,GAAD,CAASF,WAAW,yBAClB,kBAACluB,GAAA,EAAD,CAAUC,QAAM,EAACF,UAAWW,IAAMziB,GAAG,WACnC,kBAAC80C,GAAA,EAAD,KACE,kBAACE,GAAA,EAAD,OAEF,kBAAC7yB,GAAA,EAAD,CAAcC,QAAQ,2CAG1B,kBAAC+tB,GAAD,CAASF,WAAW,sBAClB,kBAACluB,GAAA,EAAD,CAAUC,QAAM,EAACF,UAAWW,IAAMziB,GAAG,qDACnC,kBAAC80C,GAAA,EAAD,KACE,kBAACG,GAAA,EAAD,OAEF,kBAAC9yB,GAAA,EAAD,CAAcC,QAAQ,2CAG1B,kBAAC+tB,GAAD,CAASF,WAAW,2BAClB,kBAACluB,GAAA,EAAD,CAAUC,QAAM,EAACF,UAAWW,IAAMziB,GAAG,uBACnC,kBAAC80C,GAAA,EAAD,KACE,kBAACI,GAAA,EAAD,OAEF,kBAAC/yB,GAAA,EAAD,CAAcC,QAAQ,qCAG1B,kBAAC+tB,GAAD,CAASF,WAAW,yBAClB,kBAACluB,GAAA,EAAD,CAAUC,QAAM,EAACF,UAAWW,IAAMziB,GAAG,iBACnC,kBAAC80C,GAAA,EAAD,KACE,kBAACK,GAAA,EAAD,OAEF,kBAAChzB,GAAA,EAAD,CAAcC,QAAQ,+BAG1B,kBAAC+tB,GAAD,CAASF,WAAW,mBAClB,kBAACluB,GAAA,EAAD,CAAUC,QAAM,EAACF,UAAWW,IAAMziB,GAAG,qBACnC,kBAAC80C,GAAA,EAAD,KACE,kBAACM,GAAA,EAAD,OAEF,kBAACjzB,GAAA,EAAD,CAAcC,QAAQ,2CAG1B,kBAAC+tB,GAAD,CAASF,WAAW,2BAClB,kBAACluB,GAAA,EAAD,CAAUC,QAAM,EAACF,UAAWW,IAAMziB,GAAG,oBACnC,kBAAC80C,GAAA,EAAD,KACE,kBAACO,GAAA,EAAD,OAEF,kBAAClzB,GAAA,EAAD,CAAcC,QAAQ,uCAMjBkzB,GAAmB,kBAC9B,6BACE,kBAACnF,GAAD,CAASF,WAAW,+BAClB,kBAACluB,GAAA,EAAD,CAAUC,QAAM,EAACF,UAAWW,IAAMziB,GAAG,uCACnC,kBAAC80C,GAAA,EAAD,KACE,kBAACS,GAAA,EAAD,OAEF,kBAACpzB,GAAA,EAAD,CAAcC,QAAQ,2CAG1B,kBAAC+tB,GAAD,CAASF,WAAW,8BAClB,kBAACluB,GAAA,EAAD,CAAUC,QAAM,EAACF,UAAWW,IAAMziB,GAAG,uBACnC,kBAAC80C,GAAA,EAAD,KACE,kBAACU,GAAA,EAAD,OAEF,kBAACrzB,GAAA,EAAD,CAAcC,QAAQ,iDAG1B,kBAAC+tB,GAAD,CAASF,WAAW,6BAClB,kBAACluB,GAAA,EAAD,CAAUC,QAAM,EAACF,UAAWW,IAAMziB,GAAG,2BACnC,kBAAC80C,GAAA,EAAD,KACI,kBAACW,GAAA,EAAD,OAEJ,kBAACtzB,GAAA,EAAD,CAAcC,QAAQ,iCAG1B,kBAAC+tB,GAAD,CAASF,WAAW,+BAClB,kBAACluB,GAAA,EAAD,CAAUC,QAAM,EAACF,UAAWW,IAAMziB,GAAG,6BACnC,kBAAC80C,GAAA,EAAD,KACI,kBAACY,GAAA,EAAD,OAEJ,kBAACvzB,GAAA,EAAD,CAAcC,QAAQ,iCAMjBuzB,GAAmB,kBAC9B,6BACE,kBAACxF,GAAD,CAASF,WAAW,wBAClB,kBAACluB,GAAA,EAAD,CAAUC,QAAM,EAACF,UAAWW,IAAMziB,GAAG,uCACnC,kBAAC80C,GAAA,EAAD,KACE,kBAACc,GAAA,EAAD,OAEF,kBAACzzB,GAAA,EAAD,CAAcC,QAAQ,+BAG1B,kBAAC+tB,GAAD,CAASF,WAAW,6BAClB,kBAACluB,GAAA,EAAD,CAAUC,QAAM,EAACF,UAAWW,IAAMziB,GAAG,qBACnC,kBAAC80C,GAAA,EAAD,KACE,kBAACe,GAAA,EAAD,OAEF,kBAAC1zB,GAAA,EAAD,CAAcC,QAAQ,uCAMjB0zB,GAAoB,WAC/B,OACE,6BACE,kBAAC3F,GAAD,CAASF,WAAW,0BAClB,kBAACluB,GAAA,EAAD,CAAUC,QAAM,EAACF,UAAWW,IAAMziB,GAAG,aACnC,kBAAC80C,GAAA,EAAD,KACE,kBAACE,GAAA,EAAD,OAEF,kBAAC7yB,GAAA,EAAD,CAAcC,QAAQ,+BAG1B,kBAAC+tB,GAAD,CAASF,WAAW,wBAClB,kBAACluB,GAAA,EAAD,CAAUC,QAAM,EAACF,UAAWW,IAAMziB,GAAG,sCACnC,kBAAC80C,GAAA,EAAD,KACE,kBAACG,GAAA,EAAD,OAEF,kBAAC9yB,GAAA,EAAD,CAAcC,QAAQ,+BAG1B,kBAAC+tB,GAAD,CAASF,WAAW,wBAClB,kBAACluB,GAAA,EAAD,CAAUC,QAAM,EAACF,UAAWW,IAAMziB,GAAG,0BACnC,kBAAC80C,GAAA,EAAD,KACE,kBAACiB,GAAA,EAAD,OAEF,kBAAC5zB,GAAA,EAAD,CAAcC,QAAQ,qCAG1B,kBAAC+tB,GAAD,CAASF,WAAW,4BAClB,kBAACluB,GAAA,EAAD,CAAUC,QAAM,EAACF,UAAWW,IAAMziB,GAAG,4BACnC,kBAAC80C,GAAA,EAAD,KACE,kBAACkB,GAAA,EAAD,OAEF,kBAAC7zB,GAAA,EAAD,CAAcC,QAAQ,iCAOnB6zB,GAAoB,kBAC/B,6BACE,kBAACl0B,GAAA,EAAD,CAAUC,QAAM,EAACF,UAAWW,IAAMziB,GAAG,aACnC,kBAAC80C,GAAA,EAAD,KACE,kBAACoB,GAAA,EAAD,OAEF,kBAAC/zB,GAAA,EAAD,CAAcC,QAAQ,8BAExB,kBAACL,GAAA,EAAD,CAAUC,QAAM,EAACF,UAAWW,IAAMziB,GAAG,6BACnC,kBAAC80C,GAAA,EAAD,KACE,kBAACG,GAAA,EAAD,OAEF,kBAAC9yB,GAAA,EAAD,CAAcC,QAAQ,gCAKf+zB,GAAmB,kBAC9B,6BACE,kBAACp0B,GAAA,EAAD,CAAUC,QAAM,EAACF,UAAWW,IAAMziB,GAAE,UAAKgB,EAAL,UAAsBhD,OAAO,SAASo4C,IAAI,YAC5E,kBAACtB,GAAA,EAAD,KACE,kBAACuB,GAAA,EAAD,OAEF,kBAACl0B,GAAA,EAAD,CAAcC,QAAQ,oB,0CC7MbjG,gBALS,SAAC1e,EAAO2e,GAAR,MAAsB,CAC5C1O,SAAUjQ,EAAMkQ,KAAKD,SACrBO,KAAMxQ,EAAMwQ,QAG0B,KAAzBkO,CAA+BmyB,I,6jBCR9C,IAmGegI,GAjGI,SAAA/6C,GAAK,YAAK,CAC3B27B,KAAM,CACJ8P,SAAU,EACVpK,OAAQ,EACRrQ,SAAU,SACVrvB,SAAU,WACVxB,QAAS,OACT,qBAAsB,QAExB6zC,KAAM,CACJvI,SAAU,GAEZgI,OAAQ,CACNpS,OAAQrhC,EAAMqhC,OAAO2Z,OAAS,EAC9Bl2B,WAAY9kB,EAAMi7C,YAAYC,OAAO,CAAC,QAAS,UAAW,CACxDC,OAAQn7C,EAAMi7C,YAAYE,OAAOC,MACjCC,SAAUr7C,EAAMi7C,YAAYI,SAASC,iBAGzC5H,aAAW,GACTtzC,WAtBgB,KAqBP,cAERJ,EAAMO,YAAYC,GAAG,MAAQ,CAC5BN,MAAM,eAAD,OAxBS,IAwBT,SAHE,2BAKGF,EAAMi7C,YAAYC,OAAO,CAAC,QAAS,UAAW,CACxDC,OAAQn7C,EAAMi7C,YAAYE,OAAOC,MACjCC,SAAUr7C,EAAMi7C,YAAYI,SAASE,kBAP9B,GAUX1H,WAAY,CACVzzC,WAAY,GACZE,YAAa,IAEfwzC,KAAM,CACJ3zC,QAAS,QAEX66C,OAAQ,CACN96C,MAvCgB,IAwChB6/B,WAAY,EACZnV,WAAY,UAEd4wB,WAAY,CACVt7C,MA5CgB,IA6ChB4kB,WAAY9kB,EAAMi7C,YAAYC,OAAO,QAAS,CAC5CC,OAAQn7C,EAAMi7C,YAAYE,OAAOC,MACjCC,SAAUr7C,EAAMi7C,YAAYI,SAASE,kBAGzCE,YAAY,aACV32B,WAAY9kB,EAAMi7C,YAAYC,OAAO,QAAS,CAC5CC,OAAQn7C,EAAMi7C,YAAYE,OAAOC,MACjCC,SAAUr7C,EAAMi7C,YAAYI,SAASC,gBAEvC3U,UAAW,SACXzmC,MAAOF,EAAMK,QAAQ,GAAK,GACzBL,EAAMO,YAAYC,GAAG,MAAQ,CAC5BN,MAAOF,EAAMK,QAAQ,GAAK,IAG9BqrB,QAAQ,IACNvrB,QAAS,OACTS,WAAY,SACZouC,eAAgB,WAChBnuC,QAAS,SACNb,EAAM07C,OAAOhwB,SAElB8P,QAAQ,aACNiQ,SAAU,EACVzqC,gBAAiBhB,EAAMiB,QAAQ26B,WAAWxC,QAC1Cv4B,QAASb,EAAMK,QAAQ,GACvBH,MAAO,OACPklC,UAAW,KACVplC,EAAMO,YAAY26B,KAAK,MAAQ,CAC9Br6B,QAAS,IAGb86C,cAAc,eACX37C,EAAMO,YAAY26B,KAAK,MAAQ,CAC9B/6B,QAAS,SAGb,UAAW,CACT,uBAAwB,CACtBD,MAAO,SAET,6BAA8B,GAE9B,6BAA8B,CAC5B,qBAAsB,kCAExB,6BAA8B,CAC5Bc,gBAAiB,iBACjB46C,QAAS,0BC9ETC,G,YAEJ,WAAY55C,GAAQ,IAAD,8BACjB,4CAAMA,KAYRgxC,iBAAmB,WACjB,EAAKpwC,SAAS,CAAE4hB,MAAM,KAdL,EAiBnBq3B,kBAAoB,WAClB,EAAKj5C,SAAS,CAAE4hB,MAAM,KAftB,EAAKviB,MAAQ,CACXuiB,MAAM,EACNs3B,aAAa,GALE,E,iFAUjBn5C,KAAKX,MAAM+5C,Y,+BAWH,IAAD,MACwDp5C,KAAKX,MAA5DiB,EADD,EACCA,QAASlD,EADV,EACUA,MAAO2jB,EADjB,EACiBA,QAASs4B,EAD1B,EAC0BA,SAAUh0B,EADpC,EACoCA,SAAU/nB,EAD9C,EAC8CA,MAC7CukB,EAAS7hB,KAAKV,MAAduiB,KAER,OACE,yBAAKphB,UAAWH,EAAQy4B,MACtB,kBAAC,GAAD,CACEz4B,QAASA,EACTuhB,KAAMA,EACNwuB,iBAAkBrwC,KAAKqwC,iBACvBtvB,QAASA,IAEX,kBAACwuB,GAAA,EAAD,CACE1uC,QAASshC,aAAY,KAAM7kC,GAAS,YAAc,YAClDmD,UAAWohC,KAAWvhC,EAAQ83C,QAAT,mBAClB93C,EAAQs4C,WAAa/2B,GADH,cAElBvhB,EAAQu4C,aAAeh3B,GAFL,IAIrBvhB,QAAS,CACPzC,MAAOgkC,MAAU,mBACdvhC,EAAQs4C,WAAa/2B,GADP,cAEdvhB,EAAQu4C,aAAeh3B,GAFT,KAKnBA,KAAMA,EACNkW,WAAY,CAACn2B,MAAO,CAACmiC,UAAW,WAChCpiC,QAAS3B,KAAKk5C,mBAEd,yBAAKz4C,UAAWH,EAAQwoB,SACtB,kBAACjE,GAAA,EAAD,CAAYljB,QAAS3B,KAAKk5C,mBACH,QAApB97C,EAAMq/B,UAAsB,kBAAC,KAAD,MAAuB,kBAAC,KAAD,QAGxD,kBAAC/Y,GAAA,EAAD,MACC21B,GAEH,0BAAM54C,UAAWH,EAAQs4B,SACvB,yBAAKn4B,UAAWH,EAAQwoB,UACvBzD,Q,GA7DaP,IAAMhjB,WA0EfC,gBAAW5E,GAAQ,CAAEigC,WAAW,GAAhCr7B,CAAwC8gC,eAAYoW,KClEpDj7B,gBApBS,SAAC1e,EAAO2e,GAC9B,MAAO,CACL1O,SAAUjQ,EAAMkQ,KAAKD,SACrBO,KAAMxQ,EAAMwQ,KAAK3M,GACjByM,MAAOtQ,EAAMwQ,KAAKF,UAIK,SAAAgG,GACzB,MAAO,CACLxS,OADK,WAEHwS,EAASmH,MACTnH,EAASrE,OAEX6nC,QALK,WAMHxjC,GlFfG,SAAAA,GACLA,EAASzE,MAETgM,GAAYG,QACTb,MACC,SAAApL,GAAI,OAAIuE,EAASxE,GAAaC,OAC9B,SAAAvQ,GAAK,OAAI8U,EAAStE,GAAaxQ,ckFcxBkd,CAA6Ci7B,I,yGCoD7CK,GA1EQ,CACrBC,YAAa,CACX56C,MVsDiB,WUpDnB66C,oBAAqB,CACnBl8C,MAAO,OACP2rB,OAAQ,QAEVssB,MAAO,CACL52C,MAAO,UACPpB,QAAS,cACTqB,SAAU,OACV2vB,WAAY,OACZ,QAAS,CACPvvB,IAAK,MACL1B,MAAO,OACP2rB,OAAQ,OACRlqB,SAAU,WACVrB,YAAa,MACbF,WAAY,OAEd,gDAAiD,CAC/CwB,IAAK,MACLJ,SAAU,OACVG,SAAU,WACVrB,YAAa,MACbF,WAAY,QAGhBi8C,aAAc,CACZ96C,MAAO,UACPR,OAAQ,IACRS,SAAU,OACVd,UAAW,IACXgrC,WAAY,OACZ5K,aAAc,KAEhBwb,kBAAmB,CACjB/6C,MAAO,wBACPR,OAAQ,IACRS,SAAU,OACVd,UAAW,IACXogC,aAAc,KAEhByb,UAAW,CACTh7C,MAAO,UACPb,UAAW,MACX0kC,UAAW,OACX7S,WAAY,MACZ8N,WAAY,6CACZS,aAAc,MACd8X,eAAgB,OAChB,UAAW,CACTr3C,MAAO,OACPgxB,WAAY,MACZpB,WAAY,MAGhBqrB,eAAgB,CACdj7C,MAAO,UACPb,UAAW,MACX0kC,UAAW,OACX7S,WAAY,MACZ8N,WAAY,6CACZS,aAAc,MACd8X,eAAgB,OAChB,UAAW,CACTr3C,MAAO,OACPgxB,WAAY,MACZpB,WAAY,O,+NC9DlB,IA6CesrB,GA7CS,CACtBC,iB,2VAAiB,IACZtc,GADW,CAEd5+B,SAAU,SAEZm7C,qBAAsB,CACpBj8C,UAAW,OACXogC,aAAc,QAEhB8b,MAAO,CACL/7C,QAAS,YACTE,OAAQ,WACRS,SAAU,SACVuqC,WAAY,kBAEd8Q,UAAW,CACT97C,OAAQ,WACR+7C,UAAW,UAEbC,YAAa,CACX58C,QAAS,QACTqB,SAAU,MACV2vB,WAAY,aACZ5vB,MAAO,QAETy7C,UAAW,CACTz7C,MAAO,QAET07C,YAAa,CACX17C,MXiBiB,WWfnB27C,SAAU,CACR37C,MXkBc,WWhBhB46C,YAAa,CACX56C,MXciB,WWZnB47C,YAAa,CACX57C,MXSiB,WWPnB67C,WAAY,CACV77C,MXOgB,YYrCLoD,WAAW83C,GAAX93C,EAbf,YAA+B,IAAV1C,EAAS,mBACpBiB,EAAsBjB,EAAtBiB,QAAS+kB,EAAahmB,EAAbgmB,SACjB,OACE,yBAAK5kB,UAAWH,EAAQw5C,iBAAmB,IAAMx5C,EAAQk6C,YACtDn1B,MCSQtjB,WAAW83C,GAAX93C,EAbf,YAAgC,IAAV1C,EAAS,mBACrBiB,EAAsBjB,EAAtBiB,QAAS+kB,EAAahmB,EAAbgmB,SACjB,OACE,yBAAK5kB,UAAWH,EAAQw5C,iBAAmB,IAAMx5C,EAAQi6C,aACtDl1B,M,8BCFA,SAASo1B,KAEd,OAAO/+B,GAAKE,SAAS7Y,EAAOC,IAAIsC,aAAa3B,MAAM8Y,MAAK,SAAApL,GACtD,IAAIhN,EAAgB,GAIpB,OAHAgN,EAAKkH,QAAQwH,KAAI,SAAAmK,GAAG,OAClB7lB,EAAc0L,KAAK,CAAChQ,MAAOmqB,EAAI7oB,GAAIgmB,aAAc6C,EAAIpqB,KAAMgmB,OAAQoE,EAAIpE,YAElEzhB,KA4CJ,SAASq2C,GAAgCC,GAC9C,OAAOj/B,GAAKE,SAAShI,GAAOwC,UAAUrT,EAAOC,IAAIoF,QAAQlE,gBAAiBy2C,IAAoBl+B,MAAK,SAAApL,GACjG,IAAMupC,EAAY,GASlB,OARAvpC,EAAK0O,KAAI,SAAAmK,GAAG,OACV0wB,EAAU7qC,KAAK,CACb0P,MAAOyK,EAAIwoB,WACXhzB,IAAKwK,EAAI2oB,SACT31B,KAAMgN,EAAI2wB,aACVnwB,KAAK,qBAAD,OAAuBR,EAAI4wB,iBAG5BF,KAOJ,SAASG,KACd,OAAOr/B,GAAKE,SAAS7Y,EAAOC,IAAImC,YAAYE,kBAAkBoX,MAAK,SAAApL,GACjE,IAAI2pC,EAAY,GAIhB,OAHA3pC,EAAKkH,QAAQwH,KAAI,SAAAmK,GAAG,OAClB8wB,EAAUjrC,KAAK,CAAChQ,MAAOmqB,EAAI7oB,GAAIgmB,aAAc6C,EAAIlH,eAE5Cg4B,KASJ,SAASC,GAAgBC,GAC9B,OAAOx/B,GAAKE,SAAShI,GAAOwC,UAAUrT,EAAOC,IAAIsC,aAAanB,OAAQ+2C,IAqBjE,SAASC,GAActO,GAC5B,OAAOnxB,GAAKE,SAAShI,GAAOwC,UAAUrT,EAAOC,IAAIS,OAAOU,OAAQ0oC,IA+B3D,SAASuO,GAAY9X,GAC1B,OAAO5nB,GAAKE,SAAShI,GAAOwC,UAAUrT,EAAOC,IAAIiD,SAAS9B,OAAQm/B,IAmB7D,SAAS+X,KACd,OAAO3/B,GAAKE,SAAS7Y,EAAOC,IAAIoF,QAAQzE,MAAM8Y,MAAK,SAAApL,GACjD,IAAI2pC,EAAY,GAIhB,OAHA3pC,EAAK0O,KAAI,SAAAmK,GAAG,OACV8wB,EAAUjrC,KAAK,CAAChQ,MAAOmqB,EAAI7oB,GAAIgmB,aAAc6C,EAAIpqB,UAE5Ck7C,KAIJ,SAASM,GAAkBhY,GAChC,OAAO5nB,GAAKE,SAAShI,GAAOwC,UAAUrT,EAAOC,IAAIoF,QAAQjE,OAAQm/B,IAG5D,SAASiY,GAAiBC,EAAY3O,GAC3C,OAAOnxB,GAAKE,SAAShI,GAAOwC,UAAUrT,EAAOC,IAAIoF,QAAQE,eAAgBkzC,EAAY3O,IAGhF,SAAS4O,GAAoB5O,GAClC,OAAOnxB,GAAKE,SAAShI,GAAOwC,UAAUrT,EAAOC,IAAIoF,QAAQkB,yBAA0BujC,IAG9E,SAAS6O,GAAuBF,EAAYG,GACjD,OAAOjgC,GAAKE,SAAShI,GAAOwC,UAAUrT,EAAOC,IAAIoF,QAAQC,gBAAiBmzC,IAAa/+B,MAAK,SAAApL,GAC1F,IAAI9L,EAAU,GAId,OAHA8L,EAAKkH,QAAQpI,QAAO,SAAA8P,GAAI,OAAKA,EAAK5e,GAAK,KAASs6C,EAAY,MAAK57B,KAAI,SAAAmK,GAAG,OACtE3kB,EAAQwK,KAAK,CAAChQ,MAAOmqB,EAAI7oB,GAAIgmB,aAAc6C,EAAIlH,eAE1Czd,KAQJ,SAASq2C,GAA8B/O,EAAWgP,GACvD,OAAOngC,GAAKE,SAAShI,GAAOwC,UAAUrT,EAAOC,IAAIoF,QAAQS,sBAAuBgkC,EAAWgP,IAetF,SAASC,KACd,OAAOpgC,GAAKE,SAAS7Y,EAAOC,IAAImK,OAAOC,uBAAuBqP,MAAK,SAAApL,GACjE,IAAIrN,EAAU,GAId,OAHAqN,EAAKkH,QAAQwH,KAAI,SAAAmK,GAAG,OAClBlmB,EAAQ+L,KAAK,CAAChQ,MAAOmqB,EAAI6xB,KAAM10B,aAAc6C,EAAIpqB,UAE5CkE,KAIJ,SAASg4C,KACd,OAAOtgC,GAAKE,SAAS7Y,EAAOC,IAAImK,OAAOE,kBAAkBoP,MAAK,SAAApL,GAC5D,IAAIrN,EAAU,GAId,OAHAqN,EAAK0O,KAAI,SAAAmK,GAAG,OACVlmB,EAAQ+L,KAAK,CAAChQ,MAAOmqB,EAAI7oB,GAAIgmB,aAAc6C,EAAIpqB,UAE1CkE,KAIJ,SAASi4C,KACd,OAAOvgC,GAAKE,SAAS7Y,EAAOC,IAAImK,OAAOG,iBAAiBmP,MAAK,SAAApL,GAC3D,IAAIrN,EAAU,GAId,OAHAqN,EAAK0O,KAAI,SAAAmK,GAAG,OACVlmB,EAAQ+L,KAAK,CAAChQ,MAAOmqB,EAAI7oB,GAAIgmB,aAAc6C,EAAIpqB,UAE1CkE,KAIJ,SAASk4C,KACd,OAAOxgC,GAAKE,SAAS7Y,EAAOC,IAAIS,OAAOO,SAASyY,MAAK,SAAApL,GACnD,IAAIrN,EAAU,GAId,OAHAqN,EAAK0O,KAAI,SAAAmK,GAAG,OACVlmB,EAAQ+L,KAAK,CAAChQ,MAAOmqB,EAAI7oB,GAAIgmB,aAAc6C,EAAIiyB,UAAYjyB,EAAIkyB,gBAE1Dp4C,KAIJ,SAASq4C,GAAkBC,GAChC,OAAO5gC,GAAKE,SAAShI,GAAOwC,UAAUrT,EAAOC,IAAImK,OAAOI,gBAAiB+uC,IAUpE,SAASC,GAAkBC,EAAcC,EAAmBC,EAAoBlkC,GACrF,OAAIgkC,IAAiBC,EACZJ,GAAkBK,GAAoBjgC,MAAK,SAAAkgC,GAChD/oC,GAAO0E,gBAAgBqkC,EAAankC,EAAQikC,MAGvC,KAIJ,SAASG,GAAiBtZ,GAC/B,OAAO5nB,GAAKE,SAAShI,GAAOwC,UAAUrT,EAAOC,IAAI2H,QAAQxG,OAAQm/B,IAW5D,SAASuZ,GAAwB/B,GACtC,OAAOp/B,GAAKE,SAAShI,GAAOwC,UAAUrT,EAAOC,IAAI2H,QAAQzE,YAAa40C,IAAar+B,MAAK,SAAApL,GACtF,IAAIrN,EAAU,GAId,OAHAqN,EAAKkH,QAAQwH,KAAI,SAAAmK,GAAG,OAClBlmB,EAAQ+L,KAAK,CAAChQ,MAAOmqB,EAAI7oB,GAAIgmB,aAAc6C,EAAIlH,eAE1Chf,KAIJ,SAAS84C,GAAuBhC,EAAYjO,GACjD,OAAOnxB,GAAKE,SAAShI,GAAOwC,UAAUrT,EAAOC,IAAI2H,QAAQxE,cAAe20C,EAAYjO,IAiB/E,SAASkQ,GAAeC,EAAYC,GACzCvhC,GAAKI,YAAYkhC,GAAYvgC,MAAK,WAChC2rB,GAAMC,QAAQ72B,GAASoB,QAAQE,SAC/Bc,GAAO8B,SAASunC,MACfvlB,OAAM,SAAA/J,GACPya,GAAMtnC,MAAM6sB,EAAOxpB,WAoChB,SAAS+4C,GAAmBZ,EAAca,GAC/C,OAAOzhC,GAAKE,SAAShI,GAAOwC,UAAUrT,EAAOC,IAAImK,OAAOS,mBAAoB0uC,EAAca,IAAY1gC,MAAK,SAAApL,GACzG,IAAIrN,EAAU,GAId,OAHAqN,EAAKkH,QAAQwH,KAAI,SAAAmK,GAAG,OAClBlmB,EAAQ+L,KAAK,CAAChQ,MAAOmqB,EAAI7oB,GAAIgmB,aAAa,GAAD,OAAK6C,EAAIkzB,UAAT,YAAsBlzB,EAAImzB,YAA1B,YAAyCnzB,EAAIozB,qBAEjFt5C,KAIJ,SAASu5C,KACd,OAAO7hC,GAAKE,SAAShI,GAAOwC,UAAUrT,EAAOC,IAAImK,OAAOU,wBAAwB4O,MAAK,SAAApL,GACnF,IAAIrN,EAAU,GAId,OAHAqN,EAAKkH,QAAQwH,KAAI,SAAAmK,GAAG,OAClBlmB,EAAQ+L,KAAK,CAAChQ,MAAOmqB,EAAI6xB,KAAM10B,aAAc6C,EAAIpqB,UAE5CkE,KAIJ,SAASw5C,GAAmBrjB,GACjC,OAAOze,GAAKE,SAAShI,GAAOwC,UAAUrT,EAAOC,IAAImK,OAAOW,oBAAqBqsB,IAAU1d,MAAK,SAAApL,GAC1F,IAAM8H,EAAOvF,GAAOgF,OAAOvH,EAAK8H,MAChCvF,GAAOyF,aAAaF,EAAM9H,EAAKvR,SAC9B43B,OAAM,SAAA/J,GAEP,OADAya,GAAMtnC,MAAM6sB,EAAOxpB,QACZ6Y,QAAQC,OAAO0Q,MAInB,SAAS8vB,GAAetjB,GAC7B,OAAOze,GAAKE,SAAShI,GAAOwC,UAAUrT,EAAOC,IAAImK,OAAOW,oBAAqBqsB,IAAU1d,MAAK,SAAApL,IvB5U/E,SAAmBA,GAC5BsQ,IACFA,KAEFgtB,IAAS9E,OACP,kBAAC,GAAex4B,GAChB88B,IuBwUAuP,CAAUrsC,MACTqmB,OAAM,SAAA/J,GAEP,OADAya,GAAMtnC,MAAM6sB,EAAOxpB,QACZ6Y,QAAQC,OAAO0Q,MA4BnB,SAASgwB,GAAiCC,GAC/C,OAAOliC,GAAKE,SAAShI,GAAOwC,UAAUrT,EAAOC,IAAIoF,QAAQ+B,0BAA2ByzC,IAG/E,SAASC,GAA2BxsC,GACzC,OAAOqK,GAAKG,UAAU9Y,EAAOC,IAAIoF,QAAQ8B,sBAAuBmH,GAG3D,SAASysC,GAAuBxB,EAAca,EAAW9rC,GAC9D,OAAOqK,GAAKG,UAAUjI,GAAOwC,UAAUrT,EAAOC,IAAImK,OAAOa,4BAA6BsuC,EAAca,GAAY9rC,GAoB3G,SAAS0sC,GAAgBC,EAAUjpC,GACxC,IAAMC,EAASb,MAAM9T,KAAKiW,WAAWrG,MAAM,GAC3C,OAAO,SAASoB,EAAMyQ,GAIpB,MAHmB,oBAAR/M,IACTA,EAAMA,EAAI1D,IAELqK,GAAKG,UAAUjI,GAAOwC,UAAP,MAAAxC,GAAM,CAAWmB,GAAX,oBAAmBC,KAAS3D,GAAMoL,MAAK,SAACwhC,GAC9Dn8B,GACFA,IAEFsmB,GAAMC,QAAQ72B,GAASoB,QAAQC,OAC3BmrC,GACFA,EAASC,MAEVvmB,OAAM,SAAA/J,GAMP,OALIA,EAAOxpB,OACTikC,GAAMtnC,MAAM6sB,EAAOxpB,QAEnBikC,GAAMtnC,MAAM0Q,GAASG,MAAMG,kBAEtBkL,QAAQC,OAAO0Q,OAUrB,SAASuwB,GAAiBF,EAAUjpC,GACzC,IAAMC,EAASb,MAAM9T,KAAKiW,WAAWrG,MAAM,GAC3C,OAAO,SAASoB,EAAMyQ,GAIpB,MAHmB,oBAAR/M,IACTA,EAAMA,EAAI1D,IAELqK,GAAKK,SAASnI,GAAOwC,UAAP,MAAAxC,GAAM,CAAWmB,GAAX,oBAAmBC,GAAnB,CAA2B3D,EAAKhQ,MAAKgQ,GAAMoL,MAAK,WACrEqF,GACFA,IAEFsmB,GAAMC,QAAQ72B,GAASoB,QAAQC,OAC3BmrC,GACFA,EAAS3sC,MAEVqmB,OAAM,SAAA/J,GAMP,OALIA,EAAOxpB,OACTikC,GAAMtnC,MAAM6sB,EAAOxpB,QAEnBikC,GAAMtnC,MAAM0Q,GAASG,MAAMG,kBAEtBkL,QAAQC,OAAO0Q,OAUrB,SAASwwB,GAAmBH,EAAUjpC,GAC3C,IAAMC,EAASb,MAAM9T,KAAKiW,WAAWrG,MAAM,GAC3C,8CAAO,WAAeoB,EAAMyQ,GAArB,eAAA2E,EAAA,6DACD4hB,GAAU,EACK,oBAARtzB,IACTA,EAAMA,EAAI1D,IAHP,SAKCqK,GAAKI,YAAYlI,GAAOwC,UAAP,MAAAxC,GAAM,CAAWmB,GAAX,oBAAmBC,GAAnB,CAA4B3D,GAAQA,EAAKhQ,MAAMgQ,GAAMoL,MAAK,WACjFqF,GACFA,IAEFsmB,GAAMC,QAAQ72B,GAASoB,QAAQE,SAC3BkrC,GACFA,IAEF3V,GAAU,KACT3Q,OAAM,SAAA/J,GAOP,OANIA,EAAOxpB,OACTikC,GAAMtnC,MAAM6sB,EAAOxpB,QAEnBikC,GAAMtnC,MAAM0Q,GAASG,MAAMG,kBAE7Bu2B,GAAU,EACHrrB,QAAQC,OAAO0Q,MArBnB,gCAuBE0a,GAvBF,2CAAP,qDAAM,GAgED,SAAS+V,GAA2BtD,EAAYuD,GACrD,OAAO3iC,GAAKE,SAAShI,GAAOwC,UAAUrT,EAAOC,IAAI2H,QAAQ6B,6BAA8BsuC,EAAYuD,IAO9F,SAASC,GAAwBlC,EAAYD,GAClD,OAAOzgC,GAAKE,SAAShI,GAAOwC,UAAUrT,EAAOC,IAAIS,OAAOqB,mBAAoBs3C,EAAYD,ICzjB3Ep6C,WAAW83C,GAAX93C,EAbf,YAA6B,IAAV1C,EAAS,mBAClBiB,EAAsBjB,EAAtBiB,QAAS+kB,EAAahmB,EAAbgmB,SACjB,OACE,yBAAK5kB,UAAWH,EAAQw5C,iBAAmB,IAAMx5C,EAAQg6C,UACtDj1B,MCaDk5B,G,YAGJ,WAAYl/C,GAAQ,IAAD,8BACjB,4CAAMA,KAHR0jB,MAAQ,uCAEW,EASnByhB,WAAa,WF9BN9oB,GAAKE,SAAS7Y,EAAOC,IAAIS,OAAOC,WE+BhB+Y,MAAK,SAAA/Y,GAAS,OAAI,EAAKzD,SAAS,CAACyD,kBAVrC,EAanBo8B,kBAAoB,WAClB7nB,SAAS8K,MAAQ,EAAKA,OAXtB,EAAKzjB,MAAQ,CACXoE,UAAW,IAEb,EAAK8gC,aANY,E,sEAiBT,IACAlkC,EAAYN,KAAKX,MAAjBiB,QACAoD,EAAc1D,KAAKV,MAAnBoE,UAER,OACE,6BACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAUywB,GAAI,GAAIC,GAAI,GAAIC,GAAI,EAAGmqB,GAAI,GACnC,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAY7/C,MAAM,SAAS42C,OAAK,EAAC5a,MAAI,GACnC,kBAAC,GAAD,CAAUh8B,MAAM,UACd,kBAAC,KAAD,OAEF,uBAAG8B,UAAWH,EAAQm5C,cAAtB,8CACA,wBAAIh5C,UAAWH,EAAQq5C,WACnB/lC,GAAOK,QAAQvQ,GAUb,KATF,kBAAC,IAAMnD,SAAP,KACE,kBAAC,IAAD,CAAMsB,GAAI,CAACgU,SAAU,mBAAoBF,OAAQ,uDAC9CjS,EAAU+6C,aAAaC,eAF5B,KAIE,kBAAC,IAAD,CAAM78C,GAAI,CAACgU,SAAU,mBAAoBF,OAAQ,sCAC9CjS,EAAU+6C,aAAaE,cAL5B,OAOE,4CAKR,kBAAC,GAAD,CAAYpJ,OAAK,GACf,yBAAK90C,UAAWH,EAAQi1C,OACtB,kBAAC,GAAD,KACE,kBAAC,KAAD,OAEA3hC,GAAOK,QAAQvQ,GAIb,KAHF,kBAAC,IAAMnD,SAAP,sDACgBmD,EAAU+6C,aAAaG,aADvC,kBAQV,kBAAC,GAAD,CAAUzqB,GAAI,GAAIC,GAAI,GAAIC,GAAI,EAAGmqB,GAAI,GACnC,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAY7/C,MAAM,UAAU42C,OAAK,EAAC5a,MAAI,GACpC,kBAAC,GAAD,CAAUh8B,MAAM,WACd,kBAAC,KAAD,OAEF,uBAAG8B,UAAWH,EAAQm5C,cAAtB,oDACA,wBAAIh5C,UAAWH,EAAQq5C,WACnB/lC,GAAOK,QAAQvQ,GAab,KAZF,kBAAC,IAAMnD,SAAP,KACE,kBAAC,IAAD,CAAMsB,GAAI,oBACP6B,EAAUm7C,eAAeC,gBAF9B,KAIE,kBAAC,IAAD,CAAMj9C,GAAE,2BAAsB6B,EAAUq7C,UAAhC,YAA6Cr7C,EAAUs7C,WAAvD,MACLt7C,EAAUm7C,eAAeI,gBAL9B,KAOE,kBAAC,IAAD,CAAMp9C,GAAE,2BAAsB6B,EAAUw7C,YAAhC,YAA+Cx7C,EAAUy7C,aAAzD,MACLz7C,EAAUm7C,eAAeO,iBAD5B,QAGA,4CAKR,kBAAC,GAAD,CAAY7J,OAAK,GACf,yBAAK90C,UAAWH,EAAQi1C,OACtB,kBAAC,GAAD,KACE,kBAAC,KAAD,OAFJ,uGASN,kBAAC,GAAD,CAAUphB,GAAI,GAAIC,GAAI,GAAIC,GAAI,EAAGmqB,GAAI,GACnC,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAY7/C,MAAM,OAAO42C,OAAK,EAAC5a,MAAI,GACjC,kBAAC,GAAD,CAAUh8B,MAAM,QACd,kBAAC,KAAD,OAEF,uBAAG8B,UAAWH,EAAQm5C,cAAtB,gEACA,wBAAIh5C,UAAWH,EAAQq5C,WACnB/lC,GAAOK,QAAQvQ,GAab,KAZF,kBAAC,IAAMnD,SAAP,KACE,kBAAC,IAAD,CAAMsB,GAAI,CAACgU,SAAU,mBAAoBF,OAAQ,oCAC9CjS,EAAU27C,oBAAoBC,gBAFnC,KAIE,kBAAC,IAAD,CAAMz9C,GAAI,CAACgU,SAAU,mBAAoBF,OAAQ,oCAC9CjS,EAAU27C,oBAAoBE,iBALnC,KAOE,kBAAC,IAAD,CAAM19C,GAAI,CAACgU,SAAU,mBAAoBF,OAAQ,oCAC9CjS,EAAU27C,oBAAoBG,kBARnC,OAUE,4CAKR,kBAAC,GAAD,CAAYjK,OAAK,GACf,yBAAK90C,UAAWH,EAAQi1C,OACtB,kBAAC,GAAD,KACE,kBAAC,KAAD,OAEA3hC,GAAOK,QAAQvQ,GAKb,KAJF,kBAAC,IAAMnD,SAAP,oCACamD,EAAU27C,oBAAoBI,eAD3C,kEAEgB/7C,EAAU27C,oBAAoBK,gBAF9C,wB,GA9HU59C,aA6If8vC,MACb7vC,IAAWu3C,GAAXv3C,CAA2Bw8C,IAC3B,yBClKK,SAASoB,GAAuBj/B,EAAQk/B,GAC7C,OAAc,IAAVA,EACK,EAEAx+B,SAASV,EAASk/B,GA+BtB,SAASC,GAAsB//C,EAAMuR,GAC1C,GAAa,0BAATvR,EAAkC,CACpC,IAAMC,EAAQsR,EAAKvR,GACbggD,EAAiBlsC,GAAOkC,gBAAgBzE,EAAK0uC,gBAAiB,OAAQ,QAC5E,OAAQhgD,GACN,IAAK,KAGL,IAAK,KAGL,IAAK,KAGL,IAAK,KACH+/C,EAAc,MAAY,IAC1B,MACF,IAAK,KACL,IAAK,KACHA,EAAc,MAAY,IAgB3B,SAASE,GAA0BlgD,EAAMuR,GAC9C,GAAa,kBAATvR,EACF,GAAmB,SAAfuR,EAAKvR,GAEPuR,EAAI,SAAe,aACnBA,EAAI,gBAAqB,EACzBA,EAAI,mBAAyB,UACxB,GAAmB,SAAfA,EAAKvR,IAAoBuR,EAAI,WAAgB,CAEtD,IAAMwhC,EAAWj/B,GAAO4H,kBAAkBnK,EAAI,YAC9CA,EAAI,SAAeuC,GAAOmD,WAAW87B,EAAU,cAC/CxhC,EAAI,gBAAqB,OAEzBA,EAAI,SAAe,KACnBA,EAAI,gBAAqB,EACzBA,EAAI,mBAAyB,UAE1B,GAAa,eAATvR,EACT,GAA8B,SAA1BuR,EAAI,cACNA,EAAI,SAAe,kBACd,GAA8B,SAA1BA,EAAI,cAA8B,CAC3C,IAAMwhC,EAAWj/B,GAAO4H,kBAAkBnK,EAAI,YAC9CA,EAAI,SAAeuC,GAAOmD,WAAW87B,EAAU,cAInD,GAAI,CAAC,aAAc,WAAY,iBAAiB19B,QAAQrV,IAAS,GAA+B,SAA1BuR,EAAI,cAA8B,CAEtG,IAAMqhC,EAAarhC,EAAI,WACjBwhC,EAAWxhC,EAAI,SACf4uC,EAAMrsC,GAAOgH,aAAa83B,EAAYG,GAC5CxhC,EAAI,mBAAyB4uC,EAAMA,EAAM,EAAI,MAI1C,SAASC,GAAepgD,EAAMuR,GACnC,GAAa,cAATvR,EAAsB,CACxB,IAAMmrB,EHkcH,SAAkCk1B,GACvC,IAAMxjC,EAAMyjC,KAAQ,MAAOxsC,GAAOwC,UAAUrT,EAAOC,IAAIyL,WAAWC,wBAAyByxC,GAAW,CACpG5jC,QAASxN,MAELsC,EAAOpC,KAAKC,MAAMyN,EAAI0jC,QAAQ,SACpC,OAAuB,MAAnB1jC,EAAIosB,WACC13B,EAAKhB,OAAS,EAAIgB,EAAK,GAAK,MAEnC+2B,GAAMtnC,MAAMuQ,EAAKlN,SACV,GG3cMm8C,CAAyBjvC,EAAKvR,IACvCmrB,IACF5Z,EAAI,SAAe4Z,EAAKs1B,SAG5B,OAAOlvC,EAGF,SAASmvC,GAA+B1gD,EAAMuR,EAAM+hB,EAAQC,GACjE,GAAe,eAAXD,EAAyB,CAC3B,IAAMrzB,EAAQsR,EAAK+hB,GAAQC,GAAavzB,GAC3B,SAATA,GAAmB,CAAC,OAAQ,QAAQqV,QAAQ9D,EAAK+hB,GAAQC,GAAa0oB,OAAS,GACjFnoC,GAAOkC,gBAAgBzE,EAAK+hB,GAAS,OAAQ,QAAQqtB,KAAO1gD,EAC5D6T,GAAOkC,gBAAgBzE,EAAK+hB,GAAS,OAAQ,QAAQqtB,KAAO1gD,GAC1C,WAATD,GAAwD,SAAnCuR,EAAK+hB,GAAQC,GAAa0oB,OAExDnoC,GAAOkC,gBAAgBzE,EAAK+hB,GAAS,OAAQ,QAAQ1S,OAASgT,KAAKgtB,MAAc,GAAR3gD,IAG7E,OAAOsR,EAGF,SAASsvC,GAAqC7gD,EAAMuR,EAAMs5B,EAAOvX,EAAQC,GAC9E,GAAe,eAAXD,EAAyB,CAC3B,IAAMrzB,EAAQsR,EAAK+hB,GAAQC,GAAavzB,GAC3B,SAATA,GAAmB,CAAC,OAAQ,QAAQqV,QAAQ9D,EAAK+hB,GAAQC,GAAa0oB,OAAS,GACjFnoC,GAAOkC,gBAAgBzE,EAAK+hB,GAAS,OAAQ,QAAQqtB,KAAO1gD,EAC5D6T,GAAOkC,gBAAgBzE,EAAK+hB,GAAS,OAAQ,QAAQqtB,KAAO1gD,GAC1C,WAATD,GAAwD,SAAnCuR,EAAK+hB,GAAQC,GAAa0oB,OAExDnoC,GAAOkC,gBAAgBzE,EAAK+hB,GAAS,OAAQ,QAAQ1S,OAASgT,KAAKgtB,MAAc,GAAR3gD,IAG7E,OAAOsR,EAGF,SAASuvC,GAAqB9gD,EAAMuR,EAAMs5B,EAAOvX,EAAQC,GAC9D,GAAa,WAATvzB,GAAgC,eAAXszB,EAAyB,CAChD,IAAMrzB,EAAQsR,EAAK+hB,GAAQC,GAAavzB,GAClC+gD,EAAwBxvC,EAAI,sBAC5ByvC,EAgBV,SAAqBjhC,GACnB,IAAMigC,EAAiBlsC,GAAOkC,gBAAgB+J,EAAU,OAAQ,QAC1DkhC,EAAsBntC,GAAOkC,gBAAgB+J,EAAU,OAAQ,QACrE,OAAIkhC,GAAuBA,EAAoBnB,MAAQ,EAC9CmB,EAAoBnB,MAEpBE,EAAeF,MAtBJoB,CAAY3vC,EAAI,iBAC5B4vC,EAAuBrtC,GAAOkC,gBAAgBzE,EAAK+hB,GAAS,OAAQ,QACpE8tB,EAwBV,SAAqBrhC,GACnB,IAAMshC,EAAiBvtC,GAAOkC,gBAAgB+J,EAAU,OAAQ,QAC1DuhC,EAAsBxtC,GAAOkC,gBAAgB+J,EAAU,OAAQ,QACrE,OAAIuhC,GAAuBA,EAAoBxB,MAAQ,EAC9CwB,EAAoBxB,MAEpBuB,EAAevB,MA9BJyB,CAAYhwC,EAAI,iBAC5BiwC,EAAsB1tC,GAAOkC,gBAAgBzE,EAAK+hB,GAAS,OAAQ,QAClC,SAAnC/hB,EAAK+hB,GAAQC,GAAa0oB,MAAmB,CAAC,KAAM,MAAM5mC,QAAQ0rC,GAAyB,IACzFC,GAAaG,IACfA,EAAoB,OAAatB,GAAuB5/C,EAAO+gD,IAE7DI,GAAaI,IACfA,EAAmB,OAAa3B,GAAuB5/C,EAAOmhD,KAIpE,OAAO7vC,EClKF,IAAMkwC,GAAyB,CACpC,CACE,KAAQ,cACR,KAAQ,SACR,MAAS,qBACT,UAAY,EACZ,WAAa,GAEf,CACE,KAAQ,UACR,KAAQ,SACR,MAAS,eACT,UAAY,EACZ,UAAa,uHAEf,CACE,KAAQ,UACR,KAAQ,SACR,MAAS,eACT,UAAa,uHAEf,CACE,KAAQ,WACR,KAAQ,SACR,MAAS,qBACT,UAAa,uHAEf,CACE,KAAQ,aACR,KAAQ,SACR,MAAS,eACT,UAAY,EACZ,WAAc,KAEhB,CACE,KAAQ,cACR,KAAQ,UACR,MAAS,uCACT,QAAW,IAEb,CACE,KAAQ,YACR,KAAQ,OACR,MAAS,iCACT,UAAY,EACZ,UAAa,CAAE,SAAY,SAE7B,CACE,KAAQ,YACR,KAAQ,SACR,MAAS,6CACT,WAAc,KAEhB,CACE,KAAQ,WACR,KAAQ,OACR,MAAS,6CACT,UAAa,CAAE,SAAY,UAIlBC,GAAyB,CACpC,CAAC,cAAe,WAChB,CAAC,UAAW,YACZ,aACA,cACA,YACA,YACA,YAGWC,GAA2B,CACtC,CACE,KAAQ,iBACR,KAAQ,SACR,MAAS,4BAEX,CACE,KAAQ,YACR,KAAQ,SACR,MAAS,4BAEX,CACE,KAAQ,YACR,KAAQ,SACR,MAAS,4BAEX,CACE,KAAQ,cACR,KAAQ,SACR,MAAS,4BAEX,CACE,KAAQ,eACR,KAAQ,SACR,MAAS,2BACT,QAAWpjC,GACX,UAAY,GAEd,CACE,KAAQ,iBACR,KAAQ,SACR,MAAS,6BAIAqjC,GAA2B,CACtC,CACE,KAAQ,OACR,KAAQ,SACR,MAAS,eACT,QAAW,eACX,QAAW,GACX,UAAY,EACZ,WAAc,UAEhB,CACE,KAAQ,SACR,KAAQ,SACR,MAAS,2BACT,QAAW,eACX,QAAW,GACX,UAAY,EACZ,aAAgB,QAElB,CACE,KAAQ,eACR,KAAQ,SACR,MAAS,2BACT,QAAWrjC,GACX,UAAY,GAEd,CACE,KAAQ,iBACR,KAAQ,SACR,MAAS,2BACT,WAAc,EACd,UAAY,GAEd,CACE,KAAQ,iBACR,KAAQ,SACR,MAAS,2BACT,WAAc,IAEhB,CACE,KAAQ,aACR,KAAQ,OACR,MAAS,qEACT,aAAgB,kBAChB,gBAAmB,SAAC8b,GAAD,OAAasjB,GAAetjB,IAC/C,MAASp3B,EAAO8L,gBAIP8yC,GAAsB,CACjC,CACE,KAAQ,KACR,KAAQ,SACR,MAAS,2BACT,UAAY,GAEd,CACE,KAAQ,WACR,KAAQ,SACR,MAAS,eACT,QAAW,GACX,UAAY,GAEd,CACE,KAAQ,SACR,KAAQ,UACR,MAAS,eACT,UAAY,GAEd,CACE,KAAQ,YACR,KAAQ,SACR,MAAS,iCACT,QAAWhjC,GACX,UAAY,GAEd,CACE,KAAQ,eACR,KAAQ,SACR,MAAS,2BACT,UAAY,IAIHijC,GAAsB,CACjC,CACE,KAAQ,OACR,KAAQ,SACR,MAAS,qBACT,QAAW1jC,GACX,UAAY,GAEd,CACE,KAAQ,QACR,KAAQ,SACR,MAAS,qBACT,QAAWC,GACX,UAAY,GAEd,CACE,KAAQ,WACR,KAAQ,SACR,MAAS,eACT,QAAW,GACX,UAAY,GAEd,CACE,KAAQ,SACR,KAAQ,UACR,MAAS,6BACT,UAAY,EACZ,UAAa,GAEf,CACE,KAAQ,gBACR,KAAQ,UACR,MAAS,6BACT,UAAY,EACZ,UAAa,GAEf,CACE,KAAQ,aACR,KAAQ,UACR,MAAS,eACT,UAAY,EACZ,UAAa,GAEf,CACE,KAAQ,WACR,KAAQ,UACR,MAAS,eACT,UAAY,EACZ,UAAa,EACb,UAAa,EACb,KAAQ,KAEV,CACE,KAAQ,YACR,KAAQ,SACR,MAAS,iCACT,QAAWQ,GACX,UAAY,GAEd,CACE,KAAQ,UACR,KAAQ,SACR,MAAS,eACT,QAAW,IAEb,CACE,KAAQ,eACR,KAAQ,SACR,MAAS,eACT,QAAW,IAEb,CACE,KAAQ,OACR,KAAQ,OACR,MAAS,sBAEX,CACE,KAAQ,sBACR,KAAQ,SACR,MAAS,qBACT,WAAc,IAEhB,CACE,KAAQ,gBACR,KAAQ,OACR,MAAS,qBACT,aAAgB,qBAChB,gBAAmB,SAACwb,GAAD,OAAasjB,GAAetjB,IAC/C,MAASp3B,EAAO8L,eAElB,CACE,KAAQ,UACR,KAAQ,OACR,MAAS,eACT,WAAc,KAEhB,CACE,KAAQ,UACR,KAAQ,OACR,MAAS,eACT,WAAc,MAILgzC,GAAsB,CACjC,CAAC,OAAQ,SACT,CAAC,WAAY,aACb,CAAC,SAAU,iBACX,CAAC,aAAc,YACf,UACA,eACA,CAAC,OAAQ,uBACT,gBACA,UACA,WC7SWC,GAAqB,CAChC,CACE,KAAQ,OACR,KAAQ,SACR,MAAS,iBACT,YAAc,EACd,KAAQ,6CACR,UAAY,GAEd,CACE,KAAQ,OACR,KAAQ,SACR,MAAS,eACT,YAAc,EACd,KAAQ,6CACR,UAAY,GAEd,CACE,KAAQ,gBACR,KAAQ,SACR,MAAS,qBACT,UAAY,GAEd,CACE,KAAQ,kBACR,KAAQ,SACR,MAAS,eACT,UAAY,GAEd,CACE,KAAQ,eACR,KAAQ,SACR,MAAS,SACT,UAAY,GAEd,CACE,KAAQ,eACR,KAAQ,SACR,MAAS,2BACT,KAAQ,oCACR,YAAc,EACd,UAAY,GAEd,CACE,KAAQ,aACR,KAAQ,UACR,MAAS,eACT,YAAc,EACd,UAAY,EACZ,QAAW,SACX,QAAU,GAEZ,CACE,KAAQ,eACR,KAAQ,OACR,MAAS,6CACT,UAAY,GAEd,CACE,KAAQ,iBACR,KAAQ,SACR,MAAS,qBACT,YAAc,EACd,UAAY,EACZ,QAAW,GACX,QAAU,GAEZ,CACE,KAAQ,cACR,KAAQ,UACR,MAAS,2BACT,UAAY,EACZ,YAAc,EACd,QAAW,SACX,QAAU,GAEZ,CACE,KAAQ,cACR,KAAQ,SACR,MAAS,2BACT,YAAc,EACd,SAAW,EACX,QAAWxjC,GACX,QAAU,GAEZ,CACE,KAAQ,aACR,KAAQ,UACR,MAAS,eACT,SAAW,EACX,UAAa,CACXyjC,EAAG,CAAC,gBAAmB,cAEzB,YAAc,EACd,QAAW,SACX,QAAU,IAIDC,GAA4B,CACvC,CAAC,OAAQ,QACT,eACA,CAAC,aAAc,eACf,CAAC,iBAAkB,eACnB,cAGWC,GAAuB,CAClC,CACE,KAAQ,OACR,KAAQ,SACR,MAAS,4BAEX,CACE,KAAQ,eACR,KAAQ,SACR,MAAS,2BACT,KAAQ,SAAC5wC,GACP,MAAyB,OAArBA,EAAK6wC,YAED,sBAAN,OAA6B7wC,EAAK8wC,QAAlC,KAEO,OAIb,CACE,KAAQ,YACR,KAAQ,SACR,MAAS,gBAEX,CACE,KAAQ,YACR,KAAQ,SACR,MAAS,4BAEX,CACE,KAAQ,SACR,KAAQ,SACR,MAAS,eACT,QAAW,CACT,CACE,MAAS,IACT,aAAgB,UAElB,CACE,MAAS,IACT,aAAgB,YAItB,CACE,KAAQ,QACR,KAAQ,SACR,MAAS,0DAEX,CACE,KAAQ,YACR,KAAQ,SACR,MAAS,4BAEX,CACE,KAAQ,UACR,KAAQ,SACR,MAAS,gBAEX,CACE,KAAQ,kBACR,KAAQ,SACR,MAAS,sBAEX,CACE,KAAQ,QACR,KAAQ,SACR,MAAS,4BAEX,CACE,KAAQ,WACR,KAAQ,SACR,MAAS,2BACT,QAAW,CACT,CACE,MAAS,IACT,aAAgB,gBAElB,CACE,MAAS,IACT,aAAgB,kBAItB,CACE,KAAQ,cACR,KAAQ,UACR,MAAS,4BAEX,CACE,KAAQ,UACR,KAAQ,OACR,MAAS,iBAIAC,GAA2B,CACtC,CACE,KAAQ,YACR,KAAQ,SACR,MAAS,eACT,WAAa,GAEf,CACE,KAAQ,cACR,KAAQ,UACR,MAAS,6BAIAC,GAA2B,CACtC,YACA,eAGWC,GAA0B,CACrC,CACE,KAAQ,YACR,KAAQ,SACR,MAAS,eACT,UAAY,GAEd,CACE,KAAQ,eACR,KAAQ,UACR,MAAS,qBACT,KAAQ,2DAEV,CACE,KAAQ,gBACR,KAAQ,UACR,MAAS,qBACT,KAAQ,2EAEV,CACE,KAAQ,gBACR,KAAQ,UACR,MAAS,qBACT,KAAQ,6FAEV,CACE,KAAQ,qBACR,KAAQ,UACR,MAAS,6CACT,KAAQ,qEAEV,CACE,KAAQ,qBACR,KAAQ,UACR,MAAS,6CACT,KAAQ,qEAEV,CACE,KAAQ,uBACR,KAAQ,UACR,MAAS,mDACT,KAAQ,0EAICC,GAAsB,CACjC,CACE,KAAQ,YACR,KAAQ,SACR,MAAS,eACT,UAAY,EACZ,YAAc,EACd,KAAQ,qDAEV,CACE,KAAQ,eACR,KAAQ,SACR,MAAS,eACT,UAAY,EACZ,YAAc,EACd,KAAQ,kCAEV,CACE,KAAQ,cACR,KAAQ,SACR,MAAS,qBACT,UAAY,EACZ,YAAc,EACd,QAAW,GACX,QAAU,GAEZ,CACE,KAAQ,eACR,KAAQ,OACR,MAAS,+CAIAC,GAA4B,CACvC,CACE,KAAQ,KACR,KAAQ,SACR,MAAS,2BACT,UAAY,EACZ,KAAQ,uCAEV,CACE,KAAQ,SACR,KAAQ,UACR,MAAS,eACT,UAAY,IAIHC,GAA+B,CAC1C,CACE,KAAQ,YACR,KAAQ,SACR,MAAS,eACT,UAAY,EACZ,YAAc,EACd,KAAQ,SAACpxC,GACP,OAAIA,EAAKw7B,UACA,8EAEA,OAIb,CACE,KAAQ,gBACR,KAAQ,SACR,MAAS,2BACT,UAAY,GAEd,CACE,KAAQ,oBACR,KAAQ,SACR,MAAS,mDACT,UAAY,EACZ,YAAc,EACd,UAAa,KAEf,CACE,KAAQ,SACR,KAAQ,UACR,MAAS,eACT,UAAY,IAIH6V,GAAgC,CAC3C,CACE,KAAQ,OACR,KAAQ,OACR,MAAS,qBACT,UAAY,GAEd,CACE,KAAQ,UACR,KAAQ,SACR,MAAS,gBAEX,CACE,KAAQ,cACR,KAAQ,SACR,MAAS,2BACT,QAAW,IAEb,CACE,KAAQ,YACR,KAAQ,SACR,MAAS,iCACT,QAAW/jC,GACX,KAAO,GAET,CACE,KAAQ,sBACR,KAAQ,SACR,MAAS,qBACT,UAAa,KAEf,CACE,KAAQ,gBACR,KAAQ,OACR,MAAS,qBACT,gBAAmB,SAACwb,GAAD,OAAasjB,GAAetjB,IAC/C,KAAO,GAET,CACE,KAAQ,SACR,KAAQ,UACR,MAAS,gBAEX,CACE,KAAQ,WACR,KAAQ,UACR,MAAS,gBAEX,CACE,KAAQ,gBACR,KAAQ,UACR,MAAS,4BAEX,CACE,KAAQ,aACR,KAAQ,UACR,MAAS,gBAEX,CACE,KAAQ,UACR,KAAQ,SACR,MAAS,eACT,UAAa,MCrVFyX,M,YA7Db,WAAYvyC,GAAQ,IAAD,8BACjB,4CAAMA,KAJR0jB,MAAQ,uCAGW,EAFnB4/B,sBAAwB/uC,GAAOoG,MAAM8nC,IAElB,EAWnBtd,WAAa,WACXuW,KAAuBt+B,MAAK,SAAAmmC,GAC1B,EAAK3iD,SAAS,CAAC2iD,qBAAoBpZ,QAAQ,QAb5B,EAiBnB1J,kBAAoB,WAClB7nB,SAAS8K,MAAQ,EAAKA,OAftB,EAAKzjB,MAAQ,CACXsjD,mBAAoB,GACpBpZ,QAAQ,GAGV,EAAKhF,aARY,E,sEAqBR,IAAD,SAC+BxkC,KAAKV,MAApCsjD,EADA,EACAA,mBAAoBpZ,EADpB,EACoBA,OAI5B,OAFA51B,GAAOkC,gBAAgB9V,KAAK2iD,sBAAuB,OAAQ,kBAA3D,QAA0FC,EAEtFpZ,EAEA,6BACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAY7qC,MAAM,QACfqB,KAAK+iB,OAER,kBAAC,GAAD,KACE,kBAAC,GAAD,CACE4mB,SAAW5mC,EAAOC,IAAIS,OAAOK,YAC7B+lC,OAAS,SAACiD,GAAD,OACP,kBAAC7G,GAAD,CACEljB,MAAM,mDACNsiB,WAAW,iBACX7d,UAAW,EAAKm7B,sBAChB/4B,UAAWkjB,EAASv0B,QACpB5J,YAAa5L,EAAO4L,YACpBs0B,WAAYrvB,GAAOqH,kBACnBumB,UAAU,EACVuD,YAAY,EACZpD,aAAcqgB,GACdtoB,YAAa,CAAEhK,SAAU,cAShC,S,GA5DY5K,IAAMhjB,WAiEY,sB,qBCC5B+gD,G,2MApEbC,iBAAmB,WACb,EAAKC,aACP,EAAKA,e,EAITC,aAAe,SAAC3xC,GAAU,IAAD,EACS,EAAKhS,MAA7BwtC,EADe,EACfA,UAAWmR,EADI,EACJA,SACnB,OPikBG,SAA6BnR,EAAWx7B,GAC7C,OAAOqK,GAAKG,UAAUjI,GAAOwC,UAAUrT,EAAOC,IAAIoF,QAAQe,cAAe0jC,GAAYx7B,GOlkB5E4xC,CAAoBpW,EAAWx7B,GAAMoL,MAAK,WAC/C2rB,GAAMC,QAAQ72B,GAASoB,QAAQI,SAC5B,EAAKkwC,cACN,EAAKA,eAEHlF,GACFA,OAEDtmB,OAAM,SAAA/J,GACPya,GAAMtnC,MAAM6sB,EAAOxpB,Y,wEAIb,IAAD,OACC6e,EAAchjB,KAAKX,MAAnB2jB,UAER,OACE,6BACE,kBAAC2B,GAAA,EAAD,CACE5B,MAAM,+JACNX,UAAU,SACVwC,WAAY,KAEZ,kBAACljB,EAAA,EAAD,CACEb,QAAQ,YACRlC,MAAM,YACNgD,QAAS3B,KAAK8iD,kBAHhB,iBAQF,kBAAC,GAAD,CACE//B,MAAK,UAAKC,EAAL,sBACL4U,YAAa,qZACbpf,OAAQ,CAAC,CACP,KAAQ,cACR,KAAQ,OACR,MAAS,qBACT,UAAY,IAEd+e,SAAUv3B,KAAKgjD,aACfxuB,SAAU,SAAA8N,GACR,EAAKygB,YAAczgB,GAAOA,EAAI3gB,WAC9B,EAAKuhC,aAAe5gB,GAAOA,EAAIxgB,oB,GArDhBgD,IAAMhjB,WC0C3BqhD,G,YAEJ,WAAY9jD,GAAQ,IAAD,8BACjB,4CAAMA,KAgBRmlC,WAAa,SAACnlC,GAAW,IR/Cc+jD,EAAI9f,EQ+CnB,EACiBjkC,EAAMmY,MAAMxC,OAA3CquC,EADc,EACdA,gBAAiBxW,EADH,EACGA,UACzBnxB,GAAKE,SAAS,EAAK0nC,mBAAmB7mC,MAAK,SAAAhZ,GACzC,EAAKxD,SAAS,CAAEwD,WACZA,EAAO0+C,SRpCV,SAA0C3G,EAAY3O,GAC3D,OAAOnxB,GAAKE,SAAShI,GAAOwC,UAAUrT,EAAOC,IAAIoF,QAAQO,iBAAkB6yC,EAAY3O,IAAYpwB,MAAK,SAAApL,GACtG,IAAMupC,EAAY,GASlB,OARAvpC,EAAK0O,KAAI,SAAAmK,GAAG,OACV0wB,EAAU7qC,KAAK,CACb0P,MAAOyK,EAAIwoB,WACXhzB,IAAKwK,EAAI2oB,SACT31B,KAAK,gBAAD,OAAQtJ,GAAOC,WAAWqW,EAAIq5B,cAA9B,OAAmE,IAAtBr5B,EAAIs5B,cAAsB,2BAAS,IAAhF,OAA0G,IAArBt5B,EAAIu5B,aAAqB,2BAAS,IAC3H/4B,KAAK,sBAAD,OAAwBR,EAAIw5B,kBAA5B,oBAAyDx5B,EAAIizB,UAA7D,sBAAoFjzB,EAAI7oB,GAAxF,gBAGDu5C,KQ2BH+I,CAAiClgD,EAAO0+C,QAAStV,GAAWpwB,MAAK,SAAApL,GAAI,OACnE,EAAKpR,SAAS,CAAE0I,iBAAkB0I,WRtDH+xC,EQ0DZC,ER1DgB/f,EQ0DCuJ,ERzDrCnxB,GAAKE,SAAShI,GAAOwC,UAAUrT,EAAOC,IAAIS,OAAOS,gBAAiBk/C,EAAI9f,IAAK7mB,MAAK,SAAApL,GACrF,IAAMupC,EAAY,GASlB,OARAvpC,EAAK0O,KAAI,SAAAmK,GAAG,OACV0wB,EAAU7qC,KAAK,CACb0P,MAAOyK,EAAIwoB,WACXhzB,IAAKwK,EAAI2oB,SACT31B,KAAMgN,EAAI2wB,aACVnwB,KAAK,qBAAD,OAAuBR,EAAI4wB,iBAG5BF,MQ+C8Cn+B,MAAK,SAAAvY,GACxD,EAAKjE,SAAS,CAAEiE,wBA7BD,EAiCnBipC,mBAAqB,WAAO,IAClB1pC,EAAW,EAAKnE,MAAhBmE,OACRwU,SAAS8K,MAAT,UAAoBtf,EAAOuf,WAAa,GAAxC,4CAnCiB,EAsCnB4gC,aAAe,SAACvyC,EAAMyQ,GACpB,OAAOpG,GAAKK,SAAS,EAAKunC,kBAAmBjyC,GAAMoL,MAAK,SAAAhZ,GACtD,EAAKxD,SAAS,CAAEwD,WACZqe,GACFA,IAEFsmB,GAAMC,QAAQ72B,GAASoB,QAAQC,UAC9B6kB,OAAM,SAAA/J,GAEP,OADAya,GAAMtnC,MAAM0Q,GAASG,MAAMG,kBACpBkL,QAAQC,OAAO0Q,OA/CP,EAmDnBk2B,cAAgB,WAAO,IAAD,EACW,EAAKvkD,MAA5BwkD,EADY,EACZA,WAAYrgD,EADA,EACAA,OACpBA,EAAOsgD,aAAc,EACrB,EAAK9jD,SAAS,CAAC6jD,YAAaA,EAAYrgD,YAnDxC,EAAKnE,MAAQ,CACXmE,OAAQ,GACRqgD,YAAY,EACZ5/C,gBAAiB,GACjByE,iBAAkB,IAEpB,EAAK26C,kBAAoB1vC,GAAOwC,UAC9BrT,EAAOC,IAAIS,OAAOM,cAClB1E,EAAMmY,MAAMxC,OAAOquC,gBACnBhkD,EAAMmY,MAAMxC,OAAO63B,WAErB,EAAKrI,WAAWnlC,GAdC,E,sEAyDT,IACAwtC,EAAc7sC,KAAKX,MAAMmY,MAAMxC,OAA/B63B,UACAvsC,EAAYN,KAAKX,MAAjBiB,QAFD,EAG+CN,KAAKV,MAAnDmE,EAHD,EAGCA,OAAQS,EAHT,EAGSA,gBAAiByE,EAH1B,EAG0BA,iBAC3BzK,EAASuF,EAAOvF,QAAU8lD,KAEhC,OACE,6BACE,kBAAC,GAAD,CACEzS,YAAa,CACX,CAAE7mB,KAAM,oDAAqD5qB,KAAM,wCACnE,CAAEA,KAAM2D,EAAOuf,cAGnB,yBAAKphB,MAAO,CAAE9D,UAAW,KACvB,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAUq2B,GAAI,GAAIC,GAAI,GAAIC,GAAI,EAAGmqB,GAAI,GACnC,kBAAC1W,GAAD,CACEz2B,KAAM5N,EACN+U,OAAQypC,GACR9gB,UAAW,CACTpe,MAAO,uCACPvK,OAAQ4pC,GACR/kD,OAAQglD,GACR3a,WAAY1nC,KAAK4jD,iBAIvB,kBAAC,GAAD,CAAUzvB,GAAI,GAAIC,GAAI,GAAIC,GAAI,EAAGmqB,GAAI,GACnC,kBAAC,GAAD,CAAMtK,SAAO,EAACzzC,UAAWH,EAAQyzC,aAC/B,kBAAC,GAAD,CAAYG,SAAO,EAACzzC,UAAWH,EAAQg0C,YACrC,0BAAM7zC,UAAWH,EAAQ2jD,iBACzB,uBAAGpqC,KAAK,OAAOlY,QAAS,SAAA/B,GAAC,OAAIA,EAAEM,mBAC7B,yBAAK2iB,IAAK3kB,EAAQ4kB,IAAI,MAAMriB,UAAWH,EAAQ4jD,cAGnD,kBAAC,GAAD,KACKtwC,GAAOK,QAAQ/P,GAEd,KADF,kBAAC,GAAD,CAAUgM,MAAOhM,EAAiBiuC,UAAU,EAAOK,SAAS,KAGhE,kBAAC,GAAD,KAC0B,OAAvB/uC,EAAOy+C,YACN,kBAAClQ,GAAD,CAASF,WAAW,gCAClB,kBAAC,GAAD,CACEjF,UAAWA,EACX7pB,UAAWvf,EAAOuf,UAClBg7B,SAAUh+C,KAAK6jD,iBAGjB,OAGgB,OAAvBpgD,EAAOy+C,YACN,kBAAC,GAAD,KACA,kBAAC,GAAD,iCAGA,kBAAC,GAAD,KACKtuC,GAAOK,QAAQtL,GAEd,KADF,kBAAC,GAAD,CAAUuH,MAAOvH,EAAkBwpC,UAAU,EAAOK,SAAS,MAIjE,a,GA3HW1tB,IAAMhjB,WAoIlB8vC,MAAgB7vC,KA5JhB,SAAC3E,GAAD,MAAY,CACzB22C,YAAa,CACXj2C,UAAW,IAEbw2C,WAAY,CACVh3C,MAAO,IACP2rB,OAAQ,IACRlqB,SAAU,YAEZklD,eAAgB,CACd1mD,QAAS,eACT0rB,OAAQ,OACR0V,cAAe,UAEjBulB,UAAW,CACT1rB,UAAW,IACXD,SAAU,IACVoG,cAAe,UAEjB9a,OAAQ,CACNnmB,YAAaN,EAAMK,QAAQ,OAwIAsE,CAAmBohD,IAAe,sBCxIlDvR,M,2MArCb7uB,MAAQ,iC,EAER+c,kBAAoB,WAClB7nB,SAAS8K,MAAQ,EAAKA,O,wEAGb,IAAD,OAER,OACE,6BACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAYpkB,MAAM,QACfqB,KAAK+iB,OAER,kBAAC,GAAD,KACE,kBAAC,GAAD,CACE4mB,SAAW5mC,EAAOC,IAAImC,YAAYC,wBAClCykC,OAAS,SAACiD,GAAD,OACP,kBAAC7G,GAAD,CACEljB,MAAO,EAAKA,MACZyE,UAAW86B,GACX14B,UAAWkjB,EAASv0B,QACpB5J,YAAa5L,EAAO4L,YACpBma,SAAS,EACTma,WAAYrvB,GAAOqH,kBACnBumB,UAAU,EACVuD,YAAY,c,GA3BAjgB,IAAMhjB,WAsCY,2B,ymBC6DjC8vC,M,YA7Fb,WAAYvyC,GAAQ,IAAD,8BACjB,4CAAMA,KAHR0jB,MAAQ,uCAEW,EAYnByhB,WAAa,SAACnlC,GACZ07C,KAAuBt+B,MAAK,SAAAmmC,GAAkB,OAAI,EAAK3iD,SAAS,CAAC2iD,2BAbhD,EAgBnBzV,mBAAqB,WAAO,IAAD,EACD,EAAK7tC,MAArBmb,EADiB,EACjBA,KAAMC,EADW,EACXA,MACdzC,SAAS8K,MAAT,UAAoBtI,EAApB,iBAA4BC,EAA5B,oBAAwC,EAAKqI,QAlB5B,EAqBnBohC,iBAAmB,WAAO,IAAD,EACC,EAAK7kD,MAArBmb,EADe,EACfA,KAAMC,EADS,EACTA,MACR1D,EAAOpD,GAAO4G,qBAAqBC,EAAMC,GAC/C9G,GAAO8B,SAAP,2BAAoCsB,EAAKyD,KAAzC,YAAiDzD,EAAK0D,MAAtD,MACA,EAAKza,UAAS,SAAAX,GAAK,aAAU0X,EAAV,CAAgB4yB,QAAStqC,EAAMsqC,aAzBjC,EA4BnBwa,iBAAmB,WAAO,IAAD,EACC,EAAK9kD,MAArBmb,EADe,EACfA,KAAMC,EADS,EACTA,MACR1D,EAAOpD,GAAO+G,qBAAqBF,EAAMC,GAC/C9G,GAAO8B,SAAP,2BAAoCsB,EAAKyD,KAAzC,YAAiDzD,EAAK0D,MAAtD,MACA,EAAKza,UAAS,SAAAX,GAAK,aAAU0X,EAAV,CAAgB4yB,QAAStqC,EAAMsqC,aAhCjC,EAmCnBya,MAAQ,WAAO,IAAD,EACU,EAAKhlD,MAAMmY,MAAMxC,OAAjCyF,EADM,EACNA,KAAMC,EADA,EACAA,MAKZ,OAJKD,GAASC,IACZD,EAAO7G,GAAOuG,iBACdO,EAAQ9G,GAAOwG,mBAEV,CAAEK,OAAMC,UAtCf,EAAKpb,MAAL,IACEsqC,QAAQ,EACRgZ,mBAAoB,IACjB,EAAKyB,SAGV,EAAK7f,WAAWnlC,GATC,E,sEA4CT,IAAD,SAC6CW,KAAKV,MAAjDsjD,EADD,EACCA,mBAAoBnoC,EADrB,EACqBA,KAAMC,EAD3B,EAC2BA,MAAOkvB,EADlC,EACkCA,OAEnC0a,EAAyB1wC,GAAOoG,MAAMuoC,IAI5C,OAHA3uC,GAAOkC,gBAAgBwuC,EAAwB,OAAQ,eAAvD,QAAmF1B,EACnF2B,QAAQC,IAAI5wC,GAAOwC,UAAUrT,EAAOC,IAAIS,OAAOc,aAAckW,EAAMC,IAGjE,6BACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAY/b,MAAM,QAAlB,UACM8b,EADN,iBACcC,EADd,2DAGA,kBAAC,GAAD,KACE,kBAAC,GAAD,CACEkvB,OAAQA,EACRD,SAAW/1B,GAAOwC,UAAUrT,EAAOC,IAAIS,OAAOc,aAAckW,EAAMC,GAClEmvB,OAAS,SAACiD,GAAD,OACP,kBAAC7G,GAAD,CACEljB,MAAO,EAAKA,MACZsiB,WAAW,sBACX7d,UAAW88B,EACX16B,UAAWkjB,EACXn+B,YAAa5L,EAAO4L,YACpBs0B,WAAYrvB,GAAOqH,kBACnBumB,UAAU,EACVuD,YAAY,EACZ/X,aAAc,CACZ,CACE,QAAW,eACX,KAAQ,kBAAC,KAAD,MACR,YAAe,EAAKm3B,kBAEtB,CACE,QAAW,eACX,KAAQ,kBAAC,KAAD,MACR,YAAe,EAAKC,+B,GAnFhBt/B,IAAMhjB,WAgGY,sBClE7B8vC,M,2MAjCb7uB,MAAQ,iC,EAER+c,kBAAoB,WAClB7nB,SAAS8K,MAAQ,EAAKA,O,wEAGb,IAAD,OAER,OACE,6BACE,kBAACriB,EAAA,EAAD,CAAOkB,MAAOq0C,IACZ,kBAAC,GAAD,CACEtM,SAAW5mC,EAAOC,IAAIyJ,WAAWI,eACjCg9B,OAAS,SAACiD,GAAD,OACP,kBAAC7G,GAAD,CACEljB,MAAO,EAAKA,MACZwe,WAAW,EACX/Z,UAAWg7B,GACX54B,UAAWkjB,EACXn+B,YAAa5L,EAAO4L,YACpBs0B,WAAYrvB,GAAOqH,kBACnBumB,UAAU,EACVuD,YAAY,EACZrL,YAAa,CAAEhK,SAAU,gB,GAxBb5K,IAAMhjB,WAkCY,2BCQ/B8vC,M,2MAzCb7uB,MAAQ,iC,EAER+c,kBAAoB,WAAO,IAAD,EACA,EAAKzgC,MAAMmY,MAAMxC,OAAjCyF,EADgB,EAChBA,KAAMC,EADU,EACVA,MACdzC,SAAS8K,MAAT,UAAoBtI,EAApB,iBAA4BC,EAA5B,oBAAwC,EAAKqI,Q,wEAGpC,IAAD,SACgB/iB,KAAKX,MAAMmY,MAAMxC,OAAjCyF,EADA,EACAA,KAAMC,EADN,EACMA,MAEd,OACE,6BACE,kBAAC,GAAD,CACE62B,YAAa,CACX,CAAE7mB,KAAM,mBAAoB5qB,KAAM,kCAClC,CAAEA,KAAK,GAAD,OAAK2a,EAAL,iBAAaC,EAAb,uBAAuB1a,KAAK+iB,WAGtC,kBAACriB,EAAA,EAAD,CAAOkB,MAAOq0C,IACZ,kBAAC,GAAD,CACEtM,SAAW/1B,GAAOwC,UAAUrT,EAAOC,IAAIyJ,WAAWK,iBAAkB2N,EAAMC,GAC1EmvB,OAAS,SAACiD,GAAD,OACP,kBAAC7G,GAAD,CACEljB,MAAK,UAAKtI,EAAL,iBAAaC,EAAb,uBAAuB,EAAKqI,OACjCwe,WAAW,EACX/Z,UAAWi7B,GACX74B,UAAWkjB,EACXn+B,YAAa5L,EAAO4L,YACpBs0B,WAAYrvB,GAAOqH,kBACnBumB,UAAU,EACVuD,YAAY,EACZrL,YAAa,CAAEhK,SAAU,gB,GAhCR5K,IAAMhjB,WA0CY,2BCsGpC8vC,M,YA/Hb,WAAYvyC,GAAQ,IAAD,8BACjB,4CAAMA,KALR0jB,MAAQ,iCAIW,EAHnB2/B,8BAAgC9uC,GAAOoG,MAAM0oC,IAG1B,EAFnBd,oBAAsBhuC,GAAOoG,MAAM4nC,IAEhB,EAanBpd,WAAa,SAACnlC,GAAW,IAAD,EACiBA,EAAMmY,MAAMxC,OAA3CquC,EADc,EACdA,gBAAiBxW,EADH,EACGA,UACzBnxB,GAAKE,SAAShI,GAAOwC,UACnBrT,EAAOC,IAAIS,OAAOM,cAAes/C,EAAiBxW,IACjDpwB,MAAK,SAAAhZ,GACN,EAAKxD,SAAS,CAAEwD,cAElB85C,KAA4B9gC,MAAK,SAAApL,GAAI,OACnC,EAAKpR,SAAS,CAAC4N,sBAAuBwD,ObwpBnCqK,GAAKE,SAAS7Y,EAAOC,IAAI2H,QAAQhH,MAAM8Y,MAAK,SAAApL,GACjD,IAAMozC,EAAW,GAIjB,OAHApzC,EAAKkH,QAAQwH,KAAI,SAAAmK,GAAG,OAClBu6B,EAAS10C,KAAK,CAAChQ,MAAOmqB,EAAI7oB,GAAIgmB,aAAc6C,EAAIpqB,UAE3C2kD,Ka3pBahoC,MAAK,SAAApL,GAAI,OAAI,EAAKpR,SAAS,CAAEykD,gBAAiBrzC,OAClEopC,KAAyBh+B,MAAK,SAAApL,GAAI,OAAI,EAAKpR,SAAS,CAAE0kD,YAAatzC,QAxBlD,EA2BnB87B,mBAAqB,WAAO,IAAD,EACD,EAAK9tC,MAAMmY,MAAMxC,OAAjCyF,EADiB,EACjBA,KAAMC,EADW,EACXA,MACNjX,EAAW,EAAKnE,MAAhBmE,OACRwU,SAAS8K,MAAT,UAAoBtf,EAAOuf,UAA3B,cAA0CvI,EAA1C,iBAAkDC,EAAlD,oBAA8D,EAAKqI,QA9BlD,EAiCnB6hC,6BAA+B,SAACvzC,GAC9B,GAAI8C,MAAMC,QAAQ/C,IAASA,EAAKhB,OAAS,EAAG,CAAC,IAAD,EACU,EAAKhR,MAAMmY,MAAMxC,OACrE,ObqlBC,SAA+ByF,EAAMC,EAAO0oC,EAAI9f,GACrD,OAAO5nB,GAAKE,SAAShI,GAAOwC,UAAUrT,EAAOC,IAAIyJ,WAAWO,2BAA4ByN,EAAMC,EAAO0oC,EAAI9f,IatlB9FuhB,CAFmC,EAClCpqC,KADkC,EAC5BC,MAD4B,EACrB2oC,gBADqB,EACJxW,WACgCpwB,MAAK,SAAAwO,GACzE,IAAM9R,EAAOvF,GAAOgF,OAAOqS,EAAK9R,MAChCvF,GAAOyF,aAAaF,EAAM8R,EAAKnrB,SAC9B43B,OAAM,SAAA/J,GACPya,GAAMtnC,MAAM6sB,EAAOxpB,aArCvB,EAAK7E,MAAQ,CACXsqC,QAAQ,EACRnmC,OAAQ,GACRoK,sBAAuB,GACvB62C,gBAAiB,GACjBC,YAAa,IAEf,EAAKngB,WAAWnlC,GAVC,E,sEA6CR,IAAD,SAC4CW,KAAKX,MAAMmY,MAAMxC,OAA7DyF,EADA,EACAA,KAAMC,EADN,EACMA,MAAO2oC,EADb,EACaA,gBAAiBxW,EAD9B,EAC8BA,UAD9B,EAEwE7sC,KAAKV,MAA7EsqC,EAFA,EAEAA,OAAQnmC,EAFR,EAEQA,OAAQoK,EAFhB,EAEgBA,sBAAuB62C,EAFvC,EAEuCA,gBAAiBC,EAFxD,EAEwDA,YAMhE,OALA/wC,GAAOkC,gBAAgB9V,KAAK0iD,8BAA+B,OAAQ,eAAe1+C,QAAU6J,EAC5F+F,GAAOkC,gBAAgB9V,KAAK4hD,oBAAqB,OAAQ,YAAY59C,QAAU6J,EAC/E+F,GAAOkC,gBAAgB9V,KAAK4hD,oBAAqB,OAAQ,WAAW59C,QAAU0gD,EAC9E9wC,GAAOkC,gBAAgB9V,KAAK4hD,oBAAqB,OAAQ,gBAAgB59C,QAAU2gD,EAGjF,6BACE,kBAAC,GAAD,CACEpT,YAAa,CACX,CAAE7mB,KAAM,mBAAoB5qB,KAAM,kCAClC,CAAE4qB,KAAK,oBAAD,OAAsBjQ,EAAtB,YAA8BC,GAAS5a,KAAK,GAAD,OAAK2a,EAAL,iBAAaC,EAAb,uBAAuB1a,KAAK+iB,QAC7E,CAAEjjB,KAAM2D,EAAOuf,cAGnB,kBAACtiB,EAAA,EAAD,CAAOkB,MAAOq0C,IACZ,kBAAC,GAAD,CACErM,OAAQA,EACRD,SAAW/1B,GAAOwC,UAAUrT,EAAOC,IAAIyJ,WAAWM,kBAAmB0N,EAAMC,EAAO2oC,EAAiBxW,GACnGhD,OAAS,SAACiD,GAAD,OACP,kBAAC7G,GAAD,CACEljB,MAAK,UAAKtf,EAAOuf,UAAZ,aAA0BvI,EAA1B,iBAAkCC,EAAlC,uBAA4C,EAAKqI,OACtDwe,WAAW,EACX/Z,UAAW,EAAKk7B,8BAChB94B,UAAWkjB,EACXn+B,YAAa5L,EAAO4L,YACpBs0B,WAAYrvB,GAAOqH,kBACnB8pB,YAAY,EACZrL,YAAa,CAAEhK,SAAU,KACzBiM,WAAW,SACX3O,aAAc,CACZ,CACE,QAAW,qEACX,KAAQ,kBAAC,KAAD,MACR,YAAe,EAAK43B,6BACpB,aAAe,IAGnB5jB,SAAU,CACR,MAAQ,GAAR,OAAYv9B,EAAOuf,UAAnB,kCACA,OAAU,EAAK4+B,oBACf,OAAUC,GACV,KAAQ,CACN,aAAgBwB,EAChB,UAAaxW,EACb,KAAQpyB,EACR,MAASC,GAEX,SAAYqjC,IACV,kBAAM,EAAK99C,SAAS,CAAC2pC,QAASA,MAC9B7mC,EAAOC,IAAIyJ,WAAWQ,aAExB,QAAW2G,GAAO0B,QAAQ,2BAE5B6rB,UAAW,CACT,MAAQ,GAAR,OAAY19B,EAAOuf,UAAnB,kCACA,OAAU,EAAK4+B,oBACf,OAAUC,GACV,SAAY3D,IACV,kBAAM,EAAKj+C,SAAS,CAAC2pC,QAASA,MAC9B7mC,EAAOC,IAAIyJ,WAAWS,gBAExB,QAAW0G,GAAO0B,QAAQ,4BAE5BmsB,YAAa,CACX,aAAgB0c,IACd,kBAAM,EAAKl+C,SAAS,CAAC2pC,QAASA,MAC9B7mC,EAAOC,IAAIyJ,WAAWS,gBAExB,QAAW0G,GAAO0B,QAAQ,yC,GAzHVwP,IAAMhjB,WAoIY,2BCrJvCgjD,GAAsB,CACjC,CACE,KAAQ,OACR,KAAQ,SACR,MAAS,qBACT,KAAQ,4BACR,YAAc,GAEhB,CACE,KAAQ,YACR,KAAQ,SACR,MAAS,4BAEX,CACE,KAAQ,MACR,KAAQ,SACR,MAAS,4BAEX,CACE,KAAQ,WACR,KAAQ,SACR,MAAS,eACT,YAAc,IAiCLC,GAA6B,CACxC,CACE,KAAQ,OACR,KAAQ,SACR,MAAS,2BACT,KAAQ,6BAEV,CACE,KAAQ,aACR,KAAQ,OACR,MAAS,sBAEX,CACE,KAAQ,WACR,KAAQ,OACR,MAAS,sBAEX,CACE,KAAQ,mBACR,KAAQ,SACR,MAAS,gBAEX,CACE,KAAQ,SACR,KAAQ,SACR,MAAS,eACT,QAAW3lC,GACX,SAAW,EACX,YAAc,EACd,UAAa,CACX,GAAM,CAAC,gBAAmB,cAE5B,QAAU,IClCCwyB,M,2MA7Cb7uB,MAAQ,6C,EAER+c,kBAAoB,WAClB7nB,SAAS8K,MAAQ,EAAKA,O,wEAGd,IAAD,OACP,OACE,6BACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAYpkB,MAAM,QACfqB,KAAK+iB,OAER,kBAAC,GAAD,KACE,kBAAC,GAAD,CACE4mB,SAAW5mC,EAAOC,IAAIwH,OAAO7G,KAC7BkmC,OAAS,SAACiD,GAAD,OACP,kBAAC7G,GAAD,CACEZ,WAAW,mBACXtiB,MAAO,EAAKA,MACZyE,UAAWs9B,GACXl7B,UAAWkjB,EAASv0B,QACpB5J,YAAa5L,EAAO4L,YACpBqe,aAAc,CACZ,CACE,QAAW,+DACX,KAAQ,kBAAC,KAAD,CAASruB,MAAM,cACvB,YAAe,kBAAOiV,GAAO8B,SAAS,0BACtC,QAAW9B,GAAO0B,QAAQ,8BAG9BksB,UAAU,EACVuD,YAAY,EACZ9B,WAAYrvB,GAAOqH,kBACnBye,YAAa,CAAEhK,SAAU,iB,GAnCX5K,IAAMhjB,WA8CY,6BC3CrCgjD,GAAsB,CACjC,CACE,KAAQ,OACR,KAAQ,SACR,MAAS,qBACT,KAAQ,6BACR,YAAc,EACd,UAAY,GAEd,CACE,KAAQ,OACR,KAAQ,SACR,MAAS,qBACT,KAAQ,6BACR,YAAc,EACd,UAAY,GAEd,CACE,KAAQ,eACR,KAAQ,UACR,MAAS,kCAEX,CACE,KAAQ,YACR,KAAQ,SACR,MAAS,2BACT,YAAc,GAEhB,CACE,KAAQ,MACR,KAAQ,SACR,MAAS,2BACT,UAAY,GAEd,CACE,KAAQ,WACR,KAAQ,SACR,MAAS,eACT,YAAc,EACd,UAAY,GAEd,CACE,KAAQ,aACR,KAAQ,UACR,MAAS,eACT,SAAW,EACX,YAAc,EACd,UAAY,EACZ,UAAa,CACX/C,EAAG,CAAC,gBAAmB,cAEzB,QAAW,SACX,QAAU,IAIDiD,GAA6B,CACxC,CAAC,OAAQ,QACT,YACA,WACA,cAGWC,GAAsB,CACjC,CACE,KAAQ,OACR,KAAQ,SACR,MAAS,iCACT,WAAc,GAEhB,CACE,KAAQ,OACR,KAAQ,SACR,MAAS,qBACT,UAAY,EACZ,WAAc,IAEhB,CACE,KAAQ,OACR,KAAQ,SACR,MAAS,2BACT,WAAc,IAEhB,CACE,KAAQ,YACR,KAAQ,SACR,MAAS,2BACT,WAAc,IAEhB,CACE,KAAQ,aACR,KAAQ,OACR,MAAS,kCAEX,CACE,KAAQ,UACR,KAAQ,UACR,MAAS,sBAEX,CACE,KAAQ,YACR,KAAQ,SACR,MAAS,2BACT,WAAc,GAEhB,CACE,KAAQ,WACR,KAAQ,SACR,MAAS,qBACT,WAAc,KAEhB,CACE,KAAQ,WACR,KAAQ,SACR,MAAS,qBACT,WAAc,KAEhB,CACE,KAAQ,MACR,KAAQ,SACR,MAAS,2BACT,WAAc,IAEhB,CACE,KAAQ,MACR,KAAQ,SACR,MAAS,iCACT,WAAc,IAEhB,CACE,KAAQ,gBACR,KAAQ,SACR,MAAS,uCACT,QhGsUgC,CAClC,CAAE,MAAS,IAAK,aAAgB,gBAChC,CAAE,MAAS,IAAK,aAAgB,sBAChC,CAAE,MAAS,IAAK,aAAgB,gBAChC,CAAE,MAAS,IAAK,aAAgB,gBAChC,CAAE,MAAS,IAAK,aAAgB,gBAChC,CAAE,MAAS,IAAK,aAAgB,kBgG1UhC,CACE,KAAQ,cACR,KAAQ,SACR,MAAS,qBACT,QhGyU8B,CAChC,CAAE,MAAS,KAAM,aAAgB,WACjC,CAAE,MAAS,KAAM,aAAgB,WACjC,CAAE,MAAS,KAAM,aAAgB,WACjC,CAAE,MAAS,KAAM,aAAgB,WACjC,CAAE,MAAS,KAAM,aAAgB,WACjC,CAAE,MAAS,KAAM,aAAgB,WACjC,CAAE,MAAS,KAAM,aAAgB,WACjC,CAAE,MAAS,KAAM,aAAgB,WACjC,CAAE,MAAS,KAAM,aAAgB,WACjC,CAAE,MAAS,KAAM,aAAgB,YACjC,CAAE,MAAS,KAAM,aAAgB,YACjC,CAAE,MAAS,KAAM,aAAgB,YACjC,CAAE,MAAS,KAAM,aAAgB,YACjC,CAAE,MAAS,KAAM,aAAgB,YACjC,CAAE,MAAS,KAAM,aAAgB,YACjC,CAAE,MAAS,KAAM,aAAgB,YACjC,CAAE,MAAS,KAAM,aAAgB,YACjC,CAAE,MAAS,KAAM,aAAgB,YACjC,CAAE,MAAS,KAAM,aAAgB,YACjC,CAAE,MAAS,KAAM,aAAgB,YACjC,CAAE,MAAS,KAAM,aAAgB,YACjC,CAAE,MAAS,KAAM,aAAgB,YACjC,CAAE,MAAS,KAAM,aAAgB,YACjC,CAAE,MAAS,KAAM,aAAgB,YACjC,CAAE,MAAS,KAAM,aAAgB,YACjC,CAAE,MAAS,KAAM,aAAgB,YACjC,CAAE,MAAS,KAAM,aAAgB,YACjC,CAAE,MAAS,KAAM,aAAgB,YACjC,CAAE,MAAS,KAAM,aAAgB,YACjC,CAAE,MAAS,KAAM,aAAgB,YACjC,CAAE,MAAS,KAAM,aAAgB,kBgGtWjC,CACE,KAAQ,eACR,KAAQ,SACR,MAAS,6CACT,QhGqW+B,CACjC,CAAE,MAAS,IAAK,aAAgB,4BAChC,CAAE,MAAS,IAAK,aAAgB,4BAChC,CAAE,MAAS,IAAK,aAAgB,8BgGtWhC,CACE,KAAQ,kBACR,KAAQ,SACR,MAAS,6CACT,QAAW9lC,KAIF+lC,GAAsB,CACjC,OACA,CAAC,OAAQ,QACT,CAAC,YAAa,aAAc,WAC5B,YACA,CAAC,WAAY,YACb,CAAC,MAAO,OACR,CAAC,gBAAiB,eAClB,CAAC,eAAgB,oBAGNC,GAA6B,CACxC,CACE,KAAQ,OACR,KAAQ,SACR,MAAS,qBACT,UAAY,EACZ,KAAQ,iDAEV,CACE,KAAQ,YACR,KAAQ,SACR,MAAS,eACT,UAAY,EACZ,KAAQ,kDAIClD,GAAuB,CAClC,CACE,KAAQ,OACR,KAAQ,SACR,MAAS,4BAEX,CACE,KAAQ,UACR,KAAQ,SACR,MAAS,2BACT,QAAW,IAEb,CACE,KAAQ,YACR,KAAQ,SACR,MAAS,gBAEX,CACE,KAAQ,SACR,KAAQ,SACR,MAAS,eACT,QAAW,CACT,CACE,MAAS,IACT,aAAgB,UAElB,CACE,MAAS,IACT,aAAgB,YAItB,CACE,KAAQ,WACR,KAAQ,OACR,MAAS,4BAEX,CACE,KAAQ,QACR,KAAQ,SACR,MAAS,0DAEX,CACE,KAAQ,gBACR,KAAQ,SACR,MAAS,0DAEX,CACE,KAAQ,YACR,KAAQ,SACR,MAAS,4BAEX,CACE,KAAQ,UACR,KAAQ,SACR,MAAS,gBAEX,CACE,KAAQ,kBACR,KAAQ,SACR,MAAS,sBAEX,CACE,KAAQ,QACR,KAAQ,SACR,MAAS,4BAEX,CACE,KAAQ,WACR,KAAQ,SACR,MAAS,2BACT,QAAW,CACT,CACE,MAAS,IACT,aAAgB,gBAElB,CACE,MAAS,IACT,aAAgB,kBAItB,CACE,KAAQ,iBACR,KAAQ,SACR,MAAS,8CAEX,CACE,KAAQ,UACR,KAAQ,OACR,MAAS,iBAIAG,GAA2B,CACtC,CACE,KAAQ,OACR,KAAQ,SACR,MAAS,2BACT,UAAY,EACZ,WAAc,GAEhB,CACE,KAAQ,UACR,KAAQ,SACR,MAAS,2BACT,QAAW,GACX,UAAa,4HAEf,CACE,KAAQ,YACR,KAAQ,SACR,MAAS,SACT,UAAY,EACZ,WAAc,IAEhB,CACE,KAAQ,aACR,KAAQ,SACR,MAAS,SACT,UAAY,EACZ,WAAc,IAEhB,CACE,KAAQ,eACR,KAAQ,SACR,MAAS,mCACT,WAAc,IAEhB,CACE,KAAQ,gBACR,KAAQ,SACR,MAAS,mCACT,WAAc,IAEhB,CACE,KAAQ,SACR,KAAQ,SACR,MAAS,eACT,QAAW,CACT,CACE,MAAS,IACT,aAAgB,UAElB,CACE,MAAS,IACT,aAAgB,YAItB,CACE,KAAQ,WACR,KAAQ,OACR,MAAS,4BAEX,CACE,KAAQ,QACR,KAAQ,SACR,MAAS,0DAEX,CACE,KAAQ,gBACR,KAAQ,SACR,MAAS,0DAEX,CACE,KAAQ,YACR,KAAQ,SACR,MAAS,2BACT,WAAc,GAEhB,CACE,KAAQ,WACR,KAAQ,SACR,MAAS,qBACT,WAAc,KAEhB,CACE,KAAQ,WACR,KAAQ,SACR,MAAS,qBACT,WAAc,KAEhB,CACE,KAAQ,kBACR,KAAQ,SACR,MAAS,qBACT,WAAc,IAEhB,CACE,KAAQ,QACR,KAAQ,SACR,MAAS,2BACT,WAAc,IAEhB,CACE,KAAQ,WACR,KAAQ,SACR,MAAS,2BACT,QAAW,CACT,CACE,MAAS,IACT,aAAgB,gBAElB,CACE,MAAS,IACT,aAAgB,kBAItB,CACE,KAAQ,YACR,KAAQ,SACR,MAAS,6CACT,QAAW,IAEb,CACE,KAAQ,UACR,KAAQ,OACR,MAAS,eACT,WAAc,MAILC,GAA2B,CACtC,UACA,OACA,CAAC,YAAa,cACd,CAAC,eAAgB,iBACjB,CAAC,SAAU,YACX,CAAC,QAAS,iBACV,CAAC,aACD,CAAC,WAAY,YACb,kBACA,CAAC,QAAS,YACV,YACA,WAGW+C,GAA8B,CACzC,CACE,KAAQ,gBACR,KAAQ,SACR,MAAS,2BACT,UAAY,EACZ,QAAW1mC,IAEb,CACE,KAAQ,aACR,KAAQ,OACR,MAAS,iCACT,UAAY,GAEd,CACE,KAAQ,WACR,KAAQ,OACR,MAAS,iCACT,UAAY,GAEd,CACE,KAAQ,wBACR,KAAQ,SACR,MAAS,uCACT,UAAY,EACZ,QAAW,CACT,CAAE,MAAS,KAAM,aAAgB,8CACjC,CAAE,MAAS,KAAM,aAAgB,wCACjC,CAAE,MAAS,KAAM,aAAgB,+CACjC,CAAE,MAAS,KAAM,aAAgB,qDACjC,CAAE,MAAS,KAAM,aAAgB,4BACjC,CAAE,MAAS,KAAM,aAAgB,gBACjC,CAAE,MAAS,KAAM,aAAgB,iDAK1B2mC,GAA4B,CACvC,CACE,KAAQ,OACR,KAAQ,SACR,MAAS,qBACT,UAAY,EACZ,WAAa,EACb,WAAc,GAEhB,CACE,KAAQ,OACR,KAAQ,SACR,MAAS,eACT,UAAY,EACZ,WAAc,IAEhB,CACE,KAAQ,SACR,KAAQ,UACR,MAAS,eACT,UAAY,EACZ,UAAa,EACb,KAAQ,IACR,QAAW,GAEb,CACE,KAAQ,OACR,KAAQ,SACR,MAAS,eACT,QAAW,CACT,CAAE,MAAS,KAAM,aAAgB,iBACjC,CAAE,MAAS,KAAM,aAAgB,iBACjC,CAAE,MAAS,KAAM,aAAgB,uBACjC,CAAE,MAAS,KAAM,aAAgB,iBACjC,CAAE,MAAS,KAAM,aAAgB,WAEnC,QAAW,MAEb,CACE,KAAQ,UACR,KAAQ,SACR,MAAS,6BAIAC,GAAkC,CAC7C,CACE,KAAQ,OACR,KAAQ,SACR,MAAS,qBACT,UAAY,EACZ,WAAa,EACb,WAAc,GAEhB,CACE,KAAQ,OACR,KAAQ,SACR,MAAS,eACT,UAAY,EACZ,WAAc,IAEhB,CACE,KAAQ,QACR,KAAQ,UACR,MAAS,eACT,UAAa,EACb,KAAQ,MAICC,GAA0B,CACrC,CACE,KAAQ,OACR,KAAQ,SACR,MAAS,iCACT,WAAa,EACb,UAAY,EACZ,WAAc,GAEhB,CACE,KAAQ,OACR,KAAQ,SACR,MAAS,2BACT,WAAa,EACb,UAAY,EACZ,WAAc,IAEhB,CACE,KAAQ,UACR,KAAQ,OACR,MAAS,2BACT,WAAc,MAILC,GAA0B,CACrC,CAAC,OAAQ,QACT,WAGWC,GAAiC,CAC5C,CACE,KAAQ,cACR,KAAQ,SACR,MAAS,2BACT,KAAQ,SAACp0C,GACP,OAA4B,IAAxBA,EAAKq0C,eACA,yFAEA,OAIb,CACE,KAAQ,gBACR,KAAQ,SACR,MAAS,2BACT,QAAWjnC,IAEb,CACE,KAAQ,aACR,KAAQ,OACR,MAAS,kCAEX,CACE,KAAQ,WACR,KAAQ,OACR,MAAS,kCAEX,CACE,KAAQ,wBACR,KAAQ,SACR,MAAS,uCACT,UAAY,EACZ,QAAW,CACT,CAAE,MAAS,KAAM,aAAgB,8CACjC,CAAE,MAAS,KAAM,aAAgB,wCACjC,CAAE,MAAS,KAAM,aAAgB,+CACjC,CAAE,MAAS,KAAM,aAAgB,qDACjC,CAAE,MAAS,KAAM,aAAgB,4BACjC,CAAE,MAAS,KAAM,aAAgB,gBACjC,CAAE,MAAS,KAAM,aAAgB,gDAGrC,CACE,KAAQ,gBACR,KAAQ,UACR,MAAS,gBAEX,CACE,KAAQ,eACR,KAAQ,UACR,MAAS,4BAEX,CACE,KAAQ,cACR,KAAQ,UACR,MAAS,iBAIAknC,GAAiC,CAC5C,CACE,KAAQ,cACR,KAAQ,SACR,MAAS,4BAEX,CACE,KAAQ,gBACR,KAAQ,SACR,MAAS,2BACT,QAAWpnC,IAEb,CACE,KAAQ,aACR,KAAQ,OACR,MAAS,kCAEX,CACE,KAAQ,WACR,KAAQ,OACR,MAAS,kCAEX,CACE,KAAQ,wBACR,KAAQ,SACR,MAAS,uCACT,UAAY,EACZ,QAAW,CACT,CAAE,MAAS,KAAM,aAAgB,8CACjC,CAAE,MAAS,KAAM,aAAgB,wCACjC,CAAE,MAAS,KAAM,aAAgB,+CACjC,CAAE,MAAS,KAAM,aAAgB,qDACjC,CAAE,MAAS,KAAM,aAAgB,4BACjC,CAAE,MAAS,KAAM,aAAgB,gBACjC,CAAE,MAAS,KAAM,aAAgB,iDAK1BqnC,GAAqC,CAChD,CACE,KAAQ,KACR,KAAQ,SACR,MAAS,2BACT,UAAY,GAEd,CACE,KAAQ,QACR,KAAQ,UACR,MAAS,uCACT,UAAY,GAEd,CACE,KAAQ,eACR,KAAQ,UACR,MAAS,2BACT,UAAY,GAEd,CACE,KAAQ,gBACR,KAAQ,UACR,MAAS,eACT,UAAY,GAEd,CACE,KAAQ,YACR,KAAQ,UACR,MAAS,2BACT,UAAY,GAEd,CACE,KAAQ,YACR,KAAQ,UACR,MAAS,2BACT,UAAY,GAEd,CACE,KAAQ,iBACR,KAAQ,UACR,MAAS,2BACT,UAAY,GAEd,CACE,KAAQ,gBACR,KAAQ,UACR,MAAS,2BACT,UAAY,GAEd,CACE,KAAQ,eACR,KAAQ,UACR,MAAS,qBACT,UAAY,IAIHC,GAAqC,CAChD,CACE,KAAQ,KACR,KAAQ,SACR,MAAS,2BACT,WAAa,GAEf,CACE,KAAQ,QACR,KAAQ,UACR,MAAS,uCACT,WAAa,GAEf,CACE,KAAQ,mBACR,KAAQ,SACR,MAAS,iCACT,WAAc,KAEhB,CACE,KAAQ,YACR,KAAQ,UACR,MAAS,2BACT,UAAY,EACZ,WAAa,EACb,UAAa,EACb,KAAQ,KAEV,CACE,KAAQ,YACR,KAAQ,UACR,MAAS,2BACT,UAAY,EACZ,WAAa,EACb,UAAa,EACb,KAAQ,KAEV,CACE,KAAQ,aACR,KAAQ,SACR,MAAS,uCACT,WAAc,KAEhB,CACE,KAAQ,iBACR,KAAQ,UACR,MAAS,2BACT,UAAY,EACZ,UAAa,GAEf,CACE,KAAQ,gBACR,KAAQ,UACR,MAAS,2BACT,UAAY,EACZ,UAAa,GAEf,CACE,KAAQ,kBACR,KAAQ,UACR,MAAS,kCAEX,CACE,KAAQ,sBACR,KAAQ,SACR,MAAS,uCACT,WAAc,KAEhB,CACE,KAAQ,qBACR,KAAQ,SACR,MAAS,uCACT,WAAc,KAEhB,CACE,KAAQ,eACR,KAAQ,UACR,MAAS,2BACT,WAAa,GAEf,CACE,KAAQ,gBACR,KAAQ,UACR,MAAS,eACT,WAAa,GAEf,CACE,KAAQ,oBACR,KAAQ,UACR,MAAS,uCACT,UAAY,EACZ,WAAa,EACb,UAAa,IAIJC,GAAqC,CAChD,CAAC,KAAM,QAAS,gBAChB,mBACA,CAAC,YAAa,aACd,aACA,CAAC,iBAAkB,gBAAiB,mBACpC,sBACA,qBACA,CAAC,gBAAiB,sBAGPC,GAAoC,CAC/C,CACE,KAAQ,KACR,KAAQ,SACR,MAAS,2BACT,UAAY,GAEd,CACE,KAAQ,OACR,KAAQ,SACR,MAAS,qBACT,QAAW7nC,GACX,SAAW,EACX,YAAc,EACd,QAAU,GAEZ,CACE,KAAQ,QACR,KAAQ,SACR,MAAS,qBACT,QAAWC,GACX,SAAW,EACX,YAAc,EACd,QAAU,GAEZ,CACE,KAAQ,eACR,KAAQ,SACR,MAAS,eACT,KAAQ,oCACR,YAAc,EACd,UAAY,EACZ,UAAa,KAEf,CACE,KAAQ,YACR,KAAQ,SACR,MAAS,eACT,KAAQ,0DACR,YAAc,EACd,UAAY,GAEd,CACE,KAAQ,eACR,KAAQ,SACR,MAAS,2BACT,KAAQ,mCACR,YAAc,EACd,UAAY,EACZ,UAAa,KAEf,CACE,KAAQ,iBACR,KAAQ,SACR,MAAS,eACT,QAAW,GACX,YAAc,EACd,UAAY,EACZ,QAAU,GAEZ,CACE,KAAQ,cACR,KAAQ,UACR,MAAS,eACT,UAAY,GAEd,CACE,KAAQ,UACR,KAAQ,SACR,MAAS,iCACT,UAAY,GAEd,CACE,KAAQ,WACR,KAAQ,SACR,MAAS,2BACT,KAAQ,SAAC9M,GACP,OAA4B,IAAxBA,EAAKq0C,eACA,KACEr0C,EAAK20C,oBACP,yDAEA,gFAGX,UAAY,GAEd,CACE,KAAQ,iBACR,KAAQ,OACR,MAAS,qBACT,gBAAmB,SAAC7rB,EAAS9oB,GAAV,OAA2C,IAAxBA,EAAKq0C,gBAA4BlI,GAAmBrjB,IAC1F,UAAY,GAEd,CACE,KAAQ,mBACR,KAAQ,OACR,MAAS,2BACT,gBAAmB,SAACA,EAAS9oB,GAAV,OAA2C,IAAxBA,EAAKq0C,gBAA4BlI,GAAmBrjB,IAC1F,UAAY,GAEd,CACE,KAAQ,UACR,KAAQ,UACR,MAAS,qBACT,YAAc,EACd,UAAY,GAEd,CACE,KAAQ,cACR,KAAQ,UACR,MAAS,qBACT,YAAc,EACd,UAAY,IAIH8rB,GAAsC,CACjD,CAAC,OAAQ,SACT,CAAC,eAAgB,aACjB,eACA,iBACA,CAAC,UAAW,gBAGDC,GAAmC,CAC9C,CACE,KAAQ,eACR,KAAQ,OACR,MAAS,iCACT,UAAY,GAEd,CACE,KAAQ,OACR,KAAQ,SACR,MAAS,qBACT,UAAY,EACZ,WAAa,GAEf,CACE,KAAQ,QACR,KAAQ,SACR,MAAS,qBACT,UAAY,EACZ,WAAa,GAEf,CACE,KAAQ,WACR,KAAQ,SACR,MAAS,qBACT,UAAY,EACZ,QhG37BkC,WACpC,IAAMzrC,GAAQ,IAAIxD,MAAQC,cAC1B,MAAO,CACL,CAAE,MAAUuD,EAAO,EAAK,GAAI,aAAiBA,EAAO,EAAK,IACzD,CAAE,MAAUA,EAAO,EAAK,GAAI,aAAiBA,EAAO,EAAK,IACzD,CAAE,MAAUA,EAAO,EAAK,GAAI,aAAiBA,EAAO,EAAK,IACzD,CAAE,MAAUA,EAAO,EAAK,GAAI,aAAiBA,EAAO,EAAK,KgGq7B9C0rC,IAEb,CACE,KAAQ,YACR,KAAQ,SACR,MAAS,qBACT,UAAY,EACZ,QAAWhoC,KAIFioC,GAAmC,CAC9C,eACA,CAAC,OAAQ,SACT,CAAC,WAAY,cAGFC,GAA6B,CACxC,CACE,KAAQ,KACR,KAAQ,SACR,MAAS,2BACT,KAAQ,wDAEV,CACE,KAAQ,gBACR,KAAQ,UACR,MAAS,sBAEX,CACE,KAAQ,eACR,KAAQ,UACR,MAAS,sBAEX,CACE,KAAQ,mBACR,KAAQ,UACR,MAAS,wCAEX,CACE,KAAQ,gBACR,KAAQ,UACR,MAAS,yCAIAC,GAA+B,CAC1C,CACE,KAAQ,KACR,KAAQ,SACR,MAAS,2BACT,KAAQ,mDAEV,CACE,KAAQ,aACR,KAAQ,UACR,MAAS,sBAEX,CACE,KAAQ,SACR,KAAQ,UACR,MAAS,qDAqCAC,GAA+B,CAC1C,CACE,KAAQ,gBACR,KAAQ,SACR,MAAS,2BACT,UAAY,EACZ,QAAW,CACT,CAAE,MAAS,OAAQ,aAAgB,iBAErC,WAAa,GAEf,CACE,KAAQ,gBACR,KAAQ,OACR,MAAS,sBAEX,CACE,KAAQ,aACR,KAAQ,OACR,MAAS,iCACT,UAAY,GAEd,CACE,KAAQ,WACR,KAAQ,OACR,MAAS,iCACT,UAAY,IAIHC,GAA+B,CAC1C,CAAC,gBAAiB,iBAClB,CAAC,aAAc,aAGJC,GAA4C,CACvD,CACE,KAAQ,KACR,KAAQ,SACR,MAAS,2BACT,KAAQ,SAACp1C,GACP,OAA4B,IAAxBA,EAAKq0C,eACA,KACEr0C,EAAKmqC,WACP,gGAEA,iGAGX,UAAY,GAEd,CACE,KAAQ,OACR,KAAQ,SACR,MAAS,qBACT,QAAWt9B,GACX,SAAW,EACX,YAAc,EACd,QAAU,GAEZ,CACE,KAAQ,QACR,KAAQ,SACR,MAAS,qBACT,QAAWC,GACX,SAAW,EACX,YAAc,EACd,QAAU,GAEZ,CACE,KAAQ,OACR,KAAQ,SACR,MAAS,eACT,YAAc,EACd,UAAY,GAEd,CACE,KAAQ,oBACR,KAAQ,SACR,MAAS,eACT,UAAY,GAEd,CACE,KAAQ,oBACR,KAAQ,SACR,MAAS,6CACT,YAAc,EACd,UAAY,GAEd,CACE,KAAQ,aACR,KAAQ,SACR,MAAS,2BACT,YAAc,EACd,UAAY,GAEd,CACE,KAAQ,mBACR,KAAQ,OACR,MAAS,iCACT,gBAAmB,SAACgc,EAAS9oB,GAAV,OAA2C,IAAxBA,EAAKq0C,gBAA4BlI,GAAmBrjB,KAE5F,CACE,KAAQ,mBACR,KAAQ,OACR,MAAS,iCACT,gBAAmB,SAACA,EAAS9oB,GAAV,OAA2C,IAAxBA,EAAKq0C,gBAA4BlI,GAAmBrjB,KAE5F,CACE,KAAQ,UACR,KAAQ,UACR,MAAS,qBACT,YAAc,EACd,UAAY,GAEd,CACE,KAAQ,cACR,KAAQ,UACR,MAAS,qBACT,YAAc,EACd,UAAY,IAIHusB,GAA8C,CACzD,CAAC,OAAQ,SACT,OACA,CAAC,oBAAqB,cACtB,CAAC,UAAW,gBAGDC,GAA4C,CACvD,CACE,KAAQ,OACR,KAAQ,SACR,MAAS,qBACT,UAAY,EACZ,WAAa,GAEf,CACE,KAAQ,QACR,KAAQ,SACR,MAAS,qBACT,UAAY,EACZ,WAAa,GAEf,CACE,KAAQ,kBACR,KAAQ,SACR,MAAS,iCACT,UAAY,EACZ,QAAW,KAIFC,GAA4C,CACvD,CAAC,OAAQ,SACT,mBAGWC,GAAgC,CAC3C,CACE,KAAQ,OACR,KAAQ,SACR,MAAS,qBACT,YAAc,EACd,UAAY,EACZ,KAAQ,8BAEV,CACE,KAAQ,YACR,KAAQ,SACR,MAAS,eACT,YAAc,EACd,UAAY,EACZ,KAAQ,8BAEV,CACE,KAAQ,UACR,KAAQ,SACR,MAAS,eACT,UAAY,GAEd,CACE,KAAQ,QACR,KAAQ,SACR,MAAS,2BACT,UAAY,GAEd,CACE,KAAQ,iBACR,KAAQ,SACR,MAAS,qBACT,YAAc,EACd,UAAY,EACZ,QAAW,GACX,QAAU,IAIDC,GAAwB,CACnCC,cAAenzC,GAAOmD,WAAW,IAAIE,KAAQ,cAE7C8oC,gBAAiB,CACf,CAAE,KAAQ,OAAQ,KAAQ,2BAAQ,MAAS,GAC3C,CAAE,KAAQ,OAAQ,KAAQ,2BAAQ,MAAS,GAC3C,CAAE,KAAQ,OAAQ,KAAQ,6CAAW,MAAS,GAC9C,CAAE,KAAQ,OAAQ,KAAQ,6CAAW,MAAS,IAEhDiH,WAAY,CACV,CAAE,KAAQ,OAAQ,KAAQ,6CAAW,KAAQ,KAAM,QAAW,IAC9D,CAAE,KAAQ,OAAQ,KAAQ,2BAAQ,OAAU,EAAG,KAAQ,KAAM,QAAW,IACxE,CAAE,KAAQ,OAAQ,KAAQ,2BAAQ,OAAU,EAAG,KAAQ,KAAM,QAAW,IACxE,CAAE,KAAQ,OAAQ,KAAQ,iCAAS,OAAU,EAAG,KAAQ,KAAM,QAAW,KAE3E5/C,eAAgB,CACd,CAAE,KAAQ,OAAQ,KAAQ,oCAIjB6/C,GAAgC,CAC3CC,cAAe,OACfH,cAAenzC,GAAOsG,oBACtB8sC,WAAY,CACV,CAAE,KAAQ,OAAQ,KAAQ,6CAAW,KAAQ,KAAM,QAAW,IAC9D,CAAE,KAAQ,OAAQ,KAAQ,6CAAW,OAAU,EAAG,KAAQ,KAAM,QAAW,KAE7E5/C,eAAgB,CACd,CAAE,KAAQ,OAAQ,KAAQ,4BAC1B,CAAE,KAAQ,OAAQ,KAAQ,gBAC1B,CAAE,KAAQ,OAAQ,KAAQ,4BAC1B,CAAE,KAAQ,OAAQ,KAAQ,sBAC1B,CAAE,KAAQ,OAAQ,KAAQ,kCAC1B,CAAE,KAAQ,OAAQ,KAAQ,oCAKjB+/C,GAA8C,CACzD,CACE,KAAQ,YACR,KAAQ,SACR,MAAS,eACT,KAAQ,mEAEV,CACE,KAAQ,cACR,KAAQ,UACR,MAAS,sBAEX,CACE,KAAQ,UACR,KAAQ,SACR,MAAS,4BAEX,CACE,KAAQ,iBACR,KAAQ,UACR,MAAS,UAEX,CACE,KAAQ,gBACR,KAAQ,UACR,MAAS,UAEX,CACE,KAAQ,cACR,KAAQ,UACR,MAAS,4BAEX,CACE,KAAQ,gBACR,KAAQ,UACR,MAAS,kCAEX,CACE,KAAQ,iBACR,KAAQ,UACR,MAAS,gBAEX,CACE,KAAQ,OACR,KAAQ,UACR,MAAS,8CAEX,CACE,KAAQ,UACR,KAAQ,UACR,MAAS,uBClzCEvV,M,2MAlCb7uB,MAAQ,6C,EAER+c,kBAAoB,WAClB7nB,SAAS8K,MAAT,UAAoB,EAAKA,Q,wEAIzB,OACE,6BACE,kBAAC,GAAD,CACEwuB,YAAa,CACX,CAAE7mB,KAAM,oBAAqB5qB,KAAM,8CACnC,CAAEA,KAAME,KAAK+iB,UAGjB,yBAAKnhB,MAAO,CAAC9D,UAAW,KACtB,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAUq2B,GAAI,GAAIC,GAAI,GAAIC,GAAI,EAAGmqB,GAAI,GACnC,kBAAC,GAAD,CACEz7B,MAAO/iB,KAAK+iB,MACZvK,OAAQysC,GACR5nD,OAAQ6nD,GACRhd,WAAY,OACZC,aAAcplC,EAAOC,IAAIwH,OAAO5G,IAChC6zB,aAAc,kBAAM7jB,GAAO8B,SAAS,gC,GAzBpBoP,IAAMhjB,WAmCY,4BC8EnC8vC,M,YArGb,WAAYvyC,GAAQ,IAAD,8BACjB,4CAAMA,KAYRmlC,WAAa,SAACnlC,GAAW,IlBoLMikC,EkBnLrBkY,EAAen8C,EAAMmY,MAAMxC,OAA3BwmC,YlBmLqBlY,EkBlLZkY,ElBmLZ9/B,GAAKE,SAAShI,GAAOwC,UAAUrT,EAAOC,IAAIwH,OAAOrG,OAAQm/B,KkBnLjC7mB,MAAK,SAAA0lC,GAChC,EAAKliD,SAAS,CAACkiD,gBAhBA,EAoBnBhV,mBAAqB,WACnBl1B,SAAS8K,MAAT,UAAoB,EAAKzjB,MAAM6iD,QAAQriD,MAAQ,GAA/C,sCArBiB,EAwBnBsnD,cAAgB,SAAC/1C,EAAMyQ,GACrB,OAAOpG,GAAKK,SAAS,EAAKsrC,WAAYh2C,GAAMoL,MAAK,SAAA0lC,GAC/C,EAAKliD,SAAS,CAACkiD,YACXrgC,GACFA,IAEFsmB,GAAMC,QAAQ72B,GAASoB,QAAQC,UAC9B6kB,OAAM,SAAA/J,GAEP,OADAya,GAAMtnC,MAAM0Q,GAASG,MAAMG,kBACpBkL,QAAQC,OAAO0Q,OAjCP,EAqCnB25B,gBAAkB,SAACj2C,GACjBqK,GAAKI,YAAY,EAAKurC,YAAY5qC,MAAK,WACrC2rB,GAAMC,QAAQ72B,GAASoB,QAAQE,SAC/Bc,GAAO8B,SAAS,wBACfgiB,OAAM,SAAA/J,GACPya,GAAMtnC,MAAM6sB,EAAOxpB,YAvCrB,EAAK7E,MAAQ,CACX6iD,QAAS,IAEX,EAAK3d,WAAWnlC,GAChB,EAAKgoD,WAAazzC,GAAOwC,UACvBrT,EAAOC,IAAIwH,OAAOrG,OAClB9E,EAAMmY,MAAMxC,OAAOwmC,YATJ,E,sEA8CT,IACAA,EAAex7C,KAAKX,MAAMmY,MAAMxC,OAAhCwmC,WACA2G,EAAYniD,KAAKV,MAAjB6iD,QAER,OACE,6BACE,kBAAC,GAAD,CACE5Q,YAAa,CACX,CAAE7mB,KAAM,oBAAqB5qB,KAAM,8CACnC,CAAEA,KAAMqiD,EAAQriD,SAGpB,yBAAK8B,MAAO,CAAC9D,UAAW,KACtB,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAUq2B,GAAI,GAAIC,GAAI,GAAIC,GAAI,EAAGmqB,GAAI,GACnC,kBAAC1W,GAAD,CACEz2B,KAAM8wC,EACN3pC,OAAQysC,GACR9jB,UAAW,CACTpe,MAAO,yDACPvK,OAAQysC,GACR5nD,OAAQ6nD,GACRxd,WAAY1nC,KAAKonD,cACjBp9B,QAASpW,GAAO0B,QAAQ,gCAE1BmsB,YAAa,CACXc,aAAcviC,KAAKsnD,gBACnBt9B,QAASpW,GAAO0B,QAAQ,oCAKhC,kBAAC08B,GAAD,CAASF,WAAW,wBAClB,kBAACpxC,EAAA,EAAD,CAAOkB,MAAOq0C,IACZ,kBAAC,GAAD,CACEtM,SAAW/1B,GAAOwC,UAAUrT,EAAOC,IAAIwH,OAAOE,aAAc8wC,GAC5D3R,OAAS,SAACiD,GAAD,OACP,kBAAC7G,GAAD,CACEljB,MAAK,UAAKo/B,EAAQriD,KAAb,kCACLyhC,WAAW,EACX/Z,UAAWu9B,GACXn7B,UAAWkjB,EACXn+B,YAAa5L,EAAO4L,YACpBs0B,WAAYrvB,GAAOqH,+B,GA3FL6J,IAAMhjB,WAuGY,6B,0CC5E9CylD,G,YAGJ,WAAYloD,GAAQ,IAAD,8BACjB,4CAAMA,KAHR0jB,MAAQ,2BAEW,EAgBnByhB,WAAa,WnBkGN9oB,GAAKE,SAAS7Y,EAAOC,IAAIiD,SAASvC,WmBjGhB+Y,MAAK,SAAApL,GAC1B,EAAKpR,SAAS,CAAE6c,OAAQzL,QAlBT,EAsBnByuB,kBAAoB,WAClB7nB,SAAS8K,MAAQ,EAAKA,OApBtB,EAAKzjB,MAAQ,CACXwd,OAAQ,CACN6hC,aAAc,EACd6I,kBAAmB,EACnBC,oBAAqB,EACrBC,mBAAoB,EACpBC,kBAAmB,EACnBC,kBAAmB,IAGvB,EAAKpjB,aAbY,E,sEA0BR,IACDlkC,EAAYN,KAAKX,MAAjBiB,QACAwc,EAAW9c,KAAKV,MAAhBwd,OAER,OACE,6BACE,kBAAC0wB,GAAA,EAAD,CAAWjV,SAAS,KAAK5U,UAAU,OAAOljB,UAAWH,EAAQunD,aAC3D,kBAACjnD,EAAA,EAAD,CAAY+iB,UAAU,KAAK9iB,QAAQ,KAAKs4B,MAAM,SAASx6B,MAAM,cAAcwtC,cAAY,GAAvF,oDAGA,kBAACvrC,EAAA,EAAD,CAAYC,QAAQ,KAAKs4B,MAAM,SAASx6B,MAAM,gBAAgBglB,UAAU,KAAxE,0RAKF,kBAAC6pB,GAAA,EAAD,CAAWjV,SAAS,KAAK5U,UAAU,QACjC,kBAAC4B,GAAA,EAAD,CAAMC,WAAS,EAAC/nB,QAAS,EAAGO,WAAW,YACrC,kBAACunB,GAAA,EAAD,CAAMtF,MAAI,EAACkU,GAAI,GAAIC,GAAI,EAAGC,GAAI,GAC5B,kBAAC,GAAD,CACEtR,MAAM,2BACNE,UAAU,mJACV5R,KAAM,CAAE4rB,MAAOngB,EAAO6hC,aAAcnhC,QAAS,WAC7Cy1B,cAAe,CACb,CACEhW,MACE,kBAAC,IAAD,CAAMp7B,GAAI,CAACgU,SAAU,qBAAsBF,OAAQ,yBAChDmH,EAAO0qC,mBAGZhqC,QAAS,uEAGb6c,QACE,oCACE,kBAAC2X,GAAD,CAASF,WAAW,uBAClB,kBAACntB,GAAA,EAAD,CAAS5B,MAAM,4BACb,kBAAC8B,GAAA,EAAD,CACElmB,MAAM,YACNglB,UAAWW,IACX1B,aAAW,MACX/gB,GAAG,yBAEH,kBAAC,KAAD,SAIN,yBAAKpB,UAAWH,EAAQokB,OACxB,kBAACstB,GAAD,CAASF,WAAW,wBAClB,kBAACntB,GAAA,EAAD,CAAS5B,MAAM,oDACb,kBAAC8B,GAAA,EAAD,CACElmB,MAAM,UACNikB,aAAW,OACXe,UAAWW,IACXziB,GAAG,oCAEH,kBAAC,KAAD,QAGJ,kBAAC8iB,GAAA,EAAD,CAAS5B,MAAM,wCACb,kBAAC8B,GAAA,EAAD,CACElmB,MAAM,UACNikB,aAAW,OACXe,UAAWW,IACXziB,GAAG,sCAEH,kBAAC,KAAD,aAQd,kBAAC0jB,GAAA,EAAD,CAAMtF,MAAI,EAACkU,GAAI,GAAIC,GAAI,EAAGC,GAAI,GAC5B,kBAAC,GAAD,CACEtR,MAAM,uCACNE,UAAU,yJACV5R,KAAM,CAAE4rB,MAAOngB,EAAO2qC,oBAAqBjqC,QAAS,WACpDy1B,cAAe,CACb,CAAEhW,MAAOngB,EAAO4qC,mBAAoBlqC,QAAS,qDAE/C6c,QACE,oCACE,yBAAK55B,UAAWH,EAAQokB,OACxB,kBAACstB,GAAD,CAASF,WAAW,0BAClB,kBAACntB,GAAA,EAAD,CAAS5B,MAAM,oDACb,kBAAC8B,GAAA,EAAD,CACElmB,MAAM,UACNikB,aAAW,OACXe,UAAWW,IACXziB,GAAG,wCAEH,kBAAC,KAAD,aAQd,kBAAC0jB,GAAA,EAAD,CAAMtF,MAAI,EAACkU,GAAI,GAAIC,GAAI,EAAGC,GAAI,GAC5B,kBAAC,GAAD,CACEtR,MAAM,uCACNE,UAAU,+JACV5R,KAAM,CAAE4rB,MAAOngB,EAAO6qC,kBAAmBnqC,QAAS,WAClDy1B,cAAe,CACb,CAAEhW,MAAOngB,EAAO8qC,kBAAmBpqC,QAAS,iEAE9C6c,QACE,oCACE,yBAAK55B,UAAWH,EAAQokB,OACxB,kBAACstB,GAAD,CAASF,WAAW,0BAClB,kBAACntB,GAAA,EAAD,CAAS5B,MAAM,oDACb,kBAAC8B,GAAA,EAAD,CACElmB,MAAM,UACNikB,aAAW,OACXe,UAAWW,IACXziB,GAAG,mCAEH,kBAAC,KAAD,oB,GApJMijB,IAAMhjB,WAmKvBC,QAlMA,SAAC3E,GAAD,MAAY,CACzB,UAAW,CACTggB,KAAM,CACJhf,gBAAiBhB,EAAMiB,QAAQuV,OAAOk0C,OAExCC,GAAI,CACF5pD,OAAQ,EACRF,QAAS,GAEX+pD,GAAI,CACF/iC,UAAW,SAGfP,KAAM,CACJA,KAAM,GAERmjC,YAAa,CACX5pD,QAASb,EAAMK,QAAQ,EAAG,EAAG,IAE/BwqD,OAAO,aACL5S,UAAU,aAAD,OAAej4C,EAAMiB,QAAQ6pD,SACtCpqD,UAAWV,EAAMK,QAAQ,GACzBqrC,WAAY1rC,EAAMK,QAAQ,GAC1BopC,cAAezpC,EAAMK,QAAQ,IAC5BL,EAAMO,YAAYC,GAAG,MAAQ,CAC5BkrC,WAAY1rC,EAAMK,QAAQ,GAC1BopC,cAAezpC,EAAMK,QAAQ,QAwKpBsE,CAAmBwlD,I,UCpK5BY,G,YAEJ,WAAY9oD,GAAQ,IAAD,8BACjB,4CAAMA,KAURsiB,WAAa,SAACqB,EAAW3R,GAAZ,OAAsB,EAAKpR,SAAS,CAAC4hB,MAAM,EAAMmB,YAAW3R,UAXtD,EAanByQ,YAAc,kBAAO,EAAK7hB,SAAS,CAAC4hB,MAAM,KAbvB,EAenBpiB,aAAe,SAACowB,GAAD,OAAW,EAAK5vB,SAAS,CAACmyB,SAAUvC,EAAMhwB,OAAOE,SAf7C,EAiBnBqoD,aAAe,SAACroD,GAAD,OAAW,EAAKE,SAAS,CAACmyB,SAAUryB,KAjBhC,EAmBnBsoD,WAAa,WAAO,IACVC,EAAmB,EAAKjpD,MAAxBipD,eADS,EAEU,EAAKhpD,MAAxB+R,EAFS,EAETA,KAAM+gB,EAFG,EAEHA,SACd,GAAIA,EACF,GAAIk2B,EAAgB,CAClB,IAAMvzB,EAASnhB,GAAOoG,MAAMpG,GAAOkC,gBAAgBzE,EAAM,KAAM+gB,IACzDm2B,EAAc,CAClBlF,gBAAiBtuB,EAAOsuB,gBACxBlG,UAAWpoB,EAAOooB,kBAEbpoB,EAAO1zB,UACP0zB,EAAOgnB,YACPhnB,EAAOooB,iBACPpoB,EAAOsuB,uBACPtuB,EAAOymB,kBACPzmB,EAAOyzB,oBACPzzB,EAAO+lB,kBACP/lB,EAAO8lB,oBACP9lB,EAAO0zB,uBACP1zB,EAAO2zB,yBACP3zB,EAAOmtB,YACdntB,EAAOwzB,YAAcA,EACrBD,EAAevzB,GACf,EAAKjT,mBAELsmB,GAAMtnC,MAAM0Q,GAASG,MAAME,kBAG7Bu2B,GAAMtnC,MAAM0Q,GAASG,MAAMC,mBA5C7B,EAAKtS,MAAQ,CACXuiB,MAAM,EACNmB,UAAW,KACX3R,KAAM,GACN+gB,SAAU,MAPK,E,sEAmDT,IAAD,OACC9xB,EAAYN,KAAKX,MAAjBiB,QADD,EAEqCN,KAAKV,MAAzCuiB,EAFD,EAECA,KAAMmB,EAFP,EAEOA,UAAW3R,EAFlB,EAEkBA,KAAM+gB,EAFxB,EAEwBA,SAE/B,OACE,kBAACyF,GAAA,EAAD,CACEhW,KAAMA,EACNiW,QAAS93B,KAAK8hB,YACdiW,WAAY,CAACt3B,UAAWH,EAAQ03B,aAEhC,kBAACC,GAAA,EAAD,eACMjV,EADN,4DAGA,kBAACkV,GAAA,EAAD,CAAeC,UAAQ,EAAC13B,UAAWH,EAAQqoD,eACzC,kBAACzpB,GAAA,EAAD,CAAOtqB,KAAK,QAAQnU,UAAWH,EAAQmrB,OACrC,kBAACyQ,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,KACE,kBAAClB,GAAA,EAAD,MACA,kBAACA,GAAA,EAAD,qBACA,kBAACA,GAAA,EAAD,iCACA,kBAACA,GAAA,EAAD,uCACA,kBAACA,GAAA,EAAD,uBAGJ,kBAACkE,GAAA,EAAD,KACG9tB,EAAK0O,KAAI,SAACmK,EAAK7V,GAAN,OACR,kBAAC8nB,GAAA,EAAD,CAAUiD,OAAK,EAAC/qB,IAAKA,EAAK1S,QAAS,kBAAM,EAAKymD,aAAal+B,EAAI7oB,MAC7D,kBAAC45B,GAAA,EAAD,CAAWh9B,QAAQ,QACjB,kBAAC2qD,GAAA,EAAD,CACE94B,QAASsC,IAAalI,EAAI7oB,GAC1BtB,MAAOmqB,EAAI7oB,GACXuT,KAAK,WAIT,kBAACqmB,GAAA,EAAD,KAAY/Q,EAAI6xB,MAChB,kBAAC9gB,GAAA,EAAD,KAAY/Q,EAAIs+B,cAChB,kBAACvtB,GAAA,EAAD,KAAY/Q,EAAI2wB,cAChB,kBAAC5f,GAAA,EAAD,KAAY/Q,EAAIw+B,yBAKxB,kBAAC9nD,EAAA,EAAD,CAAYC,QAAQ,QAAQJ,UAAWH,EAAQs3B,aAA/C,0JAC4B,6BAD5B,kQAKF,kBAACQ,GAAA,EAAD,KACE,kBAAC12B,EAAA,EAAD,CAAQC,QAAS3B,KAAK8hB,YAAanjB,MAAM,aAAzC,sBACA,kBAAC+C,EAAA,EAAD,CAAQC,QAAS3B,KAAKqoD,WAAY1pD,MAAM,WAAxC,4B,GAvG2BmmB,IAAMhjB,WAmH5BC,iBA7IA,SAAA3E,GAAK,MAAK,CACvB46B,WAAW,eACR56B,EAAMO,YAAY26B,KAAK,MAAQ,CAC9Bh7B,MAAO,OACP2rB,OAAQ,OACR9qB,OAAQ,EACRo6B,SAAU,OACVC,UAAW,OACXC,aAAc,IAGlBkwB,cAAe,CACbxjC,YAAa/nB,EAAMK,QAAQ,IAC3BihC,aAActhC,EAAMK,QAAQ,KAE9BguB,MAAO,CACL,aAAc,CACZtG,YAAa,EACbuZ,aAActhC,EAAMK,QAAQ,MAGhCm6B,YAAa,CACXz5B,OAAQ,kBAuHG4D,CAAmBomD,IChJrB/F,GAA2B,CACtC,CACE,KAAQ,OACR,KAAQ,SACR,MAAS,2BACT,WAAa,EACb,WAAc,GAEhB,CACE,KAAQ,YACR,KAAQ,SACR,MAAS,SACT,UAAY,EACZ,WAAc,IAEhB,CACE,KAAQ,aACR,KAAQ,SACR,MAAS,SACT,UAAY,EACZ,WAAc,IAEhB,CACE,KAAQ,eACR,KAAQ,SACR,MAAS,mCACT,WAAc,IAEhB,CACE,KAAQ,gBACR,KAAQ,SACR,MAAS,mCACT,WAAc,IAEhB,CACE,KAAQ,eACR,KAAQ,SACR,MAAS,mCACT,WAAc,GACd,MAAS,gBAEX,CACE,KAAQ,gBACR,KAAQ,SACR,MAAS,mCACT,WAAc,GACd,MAAS,gBAEX,CACE,KAAQ,mBACR,KAAQ,SACR,MAAS,uCACT,WAAc,IAEhB,CACE,KAAQ,oBACR,KAAQ,SACR,MAAS,uCACT,WAAc,IAEhB,CACE,KAAQ,sBACR,KAAQ,SACR,MAAS,qDACT,WAAc,IAEhB,CACE,KAAQ,uBACR,KAAQ,SACR,MAAS,qDACT,WAAc,IAEhB,CACE,KAAQ,SACR,KAAQ,SACR,MAAS,eACT,QAAWxjC,IAEb,CACE,KAAQ,UACR,KAAQ,SACR,MAAS,iCACT,QAAWM,IAEb,CACE,KAAQ,WACR,KAAQ,OACR,MAAS,4BAEX,CACE,KAAQ,YACR,KAAQ,OACR,MAAS,kCAEX,CACE,KAAQ,mBACR,KAAQ,OACR,MAAS,kCAEX,CACE,KAAQ,gBACR,KAAQ,OACR,MAAS,gDAEX,CACE,KAAQ,QACR,KAAQ,SACR,MAAS,yDACT,UAAY,GAEd,CACE,KAAQ,gBACR,KAAQ,SACR,MAAS,0DAEX,CACE,KAAQ,YACR,KAAQ,SACR,MAAS,2BACT,WAAc,GAEhB,CACE,KAAQ,WACR,KAAQ,SACR,MAAS,qBACT,WAAc,KAEhB,CACE,KAAQ,WACR,KAAQ,SACR,MAAS,qBACT,WAAc,KAEhB,CACE,KAAQ,kBACR,KAAQ,SACR,MAAS,qBACT,WAAc,IAEhB,CACE,KAAQ,QACR,KAAQ,SACR,MAAS,2BACT,WAAc,IAEhB,CACE,KAAQ,WACR,KAAQ,SACR,MAAS,2BACT,QAAW,CACT,CACE,MAAS,IACT,aAAgB,gBAElB,CACE,MAAS,IACT,aAAgB,kBAItB,CACE,KAAQ,kBACR,KAAQ,SACR,MAAS,6CACT,WAAc,IAEhB,CACE,KAAQ,wBACR,KAAQ,OACR,MAAS,0DAEX,CACE,KAAQ,iBACR,KAAQ,OACR,MAAS,mDACT,aAAgB,sBAChB,gBAAmB,SAACib,GAAD,OAAasjB,GAAetjB,IAC/C,MAASp3B,EAAO8L,eAElB,CACE,KAAQ,kBACR,KAAQ,SACR,MAAS,2BACT,WAAc,IAEhB,CACE,KAAQ,wBACR,KAAQ,OACR,MAAS,qEACT,aAAgB,6BAChB,gBAAmB,SAACsrB,GAAD,OAAasjB,GAAetjB,IAC/C,MAASp3B,EAAO8L,eAElB,CACE,KAAQ,6BACR,KAAQ,OACR,MAAS,qEACT,aAAgB,kCAChB,gBAAmB,SAACsrB,GAAD,OAAasjB,GAAetjB,IAC/C,MAASp3B,EAAO8L,eAElB,CACE,KAAQ,mBACR,KAAQ,SACR,MAAS,uCACT,WAAc,IAEhB,CACE,KAAQ,sBACR,KAAQ,OACR,MAAS,yDACT,aAAgB,2BAChB,gBAAmB,SAACsrB,GAAD,OAAasjB,GAAetjB,IAC/C,MAASp3B,EAAO8L,eAElB,CACE,KAAQ,0BACR,KAAQ,SACR,MAAS,qEACT,WAAc,IAEhB,CACE,KAAQ,kCACR,KAAQ,OACR,MAAS,+GACT,aAAgB,uCAChB,gBAAmB,SAACsrB,GAAD,OAAasjB,GAAetjB,IAC/C,MAASp3B,EAAO8L,eAElB,CACE,KAAQ,UACR,KAAQ,OACR,MAAS,eACT,WAAc,KAEhB,CACE,KAAQ,uBACR,KAAQ,SACR,MAAS,uCACT,WAAc,IAEhB,CACE,KAAQ,2BACR,KAAQ,SACR,MAAS,uCACT,WAAc,IAEhB,CACE,KAAQ,0BACR,KAAQ,OACR,MAAS,6CACT,aAAgB,+BAChB,gBAAmB,SAACsrB,GAAD,OAAasjB,GAAetjB,IAC/C,MAASp3B,EAAO8L,gBAIPwzC,GAA2B,CACtC,OACA,CAAC,YAAa,cACd,CAAC,eAAgB,gBAAiB,eAAgB,iBAClD,CAAC,mBAAoB,oBAAqB,sBAAuB,wBACjE,CAAC,SAAU,WACX,CAAC,WAAY,aACb,CAAC,QAAS,iBACV,CAAC,aACD,CAAC,WAAY,YACb,kBACA,CAAC,QAAS,YACV,CAAC,kBAAmB,yBACpB,CAAC,kBAAmB,mBAAoB,2BACxC,WAGWwG,GAA0B,CACrC,CACE,KAAQ,OACR,KAAQ,SACR,MAAS,2BACT,UAAY,EACZ,WAAc,IAILC,GAAwB,CACnC,CACE,KAAQ,eACR,KAAQ,SACR,MAAS,2BACT,UAAY,EACZ,QAAW,IAEb,CACE,KAAQ,aACR,KAAQ,OACR,MAAS,qBACT,UAAY,GAEd,CACE,KAAQ,WACR,KAAQ,OACR,MAAS,qBACT,UAAY,EACZ,QAAW,eAIFhH,GAAqB,CAChC,CACE,KAAQ,OACR,KAAQ,SACR,MAAS,2BACT,YAAc,EACd,KAAQ,4BACR,UAAY,GAEd,CACE,KAAQ,OACR,KAAQ,SACR,MAAS,eACT,KAAQ,4BACR,YAAc,EACd,UAAY,GAEd,CACE,KAAQ,kBACR,KAAQ,SACR,MAAS,eACT,QAAW,GACX,SAAW,EACX,YAAc,EACd,UAAY,EACZ,QAAU,GAEZ,CACE,KAAQ,oBACR,KAAQ,SACR,MAAS,eACT,UAAY,GAEd,CACE,KAAQ,WACR,KAAQ,OACR,MAAS,2BACT,UAAY,GAEd,CACE,KAAQ,cACR,KAAQ,SACR,MAAS,qBACT,QAAW3jC,GACX,SAAW,EACX,YAAc,EACd,QAAU,GAEZ,CACE,KAAQ,YACR,KAAQ,OACR,MAAS,qBACT,UAAY,EACZ,YAAc,GAEhB,CACE,KAAQ,YACR,KAAQ,SACR,MAAS,qBACT,QAAWD,GACX,SAAW,EACX,YAAc,EACd,QAAU,GAEZ,CACE,KAAQ,aACR,KAAQ,SACR,MAAS,qBACT,QAAWC,GACX,SAAW,EACX,YAAc,EACd,QAAU,GAEZ,CACE,KAAQ,gBACR,KAAQ,SACR,MAAS,2BACT,QAAWI,GACX,YAAc,EACd,QAAU,GAEZ,CACE,KAAQ,cACR,KAAQ,SACR,MAAS,2BACT,YAAc,EACd,UAAY,EACZ,KAAQ,sDAEV,CACE,KAAQ,aACR,KAAQ,OACR,MAAS,iCACT,UAAY,GAEd,CACE,KAAQ,aACR,KAAQ,UACR,MAAS,eACT,SAAW,EACX,YAAc,EACd,UAAa,CACXwjC,EAAG,CAAC,gBAAmB,eAG3B,CACE,KAAQ,kBACR,KAAQ,UACR,MAAS,2BACT,SAAW,EACX,YAAc,EACd,UAAa,CACXgH,KAAM,CAAC,gBAAmB,eAG9B,CACE,KAAQ,kBACR,KAAQ,UACR,MAAS,4BAEX,CACE,KAAQ,SACR,KAAQ,SACR,MAAS,eACT,QAAWnqC,GACX,SAAW,EACX,KAAO,GAET,CACE,KAAQ,WACR,KAAQ,OACR,MAAS,2BACT,SAAW,EACX,KAAO,GAET,CACE,KAAQ,YACR,KAAQ,OACR,MAAS,iCACT,SAAW,EACX,KAAO,GAET,CACE,KAAQ,QACR,KAAQ,SACR,MAAS,yDACT,SAAW,EACX,KAAO,GAET,CACE,KAAQ,YACR,KAAQ,SACR,MAAS,2BACT,SAAW,EACX,KAAO,GAET,CACE,KAAQ,UACR,KAAQ,SACR,MAAS,eACT,SAAW,EACX,KAAO,GAET,CACE,KAAQ,kBACR,KAAQ,SACR,MAAS,qBACT,SAAW,EACX,KAAO,GAET,CACE,KAAQ,QACR,KAAQ,SACR,MAAS,2BACT,SAAW,EACX,KAAO,GAET,CACE,KAAQ,WACR,KAAQ,SACR,MAAS,2BACT,QAAWC,GACX,SAAW,EACX,KAAO,GAET,CACE,KAAQ,kBACR,KAAQ,SACR,MAAS,6CACT,SAAW,EACX,KAAO,GAET,CACE,KAAQ,wBACR,KAAQ,OACR,MAAS,yDACT,SAAW,EACX,KAAO,GAET,CACE,KAAQ,kBACR,KAAQ,SACR,MAAS,2BACT,SAAW,EACX,KAAO,GAET,CACE,KAAQ,mBACR,KAAQ,SACR,MAAS,uCACT,SAAW,EACX,KAAO,GAET,CACE,KAAQ,0BACR,KAAQ,SACR,MAAS,qEACT,SAAW,EACX,KAAO,GAET,CACE,KAAQ,uBACR,KAAQ,SACR,MAAS,uCACT,SAAW,EACX,KAAO,GAET,CACE,KAAQ,2BACR,KAAQ,SACR,MAAS,uCACT,SAAW,EACX,KAAO,IAIEmqC,GAA4B,CACvC,CAAC,OAAQ,QACT,CAAC,kBAAmB,eACpB,CAAC,YAAa,cACd,CAAC,gBAAiB,eAClB,CAAC,kBAAmB,eAGT/G,GAAuB,CAClC,CACE,KAAQ,OACR,KAAQ,SACR,MAAS,4BAEX,CACE,KAAQ,YACR,KAAQ,SACR,MAAS,gBAEX,CACE,KAAQ,YACR,KAAQ,SACR,MAAS,gBAEX,CACE,KAAQ,SACR,KAAQ,SACR,MAAS,eACT,QAAWrjC,IAEb,CACE,KAAQ,UACR,KAAQ,SACR,MAAS,iCACT,QAAWM,IAEb,CACE,KAAQ,WACR,KAAQ,OACR,MAAS,4BAEX,CACE,KAAQ,YACR,KAAQ,OACR,MAAS,kCAEX,CACE,KAAQ,QACR,KAAQ,SACR,MAAS,yDACT,UAAY,GAEd,CACE,KAAQ,gBACR,KAAQ,SACR,MAAS,0DAEX,CACE,KAAQ,YACR,KAAQ,SACR,MAAS,2BACT,WAAc,GAEhB,CACE,KAAQ,UACR,KAAQ,SACR,MAAS,gBAEX,CACE,KAAQ,kBACR,KAAQ,SACR,MAAS,qBACT,WAAc,IAEhB,CACE,KAAQ,QACR,KAAQ,SACR,MAAS,2BACT,WAAc,IAEhB,CACE,KAAQ,WACR,KAAQ,SACR,MAAS,2BACT,QAAWL,IAEb,CACE,KAAQ,kBACR,KAAQ,SACR,MAAS,6CACT,WAAc,IAEhB,CACE,KAAQ,wBACR,KAAQ,OACR,MAAS,0DAEX,CACE,KAAQ,iBACR,KAAQ,OACR,MAAS,mDACT,aAAgB,sBAChB,gBAAmB,SAACsb,GAAD,OAAasjB,GAAetjB,IAC/C,MAASp3B,EAAO8L,eAElB,CACE,KAAQ,kBACR,KAAQ,OACR,MAAS,4BAEX,CACE,KAAQ,wBACR,KAAQ,OACR,MAAS,qEACT,aAAgB,6BAChB,gBAAmB,SAACsrB,GAAD,OAAasjB,GAAetjB,IAC/C,MAASp3B,EAAO8L,eAElB,CACE,KAAQ,6BACR,KAAQ,OACR,MAAS,qEACT,aAAgB,kCAChB,gBAAmB,SAACsrB,GAAD,OAAasjB,GAAetjB,IAC/C,MAASp3B,EAAO8L,eAElB,CACE,KAAQ,mBACR,KAAQ,OACR,MAAS,wCAEX,CACE,KAAQ,sBACR,KAAQ,OACR,MAAS,yDACT,aAAgB,2BAChB,gBAAmB,SAACsrB,GAAD,OAAasjB,GAAetjB,IAC/C,MAASp3B,EAAO8L,eAElB,CACE,KAAQ,0BACR,KAAQ,OACR,MAAS,sEAEX,CACE,KAAQ,kCACR,KAAQ,OACR,MAAS,+GACT,aAAgB,uCAChB,gBAAmB,SAACsrB,GAAD,OAAasjB,GAAetjB,IAC/C,MAASp3B,EAAO8L,eAElB,CACE,KAAQ,uBACR,KAAQ,SACR,MAAS,uCACT,WAAc,IAEhB,CACE,KAAQ,2BACR,KAAQ,SACR,MAAS,uCACT,WAAc,IAEhB,CACE,KAAQ,0BACR,KAAQ,OACR,MAAS,6CACT,aAAgB,+BAChB,gBAAmB,SAACsrB,GAAD,OAAasjB,GAAetjB,IAC/C,MAASp3B,EAAO8L,eAElB,CACE,KAAQ,UACR,KAAQ,OACR,MAAS,eACT,WAAc,MAILo6C,GAAqB,CAChC,OACA,CAAC,YAAa,cACd,CAAC,eAAgB,iBACjB,CAAC,eAAgB,iBACjB,CAAC,mBAAoB,qBACrB,CAAC,sBAAuB,wBACxB,CAAC,SAAU,WACX,CAAC,WAAY,aACb,CAAC,mBAAoB,iBACrB,CAAC,QAAS,iBACV,CAAC,aACD,CAAC,WAAY,YACb,kBACA,CAAC,QAAS,YACV,CAAC,kBAAmB,yBACpB,iBACA,kBACA,wBACA,6BACA,CAAC,mBAAoB,2BACrB,sBACA,kCACA,CAAC,uBAAwB,4BACzB,0BACA,WAGWC,GAAyB,CACpC,CACE,KAAQ,gBACR,KAAQ,OACR,MAAS,sBAEX,CACE,KAAQ,gBACR,KAAQ,SACR,MAAS,2BACT,QAAW,CACT,CAAE,MAAS,OAAQ,aAAgB,sBACnC,CAAE,MAAS,OAAQ,aAAgB,0DACnC,CAAE,MAAS,OAAQ,aAAgB,4BACnC,CAAE,MAAS,OAAQ,aAAgB,sBACnC,CAAE,MAAS,OAAQ,aAAgB,oCAKvC,CACE,KAAQ,aACR,KAAQ,OACR,MAAS,kCAEX,CACE,KAAQ,WACR,KAAQ,OACR,MAAS,kCAEX,CACE,KAAQ,oBACR,KAAQ,SACR,MAAS,eACT,QAAW,IAEb,CACE,KAAQ,iBACR,KAAQ,UACR,MAAS,4BAEX,CACE,KAAQ,qBACR,KAAQ,UACR,MAAS,kEAEX,CACE,KAAQ,iBACR,KAAQ,UACR,MAAS,gBAEX,CACE,KAAQ,2BACR,KAAQ,UACR,MAAS,wCAEX,CACE,KAAQ,uBACR,KAAQ,UACR,MAAS,wCAEX,CACE,KAAQ,uBACR,KAAQ,UACR,MAAS,wCAEX,CACE,KAAQ,uBACR,KAAQ,UACR,MAAS,yCAIAC,GAA6B,CACxC,CACE,KAAQ,gBACR,KAAQ,OACR,MAAS,qBACT,UAAY,GAEd,CACE,KAAQ,gBACR,KAAQ,SACR,MAAS,2BACT,UAAY,EACZ,QAAW,CACT,CAAE,MAAS,OAAQ,aAAgB,sBACnC,CAAE,MAAS,OAAQ,aAAgB,0DACnC,CAAE,MAAS,OAAQ,aAAgB,4BACnC,CAAE,MAAS,OAAQ,aAAgB,sBACnC,CAAE,MAAS,OAAQ,aAAgB,oCAKvC,CACE,KAAQ,aACR,KAAQ,OACR,MAAS,iCACT,UAAY,GAEd,CACE,KAAQ,WACR,KAAQ,OACR,MAAS,iCACT,UAAY,GAEd,CACE,KAAQ,eACR,KAAQ,SACR,MAAS,eACT,QAAW,GACX,UAAa,oJAEf,CACE,KAAQ,iBACR,KAAQ,UACR,MAAS,2BACT,SAAW,EACX,UAAa,8IAEf,CACE,KAAQ,qBACR,KAAQ,UACR,MAAS,4DACT,UAAa,4KAEf,CACE,KAAQ,iBACR,KAAQ,UACR,MAAS,eACT,SAAW,EACX,UAAa,gHAEf,CACE,KAAQ,2BACR,KAAQ,UACR,MAAS,uCACT,SAAW,GAEb,CACE,KAAQ,uBACR,KAAQ,UACR,MAAS,uCACT,SAAW,GAEb,CACE,KAAQ,uBACR,KAAQ,UACR,MAAS,uCACT,SAAW,GAEb,CACE,KAAQ,uBACR,KAAQ,UACR,MAAS,uCACT,SAAW,IAIFC,GAA6B,CACxC,gBACA,gBACA,CAAC,aAAc,YACf,eACA,CAAC,iBAAkB,iBAAkB,sBACrC,CAAC,2BAA4B,uBAAwB,uBAAwB,yBAGlEC,GAAuB,CAClC,CACE,KAAQ,OACR,KAAQ,SACR,MAAS,iCACT,WAAa,EACb,UAAY,EACZ,WAAc,GAEhB,CACE,KAAQ,OACR,KAAQ,SACR,MAAS,2BACT,UAAY,EACZ,WAAc,IAEhB,CACE,KAAQ,UACR,KAAQ,OACR,MAAS,2BACT,UAAY,EACZ,WAAc,IACd,UAAa,SAACh4C,EAAM+kB,GAAP,MAAqC,SAAjB/kB,EAAI,KACnC,CACE,KAAQ,SACR,QAAW2N,IAEX,QAIKsqC,GAAuB,CAClC,CAAC,OAAQ,QACT,WAGWjE,GAA4B,CACvC,CACE,KAAQ,OACR,KAAQ,SACR,MAAS,qBACT,UAAY,EACZ,WAAa,EACb,WAAc,GAEhB,CACE,KAAQ,OACR,KAAQ,SACR,MAAS,eACT,UAAY,EACZ,WAAc,IAEhB,CACE,KAAQ,SACR,KAAQ,UACR,MAAS,eACT,UAAY,EACZ,QAAW,GAEb,CACE,KAAQ,OACR,KAAQ,SACR,MAAS,eACT,QAAW,CACT,CAAE,MAAS,KAAM,aAAgB,iBACjC,CAAE,MAAS,KAAM,aAAgB,iBACjC,CAAE,MAAS,KAAM,aAAgB,uBACjC,CAAE,MAAS,KAAM,aAAgB,kBAEnC,QAAW,MAEb,CACE,KAAQ,UACR,KAAQ,SACR,MAAS,6BAIAkE,GAA4B,CACvC,CACE,KAAQ,OACR,KAAQ,SACR,MAAS,4BAEX,CACE,KAAQ,UACR,KAAQ,OACR,MAAS,2BACT,UAAa,MAIJC,GAAiC,CAC5C,CACE,KAAQ,OACR,KAAQ,SACR,MAAS,4BAEX,CACE,KAAQ,SACR,KAAQ,UACR,MAAS,gBAEX,CACE,KAAQ,OACR,KAAQ,SACR,MAAS,eACT,QAAW,CACT,CAAE,MAAS,KAAM,aAAgB,iBACjC,CAAE,MAAS,KAAM,aAAgB,iBACjC,CAAE,MAAS,KAAM,aAAgB,uBACjC,CAAE,MAAS,KAAM,aAAgB,mBAGrC,CACE,KAAQ,UACR,KAAQ,SACR,MAAS,6BAIAC,GAAuC,CAClD,CACE,KAAQ,OACR,KAAQ,SACR,MAAS,gBAEX,CACE,KAAQ,QACR,KAAQ,SACR,MAAS,4BAEX,CACE,KAAQ,YACR,KAAQ,SACR,MAAS,4BAEX,CACE,KAAQ,UACR,KAAQ,SACR,MAAS,gBAEX,CACE,KAAQ,eACR,KAAQ,SACR,MAAS,yCAIAC,GAAuC,CAClD,CACE,KAAQ,OACR,KAAQ,SACR,MAAS,eACT,UAAY,EACZ,WAAc,IAEhB,CACE,KAAQ,QACR,KAAQ,SACR,MAAS,2BACT,UAAY,EACZ,WAAc,IAEhB,CACE,KAAQ,YACR,KAAQ,SACR,MAAS,2BACT,WAAc,GAEhB,CACE,KAAQ,WACR,KAAQ,SACR,MAAS,qBACT,WAAc,KAEhB,CACE,KAAQ,WACR,KAAQ,SACR,MAAS,qBACT,WAAc,KAEhB,CACE,KAAQ,eACR,KAAQ,SACR,MAAS,uCACT,WAAc,KAILC,GAA4B,CACvC,CACE,KAAQ,OACR,KAAQ,SACR,MAAS,gBAEX,CACE,KAAQ,eACR,KAAQ,SACR,MAAS,eACT,QAAW5qC,IAEb,CACE,KAAQ,SACR,KAAQ,SACR,MAAS,eACT,QAAWH,IAEb,CACE,KAAQ,aACR,KAAQ,SACR,MAAS,gBAEX,CACE,KAAQ,qBACR,KAAQ,UACR,MAAS,gBAEX,CACE,KAAQ,eACR,KAAQ,SACR,MAAS,8CAEX,CACE,KAAQ,kBACR,KAAQ,SACR,MAAS,4BAEX,CACE,KAAQ,iBACR,KAAQ,SACR,MAAS,2BACT,QAAWE,KAIF8qC,GAA4B,CACvC,CACE,KAAQ,OACR,KAAQ,SACR,MAAS,eACT,UAAY,EACZ,WAAc,IAEhB,CACE,KAAQ,OACR,KAAQ,SACR,MAAS,2BACT,WAAc,IAEhB,CACE,KAAQ,eACR,KAAQ,SACR,MAAS,eACT,WAAc,GACd,QAAW7qC,IAEb,CACE,KAAQ,SACR,KAAQ,SACR,MAAS,eACT,QAAWH,IAEb,CACE,KAAQ,WACR,KAAQ,OACR,MAAS,4BAEX,CACE,KAAQ,aACR,KAAQ,SACR,MAAS,eACT,WAAc,IAEhB,CACE,KAAQ,qBACR,KAAQ,UACR,MAAS,gBAEX,CACE,KAAQ,aACR,KAAQ,SACR,MAAS,2BACT,QrGzkC6B,CAC/B,CAAE,MAAS,IAAK,aAAgB,gBAChC,CAAE,MAAS,IAAK,aAAgB,kBqGykChC,CACE,KAAQ,gBACR,KAAQ,UACR,MAAS,8CAEX,CACE,KAAQ,eACR,KAAQ,SACR,MAAS,6CACT,WAAc,IAEhB,CACE,KAAQ,kBACR,KAAQ,OACR,MAAS,mDACT,aAAgB,uBAChB,gBAAmB,SAACub,GAAD,OAAasjB,GAAetjB,IAC/C,MAASp3B,EAAO8L,eAElB,CACE,KAAQ,uBACR,KAAQ,OACR,MAAS,2EACT,aAAgB,4BAChB,gBAAmB,SAACsrB,GAAD,OAAasjB,GAAetjB,IAC/C,MAASp3B,EAAO8L,eAElB,CACE,KAAQ,kBACR,KAAQ,SACR,MAAS,2BACT,WAAc,IAEhB,CACE,KAAQ,wBACR,KAAQ,OACR,MAAS,qEACT,aAAgB,6BAChB,gBAAmB,SAACsrB,GAAD,OAAasjB,GAAetjB,IAC/C,MAASp3B,EAAO8L,eAElB,CACE,KAAQ,6BACR,KAAQ,OACR,MAAS,qEACT,aAAgB,kCAChB,gBAAmB,SAACsrB,GAAD,OAAasjB,GAAetjB,IAC/C,MAASp3B,EAAO8L,eAElB,CACE,KAAQ,iBACR,KAAQ,SACR,MAAS,2BACT,QAAWiQ,IAEb,CACE,KAAQ,mBACR,KAAQ,SACR,MAAS,uCACT,WAAc,IAEhB,CACE,KAAQ,sBACR,KAAQ,OACR,MAAS,yDACT,aAAgB,2BAChB,gBAAmB,SAACqb,GAAD,OAAasjB,GAAetjB,IAC/C,MAASp3B,EAAO8L,eAElB,CACE,KAAQ,uBACR,KAAQ,SACR,MAAS,uCACT,WAAc,IAEhB,CACE,KAAQ,2BACR,KAAQ,SACR,MAAS,uCACT,WAAc,IAEhB,CACE,KAAQ,0BACR,KAAQ,OACR,MAAS,6CACT,aAAgB,+BAChB,gBAAmB,SAACsrB,GAAD,OAAasjB,GAAetjB,IAC/C,MAASp3B,EAAO8L,gBAIPg7C,GAA4B,CACvC,CAAC,OAAQ,QACT,CAAC,eAAgB,UACjB,CAAC,WAAY,aAAc,sBAC3B,CAAC,aAAc,iBACf,eACA,kBACA,uBACA,kBACA,wBACA,6BACA,iBACA,mBACA,sBACA,CAAC,uBAAwB,4BACzB,2BAGWC,GAA+B,CAC1C,CACE,KAAQ,eACR,KAAQ,SACR,MAAS,8CAEX,CACE,KAAQ,iBACR,KAAQ,SACR,MAAS,2BACT,QAAW1rC,IAEb,CACE,KAAQ,eACR,KAAQ,OACR,MAAS,8CAEX,CACE,KAAQ,kBACR,KAAQ,OACR,MAAS,gEAEX,CACE,KAAQ,mBACR,KAAQ,OACR,MAAS,iEAIA2rC,GAA+B,CAC1C,CACE,KAAQ,eACR,KAAQ,SACR,MAAS,6CACT,WAAc,IAEhB,CACE,KAAQ,iBACR,KAAQ,SACR,MAAS,2BACT,QAAW3rC,IAEb,CACE,KAAQ,eACR,KAAQ,OACR,MAAS,8CAEX,CACE,KAAQ,kBACR,KAAQ,OACR,MAAS,mDACT,aAAgB,uBAChB,gBAAmB,SAAC+b,GAAD,OAAasjB,GAAetjB,IAC/C,MAASp3B,EAAO8L,eAElB,CACE,KAAQ,uBACR,KAAQ,OACR,MAAS,2EACT,aAAgB,4BAChB,gBAAmB,SAACsrB,GAAD,OAAasjB,GAAetjB,IAC/C,MAASp3B,EAAO8L,eAElB,CACE,KAAQ,kBACR,KAAQ,OACR,MAAS,gEAEX,CACE,KAAQ,mBACR,KAAQ,OACR,MAAS,iEAIAm7C,GAA+B,CAC1C,CAAC,gBACD,CAAC,iBAAkB,gBACnB,kBACA,uBACA,CAAC,kBAAmB,qBAGTC,GAAmC,CAC9C,CACE,KAAQ,YACR,KAAQ,SACR,MAAS,gBAEX,CACE,KAAQ,cACR,KAAQ,SACR,MAAS,2BACT,KAAQ,6DAEV,CACE,KAAQ,aACR,KAAQ,OACR,MAAS,kCAEX,CACE,KAAQ,WACR,KAAQ,OACR,MAAS,kCAEX,CACE,KAAQ,aACR,KAAQ,UACR,MAAS,uBAIAC,GAA8B,CACzC,CACE,KAAQ,YACR,KAAQ,SACR,MAAS,gBAEX,CACE,KAAQ,cACR,KAAQ,SACR,MAAS,2BACT,KAAQ,6DAEV,CACE,KAAQ,aACR,KAAQ,OACR,MAAS,kCAEX,CACE,KAAQ,WACR,KAAQ,OACR,MAAS,kCAEX,CACE,KAAQ,aACR,KAAQ,UACR,MAAS,6BAIAC,GAAkC,CAC7C,CACE,KAAQ,gBACR,KAAQ,SACR,MAAS,sBAEX,CACE,KAAQ,kBACR,KAAQ,SACR,MAAS,gBAEX,CACE,KAAQ,eACR,KAAQ,SACR,MAAS,UAEX,CACE,KAAQ,aACR,KAAQ,OACR,MAAS,sBAEX,CACE,KAAQ,WACR,KAAQ,OACR,MAAS,uBAIAC,GAAkC,CAC7C,CACE,KAAQ,eACR,KAAQ,SACR,MAAS,2BACT,UAAY,EACZ,QAAW,IAEb,CACE,KAAQ,aACR,KAAQ,OACR,MAAS,qBACT,UAAY,GAEd,CACE,KAAQ,WACR,KAAQ,OACR,MAAS,qBACT,UAAY,EACZ,QAAW,eAIFC,GAA0B,CACrC,CACE,KAAQ,OACR,KAAQ,SACR,MAAS,qBACT,UAAY,GAEd,CACE,KAAQ,YACR,KAAQ,SACR,MAAS,eACT,UAAY,EACZ,KAAQ,6BAEV,CACE,KAAQ,eACR,KAAQ,SACR,MAAS,qBACT,UAAY,GAEd,CACE,KAAQ,eACR,KAAQ,SACR,MAAS,2BACT,UAAY,GAEd,CACE,KAAQ,SACR,KAAQ,UACR,MAAS,iCACT,UAAY,GAEd,CACE,KAAQ,cACR,KAAQ,UACR,MAAS,6CACT,UAAY,GAEd,CACE,KAAQ,qBACR,KAAQ,SACR,MAAS,6CACT,UAAY,EACZ,KAAO,GAET,CACE,KAAQ,SACR,KAAQ,SACR,MAAS,uCACT,UAAY,GAEd,CACE,KAAQ,WACR,KAAQ,UACR,MAAS,iFACT,YAAc,EACd,QAAW,SACX,QAAU,EACV,SAAW,EACX,UAAa,CACXtI,EAAG,CAAC,gBAAmB,+BAKhBuI,GAAyB,CACpC,CACE,KAAQ,KACR,KAAQ,SACR,MAAS,eACT,UAAY,EACZ,QAAW,gBAEb,CACE,KAAQ,aACR,KAAQ,OACR,MAAS,qBACT,UAAY,GAEd,CACE,KAAQ,eACR,KAAQ,SACR,MAAS,qBACT,UAAY,GAEd,CACE,KAAQ,eACR,KAAQ,SACR,MAAS,2BACT,UAAY,GAEd,CACE,KAAQ,SACR,KAAQ,UACR,MAAS,eACT,UAAY,IAIHC,GAA0B,CACrC,CACE,KAAQ,YACR,KAAQ,SACR,MAAS,eACT,WAAa,GAEf,CACE,KAAQ,aACR,KAAQ,OACR,MAAS,qBACT,UAAY,GAEd,CACE,KAAQ,eACR,KAAQ,SACR,MAAS,qBACT,UAAY,GAEd,CACE,KAAQ,eACR,KAAQ,SACR,MAAS,2BACT,UAAY,GAEd,CACE,KAAQ,SACR,KAAQ,UACR,MAAS,eACT,UAAY,IAIHC,GAA+B,CAC1C,CACE,KAAQ,aACR,KAAQ,OACR,MAAS,sBAEX,CACE,KAAQ,WACR,KAAQ,OACR,MAAS,sBAEX,CACE,KAAQ,SACR,KAAQ,SACR,MAAS,gBAEX,CACE,KAAQ,QACR,KAAQ,SACR,MAAS,gBAEX,CACE,KAAQ,SACR,KAAQ,SACR,MAAS,eACT,QAAWnrC,KAIForC,GAA+B,CAC1C,CACE,KAAQ,aACR,KAAQ,OACR,MAAS,qBACT,UAAY,GAEd,CACE,KAAQ,WACR,KAAQ,OACR,MAAS,qBACT,UAAY,GAEd,CACE,KAAQ,SACR,KAAQ,SACR,MAAS,eACT,UAAY,EACZ,WAAc,IAEhB,CACE,KAAQ,QACR,KAAQ,SACR,MAAS,eACT,WAAc,IAEhB,CACE,KAAQ,SACR,KAAQ,SACR,MAAS,eACT,QAAWprC,KAIFqrC,GAAoC,CAC/C,CACE,KAAQ,OACR,KAAQ,SACR,MAAS,qBACT,UAAY,GAEd,CACE,KAAQ,OACR,KAAQ,SACR,MAAS,eACT,UAAY,GAEd,CACE,KAAQ,oBACR,KAAQ,UACR,MAAS,2BACT,UAAY,GAEd,CACE,KAAQ,iBACR,KAAQ,UACR,MAAS,qBACT,UAAY,GAEd,CACE,KAAQ,qBACR,KAAQ,UACR,MAAS,2BACT,UAAY,GAEd,CACE,KAAQ,kBACR,KAAQ,UACR,MAAS,2BACT,UAAY,GAEd,CACE,KAAQ,mBACR,KAAQ,UACR,MAAS,2BACT,UAAY,GAEd,CACE,KAAQ,oBACR,KAAQ,UACR,MAAS,2BACT,UAAY,GAEd,CACE,KAAQ,SACR,KAAQ,UACR,MAAS,2BACT,UAAY,GAEd,CACE,KAAQ,4BACR,KAAQ,UACR,MAAS,uCACT,UAAY,GAEd,CACE,KAAQ,gCACR,KAAQ,UACR,MAAS,uCACT,UAAY,GAEd,CACE,KAAQ,kBACR,KAAQ,UACR,MAAS,iCACT,UAAY,GAEd,CACE,KAAQ,sBACR,KAAQ,UACR,MAAS,2BACT,UAAY,GAEd,CACE,KAAQ,eACR,KAAQ,UACR,MAAS,2BACT,UAAY,GAEd,CACE,KAAQ,mBACR,KAAQ,UACR,MAAS,2BACT,UAAY,GAEd,CACE,KAAQ,iBACR,KAAQ,UACR,MAAS,2BACT,UAAY,GAEd,CACE,KAAQ,mBACR,KAAQ,UACR,MAAS,2BACT,UAAY,GAEd,CACE,KAAQ,uBACR,KAAQ,UACR,MAAS,2BACT,UAAY,GAEd,CACE,KAAQ,4BACR,KAAQ,UACR,MAAS,2BACT,UAAY,GAEd,CACE,KAAQ,aACR,KAAQ,UACR,MAAS,qBACT,UAAY,GAEd,CACE,KAAQ,iBACR,KAAQ,UACR,MAAS,2BACT,UAAY,GAEd,CACE,KAAQ,kBACR,KAAQ,UACR,MAAS,2BACT,UAAY,GAEd,CACE,KAAQ,mBACR,KAAQ,UACR,MAAS,2BACT,UAAY,GAEd,CACE,KAAQ,eACR,KAAQ,UACR,MAAS,2BACT,UAAY,IAIHC,GAAgC,CAC3C,CACE,KAAQ,kBACR,KAAQ,OACR,MAAS,6CACT,MAAS5nD,EAAO8L,gBAIP+7C,GAA4B,CACvC,CACE,KAAQ,OACR,KAAQ,SACR,MAAS,qBACT,UAAY,GAEd,CACE,KAAQ,YACR,KAAQ,SACR,MAAS,eACT,UAAY,GAEd,CACE,KAAQ,aACR,KAAQ,UACR,MAAS,2BACT,UAAY,GAEd,CACE,KAAQ,iBACR,KAAQ,UACR,MAAS,2BACT,UAAY,GAEd,CACE,KAAQ,YACR,KAAQ,UACR,MAAS,2BACT,UAAY,GAEd,CACE,KAAQ,YACR,KAAQ,UACR,MAAS,qBACT,UAAY,IAIHC,GAA4B,CACvC,CACE,KAAQ,OACR,KAAQ,SACR,MAAS,qBACT,WAAa,GAEf,CACE,KAAQ,YACR,KAAQ,SACR,MAAS,eACT,WAAa,GAEf,CACE,KAAQ,aACR,KAAQ,OACR,MAAS,qBACT,WAAa,GAEf,CACE,KAAQ,WACR,KAAQ,OACR,MAAS,qBACT,WAAa,GAEf,CACE,KAAQ,OACR,KAAQ,UACR,MAAS,wEAEX,CACE,KAAQ,iBACR,KAAQ,UACR,MAAS,2DAIAC,GAA4B,CACvC,CAAC,OAAQ,aACT,CAAC,aAAc,YACf,OACA,kBC7xDalZ,M,YA/Gb,WAAYvyC,GAAQ,IAAD,8BACjB,4CAAMA,KASRmlC,WAAa,WACXiW,KAAyBh+B,MAAK,SAAApY,GAC5B,EAAKpE,SAAS,CAACoE,sBAZA,EAgBnBy7B,kBAAoB,WAClB7nB,SAAS8K,MAAQ,uDAjBA,EAoBnBgoC,sBAAwB,SAACjrD,EAAMuR,GAC7B,GAAI,CAAC,aAAc,aAAa8D,QAAQrV,IAAS,EAAG,CAAC,IAC3Cs8C,EAA0B/qC,EAA1B+qC,WAAYD,EAAc9qC,EAAd8qC,UAChBC,GAAcD,GAChBmC,GAAwBlC,EAAYD,GAAW1/B,MAAK,SAAAwO,GAC9C,EAAK+/B,oBAAsB//B,EAAK5a,OAAS,GAC3C,EAAK26C,mBAAL,UAA2B7O,EAA3B,YAAwCC,GAAcnxB,QA1B7C,EAiCnBggC,yBAA2B,SAAC55C,GAC1B,EAAKpR,SAAS,CAACirD,uBAAwB75C,KAlCtB,EAqCnB85C,SAAW,WAAO,IAAD,EACmC,EAAK7rD,MAA/C+E,EADO,EACPA,cAAe6mD,EADR,EACQA,uBAMvB,OAHat3C,GAAOkC,gBAAgBgzC,GAAuB,OAAQ,gBAC7D,QAAczkD,EAEb,CACL,CACEvE,KAAM,2BACN0oC,UAAW,CACT1oC,KAAM,aACN0Y,OAAQ4pC,GACR/kD,OAAQglD,GACRxsB,QAAS,CAACqqB,GAAgB,EAAK6K,uBAC/B15C,KAAM65C,IAGV,CACEprD,KAAM,2BACN0oC,UAAW,CACT1oC,KAAM,eACN0Y,OAAQswC,KAGZ,CACEhpD,KAAM,uCACN0oC,UAAW,CACT1oC,KAAM,aACN0Y,OAAQqwC,IAEVxuB,QAAS,CACP,CACE,QAAW,2BACX,MAAS,2BACT,YAAe,SAACqR,GAAe,OtBuVTr6B,EsBvVkCq6B,EtBwV3DhwB,GAAKG,UAAU9Y,EAAOC,IAAIS,OAAOe,UAAW6M,GAD9C,IAA2BA,QsB5Z9B,EAAK/R,MAAQ,CACX+E,cAAe,GACf6mD,uBAAwB,IAE1B,EAAK1mB,aAPY,E,sEA+ET,IAAD,OACDmG,EAAQ3qC,KAAKmrD,WAEnB,OACE,6BACE,kBAAC,GAAD,CACE5Z,YAAa,CACX,CAAE7mB,KAAM,YAAa5qB,KAAM,4BAC3B,CAAE4qB,KAAM,oBAAqB5qB,KAAM,4BACnC,CAAEA,KAAM,+BAGZ,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAUq0B,GAAI,GAAIC,GAAI,GAAIC,GAAI,EAAGmqB,GAAI,GACnC,kBAAC,GAAD,CACEz7B,MAAM,2BACN4nB,MAAOA,EACPzC,WAAW,OACXC,aAAcplC,EAAOC,IAAIS,OAAOI,kBAChC4zB,aAAc,SAACpmB,GAAD,OAAUuC,GAAO8B,SAAP,4BAAqCrE,EAAKhQ,GAA1C,WAI9B,kBAAC,GAAD,CACEmzB,SAAU,SAAA8N,GAAG,OAAI,EAAK0oB,mBAAqB1oB,GAAOA,EAAI3gB,YACtD2mC,eAAgBtoD,KAAKirD,gC,GA1GPnmC,IAAMhjB,WAiHY,uB,qBCZ3B8vC,M,YA7Fb,WAAYvyC,GAAQ,IAAD,8BACjB,4CAAMA,KAJR0jB,MAAQ,2BAGW,EAFnBqoC,mBAAqBtJ,GAEF,EASnBtd,WAAa,WACXiW,KAAyBh+B,MAAK,SAAAkoC,GAC5B,EAAK1kD,SAAS,CAAC0kD,oBAXA,EAenB7kB,kBAAoB,WAClB7nB,SAAS8K,MAAT,UAAoB,EAAKA,MAAzB,gCAhBiB,EAmBnBsoC,2BAA6B,SAACh6C,GAC5B,GAAI8C,MAAMC,QAAQ/C,IAASA,EAAKhB,OAAS,EAAG,CAC1C,IAAMi7C,EAAiB,GAEvB,OADAj6C,EAAK0O,KAAI,SAAAE,GAAI,OAAIqrC,EAAev7C,KAAKkQ,EAAK5e,QvB8lBPkqD,EuB7lBHD,EvB8lB7B5vC,GAAKG,UAAU9Y,EAAOC,IAAIS,OAAOuB,mBAAoBumD,IuB9lBR9uC,MAAK,SAAAwO,GACnD,IAAM9R,EAAOvF,GAAOgF,OAAOqS,EAAK9R,MAChCvF,GAAOyF,aAAaF,EAAM8R,EAAKnrB,SAC9B43B,OAAM,SAAA/J,GACPya,GAAMtnC,MAAM6sB,EAAOxpB,WvBylBpB,IAAkConD,GuBjnBrC,EAAKjsD,MAAQ,CACXqlD,YAAa,IAEf,EAAKngB,aANY,E,sEAgCT,IAAD,OACCmgB,EAAgB3kD,KAAKV,MAArBqlD,YAGR,OAFA/wC,GAAOkC,gBAAgB9V,KAAKorD,mBAAoB,OAAQ,mBAAxD,QAAwFzG,EAGtF,6BACE,kBAAC,GAAD,CACEpT,YAAa,CACX,CAAC7mB,KAAM,YAAa5qB,KAAM,4BAC1B,CAAEA,KAAME,KAAK+iB,UAGjB,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAYpkB,MAAM,QACfqB,KAAK+iB,OAER,kBAAC,GAAD,KACE,kBAAC,GAAD,CACE4mB,SAAW5mC,EAAOC,IAAIiD,SAASC,YAC/B2jC,OAAS,SAACiD,GAAD,OACP,kBAAC7G,GAAD,CACEljB,MAAO,EAAKA,MACZsiB,WAAW,mBACX7d,UAAW,EAAK4jC,mBAChBxhC,UAAWkjB,EAASv0B,QACpB5J,YAAa5L,EAAO4L,YACpB6yB,UAAU,EACVuD,YAAY,EACZ/X,aAAc,CACZ,CACE,QAAW,2BACX,KAAQ,kBAAC,KAAD,CAASruB,MAAM,cACvB,YAAe,kBAAOiV,GAAO8B,SAAS,0BACtC,QAAW9B,GAAO0B,QAAQ,wBAQ5B,CACE,QAAW,2EACX,KAAQ,kBAAC,KAAD,MACR,YAAe,EAAK+1C,2BACpB,aAAe,IAGnBpoB,WAAYrvB,GAAOqH,kBACnB0mB,aAAcqnB,GACdtvB,YAAa,CAAEhK,SAAU,iB,GAtFV5K,IAAMhjB,WAiGY,wBCpG7C0pD,G,YAGJ,WAAYnsD,GAAQ,IAAD,8BACjB,4CAAMA,KAHRosD,kBAAoB/J,GAED,EAUnBld,WAAa,SAACnlC,GxBgTPqc,GAAKE,SAAS7Y,EAAOC,IAAImK,OAAOK,WAAWiP,MAAK,SAAApL,GACrD,IAAIrN,EAAU,GAId,OAHAqN,EAAKkH,QAAQwH,KAAI,SAAAmK,GAAG,OAClBlmB,EAAQ+L,KAAK,CAAChQ,MAAOmqB,EAAI6xB,KAAM10B,aAAa,GAAD,OAAK6C,EAAI6xB,KAAT,YAAiB7xB,EAAIpqB,WAE3DkE,KwBpTUyY,MAAK,SAAAjP,GAAS,OAAI,EAAKvN,SAAS,CAACuN,kBAXjC,EAcnBk+C,gBAAkB,SAAC5rD,EAAMuR,GACvB,GAAa,SAATvR,EACF,OxBmT+B6rD,EwBnTHt6C,EAAKvR,GxBoTjC6rD,EACKjwC,GAAKE,SAAShI,GAAOwC,UAAUrT,EAAOC,IAAImK,OAAOM,iBAAkBk+C,IAAUlvC,MAAK,SAAApL,GACvF,IAAIrN,EAAU,GAId,OAHAqN,EAAKkH,QAAQwH,KAAI,SAAAmK,GAAG,OAClBlmB,EAAQ+L,KAAK,CAAChQ,MAAOmqB,EAAI7oB,GAAIgmB,aAAa,GAAD,OAAK6C,EAAI0hC,UAAT,YAAsB1hC,EAAImzB,kBAE9Dr5C,KAGF,IAAIgZ,SAAQ,SAAC6uC,EAAS5uC,GAAV,OAAqB4uC,EAAQ,QwB7TNpvC,MAAK,SAAAkgC,GAC3C/oC,GAAO0E,gBAAgBqkC,EAAa,EAAK8O,kBAAmB,WxBkT7D,IAA8BE,GwBnUhB,EAsBnBG,2BAA6B,SAACz6C,GAC5B,EAAKq6C,gBAAgB,OAAQr6C,IApB7B,EAAK/R,MAAQ,CACXsqC,QAAQ,EACRp8B,UAAW,IAEb,EAAKg3B,WAAWnlC,GAPC,E,sEA0BT,IAAD,SACoCW,KAAKX,MAAxCi9C,EADD,EACCA,aAAca,EADf,EACeA,UAAWp6B,EAD1B,EAC0BA,MAD1B,EAEuB/iB,KAAKV,MAA3BsqC,EAFD,EAECA,OAAQp8B,EAFT,EAESA,UAGhB,OAFAoG,GAAOkC,gBAAgB9V,KAAKyrD,kBAAmB,OAAQ,QAAvD,QAA4Ej+C,EAG1E,6BACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAY7O,MAAM,QACfokB,GAEH,kBAAC,GAAD,KACE,kBAAC,GAAD,CACE6mB,OAAQA,EACRD,SAAU/1B,GAAOwC,UAAUrT,EAAOC,IAAImK,OAAOS,mBAAoB0uC,EAAca,GAC/EtT,OAAQ,SAACiD,GAAD,OACN,kBAAC7G,GAAD,CACEze,UAAWi6B,GACX73B,UAAWkjB,EAASv0B,QACpB5J,YAAa5L,EAAO4L,YACpBgtB,WAAW,SACX6F,UAAU,EACVR,SAAU,CACRje,MAAO,uCACPvK,OAAQ,EAAKizC,kBACbl0B,SAAUwmB,IACR,kBAAM,EAAK99C,SAAS,CAAC2pC,QAASA,MAC9B7mC,EAAOC,IAAImK,OAAOO,kBAEpBkoB,UAAW,CAAC,EAAK81B,iBACjBr6C,KAAM,CACJ,aAAgBirC,EAChB,UAAaa,GAEfnzB,QAASpW,GAAO0B,QAAQ,2BAE1B6rB,UAAW,CACTpe,MAAO,uCACPvK,OAAQ,EAAKizC,kBACbxqB,mBAAoB,EAAK6qB,2BACzBv0B,SAAU2mB,IACR,kBAAM,EAAKj+C,SAAS,CAAC2pC,QAASA,MAC9B7mC,EAAOC,IAAImK,OAAOQ,qBAEpBioB,UAAW,CAAC,EAAK81B,iBACjB1hC,QAASpW,GAAO0B,QAAQ,8BAE1BmsB,YAAa,CACXc,aAAc4b,IACZ,kBAAM,EAAKl+C,SAAS,CAAC2pC,QAASA,MAC9B7mC,EAAOC,IAAImK,OAAOQ,qBAEpBqc,QAASpW,GAAO0B,QAAQ,8BAE1B2tB,WAAYrvB,GAAOqH,8B,GAnFP6J,IAAMhjB,WA0GrB2sC,0BAAa+c,ICbtBO,G,YAIJ,WAAY1sD,GAAQ,IAAD,8BACjB,4CAAMA,KAJR2sD,kBAAoBp4C,GAAOoG,MAAMooC,IAGd,EAFnBgI,gCAAkCx2C,GAAOoG,MAAMowC,IAE5B,EAwBnB5lB,WAAa,SAACxvB,GzBCT,IAA6B63B,EyBAhCsO,GAAcnmC,EAAO63B,WAAWpwB,MAAK,SAAAhZ,GACnC,EAAKxD,SAAS,CAACwD,ezBDeopC,EyBGZ73B,EAAO63B,UzBFtBnxB,GAAKE,SAAShI,GAAOwC,UAAUrT,EAAOC,IAAIiD,SAASI,gBAAiBwmC,KyBEnCpwB,MAAK,SAAApL,GACzC,EAAKpR,SAAS,CAAC26C,UAAWvpC,EAAKkH,aAEjCkiC,KAAyBh+B,MAAK,SAAApY,GAAa,OAAI,EAAKpE,SAAS,CAAEoE,sBA/B9C,EAkCnB8oC,mBAAqB,WACnBl1B,SAAS8K,MAAT,UAAoB,EAAKzjB,MAAMmE,OAAOuf,WAAa,GAAnD,gCAnCiB,EAsCnB4gC,aAAe,SAACvyC,EAAMyQ,GACpB,OAAOpG,GAAKK,SAAS,EAAKsrC,WAAYh2C,GAAMoL,MAAK,SAAAhZ,GAC/C,EAAKxD,SAAS,CAACwD,WACXqe,GACFA,IAEFsmB,GAAMC,QAAQ72B,GAASoB,QAAQC,UAC9B6kB,OAAM,SAAA/J,GAEP,OADAya,GAAMtnC,MAAM0Q,GAASG,MAAMG,kBACpBkL,QAAQC,OAAO0Q,OA/CP,EAmDnBs+B,eAAiB,WACfvwC,GAAKI,YAAY,EAAKurC,YAAY5qC,MAAK,SAAApL,GACrC+2B,GAAMC,QAAQ72B,GAASoB,QAAQE,SAC/Bc,GAAO8B,SAAS,wBACfgiB,OAAM,SAAA/J,GACPya,GAAMtnC,MAAM6sB,EAAOxpB,YAxDJ,EA4DnB+nD,kBAAoB,WAClB,EAAKjsD,SAAS,CAAC4hB,MAAM,KA7DJ,EAgEnBsqC,iBAAmB,WACjB,GAAI,EAAKC,iBAAkB,CACzB,IAAMviC,EAAI,eACJwgB,EAAS,EAAK+hB,mBAChB/hB,GACFA,EAAOA,OAAOzxB,QAAO,SAASO,GAC5B0Q,EAAKwiC,aAAalzC,EAAMkxB,EAAO7oC,QAC9B6oC,EAAO7oC,QAvEG,EA4EnB6qD,aAAe,SAAClzC,EAAMmjC,GAAkB,IAC9BtnC,EAAW,EAAK3V,MAAMmY,MAAtBxC,OACR0G,GAAKK,SACHnI,GAAOwC,UAAUrT,EAAOC,IAAIS,OAAOvF,OAAQ8W,EAAO63B,WAClD,CAAC1zB,OAAM3X,KAAM86C,IACb7/B,MAAK,SAAAwO,GACLmd,GAAMC,QAAQ72B,GAASoB,QAAQG,UAC/B,EAAKm5C,oBACL,EAAKjsD,SAAS,CAACqsD,WAAYrhC,EAAKlW,SAC/B2iB,OAAM,SAAA/J,GACPya,GAAMtnC,MAAM6sB,EAAOxpB,YAtFJ,EA0FnBknD,2BAA6B,WAAO,IAC1Bxe,EAAc,EAAKxtC,MAAMmY,MAAMxC,OAA/B63B,UAER,OADA,EAAK5sC,SAAS,CAAC0P,SAAS,IzB0brB,SAA8Bk9B,GACnC,OAAOnxB,GAAKE,SAAShI,GAAOwC,UAAUrT,EAAOC,IAAIS,OAAOsB,wBAAyB8nC,IyB1bxE0f,CAAqB1f,GAAWpwB,MAAK,SAAAwO,GAC1C,IAAM9R,EAAOvF,GAAOgF,OAAOqS,EAAK9R,MAChCvF,GAAOyF,aAAaF,EAAM8R,EAAKnrB,MAC3B,EAAK0sD,YACP,EAAKA,gBAEN90B,OAAM,SAAA/J,GACPya,GAAMtnC,MAAM6sB,EAAOxpB,WAClBwzB,SAAQ,WACT,EAAK13B,SAAS,CAAC0P,SAAS,QAnG1B,EAAK08C,aAAe,EAAKA,aAAa3sD,KAAlB,gBACpB,EAAKJ,MAAQ,CACXmE,OAAQ,GACRoe,MAAM,EACNyqC,WAAY,KACZ1R,UAAW,GACX6R,kBAAkB,EAClBC,eAAe,EACfC,kBAAkB,EAClBC,kBAAkB,EAClBvoD,cAAe,GACfy/C,YAAY,EACZn0C,SAAS,GAEX,EAAK60B,WAAWnlC,EAAMmY,MAAMxC,QAC5B,EAAKqyC,WAAazzC,GAAOwC,UACvBrT,EAAOC,IAAIS,OAAOU,OAClB9E,EAAMmY,MAAMxC,OAAO63B,WApBJ,E,sEA0GT,IAAD,OACCvsC,EAAYN,KAAKX,MAAjBiB,QACAusC,EAAc7sC,KAAKX,MAAMmY,MAAMxC,OAA/B63B,UAFD,EAYH7sC,KAAKV,MARPuiB,EAJK,EAILA,KAAMpe,EAJD,EAICA,OAAQ6oD,EAJT,EAISA,WAAY1R,EAJrB,EAIqBA,UAC1B6R,EALK,EAKLA,iBACAC,EANK,EAMLA,cACAC,EAPK,EAOLA,iBACAC,EARK,EAQLA,iBACAvoD,EATK,EASLA,cACAy/C,EAVK,EAULA,WACAn0C,EAXK,EAWLA,QAEFiE,GAAOkC,gBAAgB9V,KAAKgsD,kBAAmB,OAAQ,QAAQx6B,WAAY,EAC3E,IAAMtzB,EAASouD,GAAc7oD,EAAOvF,QAAU8lD,KAK9C,OAFApwC,GAAOkC,gBAAgB9V,KAAKoqD,gCAAiC,OAAQ,gBAAgBpmD,QAAUK,EAG7F,6BACE,kBAAC,GAAD,CACEktC,YAAa,CACX,CAAE7mB,KAAM,YAAa5qB,KAAM,4BAC3B,CAAE4qB,KAAM,oBAAqB5qB,KAAM,4BACnC,CAAEA,KAAM2D,EAAOuf,cAGnB,yBAAKphB,MAAO,CAAC9D,UAAW,KACtB,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAUq2B,GAAI,GAAIC,GAAI,GAAIC,GAAI,EAAGmqB,GAAI,GACnC,kBAAC1W,GAAD,CACEz2B,KAAM5N,EACN+U,OAAQypC,GACR9gB,UAAW,CACTpe,MAAO,uCACPvK,OAAQxY,KAAKgsD,kBACb3uD,OAAQ4rD,GACRvhB,WAAY1nC,KAAK4jD,aACjB55B,QAASpW,GAAO0B,QAAQ,0BACxBugB,QAAS,CAACqqB,KAEZze,YAAa,CACXc,aAAcviC,KAAKisD,eACnBjiC,QAASpW,GAAO0B,QAAQ,2BAE1B+xB,cAAe,CACb,kBAAC/X,GAAA,EAAD,CACEjb,IAAI,IACJ+a,SAAUzf,EACVhO,QAAS3B,KAAKqrD,4BAHhB,iCAMG17C,GAAW,kBAAC0oB,GAAA,EAAD,CAAkBzjB,KAAM,GAAInU,UAAWH,EAAQzB,mBAG/D21B,SAAW,SAAA7Q,GAAS,OAAI,EAAK6oC,WAAa7oC,GAAaA,EAAUqjB,oBAGrE,kBAAC,GAAD,CAAU7S,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAC5B,kBAAC,GAAD,CAAM6f,SAAO,EAACzzC,UAAWH,EAAQyzC,aAC/B,kBAAC,GAAD,CAAYG,SAAO,EAACzzC,UAAWH,EAAQg0C,YACrC,0BAAM7zC,UAAWH,EAAQ2jD,iBACzB,uBAAGpqC,KAAK,OAAOlY,QAAS,SAAA/B,GAAC,OAAIA,EAAEM,mBAC7B,yBAAK2iB,IAAK3kB,EAAQ4kB,IAAI,MAAMriB,UAAWH,EAAQ4jD,aAEjD,kBAAClS,GAAD,CAASF,WAAW,0BAClB,yBAAKrxC,UAAWH,EAAQusD,cACtB,kBAACnrD,EAAA,EAAD,CACET,WAAS,EACTW,MAAO,CAAC3D,QAAS,UAAWW,SAAU,IACtC+C,QAAS,kBAAM,EAAK1B,SAAS,CAAC4hB,MAAM,MAHtC,mBAUN,kBAAC,GAAD,KACE,kBAAC2B,GAAA,EAAD,KACE,kBAACI,GAAA,EAAD,KACGg3B,EAAUvqC,OAAS,EAClB,kBAAC2T,GAAA,EAAD,iCAIA,kBAACguB,GAAD,CAASF,WAAW,yBAClB,kBAAC9tB,GAAA,EAAD,CACEC,QAAQ,uCACR3lB,UAAU,+KAKlB,kBAAC0zC,GAAD,CAASF,WAAW,0BACjB8I,EAAU76B,KAAI,SAACtL,EAAGJ,GAAJ,OACb,kBAAC,IAAM9T,SAAP,CAAgB8T,IAAKA,GACnB,kBAACqP,GAAA,EAAD,CAAS7iB,QAAQ,SAAS8iB,UAAU,OACpC,kBAACC,GAAA,EAAD,CACEC,QAAM,EACNF,UAAWW,IACXziB,GAAE,4BAAuBgrC,EAAvB,sBAA8Cp4B,EAAEpT,KAElD,kBAAC2iB,GAAA,EAAD,CACEC,QAASxP,EAAEq4C,YACXxuD,UAAS,UAAKmW,EAAEi+B,WAAP,iBAAqBj+B,EAAEo+B,SAAvB,+BAAuCj/B,GAAOC,WAAWY,EAAEiM,QAA3D,kBAMnB,kBAACsxB,GAAD,CAASF,WAAW,yBAClB,kBAACluB,GAAA,EAAD,KACE,kBAAC,IAAD,CAAM/hB,GAAE,4BAAuBgrC,EAAvB,mBACN,kBAACnrC,EAAA,EAAD,CAAQb,QAAQ,YAAYlC,MAAM,WAAlC,qCAUjB8E,EAAO64C,aACN,kBAACtK,GAAD,CAASF,WAAW,+BAClB,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAYnzC,MAAM,QAAlB,4BACA,kBAAC,GAAD,KACE,kBAAC,GAAD,CACEirC,OAAQka,EACRna,SAAU/1B,GAAOwC,UAAUrT,EAAOC,IAAIS,OAAOQ,qBAAsBR,EAAO64C,aAAczP,GACxFhD,OAAQ,SAACiD,GAAD,OACN,kBAAC7G,GAAD,CACEljB,MAAM,2BACNyE,UAAW2iC,GACXvgC,UAAWkjB,EACXn+B,YAAa5L,EAAO4L,YACpBgtB,WAAW,SACXqF,SAAU,CACRje,MAAO,uCACPvK,OAAQ,EAAK4xC,gCACb7yB,SAAUwmB,IACR,kBAAM,EAAK99C,SAAS,CAAE6jD,YAAaA,MACnC/gD,EAAOC,IAAIsC,aAAaK,yBAE1B0L,KAAM,CACJirC,aAAc74C,EAAO64C,aACrBa,UAAWtQ,GAEb7iB,QAASpW,GAAO0B,QAAQ,+BAE1B6rB,UAAW,CACTpe,MAAO,uCACPvK,OAAQ,EAAK4xC,gCACb7yB,SAAU2mB,IACR,kBAAM,EAAKj+C,SAAS,CAAE6jD,YAAaA,MACnC/gD,EAAOC,IAAIsC,aAAaM,4BAE1BokB,QAASpW,GAAO0B,QAAQ,kCAE1BmsB,YAAa,CACXc,aAAc4b,IACZ,kBAAM,EAAKl+C,SAAS,CAAE6jD,YAAaA,MACnC/gD,EAAOC,IAAIsC,aAAaM,4BAE1BokB,QAASpW,GAAO0B,QAAQ,kCAE1B2tB,WAAYrvB,GAAOqH,0BAO7B,KACJ,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAYtc,MAAM,QAAlB,kCAGA,kBAAC,GAAD,KACE,kBAAC,GAAD,CACEirC,OAAQ6iB,EACR9iB,SAAW/1B,GAAOwC,UAAUrT,EAAOC,IAAIiD,SAASK,8BAA+BumC,GAC/EhD,OAAS,SAACiD,GAAD,OACP,kBAAC7G,GAAD,CACEljB,MAAM,iCACNyE,UAAWiiC,GACX7/B,UAAWkjB,EAASv0B,QACpB5J,YAAa5L,EAAO4L,YACpB6yB,UAAU,EACV7F,WAAW,SACXqF,SAAU,CACRje,MAAO,6CACPvK,OAAQkxC,GACRnyB,SAAUwmB,IACR,kBAAM,EAAK99C,SAAS,CAACwsD,kBAAmBA,MACxC1pD,EAAOC,IAAIiD,SAASK,8BACpBumC,GAEFx7B,KAAM,CACJ,aAAgB5N,EAAO64C,aACvB,UAAazP,IAGjB1L,UAAW,CACTpe,MAAO,6CACPvK,OAAQkxC,GACRnyB,SAAU2mB,IACR,kBAAM,EAAKj+C,SAAS,CAACwsD,kBAAmBA,MACxC1pD,EAAOC,IAAIiD,SAASO,gCACpBqmC,IAGJpL,YAAa,CACXc,aAAc4b,IACZ,kBAAM,EAAKl+C,SAAS,CAACwsD,kBAAmBA,MACxC1pD,EAAOC,IAAIiD,SAASO,gCACpBqmC,IAGJ5J,WAAYrvB,GAAOqH,kBACnBye,YAAa,CAAEhK,SAAU,YAMnC,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAY/wB,MAAM,QAAlB,4BAGA,kBAAC,GAAD,KACE,kBAAC,GAAD,CACEirC,OAAQ8iB,EACR/iB,SAAW/1B,GAAOwC,UAAUrT,EAAOC,IAAIiD,SAASQ,mBAAoBomC,GACpEhD,OAAS,SAACiD,GAAD,OACP,kBAAC7G,GAAD,CACEljB,MAAM,2BACNyE,UAAWmiC,GACX//B,UAAWkjB,EAASv0B,QACpB5J,YAAa5L,EAAO4L,YACpB6yB,UAAU,EACV7F,WAAW,SACXqF,SAAU,CACRje,MAAO,uCACPvK,OAAQoxC,GACRvsD,OAAQwsD,GACRtyB,SAAUwmB,IACR,kBAAM,EAAK99C,SAAS,CAACysD,eAAgBA,MACrC3pD,EAAOC,IAAIiD,SAASQ,mBACpBomC,GAEFx7B,KAAM,CACJ,aAAgB5N,EAAO64C,aACvB,UAAazP,IAGjB1L,UAAW,CACTpe,MAAO,uCACPvK,OAAQoxC,GACRvsD,OAAQwsD,GACRtyB,SAAU2mB,IACR,kBAAM,EAAKj+C,SAAS,CAACysD,eAAgBA,MACrC3pD,EAAOC,IAAIiD,SAASU,qBACpBkmC,IAGJpL,YAAa,CACXc,aAAc4b,IACZ,kBAAM,EAAKl+C,SAAS,CAACysD,eAAgBA,MACrC3pD,EAAOC,IAAIiD,SAASU,qBACpBkmC,IAGJ5J,WAAYrvB,GAAOqH,kBACnBye,YAAa,CAAEhK,SAAU,YAMnC,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAY/wB,MAAM,QAAlB,4BAGA,kBAAC,GAAD,KACE,kBAAC,GAAD,CACEirC,OAAQ+iB,EACRhjB,SAAW/1B,GAAOwC,UAAUrT,EAAOC,IAAIiD,SAASW,sBAAuBimC,GACvEhD,OAAS,SAACiD,GAAD,OACP,kBAAC7G,GAAD,CACEljB,MAAM,2BACNyE,UAAWsiC,GACXlgC,UAAWkjB,EAASv0B,QACpB5J,YAAa5L,EAAO4L,YACpB6yB,UAAU,EACV7F,WAAW,SACXqF,SAAU,CACRje,MAAO,uCACPvK,OAAQuxC,GACR1sD,OAAQ2sD,GACRzyB,SAAUwmB,IACR,kBAAM,EAAK99C,SAAS,CAAC0sD,kBAAmBA,MACxC5pD,EAAOC,IAAIiD,SAASW,sBACpBimC,GAEFx7B,KAAM,CACJ,aAAgB5N,EAAO64C,aACvB,UAAazP,IAGjB1L,UAAW,CACTpe,MAAO,uCACPvK,OAAQuxC,GACR1sD,OAAQ2sD,GACRzyB,SAAU2mB,IACR,kBAAM,EAAKj+C,SAAS,CAAC0sD,kBAAmBA,MACxC5pD,EAAOC,IAAIiD,SAASa,wBACpB+lC,IAGJpL,YAAa,CACXc,aAAc4b,IACZ,kBAAM,EAAKl+C,SAAS,CAAC0sD,kBAAmBA,MACxC5pD,EAAOC,IAAIiD,SAASa,wBACpB+lC,IAGJ5J,WAAYrvB,GAAOqH,kBACnBye,YAAa,CAAEhK,SAAU,YAMjCjsB,EAAO64C,aACP,kBAAC,GAAD,CACEv5B,MAAK,UAAKtf,EAAOuf,UAAZ,6BACLs5B,aAAc74C,EAAO64C,aACrBa,UAAWtQ,IAEX,KACJ,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAYluC,MAAM,QAAlB,4BAGA,kBAAC,GAAD,KACE,kBAAC,GAAD,CACEirC,OAAQgjB,EACRjjB,SAAW/1B,GAAOwC,UAAUrT,EAAOC,IAAIS,OAAOwB,eAAgB4nC,GAC9DhD,OAAS,SAACiD,GAAD,OACP,kBAAC7G,GAAD,CACEljB,MAAM,eACNyE,UAAWgjC,GACX5gC,UAAWkjB,EAASv0B,QACpB5J,YAAa5L,EAAO4L,YACpB6yB,UAAU,EACV7F,WAAW,SACXqF,SAAU,CACRje,MAAO,2BACPvK,OAAQiyC,GACRlzB,SAAUwmB,IACR,kBAAM,EAAK99C,SAAS,CAAC2sD,kBAAmBA,MACxC7pD,EAAOC,IAAIS,OAAOwB,eAClB4nC,GAEFx7B,KAAM,CACJ,aAAgB5N,EAAO64C,aACvB,UAAazP,IAGjB1L,UAAW,CACTpe,MAAO,2BACPvK,OAAQiyC,GACRlzB,SAAU2mB,IACR,kBAAM,EAAKj+C,SAAS,CAAC2sD,kBAAmBA,MACxC7pD,EAAOC,IAAIS,OAAOyB,iBAClB2nC,IAGJpL,YAAa,CACXc,aAAc4b,IACZ,kBAAM,EAAKl+C,SAAS,CAAC2sD,kBAAmBA,MACxC7pD,EAAOC,IAAIS,OAAOyB,iBAClB2nC,IAGJ5J,WAAYrvB,GAAOqH,yBAM7B,kBAAC4c,GAAA,EAAD,CACEhW,KAAMA,EACNiW,QAAS93B,KAAKksD,kBACdn0B,WAAY,CAACt3B,UAAWH,EAAQ03B,aAEhC,kBAACC,GAAA,EAAD,6CAGA,kBAACC,GAAA,EAAD,KACE,kBAAC,GAAD,CACEyP,IAAK,SAAAyC,GAAY,EAAKgiB,iBAAmBhiB,GAAUA,EAAOD,aAG9D,kBAAC/R,GAAA,EAAD,KACE,kBAAC12B,EAAA,EAAD,CAAQ/C,MAAM,YAAYgD,QAAS3B,KAAKksD,mBAAxC,gBACA,kBAACxqD,EAAA,EAAD,CAAQ/C,MAAM,UAAUgD,QAAS3B,KAAKmsD,kBAAtC,uB,GAvgBuBrnC,IAAMhjB,WA+gB1BC,QA/jBA,SAAC3E,GAAD,MAAY,CACzB22C,YAAa,CACXj2C,UAAW,IAEbw2C,WAAY,CACVh3C,MAAO,IACP2rB,OAAQ,IACRlqB,SAAU,YAEZklD,eAAgB,CACd1mD,QAAS,eACT0rB,OAAQ,OACR0V,cAAe,UAEjBulB,UAAW,CACT1rB,UAAW,IACXD,SAAU,IACVoG,cAAe,UAEjB9a,OAAQ,CACNnmB,YAAaN,EAAMK,QAAQ,IAE7BovD,aAAc,CACZ9tD,SAAU,WACVszC,OAAQ,EACR/0C,MAAO,IACPc,gBAAiB,0BAEnBS,eAAgB,CACdF,MAAOG,IAAM,KACbC,SAAU,WACVC,IAAK,MACLC,KAAM,MACNnB,WAAY,GACZN,YAAa,IAEfw6B,WAAW,eACR56B,EAAMO,YAAY26B,KAAK,MAAQ,CAC9Bh7B,MAAO,OACP2rB,OAAQ,OACR9qB,OAAQ,EACRo6B,SAAU,OACVC,UAAW,OACXC,aAAc,OAohBL12B,CAAmBgqD,IC5bnBna,M,YAlKb,WAAYvyC,GAAQ,IAAD,8BACjB,4CAAMA,KAJR0tD,uBAAyBn5C,GAAOoG,MAAMmvC,IAGnB,EAFnB6D,yBAA2Bp5C,GAAOoG,MAAMqvC,IAErB,EAanB7kB,WAAa,SAACxvB,GACZ,IAAI6mC,EAAc,KAClB,GAAI,EAAKx8C,MAAMc,SAASwV,OAAQ,CAC9B,IAAMA,EAAS/B,GAAOwB,iBAAiB,EAAK/V,MAAMc,SAASwV,QAE3DylC,GADAS,EAAclmC,GAAUA,EAAOkmC,aACNp/B,MAAK,SAAAxW,GAC5B,EAAKhG,SAAS,CAACgG,gBAGnBk1C,GAAcnmC,EAAO63B,WAAWpwB,MAAK,SAAAhZ,GACnC,EAAKxD,SAAS,CAACwD,c1BiEd,SAA0Bo4C,GAC/B,OAAIA,EACKngC,GAAKE,SAAShI,GAAOwC,UAAUrT,EAAOC,IAAIiD,SAASmB,eAAgBy0C,IAEnEngC,GAAKE,SAAS7Y,EAAOC,IAAImK,OAAO/F,gB0BnEvC6lD,CAAiBpR,GAAap/B,MAAK,SAAApL,GACjC,EAAKpR,SAAS,CAACitD,uBAAwB77C,EAAKkH,a1B0E3C,SAA+BsjC,GACpC,OAAIA,EACKngC,GAAKE,SAAShI,GAAOwC,UAAUrT,EAAOC,IAAIiD,SAASoB,oBAAqBw0C,IAExEngC,GAAKE,SAAS7Y,EAAOC,IAAImK,OAAO9F,qB0B5EvC8lD,CAAsBtR,GAAap/B,MAAK,SAAApL,GACtC,EAAKpR,SAAS,CAACmtD,4BAA6B/7C,EAAKkH,aAEnDkiC,KAAyBh+B,MAAK,SAAApY,GAC5B,EAAKpE,SAAS,CAACoE,sBAhCA,EAoCnB8oC,mBAAqB,WACnBl1B,SAAS8K,MAAT,qCAA2B,EAAKzjB,MAAMmE,OAAOuf,WAAa,GAA1D,gCArCiB,EAwCnBmoC,SAAW,WAAO,IAAD,EAC0E,EAAK7rD,MAAtF2G,EADO,EACPA,SAAUinD,EADH,EACGA,uBAAwBE,EAD3B,EAC2BA,4BAA6B/oD,EADxD,EACwDA,cACvEuP,GAAOkC,gBAAgB,EAAKi3C,uBAAwB,OAAQ,gBAAgB/oD,QAAUK,EACtF,IAAIgpD,EAAwB,GAuB5B,GAtBAz5C,GAAOkC,gBAAgB,EAAKk3C,yBAA0B,OAAQ,QAAQz4B,UAAY,SAACljB,EAAM+kB,GACvF,IAAMk3B,EAAS,GACfl3B,EAAQrW,KAAI,SAAA1F,GAAC,OAAKA,EAAE+rB,QAAUknB,EAAOv9C,KAAKsK,EAAE0hC,SAC5CsR,EAAwB,GACxB,IAAMrpD,EAAU,GAWhB,OAVAib,GAAwBc,KAAI,SAAAE,GAQ1B,OAPIqtC,EAAOn4C,QAAQ8K,EAAKlgB,OAAS,IAC/BstD,EAAsBt9C,KAAKkQ,GAC3Bjc,EAAQ+L,KAAK,CACX,MAASkQ,EAAKoH,aACd,aAAgBpH,EAAKoH,iBAGlB,KAEF,CACL,KAAQ,SACR,WAAa,EACb,QAAWrjB,IAIX4P,GAAOK,QAAQi5C,IAA2Bt5C,GAAOK,QAAQm5C,GAC3D,OAAO,KAEP,IAAMG,EAA4C35C,GAAOoG,MAAMozC,GAE/D,OADAG,EAA0CxtC,KAAI,SAAAE,GAAI,OAAIA,EAAKutC,QAAU,QAC9D,CACL,CACE1tD,KAAM,uCACN0oC,UAAW,CACT1oC,KAAM,aACN0Y,OAAQ,EAAKu0C,uBACb1vD,OAAQ+rD,GACR/3C,KAAMpL,EACN2uB,UAAW,CAACtV,IACZsW,UAAW,CACToqB,MAIN,CACElgD,KAAM,2BACN0oC,UAAW,CACT1oC,KAAM,iBACN8qC,QAAQ,EACRpyB,OAAQ6wC,GACR9iB,gBAAiB,EAAKymB,yBACtB3vD,OAAQisD,GACRj4C,KAAM67C,EACNt3B,UAAW,CACT,SAAC91B,EAAMuR,EAAMs5B,EAAOvX,EAAQC,GAC1B,GAAa,SAATvzB,EAAiB,CACnB,IAAMqoB,EAASvU,GAAOkC,gBAAgBu3C,EAAuB,eAAgBh8C,EAAKgiB,GAAL,MAC7EhiB,EAAKgiB,GAAL,KAA4BlL,EAASA,EAAOpoB,MAAQ,QAI1D60B,UAAW,CACTjV,GAAY,CAAC,SACbA,GAAY,CAAC,YAInB,CACE7f,KAAM,6CACN0oC,UAAW,CACT1oC,KAAM,aACN8qC,QAAQ,EACRpyB,OAAQ6sC,GACRh0C,KAAMk8C,EACN34B,UAAW,CACTjV,GAAY,CAAC,SACbA,GAAY,CAAC,SACbc,IAEFmV,UAAW,CAAC,SAACmV,EAAG1wB,EAAG7F,EAAGw2B,EAAGx0B,GAAb,OvB0CjB,SAAmC1W,EAAMuR,EAAMs5B,EAAOvX,EAAQC,EAAao6B,GAChF,GAAa,WAAT3tD,EAAmB,CACrB,IAAMC,EAAQsR,EAAKgiB,GAAavzB,GAC1Bi8C,EAAO1qC,EAAKgiB,GAAL,KACb,GAAItzB,EAAQ,EAAG,CACb,IAAM2tD,EAAgB95C,GAAOkC,gBAAgB23C,EAAc,OAAQ1R,GACnE1qC,EAAKgiB,GAAL,QAA+Bq6B,EAAcF,aAE7Cn8C,EAAKgiB,GAAL,QAA+B,KAGnC,OAAOhiB,EuBrDkCs8C,CAA0B5iB,EAAG1wB,EAAG7F,EAAGw2B,EAAGx0B,EAAG42C,KACxEn2B,UAAU,EACVD,aAAa,MAvHrB,EAAK13B,MAAQ,CACXmE,OAAQ,GACRwC,SAAU,GACVinD,uBAAwB,GACxBE,4BAA6B,GAC7B/oD,cAAe,IAEjB,EAAKmgC,WAAWnlC,EAAMmY,MAAMxC,QAVX,E,sEAiIT,IACAA,EAAWhV,KAAKX,MAAMmY,MAAtBxC,OACAvR,EAAWzD,KAAKV,MAAhBmE,OACFknC,EAAQ3qC,KAAKmrD,WAEnB,OACE,6BACE,kBAAC,GAAD,CACE5Z,YAAa,CACX,CAAE7mB,KAAM,YAAa5qB,KAAM,4BAC3B,CAAE4qB,KAAM,oBAAqB5qB,KAAM,4BACnC,CAAE4qB,KAAK,qBAAD,OAAuB1V,EAAO63B,UAA9B,KAA4C/sC,KAAM2D,EAAOuf,WAC/D,CAAEljB,KAAM,+BAGZ,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAUq0B,GAAI,GAAIC,GAAI,GAAIC,GAAI,EAAGmqB,GAAI,GACjC7T,EACA,kBAAC,GAAD,CACE5nB,MAAM,2BACN4nB,MAAOA,EACPzC,WAAW,OACXC,aAAcv0B,GAAOwC,UAAUrT,EAAOC,IAAIiD,SAASG,oBAAqB4O,EAAO63B,WAC/EpV,aAAc,kBAAM7jB,GAAO8B,SAAP,4BAAqCV,EAAO63B,eAEhE,Y,GA9JU/nB,IAAMhjB,WAsKY,yBC0F7B8vC,M,YA1Pb,WAAYvyC,GAAQ,IAAD,8BACjB,4CAAMA,KAJR0tD,uBAAyBn5C,GAAOoG,MAAMmvC,IAGnB,EAFnByE,yBAA2Bh6C,GAAOoG,MAAMqvC,IAErB,EAkBnB7kB,WAAa,SAACxvB,GAAY,IAChB63B,EAA2B73B,EAA3B63B,UAAWgP,EAAgB7mC,EAAhB6mC,YACnBV,GAActO,GAAWpwB,MAAK,SAAAhZ,GAC5B,EAAKxD,SAAS,CAACwD,cAEjB23C,GAAYS,GAAap/B,MAAK,SAAAxW,GAC5B,EAAKhG,SAAS,CAACgG,gBAEjBw0C,KAAyBh+B,MAAK,SAAApY,GAC5B,EAAKpE,SAAS,CAACoE,qBAEjB,EAAKwpD,mBAAmBhS,IA7BP,EAgCnBgS,mBAAqB,SAAChS,I3BqnBjB,SAAmCA,GACxC,OAAOngC,GAAKE,SAAShI,GAAOwC,UAAUrT,EAAOC,IAAIiD,SAAS6B,0BAA2B+zC,K2BrnBnFiS,CAA0BjS,GAAap/B,MAAK,SAAApL,GAC1C,IAAM08C,EAAW,GACjB18C,EAAK0O,KAAI,SAAAmK,GAAG,OACV6jC,EAASh+C,KAAK,CAAChQ,MAAOmqB,EAAIpqB,KAAMunB,aAAc6C,EAAIpqB,UAEpD8T,GAAOkC,gBAAgB,EAAK83C,yBAA0B,OAAQ,QAAQpsD,KAAO,SAC7EoS,GAAOkC,gBAAgB,EAAK83C,yBAA0B,OAAQ,QAAQ5pD,QAAU+pD,EAChF,EAAK9tD,SAAS,CAAC+tD,iBAAkB38C,QAxClB,EA4CnB87B,mBAAqB,WAAO,IAClB1pC,EAAW,EAAKnE,MAAhBmE,OACRwU,SAAS8K,MAAT,qCAA2Btf,EAAOuf,UAAlC,gCA9CiB,EAiDnBirC,eAAiB,SAAC58C,EAAMyQ,GACtB,OAAOpG,GAAKK,SAAS,EAAKsrC,WAAYh2C,GAAMoL,MAAK,SAAAxW,GAC/C,EAAKhG,SAAS,CAACgG,aACX6b,GACFA,IAEFsmB,GAAMC,QAAQ72B,GAASoB,QAAQC,UAC9B6kB,OAAM,SAAA/J,GAEP,OADAya,GAAMtnC,MAAM0Q,GAASG,MAAMG,kBACpBkL,QAAQC,OAAO0Q,OA1DP,EA8DnBugC,iBAAmB,WAAO,IAChBl5C,EAAW,EAAK3V,MAAMmY,MAAtBxC,OACR0G,GAAKI,YAAY,EAAKurC,YAAY5qC,MAAK,WACrC2rB,GAAMC,QAAQ72B,GAASoB,QAAQE,SAC/Bc,GAAO8B,SAAP,4BAAqCV,EAAO63B,eAC3CnV,OAAM,SAAC/J,GACR,IAAMygB,EAAMzgB,EAAOxpB,QAAUqN,GAASG,MAAMK,gBAC5Co2B,GAAMtnC,MAAMstC,OArEG,EAyEnB+f,wBAA0B,SAACruD,EAAMuR,GAAU,IACjC28C,EAAqB,EAAK1uD,MAA1B0uD,iBACR,GAAa,SAATluD,EAAiB,CACnB,IAAMmgB,EAAOrM,GAAOkC,gBAAgBk4C,EAAkB,OAAQ38C,EAAKvR,IAKnE,OAJImgB,IACF5O,EAAK0qC,KAAO97B,EAAK87B,KACjB1qC,EAAKunB,QAAU3Y,EAAK2Y,SAEfvnB,IA9ET,EAAK/R,MAAQ,CACXmE,OAAQ,GACRwC,SAAU,GACV5B,cAAe,GACf+pD,kBAAkB,EAClBC,gBAAgB,EAChBL,iBAAkB,IAEpB,EAAKxpB,WAAWnlC,EAAMmY,MAAMxC,QAC5B,EAAKqyC,WAAazzC,GAAOwC,UACvBrT,EAAOC,IAAIiD,SAAS9B,OACpB9E,EAAMmY,MAAMxC,OAAO6mC,aAdJ,E,sEAqFT,IAAD,SAC4B77C,KAAKX,MAAMmY,MAAMxC,OAA5C63B,EADD,EACCA,UAAWgP,EADZ,EACYA,YADZ,EAEuE77C,KAAKV,MAA3EmE,EAFD,EAECA,OAAQwC,EAFT,EAESA,SAAU5B,EAFnB,EAEmBA,cAAe+pD,EAFlC,EAEkCA,iBAAkBC,EAFpD,EAEoDA,eAO3D,OALAruD,KAAK+sD,uBAAuB,GAAG/oD,QAAUK,EACzCrE,KAAK+sD,uBAAuB,GAAGv7B,WAAY,EAC3CxxB,KAAK+sD,uBAAuB,GAAGv7B,WAAY,EAC3CxxB,KAAK+sD,uBAAuB,GAAGv7B,WAAY,EAGzC,6BACE,kBAAC,GAAD,CACE+f,YAAa,CACX,CAAC7mB,KAAM,YAAa5qB,KAAM,4BAC1B,CAAC4qB,KAAM,oBAAqB5qB,KAAM,4BAClC,CAAC4qB,KAAK,qBAAD,OAAuBmiB,GAAa/sC,KAAM2D,EAAOuf,WACtD,CAACljB,KAAMmG,EAAS6mD,gBAGpB,yBAAKlrD,MAAO,CAAC9D,UAAW,KACtB,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAUq2B,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAAImqB,GAAI,IACpC,kBAAC1W,GAAD,CACE/kB,MAAM,2BACN1R,KAAMpL,EACNuS,OAAQ0wC,GACR/nB,UAAW,CACTpe,MAAO,uCACPvK,OAAQxY,KAAK+sD,uBACb1vD,OAAQ+rD,GACR1hB,WAAY1nC,KAAKiuD,eACjBjkC,QAASpW,GAAO0B,QAAQ,6BAE1BmsB,YAAa,CACXc,aAAcviC,KAAKkuD,iBACnBlkC,QAASpW,GAAO0B,QAAQ,6BAE1B+kB,QAAS,CACP,kBAAC2X,GAAD,CAAS39B,IAAK,EAAGy9B,WAAW,yBAC1B,kBAACntB,GAAA,EAAD,CAAS5B,MAAM,kOACb,kBAACrhB,EAAA,EAAD,CACEb,QAAQ,YACRlC,MAAM,UACNgD,QAAS,kBAAMiS,GAAO8B,SAAP,4BACQm3B,EADR,yCAEGgP,MALpB,uDAaNxU,cAAe,CACX,kBAAC/X,GAAA,EAAD,CACEjb,IAAI,IACJsP,UAAWW,IACXziB,GAAE,4BAAuBgrC,EAAvB,sBAA8CgP,EAA9C,gBAHJ,kCAOA,kBAACvsB,GAAA,EAAD,CACEjb,IAAI,IACJsP,UAAWW,IACXziB,GAAE,4BAAuBgrC,EAAvB,sBAA8CgP,EAA9C,gBAHJ,kCAOA,kBAACvsB,GAAA,EAAD,CACEjb,IAAI,IACJsP,UAAWW,IACXziB,GAAE,4BAAuBgrC,EAAvB,sBAA8CgP,EAA9C,YAHJ,sCAUR,kBAAC,GAAD,CAAU1nB,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAAImqB,GAAI,IACpC,kBAAC99C,EAAA,EAAD,CAAOkB,MAAOq0C,IACZ,kBAAC,GAAD,CACErM,OAAQwkB,EACRzkB,SAAU/1B,GAAOwC,UAAUrT,EAAOC,IAAIiD,SAASoB,oBAAqBw0C,GACpEhS,OAAQ,SAACiD,GAAD,OACN,kBAAC7G,GAAD,CACEljB,MAAM,6CACNwe,WAAW,EACX/Z,UAAWgiC,GACX5/B,UAAWkjB,EAASv0B,QACpB5J,YAAa5L,EAAO4L,YACpBs0B,WAAYrvB,GAAOqH,kBACnB0gB,WAAW,SACXwF,UAAW,CACT,OAAUkkB,GACV,SAAYnH,IACV,kBAAM,EAAKj+C,SAAS,CAACmuD,kBAAmBA,MACxCrrD,EAAOC,IAAIiD,SAAS0B,2BACpBk0C,GAEF,QAAWjoC,GAAO0B,QAAQ,oCAOtC,kBAAC,GAAD,CAAU6e,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAAImqB,GAAI,IACpC,kBAAC99C,EAAA,EAAD,CAAOkB,MAAOq0C,IACZ,kBAAC,GAAD,CACErM,OAAQykB,EACR1kB,SAAU/1B,GAAOwC,UAAUrT,EAAOC,IAAIiD,SAASmB,eAAgBy0C,GAC/DhS,OAAQ,SAACiD,GAAD,OACN,kBAAC7G,GAAD,CACEljB,MAAM,2BACNwe,WAAW,EACX/Z,UAAW+hC,GACX3/B,UAAWkjB,EAASv0B,QACpB5J,YAAa5L,EAAO4L,YACpBs0B,WAAYrvB,GAAOqH,kBACnB0gB,WAAW,SACXqF,SAAU,CACR,OAAU,EAAK4sB,yBACf,KAAQ,CAAE3nD,SAAU41C,GACpB,SAAYkC,IACV,WACE,EAAK99C,SAAS,CAACouD,gBAAiBA,IAChC,EAAKR,mBAAmBhS,KAE1B94C,EAAOC,IAAIiD,SAAS2B,sBACpBi0C,GAEF,UAAa,CAAC,EAAKsS,yBACnB,QAAWv6C,GAAO0B,QAAQ,0BAE5B6rB,UAAW,CACT,OAAUkoB,GACV,SAAYnL,IACV,kBAAM,EAAKj+C,SAAS,CAACouD,gBAAiBA,MACtCtrD,EAAOC,IAAIiD,SAAS4B,wBACpBg0C,GAEF,QAAWjoC,GAAO0B,QAAQ,6BAE5BmsB,YAAa,CACXc,aAAc4b,IACZ,WACE,EAAKl+C,SAAS,CAACouD,gBAAiBA,IAChC,EAAKR,mBAAmBhS,KAE1B94C,EAAOC,IAAIiD,SAAS4B,wBACpBg0C,kB,GA/OG/2B,IAAMhjB,WA8PY,0B,oBCxMhC8vC,M,YA3Eb,WAAYvyC,GAAQ,IAAD,8BACjB,4CAAMA,KAJR0jB,MAAQ,iCAGW,EAFnBurC,SAAW,0BAEQ,EAYnB9pB,WAAa,SAACxvB,G5B+HT,IAAqC6mC,E4B9HxCV,GAAcnmC,EAAO63B,WAAWpwB,MAAK,SAAAhZ,GACnC,EAAKxD,SAAS,CAACwD,cAEjB23C,GAAYpmC,EAAO6mC,aAAap/B,MAAK,SAAAxW,GACnC,EAAKhG,SAAS,CAACgG,iB5B0HuB41C,E4BxHZ7mC,EAAO6mC,Y5ByH9BngC,GAAKE,SAAShI,GAAOwC,UAAUrT,EAAOC,IAAIiD,SAASqB,kBAAmBu0C,K4BzH3Bp/B,MAAK,SAAAwO,GACnD,EAAKhrB,SAAS,CAACsuD,gBAAiBtjC,EAAKujC,WApBtB,EAwBnBrhB,mBAAqB,WAAO,IAClB1pC,EAAW,EAAKnE,MAAhBmE,OACRwU,SAAS8K,MAAT,UAAoB,EAAKA,MAAzB,cAAoCtf,EAAOuf,UAA3C,gCAvBA,EAAK1jB,MAAQ,CACXuiB,MAAM,EACNpe,OAAQ,GACRwC,SAAU,GACVsoD,gBAAiB,MAEnB,EAAK/pB,WAAWnlC,EAAMmY,MAAMxC,QATX,E,sEA6BT,IAAD,SAC4BhV,KAAKX,MAAMmY,MAAMxC,OAA5C63B,EADD,EACCA,UAAWgP,EADZ,EACYA,YADZ,EAEuC77C,KAAKV,MAA3CmE,EAFD,EAECA,OAAQwC,EAFT,EAESA,SAAUsoD,EAFnB,EAEmBA,gBAE1B,OACE,6BACE,kBAAC,GAAD,CACEhd,YAAa,CACX,CAAC7mB,KAAM,YAAa5qB,KAAM,4BAC1B,CAAC4qB,KAAM,oBAAqB5qB,KAAM,4BAClC,CAAC4qB,KAAK,qBAAD,OAAuBmiB,GAAa/sC,KAAM2D,EAAOuf,WACtD,CAAC0H,KAAK,qBAAD,OAAuBmiB,EAAvB,sBAA8CgP,GAAe/7C,KAAMmG,EAAS6mD,aACjF,CAAChtD,KAAME,KAAK+iB,UAGhB,yBAAKnhB,MAAO,CAAC9D,UAAW,KACtB,kBAAC0kB,GAAA,EAAD,KACE,kBAACG,GAAA,EAAD,CACEI,MAAO/iB,KAAK+iB,MACZtT,OACE,kBAACoV,GAAA,EAAD,CACE2iB,gBAAc,OACd7lC,QAAS,WAAOiS,GAAOkE,mBAAmB,EAAKw2C,YAE/C,kBAAC,KAAD,SAIN,kBAAChrC,GAAA,EAAD,KACE,4BACEP,MAAO/iB,KAAK+iB,MACZ1hB,GAAIrB,KAAKsuD,SACTG,OAAQF,EACRG,YAAY,IACZpxD,MAAM,OACN2rB,OAAO,mB,GApEUnE,IAAMhjB,WA+EY,0BCDpC8vC,M,YA1Eb,WAAYvyC,GAAQ,IAAD,8BACjB,4CAAMA,KAJR0jB,MAAQ,iCAGW,EAFnBurC,SAAW,0BAEQ,EAWnB9pB,WAAa,SAACxvB,G7BoIT,IAAqC6mC,E6BnIxCV,GAAcnmC,EAAO63B,WAAWpwB,MAAK,SAAAhZ,GACnC,EAAKxD,SAAS,CAACwD,cAEjB23C,GAAYpmC,EAAO6mC,aAAap/B,MAAK,SAAAxW,GACnC,EAAKhG,SAAS,CAACgG,iB7B+HuB41C,E6B7HZ7mC,EAAO6mC,Y7B8H9BngC,GAAKE,SAAShI,GAAOwC,UAAUrT,EAAOC,IAAIiD,SAASsB,kBAAmBs0C,K6B9H3Bp/B,MAAK,SAAAwO,GACnD,EAAKhrB,SAAS,CAAC0uD,gBAAiB1jC,EAAKujC,WAnBtB,EAuBnBrhB,mBAAqB,WAAO,IAClB1pC,EAAW,EAAKnE,MAAhBmE,OACRwU,SAAS8K,MAAT,UAAoB,EAAKA,MAAzB,cAAoCtf,EAAOuf,UAA3C,gCAtBA,EAAK1jB,MAAQ,CACXmE,OAAQ,GACRwC,SAAU,GACV0oD,gBAAiB,MAEnB,EAAKnqB,WAAWnlC,EAAMmY,MAAMxC,QARX,E,sEA4BT,IAAD,SAC4BhV,KAAKX,MAAMmY,MAAMxC,OAA5C63B,EADD,EACCA,UAAWgP,EADZ,EACYA,YADZ,EAEuC77C,KAAKV,MAA3CmE,EAFD,EAECA,OAAQwC,EAFT,EAESA,SAAU0oD,EAFnB,EAEmBA,gBAE1B,OACE,6BACE,kBAAC,GAAD,CACEpd,YAAa,CACX,CAAC7mB,KAAM,YAAa5qB,KAAM,4BAC1B,CAAC4qB,KAAM,oBAAqB5qB,KAAM,4BAClC,CAAC4qB,KAAK,qBAAD,OAAuBmiB,GAAa/sC,KAAM2D,EAAOuf,WACtD,CAAC0H,KAAK,qBAAD,OAAuBmiB,EAAvB,sBAA8CgP,GAAe/7C,KAAMmG,EAAS6mD,aACjF,CAAChtD,KAAME,KAAK+iB,UAGhB,yBAAKnhB,MAAO,CAAC9D,UAAW,KACtB,kBAAC0kB,GAAA,EAAD,KACE,kBAACG,GAAA,EAAD,CACEI,MAAO/iB,KAAK+iB,MACZtT,OACE,kBAACoV,GAAA,EAAD,CACE2iB,gBAAc,OACd7lC,QAAS,WAAOiS,GAAOkE,mBAAmB,EAAKw2C,YAE/C,kBAAC,KAAD,SAIN,kBAAChrC,GAAA,EAAD,KACE,4BACEP,MAAO/iB,KAAK+iB,MACZ1hB,GAAIrB,KAAKsuD,SACTG,OAAQE,EACRD,YAAY,IACZpxD,MAAM,OACN2rB,OAAO,mB,GAnEUnE,IAAMhjB,WA8EY,0BCApC8vC,M,YA1Eb,WAAYvyC,GAAQ,IAAD,8BACjB,4CAAMA,KAJR0jB,MAAQ,iCAGW,EAFnBurC,SAAW,sBAEQ,EAWnB9pB,WAAa,SAACxvB,G9BwIT,IAAiC6mC,E8BvIpCV,GAAcnmC,EAAO63B,WAAWpwB,MAAK,SAAAhZ,GACnC,EAAKxD,SAAS,CAACwD,cAEjB23C,GAAYpmC,EAAO6mC,aAAap/B,MAAK,SAAAxW,GACnC,EAAKhG,SAAS,CAACgG,iB9BmImB41C,E8BjIZ7mC,EAAO6mC,Y9BkI1BngC,GAAKE,SAAShI,GAAOwC,UAAUrT,EAAOC,IAAIiD,SAASuB,cAAeq0C,K8BlI3Bp/B,MAAK,SAAAwO,GAC/C,EAAKhrB,SAAS,CAAC2uD,YAAa3jC,EAAKujC,WAnBlB,EAuBnBrhB,mBAAqB,WAAO,IAClB1pC,EAAW,EAAKnE,MAAhBmE,OACRwU,SAAS8K,MAAT,UAAoB,EAAKA,MAAzB,cAAoCtf,EAAOuf,UAA3C,gCAtBA,EAAK1jB,MAAQ,CACXmE,OAAQ,GACRwC,SAAU,GACV2oD,YAAa,MAEf,EAAKpqB,WAAWnlC,EAAMmY,MAAMxC,QARX,E,sEA4BT,IAAD,SAC4BhV,KAAKX,MAAMmY,MAAMxC,OAA5C63B,EADD,EACCA,UAAWgP,EADZ,EACYA,YADZ,EAEmC77C,KAAKV,MAAvCmE,EAFD,EAECA,OAAQwC,EAFT,EAESA,SAAU2oD,EAFnB,EAEmBA,YAE1B,OACE,6BACE,kBAAC,GAAD,CACErd,YAAa,CACX,CAAC7mB,KAAM,YAAa5qB,KAAM,4BAC1B,CAAC4qB,KAAM,oBAAqB5qB,KAAM,4BAClC,CAAC4qB,KAAK,qBAAD,OAAuBmiB,GAAa/sC,KAAM2D,EAAOuf,WACtD,CAAC0H,KAAK,qBAAD,OAAuBmiB,EAAvB,sBAA8CgP,GAAe/7C,KAAMmG,EAAS6mD,aACjF,CAAChtD,KAAME,KAAK+iB,UAGhB,yBAAKnhB,MAAO,CAAC9D,UAAW,KACtB,kBAAC0kB,GAAA,EAAD,KACE,kBAACG,GAAA,EAAD,CACEI,MAAO/iB,KAAK+iB,MACZtT,OACE,kBAACoV,GAAA,EAAD,CACE2iB,gBAAc,OACd7lC,QAAS,WAAOiS,GAAOkE,mBAAmB,EAAKw2C,YAE/C,kBAAC,KAAD,SAIN,kBAAChrC,GAAA,EAAD,KACE,4BACEP,MAAO/iB,KAAK+iB,MACZ1hB,GAAIrB,KAAKsuD,SACTG,OAAQG,EACRF,YAAY,IACZpxD,MAAM,OACN2rB,OAAO,mB,GAnEMnE,IAAMhjB,WA8EY,0B,6jBCxE/C,IAIM+sD,G,2MACJ9rC,MAAQ,uC,EAER+c,kBAAoB,WAClB7nB,SAAS8K,MAAT,UAAoB,EAAKA,MAAzB,gC,wEAGQ,IAAD,OACCziB,EAAYN,KAAKX,MAAjBiB,QACFumB,EAAU,GAEhB,OACE,6BACE,kBAAC,GAAD,CACE0qB,YAAa,CACX,CAAC7mB,KAAM,YAAa5qB,KAAM,4BAC1B,CAAEA,KAAME,KAAK+iB,UAGjB,kBAACriB,EAAA,EAAD,CAAOD,UAAWH,EAAQmiB,MACxB,kBAAC,GAAD,CACEknB,SAAW5mC,EAAOC,IAAIiD,SAASwB,iBAC/BoiC,OAAS,SAACiD,GAAD,OACP,kBAAC7G,GAAD,CACEljB,MAAO,EAAKA,MACZwe,WAAW,EACX/Z,UAAWyiC,GACXrgC,UAAWkjB,EACXn+B,YAAa5L,EAAO4L,YACpBkY,QAASA,EACT2a,UAAU,EACVuD,YAAY,EACZ9B,WAAYrvB,GAAOqH,kBACnBye,YAAa,CAAEhK,SAAU,gB,GAjCZ5K,IAAMhjB,WA2CpB8vC,MAAgB7vC,cA/ChB,SAAA3E,GAAK,MAAK,CACvBqlB,KAAK,MAAMwzB,OA8CkBl0C,CAAmB8sD,IAAiB,0B,6jBC/CnE,IAMMC,G,2MACJ/rC,MAAQ,uC,EAER+c,kBAAoB,WAClB7nB,SAAS8K,MAAT,UAAoB,EAAKA,MAAzB,gC,wEAGQ,IAAD,OACCziB,EAAYN,KAAKX,MAAjBiB,QACFumB,EAAU,GAEhB,OACE,6BACE,kBAAC,GAAD,CACE0qB,YAAa,CACX,CAAC7mB,KAAM,YAAa5qB,KAAM,4BAC1B,CAAEA,KAAME,KAAK+iB,UAGjB,kBAACriB,EAAA,EAAD,CAAOD,UAAWH,EAAQmiB,MACxB,kBAAC,GAAD,CACEknB,SAAW5mC,EAAOC,IAAIiD,SAASyB,YAC/BmiC,OAAS,SAACiD,GAAD,OACP,kBAAC7G,GAAD,CACEljB,MAAO,EAAKA,MACZwe,WAAW,EACX/Z,UAAW0iC,GACXtgC,UAAWkjB,EACXn+B,YAAa5L,EAAO4L,YACpBkY,QAASA,EACT2a,UAAU,EACVuD,YAAY,EACZ9B,WAAYrvB,GAAOqH,kBACnBye,YAAa,CAAEhK,SAAU,gB,GAjCR5K,IAAMhjB,WA2CxB8vC,MAAgB7vC,cAjDhB,SAAA3E,GAAK,MAAK,CACvBqlB,KAAK,MACAwzB,OA+CwBl0C,CAAmB+sD,IAAqB,0B,ikBCwFxDC,G,YAhIb,WAAY1vD,GAAQ,IAAD,8BACjB,4CAAMA,KAHRirD,uBAAyB12C,GAAOoG,MAAMswC,IAEnB,EAYnB9lB,WAAa,WACX0X,KAAmBz/B,MAAK,SAAAlX,GAAO,OAAI,EAAKtF,SAAS,CAAEsF,gBAblC,EAgBnBu6B,kBAAoB,WAAO,IAAD,EACA,EAAKxgC,MAArBmb,EADgB,EAChBA,KAAMC,EADU,EACVA,MACdzC,SAAS8K,MAAT,UAAoBtI,EAApB,iBAA4BC,EAA5B,0EAlBiB,EAqBnByyB,mBAAqB,WAAO,IAAD,EACD,EAAK7tC,MAArBmb,EADiB,EACjBA,KAAMC,EADW,EACXA,MACdzC,SAAS8K,MAAT,UAAoBtI,EAApB,iBAA4BC,EAA5B,0EAvBiB,EA0BnBs0C,UAAY,WAAO,IAAD,EACQ,EAAK1vD,MAArBmb,EADQ,EACRA,KAAMC,EADE,EACFA,MACR1D,EAAOpD,GAAO4G,qBAAqBC,EAAMC,GAC/C9G,GAAO8B,SAAP,sCAA+CsB,EAAKyD,KAApD,kBAAkEzD,EAAK0D,MAAvE,MACA,EAAKza,UAAS,SAAAX,GAAK,aAAU0X,EAAV,CAAgB4yB,QAAStqC,EAAMsqC,aA9BjC,EAiCnBqlB,UAAY,WAAO,IAAD,EACQ,EAAK3vD,MAArBmb,EADQ,EACRA,KAAMC,EADE,EACFA,MACR1D,EAAOpD,GAAO+G,qBAAqBF,EAAMC,GAC/C9G,GAAO8B,SAAP,sCAA+CsB,EAAKyD,KAApD,kBAAkEzD,EAAK0D,MAAvE,MACA,EAAKza,UAAS,SAAAX,GAAK,aAAU0X,EAAV,CAAgB4yB,QAAStqC,EAAMsqC,aAlClD,EAAKtqC,MAAQ,CACXsqC,QAAQ,EACRnvB,KAAMpb,EAAMmY,MAAMxC,OAAOyF,MAAQ7G,GAAOuG,iBACxCO,MAAOrb,EAAMmY,MAAMxC,OAAO0F,OAAS9G,GAAOwG,kBAC1C7U,QAAS,IAEX,EAAKi/B,aATY,E,sEAwCT,IAAD,SACkCxkC,KAAKV,MAAtCmb,EADD,EACCA,KAAMC,EADP,EACOA,MAAOkvB,EADd,EACcA,OAAQrkC,EADtB,EACsBA,QAG7B,OAFAqO,GAAOkC,gBAAgB9V,KAAKsqD,uBAAwB,OAAQ,MAAMtmD,QAAUuB,EAG1E,6BACE,kBAAC7E,EAAA,EAAD,CAAOkB,MAAOq0C,IACZ,kBAAC,GAAD,CACErM,OAAQA,EACRD,SAAW/1B,GAAOwC,UAAUrT,EAAOC,IAAIiD,SAAS8B,iBAAkB0S,EAAMC,GACxEmvB,OAAS,SAACiD,GAAD,OACP,kBAAC7G,GAAD,CACEljB,MAAK,UAAKtI,EAAL,YAAaC,EAAb,sBACL6mB,WAAW,EACX8D,WAAW,qBACX7d,UAAW6iC,GACXzgC,UAAWkjB,EACXn+B,YAAa5L,EAAO4L,YACpB6yB,UAAU,EACVyB,WAAYrvB,GAAOqH,kBACnBye,YAAa,CAAEhK,SAAU,KACzBiM,WAAW,SACX3O,aAAc,CACZ,CACE,QAAW,eACX,KAAQ,kBAAC,KAAD,MACR,YAAe,EAAKgiC,WAEtB,CACE,QAAW,eACX,KAAQ,kBAAC,KAAD,MACR,YAAe,EAAKC,YAGxBjuB,SAAU,CACR,MAAS,iCACT,OAAU,EAAKspB,uBACf,SAAYvM,IACV,kBAAM,EAAK99C,SAAS,CAAC2pC,QAASA,OAC9B,SAACv4B,GAAD,OAAUuC,GAAOwC,UAAUrT,EAAOC,IAAIiD,SAAS+B,gBAAiBqJ,EAAKhQ,OAEvE,QAAW,SAACgQ,GACV,SAAIuC,GAAO0B,QAAQ,kCAAmCjE,EAAK69C,gBACrDt7C,GAAOmD,WAAW,IAAIE,KAAK5F,EAAKqhC,YAAa,YAA7C,UAA8Dj4B,GAA9D,OAAqEC,MAO/EymB,UAAW,CACT,OAAUopB,GACV,SAAYrM,IACV,kBAAM,EAAKj+C,SAAS,CAAC2pC,QAASA,OAC9B,SAACv4B,GAAD,OAAUuC,GAAOwC,UAAUrT,EAAOC,IAAIiD,SAASgC,mBAAoBoJ,EAAKhQ,GAAIgQ,EAAK69C,mBAEnF,QAAW,SAAC79C,GACV,SAAIuC,GAAO0B,QAAQ,mCAAoCjE,EAAK69C,gBACtDt7C,GAAOmD,WAAW,IAAIE,KAAK5F,EAAKqhC,YAAa,YAA7C,UAA8Dj4B,GAA9D,OAAqEC,MAO/E+mB,YAAa,CACX,aAAgB0c,IACd,kBAAM,EAAKl+C,SAAS,CAAC2pC,QAASA,OAC9B,SAACv4B,GAAD,OAAUuC,GAAOwC,UAAUrT,EAAOC,IAAIiD,SAASgC,mBAAoBoJ,EAAKhQ,GAAIgQ,EAAK69C,mBAEnF,QAAW,SAAC79C,GACV,SAAIuC,GAAO0B,QAAQ,mCAAoCjE,EAAK69C,gBACtDt7C,GAAOmD,WAAW,IAAIE,KAAK5F,EAAKqhC,YAAa,YAA7C,UAA8Dj4B,GAA9D,OAAqEC,iB,GAnHjEoK,IAAMhjB,W,0CC6GrBqtD,G,YA/Gb,WAAY9vD,GAAQ,IAAD,8BACjB,4CAAMA,KAJR0jB,MAAQ,mDAGW,EAFnBurC,SAAW,kBAEQ,EASnBc,kBAAoB,WAClB,EAAKnvD,SAAS,CAAEovD,aAAa,KAVZ,EAanBC,mBAAqB,WACnB,EAAKrvD,SAAS,CAAEovD,aAAa,KAdZ,EAiBnBE,oBAAsB,WAChB,EAAKC,mBACP,EAAKA,qBAnBU,EAuBnBC,iBAAmB,SAACp+C,GAClB,OlCqpBG,SAA6BA,GAClC,OAAOqK,GAAKG,UAAU9Y,EAAOC,IAAIiD,SAASiB,0BAA2BmK,GkCtpB5Dq+C,CAAoBr+C,GAAMoL,MAAK,SAACwN,GAAD,OACpC,EAAKhqB,SAAS,CAAE0vD,YAAa1lC,OAC5ByN,OAAM,SAAA/J,GAAM,OACbya,GAAMtnC,MAAM6sB,EAAOxpB,YA3BJ,EA+BnByrD,6BAA+B,SAACv+C,GAC1B8C,MAAMC,QAAQ/C,IAASA,EAAKhB,OAAS,EACvC+3B,GAAMtnC,MAAM0Q,GAASG,MAAMgB,elCgpB1B,SAAgCtB,GACrC,OAAOqK,GAAKG,UAAU9Y,EAAOC,IAAIiD,SAASkB,0BAA2BkK,GkC/oBjEw+C,CAAuBx+C,GAAMoL,MAAK,SAAAwO,GAChC,EAAKhrB,SAAS,CAAE6vD,qBAAsB7kC,EAAKujC,OAC3C,EAAKY,uBACJ13B,OAAM,SAAA/J,GAAM,OACbya,GAAMtnC,MAAM6sB,EAAOxpB,YArCvB,EAAK7E,MAAQ,CACX+vD,aAAa,EACbM,YAAa,GACbG,qBAAsB,MALP,E,sEA4CT,IAAD,SACoD9vD,KAAKV,MAAxD+vD,EADD,EACCA,YAAaM,EADd,EACcA,YAAaG,EAD3B,EAC2BA,qBAElC,OACE,6BACE,kBAAC,GAAD,CACEve,YAAa,CACX,CAAC7mB,KAAM,YAAa5qB,KAAM,4BAC1B,CAAEA,KAAME,KAAK+iB,UAGjB,kBAACriB,EAAA,EAAD,CAAOkB,MAAOq0C,IACZ,kBAAChQ,GAAD,CACEljB,MAAO/iB,KAAK+iB,MACZwe,WAAW,EACX/Z,UAAWkjC,GACX9gC,UAAW+lC,EACXhhD,YAAa5L,EAAO4L,YACpBqe,aAAc,CACZ,CACE,QAAW,iFACX,KAAQ,kBAAC,KAAD,MACR,YAAehtB,KAAKuvD,sBAGxBtiC,WAAY,CACV,CACE,QAAW,2EACX,KAAQ,kBAAC,KAAD,MACR,YAAejtB,KAAK4vD,+BAGxBl2B,YAAa,CAAChK,SAAU,MACxBuT,WAAYrvB,GAAOqH,kBACnB0gB,WAAW,cAGf,kBAAC,GAAD,CACE5Y,MAAM,iFACNvK,OAAQmyC,GACRpzB,SAAUv3B,KAAKyvD,iBACfj7B,SAAU,SAAC8N,GAAU,EAAKktB,kBAAoBltB,GAAOA,EAAI3gB,cAE3D,kBAACkW,GAAA,EAAD,CACEhW,KAAMwtC,EACNv3B,QAAS93B,KAAKsvD,mBACdS,OAAO,OACPx3B,UAAU,GAEV,kBAACN,GAAA,EAAD,uCACA,kBAACC,GAAA,EAAD,KACE,4BACEnV,MAAM,iCACN1hB,GAAIrB,KAAKsuD,SACTG,OAAQqB,EACRpB,YAAY,IACZpxD,MAAM,QACN2rB,OAAO,kB,GAzGMnE,IAAMhjB,WCmDlB8vC,M,YA9Cb,WAAYvyC,GAAQ,IAAD,8BACjB,4CAAMA,KAHR0jB,MAAQ,uCAKN,EAAKzjB,MAAQ,CACXsqC,QAAQ,GAJO,E,sEAQT,IAAD,OACCA,EAAW5pC,KAAKV,MAAhBsqC,OAER,OACE,6BACE,kBAAClpC,EAAA,EAAD,CAAOkB,MAAOq0C,IACd,kBAAC,GAAD,CACIrM,OAAQA,EACRD,SAAW5mC,EAAOC,IAAIiD,SAASiC,mBAC/B2hC,OAAS,SAACiD,GAAD,OACP,kBAAC7G,GAAD,CACEljB,MAAO,EAAKA,MACZwe,WAAW,EACX8D,WAAW,qBACX7d,UAAWojC,GACXhhC,UAAWkjB,EACXn+B,YAAa5L,EAAO4L,YACpB6yB,UAAU,EACVyB,WAAYrvB,GAAOqH,kBACnB0gB,WAAW,SACXwF,UAAW,CACT,OAAU0pB,GACV,OAAUC,GACV,SAAY5M,IACV,kBAAM,EAAKj+C,SAAS,CAAC2pC,QAASA,OAC9B,SAACv4B,GAAD,OAAUuC,GAAOwC,UAAUrT,EAAOC,IAAIiD,SAASkC,qBAAsBkJ,EAAKhQ,OAE5E,QAAWuS,GAAO0B,QAAQ,wC,GAtCbwP,IAAMhjB,WAiDY,4BC1DpCkuD,GAA2B,CACtC,CACE,KAAQ,OACR,KAAQ,SACR,MAAS,2BACT,KAAQ,yBAEV,CACE,KAAQ,eACR,KAAQ,UACR,MAAS,gBAEX,CACE,KAAQ,UACR,KAAQ,SACR,MAAS,iEAIAC,GAA2B,CACtC,CACE,KAAQ,OACR,KAAQ,SACR,MAAS,iCACT,WAAc,EACd,UAAa,qIAEf,CACE,KAAQ,OACR,KAAQ,SACR,MAAS,2BACT,UAAY,EACZ,WAAc,IAEhB,CACE,KAAQ,cACR,KAAQ,OACR,MAAS,eACT,WAAc,KAEhB,CACE,KAAQ,WACR,KAAQ,SACR,MAAS,2BACT,QAAW,CACT,CAAC,MAAS,KAAM,aAAgB,sBAChC,CAAC,MAAS,KAAM,aAAgB,gBAChC,CAAC,MAAS,KAAM,aAAgB,WAElC,UAAY,GAEd,CACE,KAAQ,SACR,KAAQ,SACR,MAAS,qBACT,QAAW,IAEb,CACE,KAAQ,cACR,KAAQ,UACR,MAAS,2BACT,UAAa,yRAIJC,GAA6B,CACxC,CACE,KAAQ,OACR,KAAQ,SACR,MAAS,kCAEX,CACE,KAAQ,OACR,KAAQ,SACR,MAAS,4BAEX,CACE,KAAQ,cACR,KAAQ,OACR,MAAS,gBAEX,CACE,KAAQ,WACR,KAAQ,SACR,MAAS,2BACT,QAAW,CACT,CAAC,MAAS,KAAM,aAAgB,sBAChC,CAAC,MAAS,KAAM,aAAgB,gBAChC,CAAC,MAAS,KAAM,aAAgB,YAGpC,CACE,KAAQ,cACR,KAAQ,SACR,MAAS,sBAEX,CACE,KAAQ,cACR,KAAQ,UACR,MAAS,6BAIAC,GAAyB,CACpC,CACE,KAAQ,YACR,KAAQ,SACR,MAAS,eACT,UAAY,GAEd,CACE,KAAQ,WACR,KAAQ,SACR,MAAS,eACT,UAAY,GAEd,CACE,KAAQ,aACR,KAAQ,OACR,MAAS,qBACT,UAAY,GAEd,CACE,KAAQ,WACR,KAAQ,OACR,MAAS,qBACT,UAAY,GAEd,CACE,KAAQ,YACR,KAAQ,UACR,MAAS,qBACT,SAAW,EACX,YAAc,EACd,UAAa,CACXC,EAAG,CAAC,gBAAmB,cAEzB,QAAW,SACX,QAAU,GAEZ,CACE,KAAQ,uBACR,KAAQ,SACR,MAAS,2BACT,KAAQ,6CACR,YAAc,EACd,UAAY,GAEd,CACE,KAAQ,cACR,KAAQ,SACR,MAAS,2BACT,QAAW9xC,GACX,YAAc,EACd,UAAY,EACZ,QAAU,IAID+xC,GAA2B,CACtC,CACE,KAAQ,WACR,KAAQ,SACR,MAAS,eACT,QpHtEwC,CAC1C,CAAE,MAAS,KAAM,aAAgB,kCACjC,CAAE,MAAS,KAAM,aAAgB,sBACjC,CAAE,MAAS,KAAM,aAAgB,4BACjC,CAAE,MAAS,KAAM,aAAgB,kCACjC,CAAE,MAAS,KAAM,aAAgB,gBACjC,CAAE,MAAS,KAAM,aAAgB,4BACjC,CAAE,MAAS,KAAM,aAAgB,gBACjC,CAAE,MAAS,KAAM,aAAgB,6BoH+D/B,UAAY,GAEd,CACE,KAAQ,SACR,KAAQ,SACR,MAAS,eACT,QAAW,GACX,UAAY,EACZ,QAAW,gBAEb,CACE,KAAQ,eACR,KAAQ,UACR,MAAS,gBAEX,CACE,KAAQ,aACR,KAAQ,OACR,MAAS,qBACT,UAAY,GAEd,CACE,KAAQ,WACR,KAAQ,OACR,MAAS,qBACT,UAAY,EACZ,QAAW,eAIFC,GAAkC,CAC7C,CACE,KAAQ,gBACR,KAAQ,SACR,MAAS,qBACT,UAAY,GAEd,CACE,KAAQ,kBACR,KAAQ,SACR,MAAS,eACT,UAAY,GAEd,CACE,KAAQ,eACR,KAAQ,SACR,MAAS,SACT,UAAY,GAEd,CACE,KAAQ,eACR,KAAQ,SACR,MAAS,2BACT,UAAY,GAEd,CACE,KAAQ,OACR,KAAQ,UACR,MAAS,mCACT,UAAY,EACZ,UAAa,OAEf,CACE,KAAQ,kBACR,KAAQ,UACR,MAAS,6BACT,UAAY,EACZ,UAAa,OAEf,CACE,KAAQ,iBACR,KAAQ,UACR,MAAS,2BACT,UAAY,EACZ,UAAa,OAEf,CACE,KAAQ,SACR,KAAQ,UACR,MAAS,yCACT,UAAY,EACZ,UAAa,OAEf,CACE,KAAQ,SACR,KAAQ,UACR,MAAS,eACT,UAAY,EACZ,UAAa,OAEf,CACE,KAAQ,cACR,KAAQ,UACR,MAAS,eACT,UAAY,EACZ,eAAkB,EAClB,UAAa,qBAAEC,OAAF,EAAU7vC,UAId8vC,GAA+B,CAC1C,CACE,KAAQ,YACR,KAAQ,SACR,MAAS,gBAEX,CACE,KAAQ,gBACR,KAAQ,SACR,MAAS,4BAEX,CACE,KAAQ,eACR,KAAQ,UACR,MAAS,gBAEX,CACE,KAAQ,aACR,KAAQ,OACR,MAAS,sBAEX,CACE,KAAQ,WACR,KAAQ,OACR,MAAS,uBAIAC,GAAiC,CAC5C,CACE,KAAQ,OACR,KAAQ,SACR,MAAS,gBAEX,CACE,KAAQ,YACR,KAAQ,SACR,MAAS,gBAEX,CACE,KAAQ,oBACR,KAAQ,SACR,MAAS,gBAEX,CACE,KAAQ,eACR,KAAQ,SACR,MAAS,2BACT,UAAa,KAEf,CACE,KAAQ,gBACR,KAAQ,SACR,MAAS,2BACT,QAAWlyC,GACX,UAAa,IAEf,CACE,KAAQ,eACR,KAAQ,SACR,MAAS,2BACT,UAAa,IACb,KAAQ,oCAEV,CACE,KAAQ,kBACR,KAAQ,SACR,MAAS,sBAEX,CACE,KAAQ,cACR,KAAQ,SACR,MAAS,2BACT,UAAa,KAEf,CACE,KAAQ,cACR,KAAQ,UACR,MAAS,4BAEX,CACE,KAAQ,iBACR,KAAQ,UACR,MAAS,8BAEX,CACE,KAAQ,cACR,KAAQ,UACR,MAAS,4BAEX,CACE,KAAQ,aACR,KAAQ,UACR,MAAS,4BAEX,CACE,KAAQ,aACR,KAAQ,UACR,MAAS,4BAEX,CACE,KAAQ,eACR,KAAQ,UACR,MAAS,qBACT,SAAW,EACX,UAAa,CACXwjC,EAAG,CAAC,gBAAmB,gBAKhB2O,GAAgC,CAC3C,CACE,KAAQ,kBACR,KAAQ,OACR,MAAS,6CACT,MAAS3tD,EAAO8L,gB,6jBCvXpB,IAMM8hD,G,2MACJ5tC,MAAQ,2B,EAER+c,kBAAoB,WAClB7nB,SAAS8K,MAAQ,EAAKA,O,wEAGd,IAAD,OACCziB,EAAYN,KAAKX,MAAjBiB,QAER,OACE,kBAACI,EAAA,EAAD,CAAOD,UAAWH,EAAQzC,OACxB,kBAAC,GAAD,CACE8rC,SAAW5mC,EAAOC,IAAIsC,aAAaxB,YACnC+lC,OAAS,SAACiD,GAAD,OACP,kBAAC9I,GAAD,CACEjhB,MAAO,EAAKA,MACZyE,UAAWwoC,GACXpmC,UAAWkjB,EAASv0B,QACpB5J,YAAa5L,EAAO4L,YACpBs0B,WAAYrvB,GAAOqH,kBACnBumB,UAAU,EACV0B,YAAY,YACZlW,aAAc,CACZ,CACE,QAAW,2BACX,KAAQ,kBAAC,KAAD,CAASruB,MAAM,cACvB,YAAe,kBAAOiV,GAAO8B,SAAS,uBACtC,QAAW9B,GAAO0B,QAAQ,0BAG9B2X,WAAY,CACV,CACE,QAAW,2BACX,KAAQ,kBAAC,KAAD,CAAUtuB,MAAM,YACxB,YAAe,SAACurB,GAAD,OAAUtW,GAAO8B,SAAP,wBAAiCwU,EAAI7oB,GAArC,YACzB,QAAWuS,GAAO0B,QAAQ,6BAG9BokB,YAAa,CAAEhK,SAAU,e,GAvCR5K,IAAMhjB,WAgDtB8vC,MAAgB7vC,KAtDhB,SAAC3E,GAAD,MAAY,CACzBS,MAAM,MACDo4C,OAoDwBl0C,CAAmB4uD,IAAmB,yBClD/DC,G,YAEJ,WAAYvxD,GAAQ,IAAD,8BACjB,4CAAMA,KASRmlC,WAAa,SAACxvB,GACZylC,KAAyBh+B,MAAK,SAAApY,GAC5B,EAAKpE,SAAS,CAACoE,qBAEb2Q,EAAOkmC,QACTD,GAAgBjmC,EAAOkmC,QAAQz+B,MAAK,SAAAnX,GAClC,EAAKrF,SAAS,CAACqF,qBAbnB,EAAKhG,MAAQ,CACXgG,aAAc,KACdjB,cAAe,IAEjB,EAAKmgC,WAAWnlC,EAAMmY,MAAMxC,QAPX,E,sEAqBT,IAAD,EACoBhV,KAAKX,MAAxBiB,EADD,EACCA,QAASkX,EADV,EACUA,MADV,EAEiCxX,KAAKV,MAArC+E,EAFD,EAECA,cAAeiB,EAFhB,EAEgBA,aACjByd,EAAQzd,EAAe,2BAAS,2BAChC4iC,EAAa5iC,EAAe,MAAQ,OAM1C,OAHasO,GAAOkC,gBAAgBm6C,GAA0B,OAAQ,UAChE,QAAc5rD,EAGlB,6BACE,kBAAC,GAAD,CACEktC,YAAa,CACX,CAAE7mB,KAAM,gBAAiB5qB,KAAM,4BAC/B,CAAEA,KAAMijB,MAGZ,yBAAKtiB,UAAWH,EAAQzC,OACtB,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAUs2B,GAAI,GAAIC,GAAI,GAAIC,GAAI,EAAGmqB,GAAI,GACnC,kBAAC,GAAD,CACEz7B,MAAOA,EACPvK,OAAQy3C,GACR5+C,KAAM/L,EACN4iC,WAAYA,EACZC,aACE7iC,EACIsO,GAAOwC,UAAUrT,EAAOC,IAAIsC,aAAanB,OAAQqT,EAAMxC,OAAOkmC,QAC9Dn4C,EAAOC,IAAIsC,aAAa1B,IAE9B6zB,aAAc,SAACpmB,GAAD,OAAUuC,GAAO8B,SAAP,wBAAiCrE,EAAKhQ,GAAtC,OACxBinC,eACEhjC,GAAgBsO,GAAO0B,QAAQ,2BAC3B1B,GAAOwC,UAAUrT,EAAOC,IAAIsC,aAAanB,OAAQqT,EAAMxC,OAAOkmC,QAC9D,KAEN3S,eAAgB,kBAAM30B,GAAO8B,SAAS,4B,GA5DvBoP,IAAMhjB,WAsEtBC,QA5EA,SAAC3E,GAAD,MAAY,CACzBS,MAAO,CACLC,UAAWV,EAAMK,QAAQ,OA0EdsE,CAAmB6uD,I,+kBCnClC,IAmBMC,G,YAIJ,WAAYxxD,GAAQ,IAAD,8BACjB,4CAAMA,KAJR4wD,yBAA2Br8C,GAAOoG,MAAMi2C,IAGrB,EAFnBI,yBAA2Bz8C,GAAOoG,MAAMq2C,IAErB,EAsBnB7rB,WAAa,SAACnlC,GAAW,IACf67C,EAAW77C,EAAMmY,MAAMxC,OAAvBkmC,OACRT,KAAyBh+B,MAAK,SAAApY,GAC5B,EAAKpE,SAAS,CAACoE,qBAEjB63C,KAAmBz/B,MAAK,SAAAlX,GAAO,OAAI,EAAKtF,SAAS,CAACsF,eAClD,EAAKurD,uBAAuB5V,IA5BX,EA+BnB4V,uBAAyB,SAAC5V,GACxBD,GAAgBC,GAAQz+B,MAAK,SAAAnX,GAC3B,EAAKrF,SAAS,CACZqF,eACAyrD,MAAOzrD,EAAayrD,MACpBC,WAAY1rD,EAAa0rD,gBvCV1B,SAA0C9V,GAC/C,OAAOx/B,GAAKE,SAAShI,GAAOwC,UAAUrT,EAAOC,IAAIsC,aAAaE,cAAe01C,IAASz+B,MAAK,SAAApL,GACzF,IAAMupC,EAAY,GAIlB,OAHAvpC,EAAKkH,QAAQwH,KAAI,SAAAmK,GAAG,OAClB0wB,EAAU7qC,KAAK,CAAC0P,MAAOyK,EAAIwoB,WAAYx1B,KAAK,GAAD,OAAKgN,EAAIlH,UAAT,mBAAwBkH,EAAI+mC,cAA5B,4BAEtCrW,KuCOPsW,CAAiChW,GAAQz+B,MAAK,SAAA00C,GAC5C,EAAKlxD,SAAS,CAAEkxD,2BAxCD,EA4CnBhkB,mBAAqB,WAAO,IAClB7nC,EAAiB,EAAKhG,MAAtBgG,aACR2S,SAAS8K,MAAT,4BAAuBzd,EAAaxF,OA9CnB,EAiDnBsxD,qBAAuB,WACrB,EAAKnxD,UAAS,SAACX,GACb,MAAO,CAAE+xD,cAAe/xD,EAAM+xD,kBAnDf,EAuDnBC,yBAA2B,WAAO,IAAD,EAC2B,EAAKhyD,MAAvDiyD,EADuB,EACvBA,sBAAuBC,EADA,EACAA,uBACzBx6C,EAAOpD,GAAO4G,qBAAqB+2C,EAAuBC,GAChE,EAAKvxD,UAAS,SAAAX,GAAK,MAAK,CACtBiyD,sBAAuBv6C,EAAKyD,KAC5B+2C,uBAAwBx6C,EAAK0D,MAC7B+2C,yBAA0BnyD,EAAMmyD,6BA7DjB,EAiEnBC,yBAA2B,WAAO,IAAD,EAC2B,EAAKpyD,MAAvDiyD,EADuB,EACvBA,sBAAuBC,EADA,EACAA,uBACzBx6C,EAAOpD,GAAO+G,qBAAqB42C,EAAuBC,GAChE,EAAKvxD,UAAS,SAAAX,GAAK,MAAK,CACtBiyD,sBAAuBv6C,EAAKyD,KAC5B+2C,uBAAwBx6C,EAAK0D,MAC7B+2C,yBAA0BnyD,EAAMmyD,6BApElC,EAAKnyD,MAAQ,CACXgG,aAAc,GACdjB,cAAe,GACfkB,QAAS,GACTwrD,MAAO,GACPC,WAAY,GACZG,mBAAoB,GACpBE,cAAc,EACdE,sBAAuB39C,GAAO0G,mBAAmBG,KACjD+2C,uBAAwB59C,GAAO0G,mBAAmBI,MAClD+2C,yBAAyB,GAE3B,EAAKjtB,WAAWnlC,GAChB,EAAKgoD,WAAazzC,GAAOwC,UACvBrT,EAAOC,IAAIsC,aAAanB,OACxB9E,EAAMmY,MAAMxC,OAAOkmC,QAlBJ,E,sEA2ET,IAAD,OACCA,EAAWl7C,KAAKX,MAAMmY,MAAMxC,OAA5BkmC,OACA56C,EAAYN,KAAKX,MAAjBiB,QAFD,EAMHN,KAAKV,MAFPgG,EAJK,EAILA,aAAcjB,EAJT,EAISA,cAAekB,EAJxB,EAIwBA,QAASwrD,EAJjC,EAIiCA,MAAOC,EAJxC,EAIwCA,WAAYG,EAJpD,EAIoDA,mBAAoBE,EAJxE,EAIwEA,aAC7EE,EALK,EAKLA,sBAAuBC,EALlB,EAKkBA,uBAAwBC,EAL1C,EAK0CA,wBAKjD,OAHA79C,GAAOkC,gBAAgB9V,KAAKiwD,yBAA0B,OAAQ,UAA9D,QAAqF5rD,EACrFuP,GAAOkC,gBAAgB9V,KAAKqwD,yBAA0B,OAAQ,UAA9D,QAAqF9qD,EAGnF,6BACE,kBAAC,GAAD,CACEgsC,YAAa,CACX,CAAE7mB,KAAM,gBAAiB5qB,KAAM,4BAC/B,CAAEA,KAAMwF,EAAaxF,SAGzB,yBAAK8B,MAAO,CAAC9D,UAAW,KACtB,kBAAC,GAAD,CAAeL,QAAS,GACtB,kBAAC,GAAD,CAAU02B,GAAI,GAAIC,GAAI,GAAIC,GAAI,EAAGmqB,GAAI,GACnC,kBAAC1W,GAAD,CACEz2B,KAAM/L,EACNkT,OAAQ03C,GACR/uB,UAAW,CACTpe,MAAO,2BACPvK,OAAQxY,KAAKiwD,yBACbvoB,WAAYwW,IACV,SAAC54C,GAAD,OAAkB,EAAKrF,SAAS,CAACqF,mBACjCtF,KAAKqnD,YAEPr9B,QAASpW,GAAO0B,QAAQ,4BAE1BmsB,YAAa,CACXc,aAAc4b,IACZ,kBAAMvqC,GAAO8B,SAAS,mBACtB1V,KAAKqnD,YAEPr9B,QAASpW,GAAO0B,QAAQ,4BAE1B+kB,QAAS,CACP,kBAAC2X,GAAD,CAAS39B,IAAK,EAAGy9B,WAAW,sBAC1B,kBAACpwC,EAAA,EAAD,CACEb,QAAQ,YACRlC,MAAM,UACNgD,QAAS,kBAAMiS,GAAO8B,SAAP,wBAAiCwlC,EAAjC,aAAoD,oBAHrE,yCAQF,kBAAClJ,GAAD,CAAS39B,IAAK,EAAGy9B,WAAW,yBAC1B,kBAACpwC,EAAA,EAAD,CACEb,QAAQ,YACRlC,MAAM,UACNgD,QAAS,kBAAMiS,GAAO8B,SAAP,wBAAiCwlC,EAAjC,kBAHjB,6BAQF,kBAAClJ,GAAD,CAAS39B,IAAK,EAAGy9B,WAAW,8BAC1B,kBAACpwC,EAAA,EAAD,CACEb,QAAQ,YACRlC,MAAM,UACNgD,QAAS,kBAAMiS,GAAO8B,SAAP,wBAAiCwlC,EAAjC,wBAAuDtnC,GAAO0G,mBAAmBG,KAAjF,YAAyF7G,GAAO0G,mBAAmBI,UAHpI,iCAWR,kBAAC,GAAD,CAAUyZ,GAAI,GAAIC,GAAI,GAAIC,GAAI,EAAGmqB,GAAI,GACnC,kBAACh8B,GAAA,EAAD,CAAM5gB,MAAO,CAAC9D,UAAW,KACvB,kBAAC6kB,GAAA,EAAD,CACEzkB,OACE,kBAACyC,EAAA,EAAD,CAAQF,UAAWH,EAAQpC,QACxBoH,EAAaxF,KAAOwF,EAAaxF,KAAK6X,UAAU,EAAG,GAAK,IAG7DoL,MAAOzd,EAAaxF,OAEtB,kBAACwjB,GAAA,EAAD,KACE,kBAAC1iB,EAAA,EAAD,CAAYurC,cAAY,GACrB7mC,IAAiBsO,GAAOK,QAAQ88C,GAAhC,UACIA,EAAME,cADV,aAC4BF,EAAM/tC,WAC/B,wFAEN,kBAACpiB,EAAA,EAAD,CAAYurC,cAAY,GACrB7mC,IAAiBsO,GAAOK,QAAQ+8C,GAAhC,UACIA,EAAWC,cADf,aACiCD,EAAWhuC,WACzC,OAGR,kBAACwB,GAAA,EAAD,CAAaC,gBAAc,GACzB,kBAACutB,GAAD,CAASF,WAAW,wBAClB,kBAACntB,GAAA,EAAD,CAAS5B,MAAM,4BACb,kBAAC8B,GAAA,EAAD,CACElmB,MAAM,YACNikB,aAAW,MACXjhB,QAAS,WACH,EAAKgwD,sBACP,EAAKA,qBAAqB,CAAErsD,aAAc41C,EAAQrI,SAAU,gBAGhEhxC,GAAG,yBAEH,kBAAC,KAAD,SAIH+R,GAAOK,QAAQk9C,GAWd,KAVF,kBAACtsC,GAAA,EAAD,CACEpkB,UAAWmxD,aAAKtxD,EAAQuxD,OAAT,eACZvxD,EAAQwxD,WAAaT,IAExB1vD,QAAS3B,KAAKoxD,qBACdW,gBAAeV,EACfzuC,aAAW,aAEX,kBAAC,KAAD,QAIHhP,GAAOK,QAAQk9C,GAMd,KALF,kBAACjtC,GAAA,EAAD,CAAUC,GAAIktC,EAAcnyD,QAAQ,OAAOklB,eAAa,GACtD,kBAACd,GAAA,EAAD,KACE,kBAAC,GAAD,CAAUpT,MAAOihD,EAAoBhf,UAAU,SAO3D,kBAACzxC,EAAA,EAAD,CAAOD,UAAWH,EAAQmiB,MACxB,kBAAC,GAAD,CACEmnB,OAAQ6nB,EACR9nB,SAAU/1B,GAAOwC,UACfrT,EAAOC,IAAIsC,aAAaO,8BACxBq1C,EAAQqW,EAAuBC,GAEjC3nB,OAAS,SAACiD,GAAD,OACP,kBAAC7G,GAAD,CACEljB,MAAK,UAAKwuC,EAAL,iBAA8BC,EAA9B,0DACLjwB,WAAW,EACX/Z,UAAW8oC,GACX1mC,UAAWkjB,EACXn+B,YAAa5L,EAAO4L,YACpB6yB,UAAU,EACVyB,WAAYrvB,GAAOqH,kBACnB0qB,eAAe,EACf3Y,aAAc,CACZ,CACE,QAAW,eACX,KAAQ,kBAAC,KAAD,MACR,YAAe,EAAKskC,0BAEtB,CACE,QAAW,eACX,KAAQ,kBAAC,KAAD,MACR,YAAe,EAAKI,kCAQlC,kBAAC,GAAD,CACE3uC,MAAM,2BACNvK,OAAQxY,KAAKqwD,yBACb94B,SAAUwmB,IACR,kBAAM,EAAK+S,uBAAuB5V,KAClCn4C,EAAOC,IAAIsC,aAAaG,aACxBy1C,GAEF1mB,SAAU,SAAC8N,GAAU,EAAKqvB,qBAAuBrvB,GAAOA,EAAI3gB,mB,GA9PrCmD,IAAMhjB,WAqQxB8vC,MACbnD,uBAAa1sC,cAzRA,SAAA3E,GAAK,MAAK,CACvBc,OAAQ,CACNE,gBAAiB4zD,KAAK,MAExBH,OAAQ,CACNxe,UAAW,eACX71C,WAAY,OACZ0kB,WAAY9kB,EAAMi7C,YAAYC,OAAO,YAAa,CAChDG,SAAUr7C,EAAMi7C,YAAYI,SAASwZ,YAGzCH,WAAY,CACVze,UAAW,kBAEb5wB,KAAK,MACAwzB,OA0QQl0C,CAAmB8uD,KAAsB,yBCnQzCqB,G,YA1Db,WAAY7yD,GAAQ,IAAD,8BACjB,4CAAMA,KAHR0jB,MAAQ,uCAEW,EASnByhB,WAAa,SAACnlC,GAEZ47C,GADmB57C,EAAMmY,MAAMxC,OAAvBkmC,QACgBz+B,MAAK,SAAAnX,GAC3B,EAAKrF,SAAS,CAACqF,qBAZA,EAgBnB6nC,mBAAqB,WAAO,IAClB7nC,EAAiB,EAAKhG,MAAtBgG,aACR2S,SAAS8K,MAAT,UAAoB,EAAKA,MAAzB,gCAAuCzd,EAAaxF,OAfpD,EAAKR,MAAQ,CACXgG,aAAc,IAEhB,EAAKk/B,WAAWnlC,GANC,E,sEAqBT,IACA67C,EAAWl7C,KAAKX,MAAMmY,MAAMxC,OAA5BkmC,OACA51C,EAAiBtF,KAAKV,MAAtBgG,aAER,OACE,6BACE,kBAAC,GAAD,CACEisC,YAAa,CACX,CAAE7mB,KAAM,gBAAiB5qB,KAAM,4BAC/B,CAAE4qB,KAAK,iBAAD,OAAmBwwB,GAAUp7C,KAAMwF,EAAaxF,MACtD,CAAEA,KAAME,KAAK+iB,UAGjB,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAYpkB,MAAM,QAAQqB,KAAK+iB,OAC/B,kBAAC,GAAD,KACE,kBAAC,GAAD,CACE4mB,SAAU/1B,GAAOwC,UAAUrT,EAAOC,IAAIsC,aAAaC,QAAS21C,GAC5DrR,OAAS,SAACiD,GAAD,OACP,kBAAC7G,GAAD,CACEljB,MAAM,2BACNsiB,WAAW,cACX7d,UAAW2oC,GACXvmC,UAAWkjB,EAASv0B,QACpB5J,YAAa5L,EAAO4L,YACpB6yB,UAAU,EACVyB,WAAYrvB,GAAOqH,8B,GAlDT6J,IAAMhjB,W,6jBCSlC,IAMMqwD,G,YAGJ,WAAY9yD,GAAQ,IAAD,8BACjB,4CAAMA,KAHRgxD,yBAA2Bz8C,GAAOoG,MAAMq2C,IAErB,EAWnB7rB,WAAa,SAACnlC,GAEZ47C,GADmB57C,EAAMmY,MAAMxC,OAAvBkmC,QACgBz+B,MAAK,SAAAnX,GAC3B,EAAKrF,SAAS,CAACqF,oBAEjB42C,KAAmBz/B,MAAK,SAAAlX,GAAO,OAAI,EAAKtF,SAAS,CAACsF,gBAhBjC,EAmBnB4nC,mBAAqB,WAAO,IAClB7nC,EAAiB,EAAKhG,MAAtBgG,aACR2S,SAAS8K,MAAT,UAAoBzd,EAAaxF,KAAjC,oCAlBA,EAAKR,MAAQ,CACXgG,aAAc,GACdC,QAAS,GACTqkC,QAAQ,GAEV,EAAKpF,WAAWnlC,GARC,E,sEAwBT,IAAD,OACC67C,EAAWl7C,KAAKX,MAAMmY,MAAMxC,OAA5BkmC,OACA56C,EAAYN,KAAKX,MAAjBiB,QAFD,EAGmCN,KAAKV,MAAvCgG,EAHD,EAGCA,aAAcskC,EAHf,EAGeA,OAAQrkC,EAHvB,EAGuBA,QAG9B,OAFAqO,GAAOkC,gBAAgB9V,KAAKqwD,yBAA0B,OAAQ,UAA9D,QAAqF9qD,EAGnF,6BACE,kBAAC,GAAD,CACEgsC,YAAa,CACX,CAAE7mB,KAAM,gBAAiB5qB,KAAM,4BAC/B,CAAE4qB,KAAK,iBAAD,OAAmBwwB,GAAUp7C,KAAMwF,EAAaxF,MACtD,CAAEA,KAAM,+BAGZ,kBAACY,EAAA,EAAD,CAAOD,UAAWH,EAAQzC,OACxB,kBAAC,GAAD,CACE+rC,OAAQA,EACRD,SAAU/1B,GAAOwC,UAAUrT,EAAOC,IAAIsC,aAAaE,cAAe01C,GAClErR,OAAS,SAACiD,GAAD,OACP,kBAAC7G,GAAD,CACEljB,MAAK,UAAKzd,EAAaxF,KAAlB,mCACLyhC,WAAW,EACX/Z,UAAWgpC,GACX5mC,UAAWkjB,EAASv0B,QACpB5J,YAAa5L,EAAO4L,YACpB6yB,UAAU,EACVyB,WAAYrvB,GAAOqH,kBACnB0gB,WAAW,SACXqF,SAAU,CACRje,MAAO,2BACPvK,OAAQ,EAAK63C,yBACb94B,SAAUwmB,IACR,kBAAM,EAAK99C,SAAS,CAAC2pC,QAASA,MAC9Bh2B,GAAOwC,UAAUrT,EAAOC,IAAIsC,aAAaG,aAAcy1C,IAEzDlxB,QAASpW,GAAO0B,QAAQ,wBACxBjE,KAAM,CACJ/L,aAAc41C,EACdrI,SAAU,eAGd1R,UAAW,CACTpe,MAAO,2BACPvK,OAAQ,EAAK63C,yBACb94B,SAAU2mB,IACR,kBAAM,EAAKj+C,SAAS,CAAC2pC,QAASA,MAC9B7mC,EAAOC,IAAIsC,aAAaI,gBACxBw1C,GAEFlxB,QAASpW,GAAO0B,QAAQ,4BAE1BmsB,YAAa,CACXc,aAAc4b,IACZ,kBAAM,EAAKl+C,SAAS,CAAC2pC,QAASA,MAC9B7mC,EAAOC,IAAIsC,aAAaI,gBACxBw1C,GAEFlxB,QAASpW,GAAO0B,QAAQ,uC,GArFZwP,IAAMhjB,WAgGrB8vC,MAAgB7vC,cAtGhB,SAAC3E,GAAD,MAAY,CACzBS,MAAM,MACDo4C,OAoGwBl0C,CAAmBowD,IAAkB,yB,6jBCpGpE,IAMMC,G,YAEJ,WAAY/yD,GAAQ,IAAD,8BACjB,4CAAMA,KAWRmlC,WAAa,SAACnlC,GAEZ47C,GADmB57C,EAAMmY,MAAMxC,OAAvBkmC,QACgBz+B,MAAK,SAAAnX,GAC3B,EAAKrF,SAAS,CAACqF,qBAfA,EAmBnB6nC,mBAAqB,WAAO,IAAD,EACa,EAAK7tC,MAAnCgG,EADiB,EACjBA,aAAcmV,EADG,EACHA,KAAMC,EADH,EACGA,MAC5BzC,SAAS8K,MAAT,UAAoBtI,EAApB,iBAA4BC,EAA5B,gCAA0CpV,EAAaxF,OArBtC,EAwBnBuyD,qBAAuB,WAAO,IACpBnX,EAAW,EAAK77C,MAAMmY,MAAMxC,OAA5BkmC,OADmB,EAEH,EAAK57C,MAArBmb,EAFmB,EAEnBA,KAAMC,EAFa,EAEbA,MACR1D,EAAOpD,GAAO4G,qBAAqBC,EAAMC,GAC/C9G,GAAO8B,SAAP,wBAAiCwlC,EAAjC,wBAAuDlkC,EAAKyD,KAA5D,YAAoEzD,EAAK0D,MAAzE,MACA,EAAKza,UAAS,SAAAX,GAAK,MAAK,CACtBmb,KAAMzD,EAAKyD,KACXC,MAAO1D,EAAK0D,MACZkvB,QAAStqC,EAAMsqC,YAhCA,EAoCnB0oB,qBAAuB,WAAO,IACpBpX,EAAW,EAAK77C,MAAMmY,MAAMxC,OAA5BkmC,OADmB,EAEH,EAAK57C,MAArBmb,EAFmB,EAEnBA,KAAMC,EAFa,EAEbA,MACR1D,EAAOpD,GAAO+G,qBAAqBF,EAAMC,GAC/C9G,GAAO8B,SAAP,wBAAiCwlC,EAAjC,wBAAuDlkC,EAAKyD,KAA5D,YAAoEzD,EAAK0D,MAAzE,MACA,EAAKza,UAAS,SAAAX,GAAK,MAAK,CACtBmb,KAAMzD,EAAKyD,KACXC,MAAO1D,EAAK0D,MACZkvB,QAAStqC,EAAMsqC,YA5CA,EAgDnB2oB,sBAAwB,WAAO,IACrBrX,EAAW,EAAK77C,MAAMmY,MAAMxC,OAA5BkmC,OADoB,EAEJ,EAAK57C,MAC7B,O1CugBG,SAAqC47C,EAAQzgC,EAAMC,GACxD,OAAOgB,GAAKE,SAAShI,GAAOwC,UAAUrT,EAAOC,IAAIsC,aAAaS,wBAAyBm1C,EAAQzgC,EAAMC,I0CxgB5F83C,CAA4BtX,EAHP,EAEpBzgC,KAFoB,EAEdC,OAC0C+B,MAAK,SAAAwO,GAC3D,IAAM9R,EAAOvF,GAAOgF,OAAOqS,EAAK9R,MAChCvF,GAAOyF,aAAaF,EAAM8R,EAAKnrB,SAC9B43B,OAAM,SAAA/J,GACPya,GAAMtnC,MAAM6sB,EAAOxpB,YAvDJ,EA2DnBsuD,0BAA4B,WACtB,EAAKjD,mBACP,EAAKA,qBA1DP,EAAKlwD,MAAQ,CACXgG,aAAc,GACdskC,QAAQ,EACRnvB,KAAMpb,EAAMmY,MAAMxC,OAAOyF,KACzBC,MAAOrb,EAAMmY,MAAMxC,OAAO0F,OAE5B,EAAK8pB,WAAWnlC,GATC,E,sEAiET,IAAD,OACC67C,EAAWl7C,KAAKX,MAAMmY,MAAMxC,OAA5BkmC,OACA56C,EAAYN,KAAKX,MAAjBiB,QAFD,EAGuCN,KAAKV,MAA3CgG,EAHD,EAGCA,aAAcmV,EAHf,EAGeA,KAAMC,EAHrB,EAGqBA,MAAOkvB,EAH5B,EAG4BA,OAEnC,OACE,6BACE,kBAAC,GAAD,CACE2H,YAAa,CACX,CAAE7mB,KAAM,gBAAiB5qB,KAAM,4BAC/B,CAAE4qB,KAAK,iBAAD,OAAmBwwB,GAAUp7C,KAAMwF,EAAaxF,MACtD,CAAEA,KAAK,GAAD,OAAK2a,EAAL,iBAAaC,EAAb,sCAGV,kBAACha,EAAA,EAAD,CAAOD,UAAWH,EAAQzC,OACxB,kBAAC,GAAD,CACE+rC,OAAQA,EACRD,SAAU/1B,GAAOwC,UAAUrT,EAAOC,IAAIsC,aAAaQ,oBAAqBo1C,EAAQzgC,EAAMC,GACtFmvB,OAAS,SAACiD,GAAD,OACP,kBAAC7G,GAAD,CACEljB,MAAK,UAAKtI,EAAL,iBAAaC,EAAb,kCACL6mB,WAAW,EACX/Z,UAAWipC,GACX7mC,UAAWkjB,EACXn+B,YAAa5L,EAAO4L,YACpB6yB,UAAU,EACVyB,WAAYrvB,GAAOqH,kBACnBgkB,WAAY,CAACrqB,KAAM,QAAShT,MAAO,CAAChD,SAAU,KAC9CouB,aAAc,CACZ,CACE,QAAW,eACX,KAAQ,kBAAC,KAAD,MACR,YAAe,EAAKqlC,sBAEtB,CACE,QAAW,eACX,KAAQ,kBAAC,KAAD,MACR,YAAe,EAAKC,sBAEtB,CACE,QAAW,qEACX,KAAQ,kBAAC,KAAD,MACR,YAAe,EAAKC,sBACpB,aAAe,GAEjB,CACE,QAAW,qEACX,KAAQ,kBAAC,KAAD,MACR,YAAe,EAAKE,kCAOhC,kBAAC,GAAD,CACE1vC,MAAM,qEACNvK,OAAQk4C,GACRn5B,SAAUwmB,IACR,kBAAM,EAAK99C,UAAS,SAAAX,GAAK,MAAK,CAAEsqC,QAAStqC,EAAMsqC,aAC/C7mC,EAAOC,IAAIsC,aAAaU,wBACxBk1C,EAAQzgC,EAAMC,GAEhB8Z,SAAU,SAAC8N,GAAU,EAAKktB,kBAAoBltB,GAAOA,EAAI3gB,mB,GAlIhCmD,IAAMhjB,WAyI1BC,iBA/IA,SAAC3E,GAAD,MAAY,CACzBS,MAAM,MACDo4C,OA6IQl0C,CAAmBqwD,ICpGnBxgB,M,2MAjDb7uB,MAAQ,uC,EAER+c,kBAAoB,WAClB7nB,SAAS8K,MAAQ,EAAKA,O,wEAGb,IAAD,OACF8D,EAAU,GAEhB,OACE,6BACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAYloB,MAAM,QACfqB,KAAK+iB,OAER,kBAAC,GAAD,KACE,kBAAC,GAAD,CACE4mB,SAAW5mC,EAAOC,IAAIoF,QAAQzE,KAC9BkmC,OAAS,SAACiD,GAAD,OACP,kBAAC7G,GAAD,CACEljB,MAAO,EAAKA,MACZsiB,WAAW,oBACX7d,UAAWs9B,GACXl7B,UAAWkjB,EACXn+B,YAAa5L,EAAO4L,YACpBqe,aAAc,CACZ,CACE,QAAW,yDACX,KAAQ,kBAAC,KAAD,CAASruB,MAAM,cACvB,YAAe,kBAAOiV,GAAO8B,SAAS,2BACtC,QAAW9B,GAAO0B,QAAQ,gCAG9BuR,QAASA,EACT8a,aAAcqjB,GACdxjB,UAAU,EACVuD,YAAY,EACZ9B,WAAYrvB,GAAOqH,kBACnBye,YAAa,CAAEhK,SAAU,iB,GAvCV5K,IAAMhjB,WAkDY,+BCtBpC8vC,M,2MAlCb7uB,MAAQ,uC,EAER+c,kBAAoB,WAClB7nB,SAAS8K,MAAT,UAAoB,EAAKA,Q,wEAIzB,OACE,6BACE,kBAAC,GAAD,CACEwuB,YAAa,CACX,CAAE7mB,KAAM,sCAAuC5qB,KAAM,wCACrD,CAAEA,KAAME,KAAK+iB,UAGjB,yBAAKnhB,MAAO,CAAC9D,UAAW,KACtB,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAUq2B,GAAI,GAAIC,GAAI,GAAIC,GAAI,EAAGmqB,GAAI,GACnC,kBAAC,GAAD,CACEz7B,MAAO/iB,KAAK+iB,MACZvK,OAAQysC,GACR5nD,OAAQ6nD,GACRhd,WAAY,OACZC,aAAcplC,EAAOC,IAAIoF,QAAQxE,IACjC6zB,aAAc,kBAAM7jB,GAAO8B,SAAS,iC,GAzBnBoP,IAAMhjB,WAmCY,8B,6DCnB7C4wD,G,YAGJ,WAAYrzD,GAAQ,IAAD,8BACjB,4CAAMA,KAHR0mD,kCAAoCA,GAEjB,EAYnBvhB,WAAa,WACXuW,KAAuBt+B,MAAK,SAAAmmC,GAAkB,OAAI,EAAK3iD,SAAS,CAAC2iD,2BAbhD,EAgBnB+P,iBAAmB,SAACthD,EAAMuhD,GACpB,EAAKC,oBACP,EAAKA,kBAAkBxhD,GACvB,EAAKyhD,sBAAwBF,IAnBd,EAuBnBG,mBAAqB,SAAC1hD,EAAMyQ,GAC1B,O7CoWG,SAA4BkxC,EAAoB3hD,GACrD,OAAOqK,GAAKG,UAAUjI,GAAOwC,UAAUrT,EAAOC,IAAIoF,QAAQsB,UAAWspD,GAAqB3hD,G6CrWjF0hD,CAAmB1hD,EAAKhQ,GAAIgQ,GAAMoL,MAAK,SAAAwO,GAG5C,GAFAnJ,IACAsmB,GAAMC,QAAQ72B,GAASoB,QAAQM,uBAC3B,EAAK4/C,sBAAuB,CAC9B,IAAMrvB,EAAcnzB,OAAOC,OAAOc,EAAM4Z,GACxC,EAAK6nC,sBAAsBrvB,OAE5B/L,OAAM,SAAA/J,GACPya,GAAMtnC,MAAM6sB,EAAOxpB,YAhCJ,EAoCnB8uD,kBAAoB,SAAC5hD,GACnB,EAAKpR,SAAS,CAAC2pC,QAAS,EAAKtqC,MAAMsqC,UArClB,EAwCnBspB,cAAgB,SAAC7hD,EAAM8hD,G7CgWlB,IAAkCvV,E6C/VjC,EAAKwV,iBACH/hD,EAAKusC,U7C8V0BA,E6C7VRvsC,EAAKusC,S7C8V7BliC,GAAKE,SAAShI,GAAOwC,UAAUrT,EAAOC,IAAIoF,QAAQ0B,iBAAkB8zC,K6C9V7BnhC,MAAK,SAAA42C,GAE3C,IAAMC,EAAe1/C,GAAOoG,MAAMunC,IAClC3tC,GAAOkC,gBAAgBw9C,EAAc,OAAQ,eAA7C,QAAyED,EAAUE,mBACnF,EAAKtzD,SAAS,CAACqzD,iBACf,EAAKF,eAAeC,GACpB,EAAKG,mBAAqBL,KAG5B/qB,GAAMtnC,MAAM0Q,GAASG,MAAMQ,2BApDd,EAyDnBshD,kBAAoB,SAACpiD,EAAMyQ,GACzB,OAAOg8B,GAAuBzsC,EAAKgyC,gBAAiBhyC,EAAK8rC,UAAW9rC,GAAMoL,MAAK,WAC7EqF,IACAsmB,GAAMC,QAAQ72B,GAASoB,QAAQQ,eAC9BskB,OAAM,SAAA/J,GACPya,GAAMtnC,MAAM6sB,EAAOxpB,YA9DJ,EAkEnBuvD,wBAA0B,SAACriD,GACtB,EAAKsiD,2BACN,EAAK1zD,SAAS,CAAC2zD,cAAeviD,IAC9B,EAAKsiD,yBACHtiD,EAAKwiD,YACFriD,GAAS+B,QAAQE,2BACjBjC,GAAS+B,QAAQC,yBAxEP,EA6EnBsgD,0BAA4B,WAAO,I7C+jBMlW,EAAUiW,E6C9jBzCD,EAAkB,EAAKt0D,MAAvBs0D,cACJA,EAAchW,U7C6jBqBA,E6C5jBVgW,EAAchW,S7C4jBMiW,G6C5jBKD,EAAcC,Y7C6jB/Dn4C,GAAKS,WAAWvI,GAAOwC,UAAUrT,EAAOC,IAAIoF,QAAQuB,aAAci0C,GAAW,CAACiW,YAAaA,K6C7jBfp3C,MAAK,WAClF2rB,GAAMC,QAAQ72B,GAASoB,QAAQC,OAC/B,EAAKogD,kBAAkBW,GACvB,EAAKG,2BAA6B,EAAKA,+BACtCr8B,OAAM,SAAA/J,GAAM,OACbya,GAAMtnC,MAAM6sB,EAAOxpB,WAGrBikC,GAAMtnC,MAAM0Q,GAASG,MAAMQ,0BAxFZ,EA4FnB6hD,kBAAoB,SAACpW,GACnB,OAAIA,E7C8hBD,SAA8BA,GACnC,OAAOliC,GAAKI,YAAYlI,GAAOwC,UAAUrT,EAAOC,IAAIoF,QAAQuB,aAAci0C,I6C9hB/DqW,CAAqBrW,GAAUnhC,MAAK,WACzC2rB,GAAMC,QAAQ72B,GAASoB,QAAQE,SAC/B,EAAK7S,SAAS,CAAC2pC,QAAS,EAAKtqC,MAAMsqC,YAClClS,OAAM,SAAC/J,GACRya,GAAMtnC,MAAM6sB,EAAOxpB,YAGrBikC,GAAMtnC,MAAM0Q,GAASG,MAAMQ,yBACpB6K,QAAQC,WAnGjB,EAAK3d,MAAQ,CACXsqC,QAAQ,EACR0pB,aAAc/R,GACdqS,cAAe,KACfhR,mBAAoB,IAEtB,EAAKpe,aATY,E,sEA0GT,IAAD,SACkCxkC,KAAKX,MAAtCsqC,EADD,EACCA,SAAU9iB,EADX,EACWA,QAASqtC,EADpB,EACoBA,UADpB,EAE8Cl0D,KAAKV,MAAlDsqC,EAFD,EAECA,OAAQ0pB,EAFT,EAESA,aAAc1Q,EAFvB,EAEuBA,mBAU9B,OATAhvC,GAAOkC,gBACL9V,KAAK+lD,kCAAmC,OAAQ,kBAChD/hD,QAAU4+C,GACM,IAAdsR,IACFl0D,KAAK+lD,kCAAoC/lD,KAAK+lD,kCAAkC51C,QAC9E,SAAA8P,GAAI,MAAkB,OAAdA,EAAKngB,SAKf,6BACE,kBAAC,GAAD,CACE8pC,OAAQA,EACRD,SAAUA,EACVE,OAAQ,SAACiD,GAAD,OACN,kBAAC7G,GAAD,CACEZ,WAAW,eACX7d,UAAW,EAAKu+B,kCAChBn8B,UAAWkjB,EACXn+B,YAAa5L,EAAO4L,YACpBse,WAAY,CACV,CACE,QAAW,qEACX,KAAQ,kBAAC,KAAD,MACR,YAAe,EAAK0lC,iBACpB,QAAW/+C,GAAO0B,QAAQ,6BAE5B,CACE,QAAW,qDACX,KAAQ,kBAAC,KAAD,MACR,YAAe,EAAK49C,cACpB,QAAWt/C,GAAO0B,QAAQ,8BAE5B,CACE,QAAW,6CACX,KAAQ,kBAAC,KAAD,MACR,YAAe,EAAKo+C,wBACpB,QAAW9/C,GAAO0B,QAAQ,iCAG9BqmB,WAAW,SACX9U,QAASA,EACToc,WAAYrvB,GAAOqH,kBACnBye,YAAa,CAAEhK,SAAU,MACzBiS,aAAcskB,GACdxkB,YAAa,CACXc,aAAc,SAAClxB,GAAD,OAAU,EAAK2iD,kBAAkB3iD,EAAKusC,iBAK5D,kBAAC5L,GAAD,CAASF,WAAW,4BAClB,kBAAC,GAAD,CACEtd,SAAU,SAAC8N,GAAU,EAAKuwB,kBAAoBvwB,GAAOA,EAAI3gB,YACzDoB,MAAO,qEACPvK,OAAQ0tC,GACR7oD,OAAQ+oD,GACRxxB,UAAW,CAAC1U,IACZqX,SAAUv3B,KAAK+yD,mBACft7B,aAAcz3B,KAAKizD,qBAGvB,kBAACjhB,GAAD,CAASF,WAAW,6BAClB,kBAAC,GAAD,CACEtd,SAAU,SAAC8N,GAAU,EAAK8wB,eAAiB9wB,GAAOA,EAAI3gB,YACtDoB,MAAM,qEACNvK,OAAQ86C,EACRj2D,OAAQmkD,GACRjqB,SAAUv3B,KAAKyzD,kBACfh8B,aAAcz3B,KAAKizD,qBAGvB,kBAAC,GAAD,CACElwC,MAAO,6CACPyR,SAAU,SAAC8N,GACT,EAAKqxB,yBAA2BrxB,GAAOA,EAAI3gB,WAC3C,EAAKoyC,0BAA4BzxB,GAAOA,EAAI3J,cAE9CE,KAAM74B,KAAK8zD,iC,GA9LShvC,IAAMhjB,WA2MpC4wD,GAAgBz/B,aAAe,CAC7BihC,WAAW,GAGExB,UCKAyB,G,YAjNb,WAAY90D,GAAQ,IAAD,8BACjB,4CAAMA,KAHR+0D,4BAA8BxgD,GAAOoG,MAAM2sC,IAExB,EAUnB0N,yBAA2B,SAAChjD,EAAMijD,GAChC,GAAI,EAAKC,0BAA2B,CAAC,IAAD,EACA,EAAKl1D,MAAjCi9C,EAD4B,EAC5BA,aAAca,EADc,EACdA,UACfb,GAAiBa,IACpBb,EAAejrC,EAAKgyC,gBACpBlG,EAAY9rC,EAAK8rC,WAEnBD,GAAmBZ,EAAca,GAAW1gC,MAAK,SAAA+3C,GAC/C5gD,GAAOkC,gBACL,EAAKs+C,4BAA6B,OAAQ,mBAD5C,QAEeI,EACf,EAAKD,0BAA0BljD,GAC/B,EAAKojD,8BAAgCH,OAtBxB,EA2BnBzW,2BAA6B,SAACxsC,EAAMyQ,GAClC,OAAO+7B,GAA2BxsC,GAAMoL,MAAK,SAAAwO,GAG3C,GAFAnJ,IACAsmB,GAAMC,QAAQ72B,GAASoB,QAAQO,wBAC3B,EAAKshD,8BAA+B,CACtC,IAAMhxB,EAAcnzB,OAAOC,OAAOc,EAAM4Z,GACxC,EAAKwpC,8BAA8BhxB,OAEpC/L,OAAM,SAAA/J,GACPya,GAAMtnC,MAAM6sB,EAAOxpB,YApCJ,EAwCnBuwD,0BAA4B,SAACrjD,GAC3B,EAAKpR,SAAS,CAAC2pC,QAAS,EAAKtqC,MAAMsqC,UAzClB,EA4CnBspB,cAAgB,SAAC7hD,EAAM8hD,GACjB,EAAKC,iBACH/hD,EAAKsjD,WACPhX,GAAiCtsC,EAAKsjD,YAAYl4C,MAAK,SAAA42C,GAErD,IAAMC,EAAe1/C,GAAOoG,MAAMunC,IAClC3tC,GAAOkC,gBAAgBw9C,EAAc,OAAQ,eAA7C,QAAyED,EAAUE,mBACnF,EAAKtzD,SAAS,CAACqzD,iBACf,EAAKF,eAAeC,GACpB,EAAKG,mBAAqBL,KACzBz7B,OAAM,SAAA/J,GACPya,GAAMtnC,MAAM6sB,EAAOxpB,WAGrBikC,GAAMtnC,MAAM0Q,GAASG,MAAMS,4BA1Dd,EA+DnBwiD,yBAA2B,SAACvjD,EAAMyQ,GAChC,OAAOg8B,GAAuBzsC,EAAKgyC,gBAAiBhyC,EAAK8rC,UAAW9rC,GAAMoL,MAAK,WAC7EqF,IACAsmB,GAAMC,QAAQ72B,GAASoB,QAAQQ,eAC9BskB,OAAM,SAAA/J,GACPya,GAAMtnC,MAAM6sB,EAAOxpB,YApEJ,EAwEnB0wD,0BAA4B,SAACxjD,GACxB,EAAKyjD,6BACN,EAAK70D,SAAS,CAAC2zD,cAAeviD,IAC9B,EAAKyjD,2BACHzjD,EAAKwiD,YACFriD,GAAS+B,QAAQI,6BACjBnC,GAAS+B,QAAQG,2BA9EP,EAmFnBqhD,4BAA8B,WAAO,I9CkkBDJ,EAAYd,E8CjkBtCD,EAAkB,EAAKt0D,MAAvBs0D,cACJA,EAAce,Y9CgkBgBA,E8C/jBVf,EAAce,W9C+jBQd,G8C/jBKD,EAAcC,Y9CgkB5Dn4C,GAAKS,WAAWvI,GAAOwC,UAAUrT,EAAOC,IAAIoF,QAAQmC,uBAAwBoqD,GAAa,CAACd,YAAaA,K8ChkB9Bp3C,MAAK,WAC/E2rB,GAAMC,QAAQ72B,GAASoB,QAAQC,OAC/B,EAAK6hD,0BAA0Bd,GAC/B,EAAKoB,6BAA+B,EAAKA,iCACxCt9B,OAAM,SAAA/J,GAAM,OACbya,GAAMtnC,MAAM6sB,EAAOxpB,WAGrBikC,GAAMtnC,MAAM0Q,GAASG,MAAMO,yBA9FZ,EAkGnB+iD,oBAAsB,SAACN,GACrB,OAAIA,E9C4hBD,SAAgCA,GACrC,OAAOj5C,GAAKI,YAAYlI,GAAOwC,UAAUrT,EAAOC,IAAIoF,QAAQmC,uBAAwBoqD,I8C5hBzEO,CAAuBP,GAAYl4C,MAAK,WAC7C2rB,GAAMC,QAAQ72B,GAASoB,QAAQE,SAC/B,EAAK7S,SAAS,CAAC2pC,QAAS,EAAKtqC,MAAMsqC,YAClClS,OAAM,SAAC/J,GACRya,GAAMtnC,MAAM6sB,EAAOxpB,YAGrBikC,GAAMtnC,MAAM0Q,GAASG,MAAMO,wBACpB8K,QAAQC,WAzGjB,EAAK3d,MAAQ,CACXsqC,QAAQ,EACR0pB,aAAc/R,GACdqS,cAAe,MANA,E,sEAgHT,IAAD,SAC8B5zD,KAAKX,MAAlC0jB,EADD,EACCA,MAAO4mB,EADR,EACQA,SAAU9iB,EADlB,EACkBA,QADlB,EAE0B7mB,KAAKV,MAA9BsqC,EAFD,EAECA,OAAQ0pB,EAFT,EAESA,aAGhB,OACE,6BACE,kBAAC,GAAD,CACE1pB,OAAQA,EACRD,SAAUA,EACVE,OAAQ,SAACiD,GAAD,OACN,kBAAC7G,GAAD,CACEljB,MAAOA,EACPwe,YAAWxe,EACXsiB,WAAW,wBACX7d,UAAWi/B,GACX78B,UAAWkjB,EACXn+B,YAAa5L,EAAO4L,YACpB+qB,YAAa,CAAEhK,SAAU,MACzBzC,WAAY,CACV,CACE,QAAW,uFACX,KAAQ,kBAAC,KAAD,MACR,YAAe,EAAKonC,yBACpB,QAAWzgD,GAAO0B,QAAQ,+BAE5B,CACE,QAAW,uFACX,KAAQ,kBAAC,KAAD,MACR,YAAe,EAAK49C,cACpB,QAAWt/C,GAAO0B,QAAQ,gCAE5B,CACE,QAAW,uCACX,KAAQ,kBAAC,KAAD,MACR,YAAe,EAAKu/C,0BACpB,QAAWjhD,GAAO0B,QAAQ,mCAG9BqmB,WAAW,SACX9U,QAASA,EACToc,WAAYrvB,GAAOqH,kBACnB0mB,aAAc+kB,GACdjlB,YAAa,CACXc,aAAc,SAAClxB,GAAD,OAAU,EAAK4jD,oBAAoB5jD,EAAKsjD,aACtD,QAAW/gD,GAAO0B,QAAQ,uCAKlC,kBAAC08B,GAAD,CAASF,WAAW,8BAClB,kBAAC,GAAD,CACEtd,SAAU,SAAC8N,GAAU,EAAKiyB,0BAA4BjyB,GAAOA,EAAI3gB,YACjEoB,MAAO,uFACPvK,OAAQxY,KAAKo0D,4BACb/2D,OAAQupD,GACRrvB,SAAUv3B,KAAK69C,2BACfpmB,aAAcz3B,KAAK00D,6BAGvB,kBAAC1iB,GAAD,CAASF,WAAW,+BAClB,kBAAC,GAAD,CACEtd,SAAU,SAAC8N,GAAU,EAAK8wB,eAAiB9wB,GAAOA,EAAI3gB,YACtDoB,MAAM,uFACNvK,OAAQ86C,EACRj2D,OAAQmkD,GACRjqB,SAAUv3B,KAAK40D,yBACfn9B,aAAcz3B,KAAK00D,6BAGvB,kBAAC,GAAD,CACE3xC,MAAO,6CACPyR,SAAU,SAAC8N,GACT,EAAKwyB,2BAA6BxyB,GAAOA,EAAI3gB,WAC7C,EAAKqzC,4BAA8B1yB,GAAOA,EAAI3J,cAEhDE,KAAM74B,KAAK+0D,mC,GA/LajwC,IAAMhjB,WCuJzB8vC,M,YAtJb,WAAYvyC,GAAQ,IAAD,8BACjB,4CAAMA,KAYRmlC,WAAa,SAACnlC,GAEZi8C,GADmBj8C,EAAMmY,MAAjBxC,OACiBwmC,YAAY/+B,MAAK,SAAA0lC,GACxC,EAAKliD,SAAS,CAACkiD,gBAhBA,EAoBnBhV,mBAAqB,WACnBl1B,SAAS8K,MAAT,UAAoB,EAAKzjB,MAAM6iD,QAAQriD,MAAQ,GAA/C,gCArBiB,EAwBnBsnD,cAAgB,SAAC/1C,EAAMyQ,GACrB,OAAOpG,GAAKK,SAAS,EAAKsrC,WAAYh2C,GAAMoL,MAAK,SAAA0lC,GAC/C,EAAKliD,SAAS,CAACkiD,YACXrgC,GACFA,IAEFsmB,GAAMC,QAAQ72B,GAASoB,QAAQC,UAC9B6kB,OAAM,SAAA/J,GAEP,OADAya,GAAMtnC,MAAM0Q,GAASG,MAAMG,kBACpBkL,QAAQC,OAAO0Q,OAjCP,EAqCnB25B,gBAAkB,SAACj2C,GACjBqK,GAAKI,YAAY,EAAKurC,YAAY5qC,MAAK,WACrC2rB,GAAMC,QAAQ72B,GAASoB,QAAQE,SAC/Bc,GAAO8B,SAAS,yBACfgiB,OAAM,SAAA/J,GACPya,GAAMtnC,MAAM6sB,EAAOxpB,YAvCrB,EAAK7E,MAAQ,CACX6iD,QAAS,IAEX,EAAK3d,WAAWnlC,GAChB,EAAKgoD,WAAazzC,GAAOwC,UACvBrT,EAAOC,IAAIoF,QAAQjE,OACnB9E,EAAMmY,MAAMxC,OAAOwmC,YATJ,E,sEA8CT,IACAA,EAAex7C,KAAKX,MAAMmY,MAAMxC,OAAhCwmC,WACA2G,EAAYniD,KAAKV,MAAjB6iD,QAER,OACE,6BACE,kBAAC,GAAD,CACE5Q,YAAa,CACX,CAAE7mB,KAAM,sCAAuC5qB,KAAM,wCACrD,CAAEA,KAAMqiD,EAAQriD,SAGpB,yBAAK8B,MAAO,CAAC9D,UAAW,KACtB,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAUq2B,GAAI,GAAIC,GAAI,GAAIC,GAAI,EAAGmqB,GAAI,GACnC,kBAAC1W,GAAD,CACEz2B,KAAM8wC,EACN3pC,OAAQysC,GACR9jB,UAAW,CACTpe,MAAO,mDACPvK,OAAQysC,GACR5nD,OAAQ6nD,GACRxd,WAAY1nC,KAAKonD,cACjBp9B,QAASpW,GAAO0B,QAAQ,kCAE1BmsB,YAAa,CACXc,aAAcviC,KAAKsnD,gBACnBt9B,QAASpW,GAAO0B,QAAQ,kCAE1B+kB,QAAS,CAEL,kBAAC2X,GAAD,CAASF,WAAW,0BAA0Bz9B,IAAI,iBAChD,kBAAC3S,EAAA,EAAD,CACEb,QAAQ,YACRlC,MAAM,UACNgD,QAAS,kBAAMiS,GAAO8B,SAAP,6BACS8lC,EADT,qBAHjB,6BAYF,kBAACxJ,GAAD,CAASF,WAAW,6BAA6Bz9B,IAAI,QACnD,kBAAC3S,EAAA,EAAD,CACEb,QAAQ,YACRlC,MAAM,UACNgD,QAAS,kBAAMiS,GAAO8B,SAAP,6BACS8lC,EADT,eAHjB,6BAYF,kBAACxJ,GAAD,CAASF,WAAW,4BAA4Bz9B,IAAI,OAClD,kBAAC3S,EAAA,EAAD,CACEb,QAAQ,YACRlC,MAAM,YACNgD,QAAS,kBAAMiS,GAAO8B,SAAP,6BACS8lC,EADT,mBAHjB,kCAeZ,kBAACxJ,GAAD,CAASF,WAAW,6BAClB,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAYnzC,MAAM,QAAlB,kCACA,kBAAC,GAAD,KACE,kBAAC,GAAD,CACEgrC,SAAU/1B,GAAOwC,UAAUrT,EAAOC,IAAIoF,QAAQG,sBAAuBizC,GACrE30B,QAASjT,GAAO2G,wBAKxB,kBAACy3B,GAAD,CAASF,WAAW,+BAClB,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAYnzC,MAAM,QAAlB,0DACA,kBAAC,GAAD,KACGwjD,EAAQ7F,aACP,kBAAC,GAAD,CACEA,aAAc6F,EAAQ7F,aACtBa,UAAW3B,EACX7R,SAAU/1B,GAAOwC,UAAUrT,EAAOC,IAAIoF,QAAQI,8BAA+BgzC,KAE7E,c,GA9Ie12B,IAAMhjB,WA0JvC,+BCuDa8vC,M,YA7Lb,WAAYvyC,GAAQ,IAAD,8BACjB,4CAAMA,KALR0jB,MAAQ,2BAIW,EAHnBq/B,yBAA2BxuC,GAAOoG,MAAMooC,IAGrB,EAFnBgD,4BAA8BxxC,GAAOoG,MAAMorC,IAExB,EAYnB5gB,WAAa,SAACnlC,GAAW,IACfm8C,EAAen8C,EAAfm8C,WACRf,KAAyBh+B,MAAK,SAAApY,GAC5B,EAAKpE,SAAS,CAACoE,qBAEbm3C,IACFH,KAA2B5+B,MAAK,SAAA04C,GAC9B,EAAKl1D,SAAS,CAACk1D,uBAEjBzZ,GAAuBF,GAAY/+B,MAAK,SAAA24C,GAAc,OAAI,EAAKn1D,SAAS,CAACm1D,wBArB1D,EAyBnBrK,sBAAwB,SAACjrD,EAAMuR,GAC7B,GAAI,CAAC,aAAc,aAAa8D,QAAQrV,IAAS,EAAG,CAAC,IAC3Cs8C,EAA0B/qC,EAA1B+qC,WAAYD,EAAc9qC,EAAd8qC,UAChBC,GAAcD,GAChBmC,GAAwBlC,EAAYD,GAAW1/B,MAAK,SAAAwO,GAC9C,EAAK+/B,oBAAsB//B,EAAK5a,OAAS,GAC3C,EAAK26C,mBAAL,UAA2B7O,EAA3B,YAAwCC,GAAcnxB,QA/B7C,EAsCnBggC,yBAA2B,SAAC55C,GAC1B,EAAKpR,SAAS,CAACirD,uBAAwB75C,KAvCtB,EA0CnB85C,SAAW,WAAO,IACR3P,EAAe,EAAKn8C,MAApBm8C,WADO,EAEoE,EAAKl8C,MAAhF+E,EAFO,EAEPA,cAAe8wD,EAFR,EAEQA,gBAAiBC,EAFzB,EAEyBA,eAAgBlK,EAFzC,EAEyCA,uBAElDmK,EAAazhD,GAAOkC,gBAAgB,EAAKssC,yBAA0B,OAAQ,WACjF,GAAI5G,EAEF6Z,EAAU,WAAgB,EAC1BA,EAAU,QAAcF,EACxBvhD,GAAOkC,gBAAgB,EAAKsvC,4BAA6B,OAAQ,iBAAjE,QAA+F3mC,GAE/F7K,GAAOkC,gBAAgB,EAAKssC,yBAA0B,OAAQ,aAA9D,QAAwFgT,MACnF,CAEL,IAAME,EAAa,EAAKlT,yBAAyBjtC,QAAQkgD,GACrDC,GAAc,GAChB,EAAKlT,yBAAyBrsB,OAAOu/B,EAAY,GAEnD1hD,GAAOkC,gBAAgB,EAAKsvC,4BAA6B,OAAQ,iBAAjE,QAA+F5mC,GAC/F5K,GAAOkC,gBAAgB,EAAKssC,yBAA0B,OAAQ,SAA9D,UAAqF,EAGvF,IAAMmT,EAAU3hD,GAAOkC,gBAAgB,EAAKssC,yBAA0B,OAAQ,QAC9E,IAAKxuC,GAAOK,QAAQshD,GAAU,CAC5B,IAAMC,EAAU,EAAKpT,yBAAyBjtC,QAAQogD,GACtD,EAAKnT,yBAAyBrsB,OAAOy/B,EAAS,GAKhD,OAFA1M,GAAsB,GAAtB,QAAsCzkD,EAE/B,CACL,CACEvE,KAAM,2BACN0oC,UAAW,CACT1oC,KAAM,aACN0Y,OAAQ,EAAK4pC,yBACb/kD,OAAQglD,GACRhxC,KAAMf,OAAOC,OAAO,GAAI26C,EAAwB,CAC9C/I,QAAS3G,GAAcp6B,SAASo6B,KAElC3lB,QAAS,CAACqqB,GAAgB,EAAK6K,yBAGnC,CACEjrD,KAAM,2BACN0oC,UAAW,CACT1oC,KAAM,eACN0Y,OAAQswC,KAGZ,CACEhpD,KAAM,uCACN0oC,UAAW,CACT1oC,KAAM,aACN0Y,OAAQqwC,IAEVxuB,QAAS,CACP,CACE,QAAW,2BACX,MAAS,2BACT,YAAe,SAACqR,GACd,OAAI8P,EhDqSX,SAAkCA,EAAYnqC,GACnD,OAAOqK,GAAKG,UAAUjI,GAAOwC,UAAUrT,EAAOC,IAAIoF,QAAQgC,yBAA0BoxC,GAAanqC,GgDrS5EokD,CAAyBja,EAAY9P,IhDwSpBr6B,EgDtSOq6B,EhDuStChwB,GAAKG,UAAU9Y,EAAOC,IAAIoF,QAAQiC,wBAAyBgH,IAD7D,IAAiCA,MgDhSlC,CACEvR,KAAM,2BACN0oC,UAAW,CACT1oC,KAAM,gBACN0Y,OAAQ,EAAK4sC,4BACb/zC,KAAMy1C,GACNlyB,UAAW,CAACtV,IACZsW,UAAW,CAACiqB,GAAuBe,IACnCxqB,QAAS,CACP,CACEt2B,KAAM,kBACNijB,MAAO,6CACPvK,OAAQ8sC,GACRruB,UAAU,EACVD,aAAa,GAEf,CACEl3B,KAAM,aACNijB,MAAO,2BACPvK,OAAQ6sC,GACRpuB,UAAU,EACVD,aAAa,GAEf,CACEl3B,KAAM,iBACNijB,MAAO,2BACPvK,OAAQ+sC,GACRloD,OAAQmoD,GACRvuB,UAAU,EACVD,aAAa,QA1IvB,EAAK13B,MAAQ,CACX+E,cAAe,GACf8wD,gBAAiB,GACjBC,eAAgB,GAChBlK,uBAAwB,IAE1B,EAAK1mB,WAAWnlC,GATC,E,sEAqJT,IAAD,SACqCW,KAAKX,MAAzCkyC,EADD,EACCA,YAAa5H,EADd,EACcA,SAAUqU,EADxB,EACwBA,SACzBrT,EAAQ3qC,KAAKmrD,WAEnB,OACE,6BACE,kBAAC,GAAD,CACE5Z,YAAaA,IAEf,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAUpd,GAAI,GAAIC,GAAI,GAAIC,GAAI,EAAGmqB,GAAI,GACnC,kBAAC,GAAD,CACEz7B,MAAO/iB,KAAK+iB,MACZ4nB,MAAOA,EACPzC,WAAW,OACXC,aAAcwB,EACdlS,aAAcumB,MAIpB,kBAAC,GAAD,CACExpB,SAAU,SAAA8N,GAAG,OAAI,EAAK0oB,mBAAqB1oB,GAAOA,EAAI3gB,YACtD2mC,eAAgBtoD,KAAKirD,gC,GAhLDnmC,IAAMhjB,WAkMY,6BCnLjC8vC,M,YA3Cb,WAAYvyC,GAAQ,IAAD,8BACjB,4CAAMA,KAHR0jB,MAAQ,2BAEW,EASnByhB,WAAa,SAACnlC,GAEZi8C,GADuBj8C,EAAMmY,MAAMxC,OAA3BwmC,YACsB/+B,MAAK,SAAA0lC,GACjC,EAAKliD,SAAS,CAACkiD,gBAZA,EAgBnBhV,mBAAqB,WAAO,IAClBgV,EAAY,EAAK7iD,MAAjB6iD,QACRlqC,SAAS8K,MAAT,UAAoB,EAAKA,MAAzB,cAAoCo/B,EAAQriD,KAA5C,gCAfA,EAAKR,MAAQ,CACX6iD,QAAS,IAEX,EAAK3d,WAAWnlC,GANC,E,sEAqBT,IACAm8C,EAAex7C,KAAKX,MAAMmY,MAAMxC,OAAhCwmC,WACA2G,EAAYniD,KAAKV,MAAjB6iD,QAER,OACE,6BACE,kBAAC,GAAD,CACE3G,WAAYA,EACZjK,YAAa,CACX,CAAE7mB,KAAK,sCAAwC5qB,KAAM,wCACrD,CAAE4qB,KAAK,sBAAD,OAAwB8wB,EAAxB,KAAuC17C,KAAMqiD,EAAQriD,MAC3D,CAAE4qB,KAAK,sBAAD,OAAwB8wB,EAAxB,YAA8C17C,KAAM,4BAC1D,CAAEA,KAAME,KAAK+iB,QAEf4mB,SAAU/1B,GAAOwC,UAAUrT,EAAOC,IAAIoF,QAAQM,iBAAkB8yC,GAChEwC,SAAU,SAAC3sC,GAAD,OAAUuC,GAAO8B,SAAP,6BAAsC8lC,EAAtC,oBAA4DnqC,EAAKhQ,a,GAvChEyjB,IAAMhjB,WA8CY,6BCwBlC8vC,M,YA/Db,WAAYvyC,GAAQ,IAAD,8BACjB,4CAAMA,KAHR0jB,MAAQ,2BAEW,EASnByhB,WAAa,SAACnlC,GAEZi8C,GADmBj8C,EAAMmY,MAAjBxC,OACiBwmC,YAAY/+B,MAAK,SAAA0lC,GACxC,EAAKliD,SAAS,CAACkiD,gBAZA,EAgBnBhV,mBAAqB,WACnBl1B,SAAS8K,MAAT,UAAoB,EAAKA,MAAzB,cAAoC,EAAKzjB,MAAM6iD,QAAQriD,MAAQ,GAA/D,gCAdA,EAAKR,MAAQ,CACX6iD,QAAS,IAEX,EAAK3d,WAAWnlC,GANC,E,sEAoBT,IACAm8C,EAAex7C,KAAKX,MAAMmY,MAAMxC,OAAhCwmC,WACA2G,EAAYniD,KAAKV,MAAjB6iD,QAER,OACE,6BACE,kBAAC,GAAD,CACE5Q,YAAa,CACX,CAAE7mB,KAAM,sCAAuC5qB,KAAM,wCACrD,CAAE4qB,KAAK,sBAAD,OAAwB8wB,EAAxB,KAAuC17C,KAAMqiD,EAAQriD,MAC3D,CAAEA,KAAME,KAAK+iB,UAGjB,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAYpkB,MAAM,QAAlB,4BAGA,kBAAC,GAAD,KACE,kBAAC,GAAD,CACEgrC,SAAU/1B,GAAOwC,UAAUrT,EAAOC,IAAIoF,QAAQC,gBAAiBmzC,GAC/D3R,OAAQ,SAACiD,GAAD,OACN,kBAAC7G,GAAD,CACEze,UAAW29B,GACXv7B,UAAWkjB,EAASv0B,QACpB5J,YAAa5L,EAAO4L,YACpBqe,aAAc,CACZ,CACE,QAAW,yDACX,KAAQ,kBAAC,KAAD,CAASruB,MAAM,cACvB,YAAe,kBAAOiV,GAAO8B,SAAP,6BAAsC8lC,EAAtC,oBAG1BvY,WAAYrvB,GAAOqH,8B,GAvDL6J,IAAMhjB,WAkEY,8BCsHnC8vC,M,YAtKb,WAAYvyC,GAAQ,IAAD,8BACjB,4CAAMA,KAHR+iD,yBAA2BxuC,GAAOoG,MAAMooC,IAErB,EAiBnB5d,WAAa,SAACnlC,GAAW,IAAD,EACYA,EAAMmY,MAAMxC,OAAtCwmC,EADc,EACdA,WAAY3O,EADE,EACFA,UACpByO,GAAkBE,GAAY/+B,MAAK,SAAA0lC,GACjC,EAAKliD,SAAS,CAACkiD,eAEjB5G,GAAiBC,EAAY3O,GAAWpwB,MAAK,SAAAhZ,GAC3C,EAAKxD,SAAS,CAACwD,cAEjBi4C,GAAuBF,GAAY/+B,MAAK,SAAA24C,GAAc,OAAI,EAAKn1D,SAAS,CAACm1D,sBACzE1a,GAAgC7N,GAAWpwB,MAAK,SAAAvY,GAC9C,EAAKjE,SAAS,CAAEiE,wBA3BD,EA+BnBipC,mBAAqB,WACnBl1B,SAAS8K,MAAT,UAAoB,EAAKzjB,MAAMmE,OAAOuf,WAAa,GAAnD,cAA2D,EAAK1jB,MAAM6iD,QAAQriD,MAAQ,GAAtF,gCAhCiB,EAmCnBsnD,cAAgB,SAAC/1C,EAAMyQ,GACrB,OAAOpG,GAAKK,SAAS,EAAKsrC,WAAYh2C,GAAMoL,MAAK,SAAAhZ,GAC/C,EAAKxD,SAAS,CAACwD,WACXqe,GACFA,IAEFsmB,GAAMC,QAAQ72B,GAASoB,QAAQC,UAC9B6kB,OAAM,SAAA/J,GAEP,OADAya,GAAMtnC,MAAM0Q,GAASG,MAAMG,kBACpBkL,QAAQC,OAAO0Q,OA5CP,EAgDnB25B,gBAAkB,WAAO,IACf9L,EAAe,EAAKn8C,MAAMmY,MAAMxC,OAAhCwmC,WACR9/B,GAAKI,YAAY,EAAKurC,YAAY5qC,MAAK,WACrC2rB,GAAMC,QAAQ72B,GAASoB,QAAQE,SAC/Bc,GAAO8B,SAAP,6BAAsC8lC,EAAtC,gBACC9jB,OAAM,SAAA/J,GACPya,GAAMtnC,MAAM6sB,EAAOxpB,YAnDrB,EAAK7E,MAAQ,CACX6iD,QAAS,GACT1+C,OAAQ,GACR2xD,eAAgB,GAChBlxD,gBAAiB,IAEnB,EAAKsgC,WAAWnlC,GAChB,EAAKgoD,WAAazzC,GAAOwC,UACvBrT,EAAOC,IAAIoF,QAAQE,eACnBjJ,EAAMmY,MAAMxC,OAAOwmC,WACnBn8C,EAAMmY,MAAMxC,OAAO63B,WAbJ,E,sEA0DT,IAAD,EAC2B7sC,KAAKX,MAAMmY,MAAMxC,OAA3CwmC,EADD,EACCA,WAAY3O,EADb,EACaA,UADb,EAEsD7sC,KAAKV,MAA1D6iD,EAFD,EAECA,QAAS1+C,EAFV,EAEUA,OAAQ2xD,EAFlB,EAEkBA,eAAgBlxD,EAFlC,EAEkCA,gBAgBzC,OAbA0P,GAAOkC,gBAAgB9V,KAAKoiD,yBAA0B,OAAQ,QAA9D,WAAqF,EAErFxuC,GAAOkC,gBAAgB9V,KAAKoiD,yBAA0B,OAAQ,WAA9D,QAAsF,CAAC,CACrF,MAAShhC,SAASo6B,GAClB,aAAgB2G,EAAQriD,OAE1B8T,GAAOkC,gBAAgB9V,KAAKoiD,yBAA0B,OAAQ,WAA9D,WAAwF,EACxFxuC,GAAOkC,gBAAgB9V,KAAKoiD,yBAA0B,OAAQ,aAA9D,QAAwFgT,EACxFxhD,GAAOkC,gBAAgBmsC,GAAsB,OAAQ,WAArD,QAA6E,CAAC,CAC5E,MAAS7gC,SAASo6B,GAClB,aAAgB2G,EAAQriD,OAIxB,6BACE,kBAAC,GAAD,CACEyxC,YAAa,CACX,CAAE7mB,KAAM,sCAAuC5qB,KAAM,wCACrD,CAAE4qB,KAAK,sBAAD,OAAwB8wB,EAAxB,KAAuC17C,KAAMqiD,EAAQriD,MAC3D,CAAE4qB,KAAK,sBAAD,OAAwB8wB,EAAxB,YAA8C17C,KAAM,4BAC1D,CAAEA,KAAM2D,EAAOuf,cAGnB,yBAAKphB,MAAO,CAAC9D,UAAW,KACtB,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAUq2B,GAAI,GAAIC,GAAI,GAAIC,GAAI,EAAGmqB,GAAI,GACnC,kBAAC1W,GAAD,CACEz2B,KAAM5N,EACN+U,OAAQypC,GACR9gB,UAAW,CACTpe,MAAO,uCACPvK,OAAQxY,KAAKoiD,yBACb/kD,OAAQglD,GACR3a,WAAY1nC,KAAKonD,cACjBp9B,QAASpW,GAAO0B,QAAQ,gCACxBugB,QAAS,CAACqqB,KAEZze,YAAa,CACXc,aAAcviC,KAAKsnD,gBACnBt9B,QAASpW,GAAO0B,QAAQ,oCAI9B,kBAAC,GAAD,CAAU6e,GAAI,GAAIC,GAAI,GAAIC,GAAI,EAAGmqB,GAAI,GACnC,kBAAC,GAAD,CAAMtK,SAAO,GACX,kBAAC,GAAD,yDACA,kBAAC,GAAD,KACKtgC,GAAOK,QAAQ/P,GAEd,KADF,kBAAC,GAAD,CAAUgM,MAAOhM,EAAiBiuC,UAAU,QAMtD,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAYxzC,MAAM,QAAlB,4BACA,kBAAC,GAAD,KACE,kBAAC,GAAD,CACEgrC,SAAU/1B,GAAOwC,UAAUrT,EAAOC,IAAIoF,QAAQO,iBAAkB6yC,EAAY3O,GAC5EhD,OAAQ,SAACiD,GAAD,OACN,kBAAC7G,GAAD,CACEze,UAAWi+B,GACX77B,UAAWkjB,EACXn+B,YAAa5L,EAAO4L,YACpBqe,aAAc,CACZ,CACE,QAAW,yDACX,KAAQ,kBAAC,KAAD,CAASruB,MAAM,cACvB,YAAe,kBAAOiV,GAAO8B,SAAP,6BAAsC8lC,EAAtC,oBAA4D3O,EAA5D,oBACtB,QAAWj5B,GAAO0B,QAAQ,kCAG9B2X,WAAY,CACV,CACE,QAAW,yDACX,KAAQ,kBAAC,KAAD,MACR,YAAe,SAAC5b,GAAD,OAAUuC,GAAO8B,SAAP,6BAAsC8lC,EAAtC,oBAA4D3O,EAA5D,sBAAmFx7B,EAAKhQ,GAAxF,WACzB,QAAWuS,GAAO0B,QAAQ,kCAG9BqmB,WAAW,SACXsH,WAAYrvB,GAAOqH,yBAM7B,kBAAC+2B,GAAD,CAASF,WAAW,6BAClB,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAYnzC,MAAM,QAAlB,kCACA,kBAAC,GAAD,KACE,kBAAC,GAAD,CACEgrC,SAAU/1B,GAAOwC,UAAUrT,EAAOC,IAAIoF,QAAQc,qBAAsBsyC,EAAY3O,c,GA9JhE/nB,IAAMhjB,WAyKY,8BC5BrC8vC,M,YA5Ib,WAAYvyC,GAAQ,IAAD,8BACjB,4CAAMA,KAJR0jB,MAAQ,uCAGW,EAFnBqiC,4BAA8BxxC,GAAOoG,MAAMorC,IAExB,EAWnB5gB,WAAa,SAACnlC,GAAW,IAAD,EACyBA,EAAMmY,MAAMxC,OAAnDwmC,EADc,EACdA,WAAY3O,EADE,EACFA,UAAWgP,EADT,EACSA,YAC3BL,GACFF,GAAkBE,GAAY/+B,MAAK,SAAA0lC,GACjC,EAAKliD,SAAS,CAACkiD,eAEjB5G,GAAiBC,EAAY3O,GAAWpwB,MAAK,SAAAhZ,GAC3C,EAAKxD,SAAS,CAACwD,cAEjB,EAAK4jD,WAAL,6BAAwC7L,EAAxC,oBAA8D3O,KAE9D4O,GAAoB5O,GAAWpwB,MAAK,SAAAhZ,GAClC,EAAKxD,SAAS,CAACwD,cAEjB,EAAK4jD,WAAL,8BAAyCxa,IAEvCgP,GACFD,GAA8B/O,EAAWgP,GAAap/B,MACpD,SAAAi5C,GAAc,OAAI,EAAKz1D,SAAS,CAACy1D,sBACjCh+B,OAAM,SAAA/J,GACqB,MAAvBA,EAAO8b,aACT,EAAKpqC,MAAM0yC,UAAUpkB,EAAOxpB,YAhCjB,EAsCnBgpC,mBAAqB,WAAO,IAClB0O,EAAgB,EAAKx8C,MAAMmY,MAAMxC,OAAjC6mC,YADiB,EAEG,EAAKv8C,MAAzB6iD,EAFiB,EAEjBA,QAAS1+C,EAFQ,EAERA,OACjB,EAAKsf,MAAQ84B,EAAc,2BAAS,2BACpC5jC,SAAS8K,MAAT,UAAoB,EAAKA,MAAzB,cAAoCtf,EAAOuf,WAAa,GAAxD,cAAgEm/B,EAAQriD,MAAQ,mCAvChF,EAAKR,MAAQ,CACX6iD,QAAS,GACT1+C,OAAQ,GACRiyD,eAAgB5O,IAElB,EAAKtiB,WAAWnlC,GARC,E,sEA6CT,IAAD,SACwCW,KAAKX,MAAMmY,MAAMxC,OAAxDwmC,EADD,EACCA,WAAY3O,EADb,EACaA,UAAWgP,EADxB,EACwBA,YADxB,EAEqC77C,KAAKV,MAAzC6iD,EAFD,EAECA,QAAS1+C,EAFV,EAEUA,OAAQiyD,EAFlB,EAEkBA,eACzBA,EAAc,qBAA2BjyD,EAAOkyD,sBAAwBlyD,EAAO64C,aAC/EoZ,EAAc,kBAAwBla,GAAc3O,EACpD6oB,EAAc,aAAmBjyD,EAAO64C,aACxCoZ,EAAc,UAAgB7oB,EAC9B,IAAM0E,EAAc,GA+BpB,OA9BIiK,GACFjK,EAAYxhC,KAAK,CAAE2a,KAAM,sCAAuC5qB,KAAM,yCACtEyxC,EAAYxhC,KAAK,CAAE2a,KAAK,sBAAD,OAAwB8wB,EAAxB,KAAuC17C,KAAMqiD,EAAQriD,OAC5EyxC,EAAYxhC,KAAK,CAAE2a,KAAK,sBAAD,OAAwB8wB,EAAxB,YAA8C17C,KAAM,6BAC3EyxC,EAAYxhC,KAAK,CAAE2a,KAAK,sBAAD,OAAwB8wB,EAAxB,oBAA8C3O,GAAa/sC,KAAM2D,EAAOuf,YAC3F64B,GACFtK,EAAYxhC,KAAK,CACf2a,KAAK,sBAAD,OAAwB8wB,EAAxB,oBAA8C3O,EAA9C,sBAAqE6oB,EAAer0D,GAApF,WACJvB,KAAM41D,EAAe5I,cAGzBl5C,GAAOkC,gBAAgB9V,KAAKolD,4BAA6B,OAAQ,iBAAjE,QAA+F3mC,KAG/F8yB,EAAYxhC,KAAK,CAAE2a,KAAM,sBAAuB5qB,KAAM,+CACtDyxC,EAAYxhC,KAAK,CAAE2a,KAAK,uBAAD,OAAyBmiB,EAAzB,KAAuC/sC,KAAM2D,EAAOuf,YACvE64B,GACFtK,EAAYxhC,KAAK,CACf2a,KAAK,uBAAD,OAAyBmiB,EAAzB,sBAAgD6oB,EAAer0D,GAA/D,WACJvB,KAAM41D,EAAe5I,cAGzBl5C,GAAOkC,gBAAgB9V,KAAKolD,4BAA6B,OAAQ,iBAAjE,QAA+F5mC,IAE7Fq9B,EACFtK,EAAYxhC,KAAK,CAAEjQ,KAAM,iBAEzByxC,EAAYxhC,KAAK,CAAEjQ,KAAM,6BAIzB,6BACE,kBAAC,GAAD,CACEyxC,YAAaA,IAEf,yBAAK3vC,MAAO,CAAC9D,UAAW,KACtB,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAUq2B,GAAI,GAAIC,GAAI,GAAIC,GAAI,EAAGmqB,GAAI,GACnC,kBAAC,GAAD,CACEz7B,MAAO/iB,KAAK+iB,MACZvK,OAAQxY,KAAKolD,4BACbxvB,UAAW,CAACiqB,GAAuBe,IACnCxqB,QAAS,CACP,CACEt2B,KAAM,kBACNijB,MAAO,6CACPvK,OAAQ8sC,GACRruB,UAAU,EACVD,aAAa,GAEf,CACEl3B,KAAM,aACNijB,MAAO,2BACPvK,OAAQ6sC,GACRpuB,UAAU,EACVD,aAAa,GAEf,CACEl3B,KAAM,iBACNijB,MAAO,2BACPvK,OAAQ+sC,GACRloD,OAAQmoD,GACRvuB,UAAU,EACVD,aAAa,IAGjB3lB,KAAMqkD,EACNxtB,WAAY,OACZC,aACE0T,EAAcjoC,GAAOwC,UACnBrT,EAAOC,IAAIoF,QAAQW,qBAAsB8jC,EAAW6oB,EAAer0D,IACjEuS,GAAOwC,UACTrT,EAAOC,IAAIoF,QAAQU,oBAAqB+jC,GAG5CpV,aAAc,kBAAM7jB,GAAO8B,SAAS,EAAK2xC,aACzC/e,eAAgBuT,EAAcjoC,GAAOwC,UAAUrT,EAAOC,IAAIoF,QAAQQ,gBAAiBikC,EAAWgP,GAAe,KAC7GtT,eAAgB,kBAAM30B,GAAO8B,SAAS,EAAK2xC,uB,GAtIzBviC,IAAMhjB,WAgJY,gCCgBrC8vC,M,YAlKb,WAAYvyC,GAAQ,IAAD,8BACjB,4CAAMA,KAYRmlC,WAAa,SAACnlC,GAAW,IAAD,EACyBA,EAAMmY,MAAMxC,OAAnDwmC,EADc,EACdA,WAAY3O,EADE,EACFA,UAAWgP,EADT,EACSA,YAC3BL,GACFF,GAAkBE,GAAY/+B,MAAK,SAAA0lC,GACjC,EAAKliD,SAAS,CAACkiD,eAEjB5G,GAAiBC,EAAY3O,GAAWpwB,MAAK,SAAAhZ,GAC3C,EAAKxD,SAAS,CAACwD,eAGjBg4C,GAAoB5O,GAAWpwB,MAAK,SAAAhZ,GAClC,EAAKxD,SAAS,CAACwD,cAGnBm4C,GAA8B/O,EAAWgP,GAAap/B,MACpD,SAAAi5C,GAAc,OAAI,EAAKz1D,SAAS,CAACy1D,sBACjCh+B,OAAM,SAAA/J,GACqB,MAAvBA,EAAO8b,aACT,EAAKpqC,MAAM0yC,UAAUpkB,EAAOxpB,YA/Bf,EAoCnBgpC,mBAAqB,WAAO,IAAD,EACmB,EAAK7tC,MAAzC6iD,EADiB,EACjBA,QAAS1+C,EADQ,EACRA,OAAQiyD,EADA,EACAA,eACzBnR,QAAQC,IAAIkR,GACZz9C,SAAS8K,MAAT,UAAoB2yC,EAAe5I,YAAnC,cAAoDrpD,EAAOuf,WAAa,GAAxE,cAAgFm/B,EAAQriD,MAAQ,mCAvC/E,EA0CnB81D,qBAAuB,SAACvkD,EAAMyQ,GAAiB,IAAD,EACT,EAAKziB,MAAMmY,MAAMxC,OAA5C63B,EADoC,EACpCA,UAAWgP,EADyB,EACzBA,YACnB,OAAOngC,GAAKK,SACVnI,GAAOwC,UAAUrT,EAAOC,IAAIoF,QAAQa,8BAA+B4jC,EAAWgP,EAAaxqC,EAAKhQ,IAChGgQ,GACAoL,MAAK,WACDqF,GACFA,IAEFsmB,GAAMC,QAAQ72B,GAASoB,QAAQC,OAC/B,EAAK5S,SAAS,CAAC2pC,QAAS,EAAKtqC,MAAMsqC,YAClClS,OAAM,SAAA/J,GAEP,OADAya,GAAMtnC,MAAM0Q,GAASG,MAAMG,kBACpBkL,QAAQC,OAAO0Q,OAvDP,EA2DnBkoC,yBAA2B,SAAC/1D,EAAMuR,GAChC,IAAMykD,EAAkBzkD,EAAI,gBACtByvC,EAAYzvC,EAAI,UAChB6vC,EAAY7vC,EAAI,UAChB0kD,EAAQniD,GAAOC,WAAWxC,EAAI,OAC9B2kD,EAAiBpiD,GAAOC,WAAWxC,EAAI,gBACvC4kD,EAAgBriD,GAAOC,WAAWxC,EAAI,eAC/B,mBAATvR,EAEAuR,EAAI,qBADkB,IAApBykD,EACF,8CAAuCC,EAAvC,YAAgDjV,EAAhD,mBAA+DkV,EAA/D,MAEA,8CAAuCA,EAAvC,MAEgB,kBAATl2D,EAEPuR,EAAI,oBADkB,IAApBykD,EACF,8CAAsCC,EAAtC,YAA+C7U,EAA/C,mBAA8D+U,EAA9D,MAEA,8CAAsCA,EAAtC,MAEgB,oBAATn2D,KACe,IAApBg2D,GACFzkD,EAAI,oBAAJ,8CAAuC0kD,EAAvC,YAAgDjV,EAAhD,mBAA+DkV,EAA/D,MACA3kD,EAAI,mBAAJ,8CAAsC0kD,EAAtC,YAA+C7U,EAA/C,mBAA8D+U,EAA9D,QAEA5kD,EAAI,oBAAJ,8CAAuC2kD,EAAvC,MACA3kD,EAAI,mBAAJ,8CAAsC4kD,EAAtC,SAjFJ,EAAKL,qBAAuB,EAAKA,qBAAqBl2D,KAA1B,gBAC5B,EAAKJ,MAAQ,CACX6iD,QAAS,GACT1+C,OAAQ,GACRiyD,eAAgB,GAChB9rB,QAAQ,GAEV,EAAKpF,WAAWnlC,GAVC,E,sEAyFT,IAAD,SACwCW,KAAKX,MAAMmY,MAAMxC,OAAxDwmC,EADD,EACCA,WAAY3O,EADb,EACaA,UAAWgP,EADxB,EACwBA,YADxB,EAE6C77C,KAAKV,MAAjD6iD,EAFD,EAECA,QAAS1+C,EAFV,EAEUA,OAAQiyD,EAFlB,EAEkBA,eAAgB9rB,EAFlC,EAEkCA,OACnC2H,EAAc,GAYpB,OAXIiK,GACFjK,EAAYxhC,KAAK,CAAE2a,KAAM,sCAAuC5qB,KAAM,yCACtEyxC,EAAYxhC,KAAK,CAAE2a,KAAK,sBAAD,OAAwB8wB,EAAxB,KAAuC17C,KAAMqiD,EAAQriD,OAC5EyxC,EAAYxhC,KAAK,CAAE2a,KAAK,sBAAD,OAAwB8wB,EAAxB,YAA8C17C,KAAM,6BAC3EyxC,EAAYxhC,KAAK,CAAE2a,KAAK,sBAAD,OAAwB8wB,EAAxB,oBAA8C3O,GAAa/sC,KAAM2D,EAAOuf,cAE/FuuB,EAAYxhC,KAAK,CAAE2a,KAAM,sBAAuB5qB,KAAM,+CACtDyxC,EAAYxhC,KAAK,CAAE2a,KAAK,uBAAD,OAAyBmiB,EAAzB,KAAuC/sC,KAAM2D,EAAOuf,aAE7EuuB,EAAYxhC,KAAK,CAAEjQ,KAAM41D,EAAe5I,cAGtC,6BACE,kBAAC,GAAD,CACEvb,YAAaA,IAEf,yBAAK3vC,MAAO,CAAC9D,UAAW,KACtB,kBAACgqC,GAAD,CACEz2B,KAAMqkD,EACNl9C,OAAQmtC,GACRtrB,QAAS,CAEL,kBAAC2X,GAAD,CAASF,WAAW,+BAA+Bz9B,IAAI,QACrD,kBAAC3S,EAAA,EAAD,CACEb,QAAQ,YACRlC,MAAM,UACNgD,QAAS,WACP,OAAI65C,EACK5nC,GAAO8B,SAAP,6BAAsC8lC,EAAtC,oBAA4D3O,EAA5D,sBAAmFgP,EAAnF,UAEAjoC,GAAO8B,SAAP,8BAAuCm3B,EAAvC,sBAA8DgP,EAA9D,YAPb,oBAeR,kBAACn7C,EAAA,EAAD,CAAOkB,MAAOq0C,IACZ,kBAAC,GAAD,CACErM,OAAQA,EACRD,SAAU/1B,GAAOwC,UAAUrT,EAAOC,IAAIoF,QAAQY,uBAAwB6jC,EAAWgP,GACjFhS,OAAQ,SAACiD,GAAD,OACN,kBAAC7G,GAAD,CACEljB,MAAM,uCACNwe,WAAW,EACX/Z,UAAWo+B,GACXh8B,UAAWkjB,EAASv0B,QACpB5J,YAAa5L,EAAO4L,YACpBgtB,WAAW,SACXwF,UAAW,CACTpe,MAAO,uCACPvK,OAAQqtC,GACRxoD,OAAQyoD,GACRvuB,SAAU,EAAKq+B,qBACfhgC,UAAW,CAAC,EAAKigC,0BACjB7rC,QAASpW,GAAO0B,QAAQ,iCAE1B2tB,WAAYrvB,GAAOqH,8B,GAzJD6J,IAAMhjB,WAoKY,8BCnIvC8vC,M,YA3Cb,WAAYvyC,GAAQ,IAAD,8BACjB,4CAAMA,KAHR0jB,MAAQ,uCAEW,EASnByhB,WAAa,SAACnlC,GAEZi8C,GADmBj8C,EAAMmY,MAAjBxC,OACiBwmC,YAAY/+B,MAAK,SAAA0lC,GACxC,EAAKliD,SAAS,CAACkiD,gBATjB,EAAK7iD,MAAQ,CACX6iD,QAAS,IAEX,EAAK3d,WAAWnlC,GANC,E,sEAgBT,IACAm8C,EAAex7C,KAAKX,MAAMmY,MAAMxC,OAAhCwmC,WACA2G,EAAYniD,KAAKV,MAAjB6iD,QAER,OACE,6BACE,kBAAC,GAAD,CACE5Q,YAAa,CACX,CAAE7mB,KAAM,sCAAuC5qB,KAAM,wCACrD,CAAE4qB,KAAK,sBAAD,OAAwB8wB,EAAxB,KAAuC17C,KAAMqiD,EAAQriD,MAC3D,CAAEA,KAAME,KAAK+iB,UAGjB,6BACIo/B,EAAQ7F,aACR,kBAAC,GAAD,CACEv5B,MAAK,UAAKo/B,EAAQriD,KAAb,6BACLw8C,aAAc6F,EAAQ7F,aACtBa,UAAW3B,IAEX,W,GAvC2B12B,IAAMhjB,WA8CY,2BCb5C8vC,M,2MA9Bb9R,kBAAoB,WAAO,IAAD,EACA,EAAKzgC,MAAMmY,MAAMxC,OAAjCyF,EADgB,EAChBA,KAAMC,EADU,EACVA,MACdzC,SAAS8K,MAAT,UAAoBtI,EAApB,iBAA4BC,EAA5B,oD,wEAGQ,IAAD,EACiB1a,KAAKX,MAAMmY,MAAMxC,OAAjCyF,EADD,EACCA,KAAMC,EADP,EACOA,MAEd,OACE,6BACE,kBAAC,GAAD,CACE62B,YAAa,CACX,CAAE7mB,KAAM,0BAA2B5qB,KAAM,8BACzC,CAAEA,KAAK,GAAD,OAAK2a,EAAL,iBAAaC,EAAb,sCAGV,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAY/b,MAAM,QAAQ8b,EAA1B,SAAiCC,EAAjC,kCACA,kBAAC,GAAD,KACE,kBAAC,GAAD,CACEivB,SAAU/1B,GAAOwC,UAAUrT,EAAOC,IAAIoF,QAAQ2B,cAAe0Q,EAAMC,GACnEw5C,WAAW,W,GAvBMpvC,IAAMhjB,WAgCY,6BCuKlC8vC,M,YApLb,WAAYvyC,GAAQ,IAAD,8BACjB,4CAAMA,KALR0jB,MAAQ,uBAIW,EAHnBurC,SAAW,oBAGQ,EAFnB4H,gBAAkB,2BAEC,EAcnB1xB,WAAa,SAACnlC,GAAW,IAAD,EACsBA,EAAMmY,MAAMxC,OAAhDwmC,EADc,EACdA,WAAY3O,EADE,EACFA,UAAW+Q,EADT,EACSA,SAC/BtC,GAAkBE,GAAY/+B,MAAK,SAAA0lC,GACjC,EAAKliD,SAAS,CAACkiD,eAEbtV,GACF0O,GAAiBC,EAAY3O,GAAWpwB,MAAK,SAAAhZ,GAC3C,EAAKxD,SAAS,CAACwD,cxD4WhB,SAA6Bm6C,GAClC,OAAOliC,GAAKE,SAAShI,GAAOwC,UAAUrT,EAAOC,IAAIoF,QAAQwB,WAAYg0C,IwD1WnEuY,CAAoBvY,GAAUnhC,MAAK,SAAAwO,GACjC,EAAKhrB,SAAS,CAACm2D,mBAAoBnrC,EAAKujC,KAAM6H,mBAAoBprC,EAAKkQ,UxD4WtE,SAAoCyiB,GACzC,OAAOliC,GAAKE,SAAShI,GAAOwC,UAAUrT,EAAOC,IAAIoF,QAAQyB,mBAAoB+zC,IwD3W3E0Y,CAA2B1Y,GAAUnhC,MAAK,SAAAwO,GACxC,EAAKhrB,SAAS,CAACs2D,2BAA4BtrC,EAAKujC,KAAMgI,2BAA4BvrC,EAAKkQ,WA5BxE,EAgCnBgS,mBAAqB,WAAO,IAAD,EACG,EAAK7tC,MAAzBmE,EADiB,EACjBA,OAAQ0+C,EADS,EACTA,QACXvuC,GAAOK,QAAQxQ,GAGlBwU,SAAS8K,MAAT,UAAoB,EAAKA,MAAzB,cAAoCo/B,EAAQriD,KAA5C,+BAFAmY,SAAS8K,MAAT,UAAoB,EAAKA,MAAzB,cAAoCtf,EAAOuf,UAA3C,gCAnCe,EAyCnByzC,kBAAoB,WACd,EAAKhvB,WACP,EAAKA,aA3CU,EA+CnBlF,aAAe,WAAO,IAAD,EACyB,EAAKljC,MAAMmY,MAAMxC,OAArDwmC,EADW,EACXA,WAAY3O,EADD,EACCA,UAAW+Q,EADZ,EACYA,SAC/BliC,GAAKI,YAAYlI,GAAOwC,UAAUrT,EAAOC,IAAIoF,QAAQuB,aAAci0C,IAAWnhC,MAAK,WAC7EowB,EACFj5B,GAAO8B,SAAP,6BAAsC8lC,EAAtC,oBAA4D3O,IAE5Dj5B,GAAO8B,SAAP,6BAAsC8lC,IAExCpT,GAAMC,QAAQ72B,GAASoB,QAAQE,YAC9B4kB,OAAM,SAAA/J,GACPya,GAAMtnC,MAAM6sB,EAAOxpB,YAtDrB,EAAK7E,MAAQ,CACX6iD,QAAS,GACT1+C,OAAQ,GACR2yD,mBAAoB,KACpBC,mBAAoB,KACpBE,2BAA4B,KAC5BC,2BAA4B,MAE9B,EAAKhyB,WAAWnlC,GAXC,E,sEA6DT,IAAD,SAC2BW,KAAKX,MAAMmY,MAAMxC,OAA3CwmC,EADD,EACCA,WAAY3O,EADb,EACaA,UADb,EASH7sC,KAAKV,MANP6iD,EAHK,EAGLA,QACA1+C,EAJK,EAILA,OACA2yD,EALK,EAKLA,mBACAG,EANK,EAMLA,2BACAF,EAPK,EAOLA,mBACAG,EARK,EAQLA,2BAEIjlB,EAAc,CAClB,CAAE7mB,KAAM,qBAAsB5qB,KAAM,wCACpC,CAAE4qB,KAAK,sBAAD,OAAwB8wB,EAAxB,KAAuC17C,KAAMqiD,EAAQriD,OAU7D,OARI+sC,GACF0E,EAAYxhC,KAAK,CAAE2a,KAAK,sBAAD,OAAwB8wB,EAAxB,YAA8C17C,KAAM,6BAC3EyxC,EAAYxhC,KAAK,CAAE2a,KAAK,sBAAD,OAAwB8wB,EAAxB,oBAA8C3O,GAAa/sC,KAAM2D,EAAOuf,YAC/FuuB,EAAYxhC,KAAK,CAAEjQ,KAAME,KAAK+iB,SAE9BwuB,EAAYxhC,KAAK,CAAEjQ,KAAME,KAAK+iB,QAI9B,6BACE,kBAAC,GAAD,CACEwuB,YAAaA,IAEf,yBAAK3vC,MAAO,CAAC9D,UAAW,KACtB,kBAAC0kB,GAAA,EAAD,KACE,kBAACG,GAAA,EAAD,CACEI,MAAO/iB,KAAK+iB,MACZtT,OACE,kBAACoV,GAAA,EAAD,CACE2iB,gBAAc,OACd7lC,QAAS,WAAOiS,GAAOkE,mBAAmB,EAAKw2C,YAE/C,kBAAC,KAAD,SAIN,kBAAChrC,GAAA,EAAD,KACE,4BACEP,MAAO/iB,KAAK+iB,MACZ1hB,GAAIrB,KAAKsuD,SACTG,OAAQ2H,EACR1H,YAAY,IACZpxD,MAAM,OACN2rB,OAAO,YAIX,kBAACzE,GAAA,EAAD,KACE,kBAACwtB,GAAD,CAASF,WAAW,+BAClB,kBAACpwC,EAAA,EAAD,CACEb,QAAQ,YACRlC,MAAM,YACNiD,MAAO,CAACzD,OAAQ,GAChBwD,QAAS3B,KAAKy2D,mBAJhB,iBASF,kBAAC/0D,EAAA,EAAD,CACEb,QAAQ,YACRlC,MAAM,UACNiD,MAAO,CAACzD,OAAQ,GAChBwD,QAAS,kBAAM67C,GAAmB6Y,KAJpC,0CAUJ,kBAAC,GAAD,CACEtzC,MAAM,iFACN8V,KAAM74B,KAAKuiC,aACX/N,SAAU,SAAA8N,GAAS,EAAKmF,UAAYnF,GAAOA,EAAI3gB,eAGnD,yBAAK/f,MAAO,CAAC9D,UAAW,KACtB,kBAAC0kB,GAAA,EAAD,KACE,kBAACG,GAAA,EAAD,CACEI,MAAO/iB,KAAK+iB,MACZtT,OACE,kBAACoV,GAAA,EAAD,CACE2iB,gBAAc,OACd7lC,QAAS,WAAOiS,GAAOkE,mBAAmB,EAAKo+C,mBAE/C,kBAAC,KAAD,SAIN,kBAAC5yC,GAAA,EAAD,KACE,4BACEP,MAAO/iB,KAAK+iB,MACZ1hB,GAAIrB,KAAKk2D,gBACTzH,OAAQ8H,EACR7H,YAAY,IACZpxD,MAAM,OACN2rB,OAAO,YAIX,kBAACzE,GAAA,EAAD,KACE,kBAAC9iB,EAAA,EAAD,CACEb,QAAQ,YACRlC,MAAM,UACNiD,MAAO,CAACzD,OAAQ,GAChBwD,QAAS,kBAAM67C,GAAmBgZ,KAJpC,gD,GAzKmB1xC,IAAMhjB,WAyLY,6BC1KpC8vC,M,2MA5Bb7uB,MAAQ,mC,EAER+c,kBAAoB,WAClB7nB,SAAS8K,MAAQ,EAAKA,O,wEAGd,IAAD,OACP,OACE,kBAACriB,EAAA,EAAD,CAAOkB,MAAOq0C,IACZ,kBAAC,GAAD,CACEtM,SAAU5mC,EAAOC,IAAIoF,QAAQ4B,eAC7B6/B,OAAQ,SAACiD,GAAD,OACN,kBAAC7G,GAAD,CACEljB,MAAO,EAAKA,MACZwe,WAAW,EACX/Z,UAAW6+B,GACXz8B,UAAWkjB,EACXn+B,YAAa5L,EAAO4L,YACpBs0B,WAAYrvB,GAAOqH,kBACnBye,YAAa,CAAEhK,SAAU,e,GApBJ5K,IAAMhjB,WA6BY,6BCEtC8vC,M,2MA9Bb7uB,MAAQ,uF,EAER+c,kBAAoB,WAClB7nB,SAAS8K,MAAQ,EAAKA,O,wEAGd,IAAD,OACP,OACE,6BACE,kBAACriB,EAAA,EAAD,CAAOkB,MAAOq0C,IACZ,kBAAC,GAAD,CACEtM,SAAU5mC,EAAOC,IAAIoF,QAAQ6B,iBAC7B4/B,OAAQ,SAACiD,GAAD,OACN,kBAAC7G,GAAD,CACEljB,MAAO,EAAKA,MACZwe,WAAW,EACX/Z,UAAW8+B,GACX18B,UAAWkjB,EACXn+B,YAAa5L,EAAO4L,YACpBs0B,WAAYrvB,GAAOqH,kBACnBye,YAAa,CAAEhK,SAAU,gB,GArBJ5K,IAAMhjB,WA+BY,+BC4CxC8vC,M,YAjEb,WAAYvyC,GAAQ,IAAD,8BACjB,4CAAMA,KAJR0jB,MAAQ,6CAGW,EAFnB8jC,8BAAgCjzC,GAAOoG,MAAM6sC,IAE1B,EAUnBriB,WAAa,WACXuW,KAAuBt+B,MAAK,SAAAmmC,GAC1B,EAAK3iD,SAAS,CAAC2iD,2BAZA,EAgBnB9iB,kBAAoB,WAClB7nB,SAAS8K,MAAQ,EAAKA,OAdtB,EAAKzjB,MAAQ,CACXsjD,mBAAoB,IAGtB,EAAKpe,aAPY,E,sEAoBR,IAAD,OACF3d,EAAU,GACR+7B,EAAuB5iD,KAAKV,MAA5BsjD,mBAIR,OAFAhvC,GAAOkC,gBAAgB9V,KAAK6mD,8BAA+B,OAAQ,kBAAnE,QAAkGjE,EAGhG,6BACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAYjkD,MAAM,QACfqB,KAAK+iB,OAER,kBAAC,GAAD,KACE,kBAAC,GAAD,CACE4mB,SAAW5mC,EAAOC,IAAIoF,QAAQgB,mBAC9BygC,OAAS,SAACiD,GAAD,OACP,kBAAC7G,GAAD,CACEljB,MAAO,EAAKA,MACZsiB,WAAW,qBACX7d,UAAW,EAAKq/B,8BAChBj9B,UAAWkjB,EAASv0B,QACpB5J,YAAa5L,EAAO4L,YACpBqe,aAAc,CACZ,CACE,QAAW,+DACX,KAAQ,kBAAC,KAAD,CAASruB,MAAM,cACvB,YAAe,kBAAOiV,GAAO8B,SAAS,4BACtC,QAAW9B,GAAO0B,QAAQ,+BAG9BuR,QAASA,EACT2a,UAAU,EACVuD,YAAY,EACZ9B,WAAYrvB,GAAOqH,kBACnBye,YAAa,CAAEhK,SAAU,iB,GA1DX5K,IAAMhjB,WAqEY,8BCzC5C40D,G,YAIJ,WAAYr3D,GAAQ,IAAD,8BACjB,4CAAMA,KAJRs3D,4BAA8B/iD,GAAOoG,MAAMyrC,IAGxB,EAFnB2E,gCAAkCx2C,GAAOoG,MAAMowC,IAE5B,EAiBnB5lB,WAAa,SAACnlC,GAAW,IACfwtC,EAAcxtC,EAAMmY,MAAMxC,OAA1B63B,UACR4O,GAAoB5O,GAAWpwB,MAAK,SAAAhZ,GAClC,EAAKxD,SAAS,CAACwD,cAEjBi3C,GAAgC7N,GAAWpwB,MAAK,SAAAvY,GAC9C,EAAKjE,SAAS,CAAEiE,uBAElBu2C,KAAyBh+B,MAAK,SAAApY,GAAa,OAAI,EAAKpE,SAAS,CAAEoE,sBAzB9C,EA4BnB8oC,mBAAqB,WAAO,IAClB1pC,EAAW,EAAKnE,MAAhBmE,OACRwU,SAAS8K,MAAT,UAAoBtf,EAAOuf,WAAa,GAAxC,sCA3BA,EAAK1jB,MAAQ,CACXmE,OAAQ,GACRS,gBAAiB,GACjBG,cAAe,GACfuoD,kBAAkB,EAClB9I,YAAY,GAEd,EAAKtf,WAAWnlC,GAChB,EAAKgoD,WAAazzC,GAAOwC,UACvBrT,EAAOC,IAAIoF,QAAQkB,yBACnBjK,EAAMmY,MAAMxC,OAAO63B,WAbJ,E,sEAiCT,IAAD,OACCA,EAAc7sC,KAAKX,MAAMmY,MAAMxC,OAA/B63B,UADD,EAE0E7sC,KAAKV,MAA9EmE,EAFD,EAECA,OAAQS,EAFT,EAESA,gBAAiBG,EAF1B,EAE0BA,cAAeuoD,EAFzC,EAEyCA,iBAAkB9I,EAF3D,EAE2DA,WAE5D8S,EAAqBhjD,GAAOoG,MAAMooC,IASxC,OARAxuC,GAAOkC,gBAAgB8gD,EAAoB,OAAQ,QAAnD,WAA0E,EAC1EhjD,GAAOkC,gBAAgB8gD,EAAoB,OAAQ,WAAnD,WAA6E,EAC7EhjD,GAAOkC,gBAAgB8gD,EAAoB,OAAQ,aAAnD,WAA+E,EAC/EhjD,GAAOkC,gBAAgB9V,KAAK22D,4BAA6B,OAAQ,eAAejsC,KAC5E,4DAEJ9W,GAAOkC,gBAAgB9V,KAAKoqD,gCAAiC,OAAQ,gBAAgBpmD,QAAUK,EAG7F,6BACE,kBAAC,GAAD,CACEktC,YAAa,CACX,CAAE7mB,KAAM,sBAAuB5qB,KAAM,8CACrC,CAAEA,KAAM2D,EAAOuf,cAGnB,yBAAKphB,MAAO,CAAC9D,UAAW,KACtB,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAUq2B,GAAI,GAAIC,GAAI,GAAIC,GAAI,EAAGmqB,GAAI,GACnC,kBAAC1W,GAAD,CACEz2B,KAAM5N,EACN+U,OAAQypC,GACR9gB,UAAW,CACTpe,MAAO,uCACPvK,OAAQo+C,EACRv5D,OAAQglD,GACR3a,WAAYwW,IACV,SAACz6C,GAAD,OAAY,EAAKxD,SAAS,CAACwD,aAC3BzD,KAAKqnD,YAEPr9B,QAASpW,GAAO0B,QAAQ,gCACxBugB,QAAS,CAACqqB,KAEZze,YAAa,CACXc,aAAc4b,IACZ,kBAAMvqC,GAAO8B,SAAS,yBACtB1V,KAAKqnD,YAEPr9B,QAASpW,GAAO0B,QAAQ,oCAI9B,kBAAC,GAAD,CAAU6e,GAAI,GAAIC,GAAI,GAAIC,GAAI,EAAGmqB,GAAI,GACnC,kBAAC,GAAD,CAAMtK,SAAO,GACX,kBAAC,GAAD,yDACA,kBAAC,GAAD,KACKtgC,GAAOK,QAAQ/P,GAEd,KADF,kBAAC,GAAD,CAAUgM,MAAOhM,EAAiBiuC,UAAU,EAAOK,SAAS,QAMrE/uC,EAAO64C,aACN,kBAACtK,GAAD,CAASF,WAAW,+BAClB,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAYnzC,MAAM,QAAlB,4BACA,kBAAC,GAAD,KACE,kBAAC,GAAD,CACEirC,OAAQka,EACRna,SAAU/1B,GAAOwC,UAAUrT,EAAOC,IAAIS,OAAOQ,qBAAsBR,EAAO64C,aAAczP,GACxFhD,OAAQ,SAACiD,GAAD,OACN,kBAAC7G,GAAD,CACEljB,MAAM,2BACNyE,UAAW2iC,GACXvgC,UAAWkjB,EACXn+B,YAAa5L,EAAO4L,YACpBgtB,WAAW,SACXqF,SAAU,CACRje,MAAO,uCACPvK,OAAQ,EAAK4xC,gCACb7yB,SAAUwmB,IACR,kBAAM,EAAK99C,SAAS,CAAE6jD,YAAaA,MACnC/gD,EAAOC,IAAIsC,aAAaK,yBAE1B0L,KAAM,CACJirC,aAAc74C,EAAO64C,aACrBa,UAAWtQ,GAEb7iB,QAASpW,GAAO0B,QAAQ,+BAE1B6rB,UAAW,CACTpe,MAAO,uCACPvK,OAAQ,EAAK4xC,gCACb7yB,SAAU2mB,IACR,kBAAM,EAAKj+C,SAAS,CAAE6jD,YAAaA,MACnC/gD,EAAOC,IAAIsC,aAAaM,4BAE1BokB,QAASpW,GAAO0B,QAAQ,kCAE1BmsB,YAAa,CACXc,aAAc4b,IACZ,kBAAM,EAAKl+C,SAAS,CAAE6jD,YAAaA,MACnC/gD,EAAOC,IAAIsC,aAAaM,4BAE1BokB,QAASpW,GAAO0B,QAAQ,kCAE1B2tB,WAAYrvB,GAAOqH,0BAO7B,KACJ,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAYtc,MAAM,QAAlB,4BAGA,kBAAC,GAAD,KACE,kBAAC,GAAD,CACEirC,OAAQgjB,EACRjjB,SAAW/1B,GAAOwC,UAAUrT,EAAOC,IAAIS,OAAOwB,eAAgB4nC,GAC9DhD,OAAS,SAACiD,GAAD,OACP,kBAAC7G,GAAD,CACEljB,MAAM,eACNyE,UAAWgjC,GACX5gC,UAAWkjB,EAASv0B,QACpB5J,YAAa5L,EAAO4L,YACpB6yB,UAAU,EACV7F,WAAW,SACXqF,SAAU,CACRje,MAAO,2BACPvK,OAAQiyC,GACRlzB,SAAUwmB,IACR,kBAAM,EAAK99C,SAAS,CAAC2sD,kBAAmBA,MACxC7pD,EAAOC,IAAIS,OAAOwB,eAClB4nC,GAEFx7B,KAAM,CACJ,aAAgB5N,EAAO64C,aACvB,UAAazP,IAGjB1L,UAAW,CACTpe,MAAO,2BACPvK,OAAQiyC,GACRlzB,SAAU2mB,IACR,kBAAM,EAAKj+C,SAAS,CAAC2sD,kBAAmBA,MACxC7pD,EAAOC,IAAIS,OAAOyB,iBAClB2nC,IAGJpL,YAAa,CACXc,aAAc4b,IACZ,kBAAM,EAAKl+C,SAAS,CAAC2sD,kBAAmBA,MACxC7pD,EAAOC,IAAIS,OAAOyB,iBAClB2nC,IAGJ5J,WAAYrvB,GAAOqH,yBAM7B,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAYtc,MAAM,QAAlB,4BACA,kBAAC,GAAD,KACE,kBAAC,GAAD,CACEgrC,SAAU/1B,GAAOwC,UAAUrT,EAAOC,IAAIoF,QAAQmB,4BAA6BsjC,GAC3EhD,OAAQ,SAACiD,GAAD,OACN,kBAAC7G,GAAD,CACEze,UAAW,EAAKmvC,4BAChB/sC,UAAWkjB,EACXn+B,YAAa5L,EAAO4L,YACpBqe,aAAc,CACZ,CACE,QAAW,yDACX,KAAQ,kBAAC,KAAD,CAASruB,MAAM,cACvB,YAAe,kBAAOiV,GAAO8B,SAAP,8BAAuCm3B,EAAvC,oBACtB,QAAWj5B,GAAO0B,QAAQ,kCAG9B2X,WAAY,CACV,CACE,QAAW,yDACX,KAAQ,kBAAC,KAAD,MACR,YAAe,SAAC5b,GAAD,OAAUuC,GAAO8B,SAAP,8BAAuCm3B,EAAvC,sBAA8Dx7B,EAAKhQ,GAAnE,WACzB,QAAWuS,GAAO0B,QAAQ,kCAG9BqmB,WAAW,SACXsH,WAAYrvB,GAAOqH,kBACnBye,YAAa,CAAEhK,SAAU,YAMjCjsB,EAAO64C,aACP,kBAAC,GAAD,CACEv5B,MAAK,UAAKtf,EAAOuf,UAAZ,6BACLs5B,aAAc74C,EAAO64C,aACrBa,UAAWtQ,IAEX,KACJ,kBAACmF,GAAD,CAASF,WAAW,+BAClB,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAYnzC,MAAM,QAAlB,0DACA,kBAAC,GAAD,KACG8E,EAAO64C,aACN,kBAAC,GAAD,CACEA,aAAc74C,EAAO64C,aACrBa,UAAWtQ,EACXlD,SAAU/1B,GAAOwC,UAAUrT,EAAOC,IAAIoF,QAAQoB,iCAAkCqjC,KAEhF,c,GAzPW/nB,IAAMhjB,WAmQtB8vC,MACbnD,uBAAaioB,IACb,8BCpRa9kB,M,2MAtBb7uB,MAAQ,2B,EAER+c,kBAAoB,WAClB7nB,SAAS8K,MAAT,UAAoB,EAAKA,MAAzB,sC,wEAIA,OACE,6BACE,kBAAC,GAAD,CACEwuB,YAAa,CACX,CAAE,KAAQ,sBAAuB,KAAQ,8CACzC,CAAE,KAAQvxC,KAAK+iB,QAEjB4mB,SAAU5mC,EAAOC,IAAIoF,QAAQiB,sBAC7B20C,SAAU,SAAC3sC,GAAD,OAAUuC,GAAO8B,SAAP,8BAAuCrE,EAAKhQ,GAA5C,c,GAhBIyjB,IAAMhjB,WAuBY,6BCqJrC8vC,M,YApJb,WAAYvyC,GAAQ,IAAD,8BACjB,4CAAMA,KAHR+0D,4BAA8BxgD,GAAOoG,MAAM2sC,IAExB,EAWnBniB,WAAa,SAACnlC,GAEZ69C,GADoC79C,EAA5Bi9C,aAA4Bj9C,EAAd89C,WACsB1gC,MAAK,SAAApL,GAAI,OAAI,EAAKpR,SAAS,CAACu0D,kBAAmBnjD,QAb1E,EAgBnBgjD,yBAA2B,SAAChjD,GAAU,IAAD,EACoB,EAAKhS,MAApDm8C,EAD2B,EAC3BA,WAAY3O,EADe,EACfA,UAAWpyB,EADI,EACJA,KAAMC,EADF,EACEA,MAAOwgC,EADT,EACSA,OACxC,EAAKqZ,2BACP,EAAKA,0BAA0B,CAAC95C,OAAMC,QAAO+tC,gBAAiBvN,EAAQM,aAAY3O,eAnBnE,EAuBnBgR,2BAA6B,SAACxsC,EAAMyQ,GAClC,OAAO+7B,GAA2BxsC,GAAMoL,MAAK,SAAAwO,GAC3CnJ,IACAsmB,GAAMC,QAAQ72B,GAASoB,QAAQO,2BAC9BukB,OAAM,SAAA/J,GACPya,GAAMtnC,MAAM6sB,EAAOxpB,YA5BJ,EAgCnBuwD,0BAA4B,SAACrjD,GAC3B,EAAKpR,UAAS,SAAAX,GAAK,MAAK,CAAEsqC,QAAStqC,EAAMsqC,YAjCxB,EAoCnBspB,cAAgB,SAAC7hD,GACX,EAAK+hD,iBACHj/C,MAAMC,QAAQ/C,IAASA,EAAKhB,OAAS,GAAKgB,EAAK,GAAGsjD,WACpDhX,GAAiCtsC,EAAK,GAAGsjD,YAAYl4C,MAAK,SAAA42C,GAExD,IAAMC,EAAe1/C,GAAOoG,MAAMunC,IAClC3tC,GAAOkC,gBAAgBw9C,EAAc,OAAQ,eAA7C,QAAyED,EAAUE,mBACnF,EAAKtzD,SAAS,CAACqzD,iBACf,EAAKF,eAAeC,MACnB37B,OAAM,SAAA/J,GACPya,GAAMtnC,MAAM6sB,EAAOxpB,WAGrBikC,GAAMtnC,MAAM0Q,GAASG,MAAMS,4BAjDd,EAsDnBwiD,yBAA2B,SAACvjD,EAAMyQ,GAChC,OAAOg8B,GAAuBzsC,EAAKgyC,gBAAiBhyC,EAAK8rC,UAAW9rC,GAAMoL,MAAK,WAC7EqF,IACAsmB,GAAMC,QAAQ72B,GAASoB,QAAQQ,eAC9BskB,OAAM,SAAA/J,GACPya,GAAMtnC,MAAM6sB,EAAOxpB,YAxDrB,EAAK7E,MAAQ,CACXg0D,aAAc/R,GACdiT,kBAAmB,GACnB5qB,QAAQ,GAEV,EAAKpF,WAAWnlC,GARC,E,sEA+DT,IAAD,SAC6CW,KAAKV,MAAjDg0D,EADD,EACCA,aAAckB,EADf,EACeA,kBAAmB5qB,EADlC,EACkCA,OADlC,EAEqB5pC,KAAKX,MAAzB0jB,EAFD,EAECA,MAAO4mB,EAFR,EAEQA,SAMf,OAJA/1B,GAAOkC,gBACL9V,KAAKo0D,4BAA6B,OAAQ,mBAD5C,QAEeI,EAGb,6BACE,kBAAC,GAAD,CACE5qB,OAAQA,EACRD,SAAUA,EACVE,OAAQ,SAACiD,GAAD,OACN,kBAAC7G,GAAD,CACEljB,MAAOA,EACPwe,WAAW,EACX/Z,UAAW2/B,GACXv9B,UAAWkjB,EACXn+B,YAAa5L,EAAO4L,YACpBs0B,WAAYrvB,GAAOqH,kBACnB+R,aAAc,CACZ,CACE,QAAW,uFACX,KAAQ,kBAAC,KAAD,MACR,YAAe,EAAKqnC,yBACpB,QAAWzgD,GAAO0B,QAAQ,+BAE5B,CACE,QAAW,uFACX,KAAQ,kBAAC,KAAD,MACR,YAAe,EAAK49C,cACpB,QAAWt/C,GAAO0B,QAAQ,sCAMpC,kBAAC08B,GAAD,CAASF,WAAW,8BAClB,kBAAC,GAAD,CACEtd,SAAU,SAAC8N,GAAU,EAAKiyB,0BAA4BjyB,GAAOA,EAAI3gB,YACjEoB,MAAO,uFACPvK,OAAQxY,KAAKo0D,4BACb/2D,OAAQupD,GACRrvB,SAAUv3B,KAAK69C,2BACfpmB,aAAcz3B,KAAK00D,6BAGvB,kBAAC1iB,GAAD,CAASF,WAAW,+BAClB,kBAAC,GAAD,CACEtd,SAAU,SAAC8N,GAAU,EAAK8wB,eAAiB9wB,GAAOA,EAAI3gB,YACtDoB,MAAM,uFACNvK,OAAQ86C,EACRj2D,OAAQmkD,GACRjqB,SAAUv3B,KAAK40D,yBACfn9B,aAAcz3B,KAAK00D,kC,GAzHI5vC,IAAMhjB,WAuJY,+BCxGtC8vC,M,YAzDb,WAAYvyC,GAAQ,IAAD,8BACjB,4CAAMA,KASRmlC,WAAa,SAACnlC,GAAW,IAAD,EACSA,EAAMmY,MAAMxC,OAAnCwmC,EADc,EACdA,WAAYN,EADE,EACFA,OACpBI,GAAkBE,GAAY/+B,MAAK,SAAA0lC,GACjC,EAAKliD,SAAS,CAACkiD,eAEjBlH,GAAgBC,GAAQz+B,MAAK,SAAAnX,GAC3B,EAAKrF,SAAS,CAACqF,qBAhBA,EAoBnB6nC,mBAAqB,WAAO,IAClBgV,EAAY,EAAK7iD,MAAjB6iD,QACRlqC,SAAS8K,MAAT,+EAAkCo/B,EAAQriD,MAAQ,GAAlD,gCAnBA,EAAKR,MAAQ,CACX6iD,QAAS,GACT78C,aAAc,IAEhB,EAAKk/B,WAAWnlC,GAPC,E,sEAyBT,IAAD,EACqCW,KAAKX,MAAMmY,MAAMxC,OAArDwmC,EADD,EACCA,WAAY/gC,EADb,EACaA,KAAMC,EADnB,EACmBA,MAAOwgC,EAD1B,EAC0BA,OAD1B,EAE2Bl7C,KAAKV,MAA/B6iD,EAFD,EAECA,QAAS78C,EAFV,EAEUA,aAEjB,OACE,6BACE,kBAAC,GAAD,CACEisC,YAAa,CACX,CAAE7mB,KAAM,sCAAuC5qB,KAAM,wCACrD,CAAE4qB,KAAK,sBAAD,OAAwB8wB,GAAc17C,KAAMqiD,EAAQriD,MAC1D,CAAEA,KAAK,GAAD,OAAK2a,EAAL,iBAAaC,EAAb,kBAAuBpV,EAAaxF,KAApC,gFAGV,kBAACY,EAAA,EAAD,CAAOkB,MAAOq0C,IACXkM,EAAQ7F,aACP,kBAAC,GAAD,CACEv5B,MAAK,UAAKtI,EAAL,iBAAaC,EAAb,kBAAuBpV,EAAaxF,KAApC,4EACLw8C,aAAc6F,EAAQ7F,aACtBa,UAAW3B,EACXA,WAAYA,EACZN,OAAQA,EACRzgC,KAAMA,EACNC,MAAOA,EACPivB,SAAU/1B,GAAOwC,UAAUrT,EAAOC,IAAIoF,QAAQK,gCAAiC+yC,EAAY/gC,EAAMC,EAAOwgC,KAExG,W,GApDqBp2B,IAAMhjB,WA2DY,+BCAtC8vC,M,YAzDb,WAAYvyC,GAAQ,IAAD,8BACjB,4CAAMA,KASRmlC,WAAa,SAACnlC,GAAW,IAAD,EACQA,EAAMmY,MAAMxC,OAAlC63B,EADc,EACdA,UAAWqO,EADG,EACHA,OACnBO,GAAoB5O,GAAWpwB,MAAK,SAAAhZ,GAClC,EAAKxD,SAAS,CAACwD,cAEjBw3C,GAAgBC,GAAQz+B,MAAK,SAAAnX,GAC3B,EAAKrF,SAAS,CAACqF,qBAhBA,EAoBnB6nC,mBAAqB,WAAO,IAClB1pC,EAAW,EAAKnE,MAAhBmE,OACRwU,SAAS8K,MAAT,+EAAkCtf,EAAOuf,WAAa,GAAtD,sCAnBA,EAAK1jB,MAAQ,CACXmE,OAAQ,GACR6B,aAAc,IAEhB,EAAKk/B,WAAWnlC,GAPC,E,sEAyBT,IAAD,EACoCW,KAAKX,MAAMmY,MAAMxC,OAApD63B,EADD,EACCA,UAAWpyB,EADZ,EACYA,KAAMC,EADlB,EACkBA,MAAOwgC,EADzB,EACyBA,OACxBz3C,EAAWzD,KAAKV,MAAhBmE,OAER,OACE,6BACE,kBAAC,GAAD,CACE8tC,YAAa,CACX,CAAE7mB,KAAM,sBAAuB5qB,KAAM,8CACrC,CAAE4qB,KAAK,uBAAD,OAAyBmiB,GAAa/sC,KAAM2D,EAAOuf,WACzD,CAAEljB,KAAK,GAAD,OAAK2a,EAAL,iBAAaC,EAAb,kBAAuBjX,EAAOuf,UAA9B,gFAGV,kBAACtiB,EAAA,EAAD,CAAOkB,MAAOq0C,IACXxyC,EAAO64C,aACN,kBAAC,GAAD,CACEv5B,MAAK,UAAKtI,EAAL,iBAAaC,EAAb,kBAAuBjX,EAAOuf,UAA9B,4EACLs5B,aAAc74C,EAAO64C,aACrBa,UAAWtQ,EACXA,UAAWA,EACXqO,OAAQA,EACRzgC,KAAMA,EACNC,MAAOA,EACPivB,SAAU/1B,GAAOwC,UAAUrT,EAAOC,IAAIoF,QAAQqB,mCAAoCojC,EAAWpyB,EAAMC,EAAOwgC,KAE1G,W,GApDwBp2B,IAAMhjB,WA2DY,+BCpCzC8vC,M,2MA3Bb9R,kBAAoB,WAAO,IAAD,EACA,EAAKzgC,MAAMmY,MAAMxC,OAAjCyF,EADgB,EAChBA,KAAMC,EADU,EACVA,MACdzC,SAAS8K,MAAT,UAAoBtI,EAApB,iBAA4BC,EAA5B,mC,wEAGQ,IAAD,EACiB1a,KAAKX,MAAMmY,MAAMxC,OAAjCyF,EADD,EACCA,KAAMC,EADP,EACOA,MAEd,OACE,6BACE,kBAAC,GAAD,CACE62B,YAAa,CACX,CAAE7mB,KAAM,4BAA6B5qB,KAAM,4BAC3C,CAAEA,KAAK,GAAD,OAAK2a,EAAL,iBAAaC,EAAb,sCAGV,kBAACha,EAAA,EAAD,CAAOkB,MAAOq0C,IACZ,kBAAC,GAAD,CACElzB,MAAK,UAAKtI,EAAL,iBAAaC,EAAb,kCACLivB,SAAU/1B,GAAOwC,UAAUrT,EAAOC,IAAIoF,QAAQkC,sBAAuBmQ,EAAMC,W,GArBtDoK,IAAMhjB,WA6BY,+B,qBC9BtC+0D,GAAsB,CACjC,CACE,KAAQ,OACR,KAAQ,SACR,MAAS,2BACT,KAAQ,2BACR,YAAc,EACd,UAAY,EACZ,UAAa,KAEf,CACE,KAAQ,eACR,KAAQ,SACR,MAAS,2BACT,YAAc,EACd,UAAY,EACZ,UAAa,KAEf,CACE,KAAQ,gBACR,KAAQ,SACR,MAAS,2BACT,QAAW,GACX,YAAc,EACd,UAAY,EACZ,QAAU,GAEZ,CACE,KAAQ,eACR,KAAQ,UACR,MAAS,eACT,UAAY,GAEd,CACE,KAAQ,aACR,KAAQ,OACR,MAAS,qBACT,UAAY,GAEd,CACE,KAAQ,WACR,KAAQ,OACR,MAAS,qBACT,UAAY,GAEd,CACE,KAAQ,eACR,KAAQ,SACR,MAAS,2BACT,QAAW,GACX,YAAc,EACd,UAAY,EACZ,QAAU,GAEZ,CACE,KAAQ,cACR,KAAQ,SACR,MAAS,qBACT,QAAW,GACX,YAAc,EACd,UAAY,EACZ,QAAU,GAEZ,CACE,KAAQ,cACR,KAAQ,UACR,MAAS,eACT,YAAc,EACd,SAAW,EACX,UAAa,CACX9U,EAAG,CAAC,gBAAmB,cAEzB,QAAW,SACX,QAAU,IAID+U,GAA6B,CACxC,CAAC,OAAQ,gBACT,CAAC,cAAe,iBAChB,eACA,eAGWC,GAA4B,CACvC,CACE,KAAQ,uBACR,KAAQ,SACR,MAAS,uCACT,UAAY,EACZ,QAAW,GACX,WAAc,qBAEhB,CACE,KAAQ,oBACR,KAAQ,SACR,MAAS,2BACT,UAAY,EACZ,QAAW,GACX,aAAgB,wBAElB,CACE,KAAQ,OACR,KAAQ,SACR,MAAS,2BACT,UAAY,EACZ,WAAc,IAEhB,CACE,KAAQ,cACR,KAAQ,OACR,MAAS,2BACT,WAAc,KAEhB,CACE,KAAQ,gBACR,KAAQ,SACR,MAAS,2BACT,UAAY,EACZ,QAAW,IAEb,CACE,KAAQ,aACR,KAAQ,OACR,MAAS,qBACT,UAAY,GAEd,CACE,KAAQ,WACR,KAAQ,OACR,MAAS,qBACT,UAAY,EACZ,QAAW,cAEb,CACE,KAAQ,WACR,KAAQ,SACR,MAAS,iCACT,WAAc,KAEhB,CACE,KAAQ,WACR,KAAQ,SACR,MAAS,iCACT,WAAc,KAEhB,CACE,KAAQ,kBACR,KAAQ,SACR,MAAS,qBACT,WAAc,GACd,UAAY,GAEd,CACE,KAAQ,eACR,KAAQ,SACR,MAAS,2BACT,QAAW,GACX,UAAY,GAEd,CACE,KAAQ,cACR,KAAQ,SACR,MAAS,qBACT,QAAW,GACX,UAAY,IAIHC,GAA4B,CACvC,uBACA,oBACA,OACA,cACA,gBACA,CAAC,aAAc,YACf,CAAC,WAAY,YACb,kBACA,eACA,eAGWC,GAAiC,CAC5C,CACE,KAAQ,kBACR,KAAQ,SACR,MAAS,6CACT,UAAY,EACZ,QAAW,IACX,QAAW93C,IAEb,CACE,KAAQ,YACR,KAAQ,UACR,MAAS,2BACT,KAAQ,KAEV,CACE,KAAQ,YACR,KAAQ,UACR,MAAS,2BACT,KAAQ,KAEV,CACE,KAAQ,gBACR,KAAQ,UACR,MAAS,kCAEX,CACE,KAAQ,sBACR,KAAQ,UACR,MAAS,mCAwBA+3C,GAAiC,CAC5C,gBACA,kBACA,CAAC,YAAa,aACd,uBAKWC,GAAwB,CACnC,CACE,KAAQ,eACR,KAAQ,SACR,MAAS,sBAEX,CACE,KAAQ,gBACR,KAAQ,SACR,MAAS,2BACT,QAAW,IAEb,CACE,KAAQ,aACR,KAAQ,OACR,MAAS,sBAEX,CACE,KAAQ,WACR,KAAQ,OACR,MAAS,sBAEX,CACE,KAAQ,kBACR,KAAQ,SACR,MAAS,sBAEX,CACE,KAAQ,mBACR,KAAQ,SACR,MAAS,sBAEX,CACE,KAAQ,SACR,KAAQ,SACR,MAAS,iCACT,QAAW/3C,KAIFg4C,GAA6B,CACxC,CACE,KAAQ,YACR,KAAQ,SACR,MAAS,eACT,KAAQ,gDAEV,CACE,KAAQ,aACR,KAAQ,OACR,MAAS,sBAEX,CACE,KAAQ,WACR,KAAQ,OACR,MAAS,sBAEX,CACE,KAAQ,cACR,KAAQ,UACR,MAAS,wCAEX,CACE,KAAQ,wBACR,KAAQ,SACR,MAAS,uCACT,QAAW,CACT,CAAE,MAAS,KAAM,aAAgB,8CACjC,CAAE,MAAS,KAAM,aAAgB,wCACjC,CAAE,MAAS,KAAM,aAAgB,+CACjC,CAAE,MAAS,KAAM,aAAgB,qDACjC,CAAE,MAAS,KAAM,aAAgB,4BACjC,CAAE,MAAS,KAAM,aAAgB,gBACjC,CAAE,MAAS,KAAM,aAAgB,gDAGrC,CACE,KAAQ,aACR,KAAQ,UACR,MAAS,eACT,YAAc,EACd,SAAW,EACX,UAAa,CACXrV,EAAG,CAAC,gBAAmB,cAEzB,QAAW,SACX,QAAU,IAIDsV,GAA6B,CACxC,CACE,KAAQ,eACR,KAAQ,SACR,MAAS,2BACT,WAAa,GAEf,CACE,KAAQ,sBACR,KAAQ,SACR,MAAS,2BACT,UAAY,EACZ,QAAW,GACX,WAAc,oBAEhB,CACE,KAAQ,mBACR,KAAQ,SACR,MAAS,2BACT,UAAY,EACZ,QAAW,GACX,aAAgB,sBAChB,QAAW,gBAEb,CACE,KAAQ,YACR,KAAQ,SACR,MAAS,2BACT,QAAW,CACT,CAAE,MAAS,KAAM,aAAgB,sDACjC,CAAE,MAAS,KAAM,aAAgB,4DACjC,CAAE,MAAS,KAAM,aAAgB,oFACjC,CAAE,MAAS,KAAM,aAAgB,wEACjC,CAAE,MAAS,KAAM,aAAgB,4DACjC,CAAE,MAAS,IAAK,aAAgB,yCAChC,CAAE,MAAS,IAAK,aAAgB,wDAKzBC,GAA8B,CACzC,CACE,KAAQ,KACR,KAAQ,SACR,MAAS,2BACT,WAAa,GAEf,CACE,KAAQ,YACR,KAAQ,SACR,MAAS,eACT,WAAa,GAEf,CACE,KAAQ,oBACR,KAAQ,SACR,MAAS,2BACT,WAAa,GAEf,CACE,KAAQ,aACR,KAAQ,UACR,MAAS,uCACT,UAAY,EACZ,UAAa,EACb,UAAa,EACb,KAAQ,IAEV,CACE,KAAQ,eACR,KAAQ,SACR,MAAS,2BACT,WAAa,IA6BJC,GAA+B,CAC1C,CACE,KAAQ,eACR,KAAQ,SACR,MAAS,4BAEX,CACE,KAAQ,YACR,KAAQ,SACR,MAAS,gBAEX,CACE,KAAQ,YACR,KAAQ,SACR,MAAS,2BACT,QAAW,CACT,CAAE,MAAS,KAAM,aAAgB,sDACjC,CAAE,MAAS,KAAM,aAAgB,4DACjC,CAAE,MAAS,KAAM,aAAgB,oFACjC,CAAE,MAAS,KAAM,aAAgB,wEACjC,CAAE,MAAS,KAAM,aAAgB,4DACjC,CAAE,MAAS,IAAK,aAAgB,yCAChC,CAAE,MAAS,IAAK,aAAgB,wDAKzBC,GAAmC,CAC9C,CACE,KAAQ,KACR,KAAQ,SACR,MAAS,2BACT,KAAQ,mEAEV,CACE,KAAQ,aACR,KAAQ,UACR,MAAS,+CAIAC,GAAqC,CAChD,CACE,KAAQ,YACR,KAAQ,SACR,MAAS,gBAEX,CACE,KAAQ,cACR,KAAQ,UACR,MAAS,4BAEX,CACE,KAAQ,iBACR,KAAQ,UACR,MAAS,wCAEX,CACE,KAAQ,cACR,KAAQ,UACR,MAAS,4BAEX,CACE,KAAQ,aACR,KAAQ,UACR,MAAS,4BAEX,CACE,KAAQ,aACR,KAAQ,UACR,MAAS,4BAEX,CACE,KAAQ,eACR,KAAQ,UACR,MAAS,4BAEX,CACE,KAAQ,YACR,KAAQ,UACR,MAAS,4BAEX,CACE,KAAQ,YACR,KAAQ,UACR,MAAS,6BAIAC,GAAiC,CAC5C,CACE,KAAQ,YACR,KAAQ,SACR,MAAS,eACT,WAAa,GAEf,CACE,KAAQ,cACR,KAAQ,UACR,MAAS,2BACT,UAAY,EACZ,KAAQ,IACR,UAAa,EACb,UAAa,KAEf,CACE,KAAQ,iBACR,KAAQ,UACR,MAAS,uCACT,KAAQ,IACR,UAAa,EACb,UAAa,KAEf,CACE,KAAQ,cACR,KAAQ,UACR,MAAS,2BACT,KAAQ,IACR,UAAa,EACb,UAAa,KAEf,CACE,KAAQ,aACR,KAAQ,UACR,MAAS,2BACT,UAAa,EACb,UAAa,IAEf,CACE,KAAQ,aACR,KAAQ,UACR,MAAS,2BACT,UAAa,EACb,UAAa,KAIJC,GAAiC,CAC5C,YACA,CAAC,cAAe,cAAe,kBAC/B,CAAC,aAAc,eAGJC,GAAgC,CAC3C,CACE,KAAQ,KACR,KAAQ,SACR,MAAS,4BAEX,CACE,KAAQ,WACR,KAAQ,SACR,MAAS,2BACT,KAAQ,yDAEV,CACE,KAAQ,eACR,KAAQ,SACR,MAAS,wCAEX,CACE,KAAQ,aACR,KAAQ,SACR,MAAS,2BACT,KAAQ,6DAEV,CACE,KAAQ,kBACR,KAAQ,UACR,MAAS,0CAEX,CACE,KAAQ,SACR,KAAQ,UACR,MAAS,2CAIAC,GAA6B,CACxC,CACE,KAAQ,eACR,KAAQ,SACR,MAAS,2BACT,UAAY,EACZ,WAAc,IAEhB,CACE,KAAQ,WACR,KAAQ,SACR,MAAS,2BACT,UAAY,EACZ,WAAa,EACb,WAAc,IAEhB,CACE,KAAQ,eACR,KAAQ,SACR,MAAS,iCACT,UAAY,IAIHC,GAA4B,CACvC,CACE,KAAQ,eACR,KAAQ,SACR,MAAS,2BACT,WAAa,GAEf,CACE,KAAQ,OACR,KAAQ,SACR,MAAS,iCACT,UAAY,EACZ,WAAc,IAEhB,CACE,KAAQ,WACR,KAAQ,SACR,MAAS,2BACT,UAAY,EACZ,WAAc,IAEhB,CACE,KAAQ,aACR,KAAQ,OACR,MAAS,qBACT,UAAY,GAEd,CACE,KAAQ,aACR,KAAQ,OACR,MAAS,qBACT,UAAY,GAEd,CACE,KAAQ,WACR,KAAQ,OACR,MAAS,qBACT,UAAY,GAEd,CACE,KAAQ,gBACR,KAAQ,SACR,MAAS,2BACT,QAAW,CACT,CAAE,MAAS,KAAM,aAAgB,4BACjC,CAAE,MAAS,KAAM,aAAgB,sBACjC,CAAE,MAAS,KAAM,aAAgB,gBACjC,CAAE,MAAS,KAAM,aAAgB,gBACjC,CAAE,MAAS,KAAM,aAAgB,gBACjC,CAAE,MAAS,KAAM,aAAgB,uBAEnC,UAAY,GAEd,CACE,KAAQ,UACR,KAAQ,UACR,MAAS,eACT,QAAW,GACX,UAAa,gHAEf,CACE,KAAQ,eACR,KAAQ,SACR,MAAS,iCACT,QAAW,GACX,UAAY,GAEd,CACE,KAAQ,aACR,KAAQ,OACR,MAAS,qBACT,aAAgB,kBAChB,gBAAmB,SAAC39B,GAAD,OAAaqjB,GAAmBrjB,MAI1C49B,GAA4B,CACvC,eACA,CAAC,OAAQ,YACT,CAAC,aAAc,aAAc,YAC7B,gBACA,UACA,eACA,cAIWC,GAAsC,CACjD,CACE,KAAQ,cACR,KAAQ,SACR,MAAS,2BACT,KAAQ,SAAC3mD,GACP,OAA+B,IAAxBA,EAAKq0C,eACR,KACA,iFAGR,CACE,KAAQ,gBACR,KAAQ,SACR,MAAS,2BACT,QAAWhnC,IAEb,CACE,KAAQ,aACR,KAAQ,OACR,MAAS,kCAEX,CACE,KAAQ,WACR,KAAQ,OACR,MAAS,kCAEX,CACE,KAAQ,wBACR,KAAQ,SACR,MAAS,uCACT,UAAY,EACZ,QAAW,CACT,CAAE,MAAS,KAAM,aAAgB,8CACjC,CAAE,MAAS,KAAM,aAAgB,wCACjC,CAAE,MAAS,KAAM,aAAgB,+CACjC,CAAE,MAAS,KAAM,aAAgB,qDACjC,CAAE,MAAS,KAAM,aAAgB,4BACjC,CAAE,MAAS,KAAM,aAAgB,gBACjC,CAAE,MAAS,KAAM,aAAgB,gDAGrC,CACE,KAAQ,gBACR,KAAQ,UACR,MAAS,gBAEX,CACE,KAAQ,eACR,KAAQ,UACR,MAAS,4BAEX,CACE,KAAQ,cACR,KAAQ,UACR,MAAS,iBAIAu5C,GAAoC,CAC/C,CACE,KAAQ,eACR,KAAQ,SACR,MAAS,2BACT,KAAQ,qCAEV,CACE,KAAQ,cACR,KAAQ,SACR,MAAS,2BACT,KAAQ,oFAEV,CACE,KAAQ,aACR,KAAQ,OACR,MAAS,sBAEX,CACE,KAAQ,WACR,KAAQ,OACR,MAAS,sBAEX,CACE,KAAQ,SACR,KAAQ,UACR,MAAS,oDAEX,CACE,KAAQ,aACR,KAAQ,UACR,MAAS,eACT,UAAa,CACXlW,EAAG,CAAC,gBAAmB,gBAKhBmW,GAAmC,CAC9C,CACE,KAAQ,UACR,KAAQ,SACR,MAAS,2BACT,QAAW,GACX,UAAY,IAIH3R,GAA+B,CAC1C,CACE,KAAQ,gBACR,KAAQ,SACR,MAAS,2BACT,UAAY,EACZ,WAAa,EACb,QAAW,CAAC,CAAE,MAAS,OAAQ,aAAgB,kBAEjD,CACE,KAAQ,gBACR,KAAQ,OACR,MAAS,qBACT,UAAY,GAEd,CACE,KAAQ,aACR,KAAQ,OACR,MAAS,iCACT,UAAY,GAEd,CACE,KAAQ,WACR,KAAQ,OACR,MAAS,iCACT,UAAY,IAIHU,GAAgC,CAC3C,cAAiB,OACjBD,WAAY,CACV,CAAE,KAAQ,OAAQ,KAAQ,6CAAW,KAAQ,KAAM,QAAW,IAC9D,CAAE,KAAQ,OAAQ,KAAQ,6CAAW,OAAU,EAAG,KAAQ,KAAM,QAAW,KAE7E5/C,eAAgB,CACd,CAAE,KAAQ,OAAQ,KAAQ,4BAC1B,CAAE,KAAQ,OAAQ,KAAQ,gBAC1B,CAAE,KAAQ,OAAQ,KAAQ,4BAC1B,CAAE,KAAQ,OAAQ,KAAQ,sBAC1B,CAAE,KAAQ,OAAQ,KAAQ,kCAC1B,CAAE,KAAQ,OAAQ,KAAQ,oCAIjB+wD,GAAuC,CAClD,CACE,KAAQ,cACR,KAAQ,SACR,MAAS,2BACT,KAAQ,4DAEV,CACE,KAAQ,gBACR,KAAQ,SACR,MAAS,2BACT,QAAWz5C,IAEb,CACE,KAAQ,aACR,KAAQ,OACR,MAAS,kCAEX,CACE,KAAQ,WACR,KAAQ,OACR,MAAS,kCAEX,CACE,KAAQ,eACR,KAAQ,UACR,MAAS,4BAEX,CACE,KAAQ,aACR,KAAQ,UACR,MAAS,iBCzwBEkzB,M,YA/Gb,WAAYvyC,GAAQ,IAAD,8BACjB,4CAAMA,KAHR0jB,MAAQ,2BAEW,EAYnByhB,WAAa,WACXiW,KAAyBh+B,MAAK,SAAApY,GAC5B,EAAKpE,SAAS,CAACoE,qBAEjBy3C,KAA+Br/B,MAAK,SAAA27C,GAClC,EAAKn4D,SAAS,CAACm4D,sBAEjBrd,KAAuBt+B,MAAK,SAAAmmC,GAAkB,OAAI,EAAK3iD,SAAS,CAAC2iD,2BAnBhD,EAsBnB9iB,kBAAoB,WAClB7nB,SAAS8K,MAAQ,EAAKA,OAvBL,EA0BnBs1C,oBAAsB,SAAChnD,GACrB,OnEyiBG,SAAuBypC,EAAYzpC,GACxC,OAAOqK,GAAKK,SAASnI,GAAOwC,UAAUrT,EAAOC,IAAI2H,QAAQC,OAAQkwC,GAAazpC,GmE1iBrEinD,CAAcjnD,EAAKhQ,GAAIgQ,GAAMoL,MAAK,WACvC2rB,GAAMC,QAAQ72B,GAASoB,QAAQC,OAC/B,EAAK0lD,mBAAqB,EAAKA,oBAC/B,EAAKt4D,UAAS,SAAAX,GACZ,MAAO,CAACsqC,QAAStqC,EAAMsqC,cAExBntB,MAAK,SAAAkR,GAAM,OAAIya,GAAMtnC,MAAM6sB,EAAOxpB,YA9BrC,EAAK7E,MAAQ,CACX+E,cAAe,GACf+zD,eAAgB,GAChBxV,mBAAoB,GACpBhZ,QAAQ,GAEV,EAAKpF,aATY,E,sEAoCT,IAAD,SAC+DxkC,KAAKV,MAAnE+E,EADD,EACCA,cAAe+zD,EADhB,EACgBA,eAAgBxV,EADhC,EACgCA,mBAAoBhZ,EADpD,EACoDA,OAErD4uB,EAAc5kD,GAAOoG,MAAM68C,IAKjC,OAJAjjD,GAAOkC,gBAAgB0iD,EAAa,OAAQ,iBAAiBx0D,QAAUo0D,EACvExkD,GAAOkC,gBAAgB0iD,EAAa,OAAQ,gBAAgBx0D,QAAUK,EACtEuP,GAAOkC,gBAAgB0iD,EAAa,OAAQ,eAA5C,QAAwE5V,EAGtE,6BACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAYjkD,MAAM,QACfqB,KAAK+iB,OAER,kBAAC,GAAD,KACE,kBAAC,GAAD,CACE6mB,OAAQA,EACRD,SAAW5mC,EAAOC,IAAI2H,QAAQhH,KAC9BkmC,OAAS,SAACiD,GAAD,OACP,kBAAC7G,GAAD,CACEljB,MAAO,EAAKA,MACZsiB,WAAW,mBACX7d,UAAWgxC,EACX5uC,UAAWkjB,EAASv0B,QACpB5J,YAAa5L,EAAO4L,YACpBqe,aAAc,CACZ,CACE,QAAW,6CACX,KAAQ,kBAAC,KAAD,CAASruB,MAAM,cACvB,YAAe,kBAAOiV,GAAO8B,SAAS,0BACtC,QAAW9B,GAAO0B,QAAQ,yBAG9BksB,UAAU,EACVuD,YAAY,EACZ9B,WAAYrvB,GAAOqH,kBACnB0gB,WAAW,SACXjC,YAAa,CAAEhK,SAAU,KACzBzC,WAAY,CACV,CACE,QAAW,6CACX,KAAQ,kBAAC,KAAD,MACR,YAAe,SAAC5b,GACV,EAAKonD,kBACP,EAAKA,iBAAiB,CAAC,GAAMpnD,EAAKhQ,GAAI,YAAegQ,EAAKwhC,YAG9D,QAAWj/B,GAAO0B,QAAQ,4BAG9BqsB,aAAcm1B,UAMxB,kBAAC,GAAD,CACE/zC,MAAM,iCACNvK,OAAQ,CAAC,CACP,KAAQ,cACR,KAAQ,OACR,MAAS,qBACT,UAAY,IAEd+e,SAAUv3B,KAAKq4D,oBACf7jC,SAAU,SAAA8N,GACR,EAAKm2B,iBAAmBn2B,GAAOA,EAAI3gB,WACnC,EAAK42C,kBAAoBj2B,GAAOA,EAAIxgB,oB,GA1GtBgD,IAAMhjB,WAkHY,wBC4B7B8vC,M,YA1Ib,WAAYvyC,GAAQ,IAAD,8BACjB,4CAAMA,KAJR0jB,MAAQ,2BAGW,EAFnBg0C,0BAA4B9nD,KAAKC,MAAMD,KAAKiG,UAAU6hD,KAEnC,EAcnBvyB,WAAa,WACXsX,KAA+Br/B,MAAK,SAAApL,GAClC,EAAKpR,SAAS,CAACy4D,2BAA4BrnD,OAE7CopC,KAAyBh+B,MAAK,SAAApY,GAC5B,EAAKpE,SAAS,CAACoE,qBAEjB23C,KAAqBv/B,MAAK,SAAAk8C,GACxB,EAAK14D,SAAS,CAAC04D,0BAEjB5d,KAAuBt+B,MAAK,SAAAmmC,GAAkB,OAAI,EAAK3iD,SAAS,CAAC2iD,2BAxBhD,EA2BnBuI,SAAW,WAAO,IAAD,EAIX,EAAK7rD,MAFPo5D,EAFa,EAEbA,2BAA4Br0D,EAFf,EAEeA,cAAes0D,EAF9B,EAE8BA,mBAAoB/V,EAFlD,EAEkDA,mBAC/DoD,EAHa,EAGbA,oBAAqB4S,EAHR,EAGQA,mBAEvB,EAAK7B,0BAA0B,GAA/B,QAA+C4B,EAC/C,EAAK5B,0BAA0B,GAA/B,QAA+C2B,EAC/C,EAAK3B,0BAA0B,IAA/B,QAAgD1yD,EAChDuP,GAAOkC,gBAAgB,EAAKihD,0BAA2B,OAAQ,eAA/D,QAA2FnU,EAE3F,IAAIjY,EAAQ,CACV,CACE7qC,KAAM,uCACN0oC,UAAW,CACT1oC,KAAM,aACN0Y,OAAQ,EAAKu+C,0BACb15D,OAAQ25D,GACR3lD,KAAM,CACJ,OAAU,MAEZukB,UAAW,CAAC,SAAC91B,EAAMuR,GAAP,OAAgBkrC,GAC1Bz8C,EACA,uBACAuR,EAAKvR,GACL,EAAKi3D,+BAIX,CACEj3D,KAAM,uCACN83B,YAAa,qKACb4Q,UAAW,CACT1oC,KAAM,kBACN0Y,OAAQy+C,GACR55D,OAAQ65D,GACRthC,UAAW,CAAC,SAAC91B,EAAMuR,EAAMs5B,GACV,wBAAT7qC,GACF,EAAKG,SAAS,CACZ+lD,oBAAqB30C,EAAKvR,GAC1B84D,mBAAoBjuB,EAAK,kBAwCrC,OAjCIqb,GACFrb,EAAM56B,KAAK,CACTjQ,KAAM,2BACN0oC,UAAW,CACT1oC,KAAM,mBACN0Y,OAAQ+tC,GACR3wB,UAAW,CAAC+qB,IACZvqB,QAAS,CACP,CACEt2B,KAAM,aACNijB,MAAO,2BACPvK,OAAQ6sC,GACRpuB,UAAU,EACVD,aAAa,GAEf,CACEl3B,KAAM,iBACNijB,MAAO,2BACPvK,OAAQ+sC,GACRloD,OAAQmoD,GACRvuB,UAAU,EACVD,aAAa,IAGjB3lB,KAAMf,OAAOC,OAAO,CAClB,cAAiB,OACjB,cAAiBqoD,EAAmBlmB,WACpC,WAAckmB,EAAmBlmB,WACjC,SAAYkmB,EAAmB/lB,UAC9BoU,OAIFtc,GAvGP,EAAKrrC,MAAQ,CACXo5D,2BAA4B,GAC5Br0D,cAAe,GACfs0D,mBAAoB,GACpB/V,mBAAoB,GACpBoD,qBAAqB,EACrB4S,mBAAoB,IAEtB,EAAKp0B,aAXY,E,sEA8GjB,IAAMmG,EAAQ3qC,KAAKmrD,WAEnB,OACE,6BACE,kBAAC,GAAD,CACE5Z,YAAa,CACX,CAAE7mB,KAAM,oBAAqB5qB,KAAM,4BACnC,CAAEA,KAAME,KAAK+iB,UAGjB,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAUoR,GAAI,GAAIC,GAAI,GAAIC,GAAI,EAAGmqB,GAAI,GACjC7T,EACA,kBAAC,GAAD,CACE5nB,MAAO/iB,KAAK+iB,MACZ4nB,MAAOA,EACPzC,WAAW,OACXC,aAAcplC,EAAOC,IAAI2H,QAAQI,YACjC0sB,aAAc,SAACpmB,GAAD,OAAUuC,GAAO8B,SAAP,4BAAqCrE,EAAKhQ,QAElE,Y,GAtISyjB,IAAMhjB,WA8IY,uB,0CCzGrC+2D,G,YAGJ,WAAYx5D,GAAQ,IAAD,8BACjB,4CAAMA,KAHRy5D,oBAAsB7pD,KAAKC,MAAMD,KAAKiG,UAAU6hD,KAE7B,EAoBnBvyB,WAAa,SAACnlC,GAAW,IACfy7C,EAAez7C,EAAMmY,MAAMxC,OAA3B8lC,WACR8B,GAAiB9B,GAAYr+B,MAAK,SAAA9R,GAChC,EAAK1K,SAAS,CAAC0K,YACf0xC,GAAkB1xC,EAAQgrD,sBAAsBl5C,MAAK,SAAAs8C,GACnD,EAAKD,oBAAoB,GAAzB,QAAyCC,KAE3C7b,GAAmBvyC,EAAQquD,wBAAyBruD,EAAQsuD,eAAex8C,MAAK,SAAA+3C,GAC9E,EAAKv0D,SAAS,CAAEu0D,yBrEiMjB,SAAkC1Z,GACvC,OAAOp/B,GAAKE,SAAShI,GAAOwC,UAAUrT,EAAOC,IAAI2H,QAAQE,gBAAiBiwC,IqEhMtEoe,CAAyBpe,GAAYr+B,MAAK,SAAApL,GAAI,OAC5C,EAAKpR,SAAS,CAACk5D,wBAAyB9nD,UAG5CyqC,KAA+Br/B,MAAK,SAAApL,GAClC,EAAKpR,SAAS,CAACy4D,2BAA4BrnD,OAE7CopC,KAAyBh+B,MAAK,SAAApY,GAAa,OAAI,EAAKpE,SAAS,CAACoE,qBAC9D23C,KAAqBv/B,MAAK,SAAAk8C,GAAkB,OAAI,EAAK14D,SAAS,CAAC04D,0BAC/D5d,KAAuBt+B,MAAK,SAAAmmC,GAAkB,OAAI,EAAK3iD,SAAS,CAAC2iD,2BAvChD,EA0CnBzV,mBAAqB,WAAO,IAClBxiC,EAAY,EAAKrL,MAAjBqL,QACRsN,SAAS8K,MAAT,UAAoBpY,EAAQ7K,MAAQ,GAApC,gCA5CiB,EA+CnBs5D,cAAgB,SAAC/nD,EAAMyQ,GACrB,OAAOpG,GAAKK,SAAS,EAAKsrC,WAAYh2C,GAAMoL,MAAK,SAAA9R,GAC/C,EAAK1K,SAAS,CAAC0K,YACXmX,GACFA,IAEFsmB,GAAMC,QAAQ72B,GAASoB,QAAQC,UAC9B6kB,OAAM,SAAA/J,GAEP,OADAya,GAAMtnC,MAAM0Q,GAASG,MAAMG,kBACpBkL,QAAQC,OAAO0Q,OAxDP,EA4DnB0rC,gBAAkB,WAChB39C,GAAKI,YAAY,EAAKurC,YAAY5qC,MAAK,WACrC2rB,GAAMC,QAAQ72B,GAASoB,QAAQE,SAC/Bc,GAAO8B,SAAS,wBACfgiB,OAAM,SAAA/J,GACPya,GAAMtnC,MAAM6sB,EAAOxpB,YAjEJ,EAqEnBm1D,mBAAqB,SAACjoD,EAAMkoD,GACtB,EAAKC,sBACP,EAAKA,oBAAoBnoD,GACzB,EAAKooD,wBAA0BF,IAxEhB,EA4EnBG,qBAAuB,SAACroD,EAAMyQ,GAE5B,OrEoQG,SAA8Bg5B,EAAYzpC,GAC/C,OAAOqK,GAAKG,UAAUjI,GAAOwC,UAAUrT,EAAOC,IAAI2H,QAAQiB,uBAAwBkvC,GAAazpC,GqErQtFqoD,CADgB,EAAKr6D,MAAMmY,MAAMxC,OAAhC8lC,WACgCzpC,GAAMoL,MAAK,SAAAwO,GAGjD,GAFAnJ,IACAsmB,GAAMC,QAAQ72B,GAASoB,QAAQK,sBAC3B,EAAKwmD,wBAAyB,CAChC,IAAMh2B,EAAcnzB,OAAOC,OAAOc,EAAM4Z,GACxC,EAAKwuC,wBAAwBh2B,OAE9B/L,OAAM,SAAA/J,GACPya,GAAMtnC,MAAM6sB,EAAOxpB,YAtFJ,EA0FnBw1D,qBAAuB,SAACtoD,GACtB,EAAKpR,SAAS,CAAC2pC,QAAS,EAAKtqC,MAAMsqC,UA3FlB,EA8FnBqrB,oBAAsB,SAACN,GACrB,OAAIA,ErEkgBD,SAAgC7Z,EAAY6Z,GACjD,OAAOj5C,GAAKI,YAAYlI,GAAOwC,UAAUrT,EAAOC,IAAI2H,QAAQmB,uBAAwBgvC,EAAY6Z,IqEjgBrFiF,CADgB,EAAKv6D,MAAMmY,MAAMxC,OAAhC8lC,WACkC6Z,GAAYl4C,MAAK,WACzD2rB,GAAMC,QAAQ72B,GAASoB,QAAQE,SAC/B,EAAK7S,SAAS,CAAC2pC,QAAS,EAAKtqC,MAAMsqC,YAClClS,OAAM,SAAC/J,GACRya,GAAMtnC,MAAM6sB,EAAOxpB,YAGrBikC,GAAMtnC,MAAM0Q,GAASG,MAAMO,wBACpB8K,QAAQC,WAzGA,EA6GnB48C,gCAAkC,WAChC,GAAI,EAAKC,iCAAkC,CAAC,IAClCX,EAA4B,EAAK75D,MAAjC65D,wBACR,EAAKW,iCAAiCX,KAhHvB,EAoHnBY,8BAAgC,SAAC1oD,EAAMyQ,GAErC,OrE2GG,SAAqCg5B,EAAYzpC,GACtD,OAAOqK,GAAKK,SAASnI,GAAOwC,UAAUrT,EAAOC,IAAI2H,QAAQG,uBAAwBgwC,GAAazpC,GqE5GrF2oD,CADgB,EAAK36D,MAAMmY,MAAMxC,OAAhC8lC,WACuCzpC,GAAMoL,MAAK,SAAAwO,GACxDnJ,IACA,EAAK7hB,SAAS,CAACk5D,wBAAyBluC,IACxCmd,GAAMC,QAAQ72B,GAASoB,QAAQC,UAC9B6kB,OAAM,SAAA/J,GACPya,GAAMtnC,MAAM6sB,EAAOxpB,YAxHrB,EAAK7E,MAAQ,CACXqL,QAAS,GACTwuD,wBAAyB,GACzBT,2BAA4B,GAC5Br0D,cAAe,GACfu+C,mBAAoB,GACpB+V,mBAAoB,GACpBnE,kBAAmB,GACnB5qB,QAAQ,GAEV,EAAKpF,WAAWnlC,GAChB,EAAKgoD,WAAazzC,GAAOwC,UACvBrT,EAAOC,IAAI2H,QAAQxG,OACnB9E,EAAMmY,MAAMxC,OAAO8lC,YAhBJ,E,sEA+HT,IAAD,OACCA,EAAe96C,KAAKX,MAAMmY,MAAMxC,OAAhC8lC,WACAx6C,EAAYN,KAAKX,MAAjBiB,QAFD,EAYHN,KAAKV,MARPqL,EAJK,EAILA,QACAwuD,EALK,EAKLA,wBACAT,EANK,EAMLA,2BACAr0D,EAPK,EAOLA,cACAs0D,EARK,EAQLA,mBACAnE,EATK,EASLA,kBACA5qB,EAVK,EAULA,OACAgZ,EAXK,EAWLA,mBASF,OAPA5iD,KAAK84D,oBAAoB,GAAzB,QAAyCH,EACzC34D,KAAK84D,oBAAoB,GAAzB,QAAyCJ,EACzC14D,KAAK84D,oBAAoB,IAAzB,QAA0Cz0D,EAC1CuP,GAAOkC,gBAAgB9V,KAAK84D,oBAAqB,OAAQ,eAAzD,QAAqFlW,EACrFuU,GAAsB,GAAtB,QAAsCuB,EACtC9kD,GAAOkC,gBAAgB+hD,GAA4B,OAAQ,gBAA3D,QAAwFrD,EAGtF,6BACE,kBAAC,GAAD,CACEjjB,YAAa,CACX,CAAE7mB,KAAM,oBAAqB5qB,KAAM,4BACnC,CAAEA,KAAM6K,EAAQ7K,MAAQ,OAG5B,yBAAK8B,MAAO,CAAC9D,UAAW,KACtB,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAUq2B,GAAI,GAAIC,GAAI,GAAIC,GAAI,EAAGmqB,GAAI,GACnC,kBAAC1W,GAAD,CACE/kB,MAAK,4BAAQpY,EAAQ7K,MAAQ,IAC7BuR,KAAM1G,EACN6N,OAAQ2+C,GACRh2B,UAAW,CACTpe,MAAO,uCACPvK,OAAQxY,KAAK84D,oBACbz7D,OAAQ25D,GACRtvB,WAAY1nC,KAAKo5D,cACjBxjC,UAAW,CAAC,SAAC91B,EAAMuR,GAAP,OAAgBkrC,GAC1Bz8C,EACA,uBACAuR,EAAKvR,GACL,EAAKg5D,uBAEP9uC,QAASpW,GAAO0B,QAAQ,2BAE1BmsB,YAAa,CACXc,aAAcviC,KAAKq5D,gBACnBrvC,QAASpW,GAAO0B,QAAQ,2BAE1B+kB,QAAS,CAEL,kBAAC2X,GAAD,CAASF,WAAW,6BAA6Bz9B,IAAI,QACnD,kBAAC3S,EAAA,EAAD,CACEb,QAAQ,YACRlC,MAAM,UACNgD,QAAS,kBAAMiS,GAAO8B,SAAP,4BAAqColC,EAArC,YAA2D,sBAH5E,6BAQF,kBAAC9I,GAAD,CAASF,WAAW,4BAA4Bz9B,IAAI,OAClD,kBAAC3S,EAAA,EAAD,CACEb,QAAQ,YACRlC,MAAM,YACNgD,QAAS,kBAAMiS,GAAO8B,SAAP,4BAAqColC,EAArC,mBAHjB,iCAUV,kBAAC,GAAD,CAAU3mB,GAAI,GAAIC,GAAI,GAAIC,GAAI,EAAGmqB,GAAI,GACnC,kBAAC,GAAD,KACE,kBAAC,GAAD,KACE,kBAACh7B,GAAA,EAAD,CAAMa,gBAAgB,GACpB,kBAACT,GAAA,EAAD,CAAUnjB,UAAWH,EAAQ25D,UAC3B,kBAACj2C,GAAA,EAAD,CACEC,QAAQ,yDACR3lB,UAAW66D,EAAwBe,gBAAkBtmD,GAAOkC,gBAC1DqJ,GAAwB,QAASg6C,EAAwBe,iBACzD7yC,aAAe,kBAGrB,kBAACzD,GAAA,EAAD,CAAUnjB,UAAWH,EAAQ25D,UAC3B,kBAACj2C,GAAA,EAAD,CACEC,QAAQ,uCACR3lB,UAAWsV,GAAOK,QAAQklD,EAAwBrY,WAAa,eAAOqY,EAAwBrY,aAGlG,kBAACl9B,GAAA,EAAD,CAAUnjB,UAAWH,EAAQ25D,UAC3B,kBAACj2C,GAAA,EAAD,CACEC,QAAQ,uCACR3lB,UAAWsV,GAAOK,QAAQklD,EAAwBjY,WAAa,eAAOiY,EAAwBjY,aAGlG,kBAACt9B,GAAA,EAAD,CAAUnjB,UAAWH,EAAQ25D,UAC3B,kBAACj2C,GAAA,EAAD,CACEC,QAAQ,eACR3lB,UAAW66D,EAAwB3V,cAAgB,eAAO,wBAG9D,kBAAC5/B,GAAA,EAAD,CAAUnjB,UAAWH,EAAQ25D,UAC3B,kBAACj2C,GAAA,EAAD,CACEC,QAAQ,eACR3lB,UAAW66D,EAAwBnT,oBAAsB,eAAO,0BAKxE,kBAAC,GAAD,KACE,kBAAChU,GAAD,CAASF,WAAW,gCAClB,kBAACpwC,EAAA,EAAD,CACEb,QAAQ,YACRlC,MAAM,UACNgD,QAAS,kBAAMiS,GAAO8B,SAAP,4BAAqColC,EAArC,iBAHjB,6BAQF,kBAAC9I,GAAD,CAASF,WAAW,qCAClB,kBAACpwC,EAAA,EAAD,CACEjB,UAAWH,EAAQujB,OACnBhjB,QAAQ,YACRlC,MAAM,UACNgD,QAAS,kBAAMiS,GAAO8B,SAAP,4BAAqColC,EAArC,sBAJjB,6BASF,kBAACl6C,EAAA,EAAD,CAAYH,UAAWH,EAAQokB,OAC/B,kBAACstB,GAAD,CAASF,WAAW,gCAClB,kBAACpwC,EAAA,EAAD,CACEb,QAAQ,YACRlC,MAAM,YACNgD,QAAS3B,KAAK65D,iCAHhB,oBAWR,kBAAC7nB,GAAD,CAASF,WAAW,8BAClB,kBAAC,GAAD,CAAU3d,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAAImqB,GAAI,IACpC,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAY7/C,MAAM,QAAlB,oDACA,kBAAC,GAAD,KACE,kBAAC,GAAD,CACEgrC,SAAU/1B,GAAOwC,UAAUrT,EAAOC,IAAI2H,QAAQY,0BAA2BuvC,GACzEjR,OAAQ,SAACiD,GAAD,OACN,kBAAC7G,GAAD,CACEze,UAAWgwC,GACX5tC,UAAWkjB,EACXn+B,YAAa5L,EAAO4L,YACpBma,SAAS,EACT4Q,YAAa,CAAEhK,SAAU,cAQvC,kBAACsiB,GAAD,CAASF,WAAW,wBAClB,kBAAC,GAAD,CAAU3d,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAAImqB,GAAI,IACpC,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAY7/C,MAAM,QAAlB,4BACA,kBAAC,GAAD,KACE,kBAAC,GAAD,CACEirC,OAAQA,EACRD,SAAU/1B,GAAOwC,UAAUrT,EAAOC,IAAI2H,QAAQgB,uBAAwBmvC,GACtEjR,OAAQ,SAACiD,GAAD,OACN,kBAAC7G,GAAD,CACEze,UAAWowC,GACXhuC,UAAWkjB,EACXn+B,YAAa5L,EAAO4L,YACpBgtB,WAAW,SACXjC,YAAa,CAAEhK,SAAU,KACzB1C,aAAc,CACZ,CACE,QAAW,iCACX,KAAQ,kBAAC,KAAD,MACR,YAAe,kBAAOpZ,GAAO8B,SAAP,4BAAqColC,EAArC,iBACtB,QAAWlnC,GAAO0B,QAAQ,8BAG9B2X,WAAY,CACV,CACE,QAAW,iCACX,KAAQ,kBAAC,KAAD,MACR,YAAe,EAAKqsC,mBACpB,QAAW1lD,GAAO0B,QAAQ,wBAE5B,CACE,QAAW,yDACX,KAAQ,kBAAC,KAAD,MACR,YAAe,SAACjE,GACVA,GAAQA,EAAK8oD,gBACf3c,GAAmBnsC,EAAK8oD,iBAExB/xB,GAAMtnC,MAAM0Q,GAASG,MAAMO,yBAG/B,QAAW0B,GAAO0B,QAAQ,0BAG9B2tB,WAAYrvB,GAAOqH,kBACnBwmB,YAAa,CACXc,aAAc,SAAClxB,GAAD,OAAU,EAAK4jD,oBAAoB5jD,EAAKsjD,wBAUxE,kBAAC,GAAD,CACEngC,SAAU,SAAC8N,GAAU,EAAKk3B,oBAAsBl3B,GAAOA,EAAI3gB,YAC3DoB,MAAO,iCACPvK,OAAQq/C,GACRtgC,SAAUv3B,KAAK05D,qBACfjiC,aAAcz3B,KAAK25D,uBAErB,kBAAC,GAAD,CACEnlC,SAAU,SAAC8N,GAAU,EAAKw3B,iCAAmCx3B,GAAOA,EAAI3gB,YACxEoB,MAAO,mDACPvK,OAAQy+C,GACR1/B,SAAUv3B,KAAK+5D,sC,GA1WCj1C,IAAMhjB,WAkXnB8vC,MAAgB7vC,cA/XhB,SAAC3E,GAAD,MAAY,CACzB68D,SAAU,CACRnxB,WAAY,EACZjC,cAAe,GAEjBniB,KAAM,CACJA,KAAM,GAERb,OAAQ,CACNrmB,WAAYJ,EAAMK,QAAQ,OAsXCsE,CAAmB82D,IAAgB,wBC9LnDjnB,M,YA/Mb,WAAYvyC,GAAQ,IAAD,8BACjB,4CAAMA,KALR0jB,MAAQ,2BAIW,EAHnBq3C,sBAAwBnrD,KAAKC,MAAMD,KAAKiG,UAAUmiD,KAG/B,EAFnBgD,oBAAsB,GAEH,EAYnB71B,WAAa,SAACnlC,GAEZu9C,GADuBv9C,EAAMmY,MAAMxC,OAA3B8lC,YACqBr+B,MAAK,SAAA9R,GAChC,EAAK1K,SAAS,CAAC0K,eAEjBsxC,KAAoBx/B,MAAK,SAAA69C,GACvB,EAAKr6D,SAAS,CAACq6D,yBAEbj7D,EAAMc,SAASb,OAASD,EAAMc,SAASb,MAAMi7D,YAC/Cle,GAAkBh9C,EAAMc,SAASb,MAAMi7D,WAAWC,qBAAqB/9C,MAAK,SAAAlX,GAC1E,EAAKtF,SAAS,CAACo6D,oBAAqB90D,QAtBvB,EA2BnB4nC,mBAAqB,WAAO,IAClBxiC,EAAY,EAAKrL,MAAjBqL,QACRsN,SAAS8K,MAAT,UAAoB,EAAKA,MAAzB,cAAoCpY,EAAQ7K,KAA5C,gCA7BiB,EAgCnBqrD,SAAW,WAAO,IACRrQ,EAAe,EAAKz7C,MAAMmY,MAAMxC,OAAhC8lC,WADO,EAEmB,EAAKx7C,MAA/BqL,EAFO,EAEPA,QAAS8vD,EAFF,EAEEA,aAEjB,MAAO,CACL,CACE36D,KAAM,mDACN0oC,UAAW,CACT1oC,KAAM,iBACN0Y,OAAQ,EAAKkiD,6BACbrpD,KAAM,CACJ,QAAWypC,EACX,aAAgBnwC,EAAQ7K,MAE1B81B,UAAU,CAEN,SAAC91B,EAAMuR,GAAP,OAAgBkrC,GACdz8C,EACA,sBACAuR,EAAKvR,GACL,EAAKs6D,2BAMf,CACEt6D,KAAM,2BACN0oC,UAAW,CACT1oC,KAAM,gBACN0Y,OAAQ4sC,GACR/zC,KAAMy1C,GACNlxB,UAAW,CAACiqB,GAAuBe,IACnCxqB,QAAS,CACP,CACEt2B,KAAM,kBACNijB,MAAO,6CACPvK,OAAQ8sC,GACRruB,UAAU,EACVD,aAAa,GAEf,CACEl3B,KAAM,aACNijB,MAAO,2BACPvK,OAAQ6sC,GACRpuB,UAAU,EACVD,aAAa,GAEf,CACEl3B,KAAM,iBACNijB,MAAO,2BACPvK,OAAQ+sC,GACRloD,OAAQmoD,GACRvuB,UAAU,EACVD,aAAa,IAGjBpC,UAAW,CAAC,EAAK+lC,gCAGrB,CACE76D,KAAM,iCACN83B,YAAa,2WACb4Q,UAAW,CACT1oC,KAAM,kBACN8qC,QAAQ,EACRpyB,OAAQ8+C,GACRjmD,KAAMopD,EACNxjC,UAAU,EACVD,aAAa,MArGF,EA8GnB2jC,6BAA+B,SAACC,EAAUlvB,GAAe,IAC/CoP,EAAe,EAAKz7C,MAAMmY,MAAMxC,OAAhC8lC,WACA+f,EAAmBnvB,EAAnBmvB,eACAlwD,EAAY,EAAKrL,MAAjBqL,QACF8vD,EtE4YH,SAAwC3f,EAAY0f,EAAqB3tB,EAAW6F,EAAYG,GACrG,IAAMl2B,EAAMyjC,KAAQ,OAAQxsC,GAAOwC,UAAUrT,EAAOC,IAAI2H,QAAQ4B,mCAAoCuuC,GAAa,CAC/Gv+B,QAASxN,IACTkc,KAAM,CACJ6vC,uBAAwBN,EACxB3tB,YACA6F,aACAG,cAGExhC,EAAOpC,KAAKC,MAAMyN,EAAI0jC,QAAQ,SACpC,OAAuB,MAAnB1jC,EAAIosB,WACC13B,GAEP+2B,GAAMtnC,MAAMuQ,EAAKlN,SACV,GsE3Zc42D,CACnBjgB,EACA+f,EAAeL,oBACfK,EAAeG,iBACfJ,EAASloB,WACTkoB,EAAS/nB,UAEX,IAAqB,IAAjB4nB,EACF,OAAO,EAEP,IAAMQ,EAAa,GACbC,EAAS,GAFV,uBAGL,YAAiBT,EAAjB,+CAA+B,CAAC,IAAvBx6C,EAAsB,QACzBg7C,EAAW9lD,QAAQ8K,EAAKk7C,IAAM,IAChCF,EAAWlrD,KAAKkQ,EAAKk7C,IACrBD,EAAOnrD,KAAK,CAAE,KAAQkQ,EAAKxF,KAAM,MAASwF,EAAKvF,MAAO,GAAMuF,EAAKk7C,OANhE,kFASL,cAAeD,EAAf,eAAuB,CAAlB,IAAIC,EAAE,KACTV,EAAa1qD,KAAK,CAChB,QAAW+qC,EACX,aAAgBnwC,EAAQ7K,KACxB,eAAkB,KAClB,oBAAuB+6D,EAAeL,oBACtC,iBAAoBK,EAAeG,iBACnC,UAAaP,EAAa,GAAGz3C,UAC7B,WAAcy3C,EAAa,GAAG/nB,WAC9B,SAAY+nB,EAAa,GAAG5nB,SAC5B,KAAQsoB,EAAG1gD,KACX,MAAS0gD,EAAGzgD,MACZ,GAAMygD,EAAGA,GACT,aAAgBxwD,EAAQrF,aACxB,kBAAqBm1D,EAAa,GAAG/R,kBACrC,mBAAsB,KACtB,WAAc,OAWlB,OARA+R,EAAaj0C,MAAK,SAASC,EAAGC,GAC5B,IAAI00C,EAAO30C,EAAE00C,GAAK10C,EAAEo0B,aAChBwgB,EAAO30C,EAAEy0C,GAAKz0C,EAAEm0B,aACpB,OAAIugB,EAAOC,GAAc,EACrBD,EAAOC,EAAa,EACjB,KAET,EAAKp7D,SAAS,CAAEw6D,kBACT,GA/JQ,EAmKnBC,2BAA6B,WAAO,IAAD,EACkB,EAAKp7D,MAAhDg7D,EADyB,EACzBA,kBAAmBD,EADM,EACNA,oBAO3B,OANAzmD,GAAOkC,gBACL,EAAKskD,sBAAuB,OAAQ,uBACpCp2D,QAAUs2D,EACZ1mD,GAAOkC,gBACL,EAAKskD,sBAAuB,OAAQ,oBACpCp2D,QAAUq2D,EACL,EAAKD,uBAxKZ,EAAK96D,MAAQ,CACXqL,QAAS,GACT2vD,kBAAmB,GACnBD,oBAAqB,GACrBI,aAAc,IAEhB,EAAKj2B,WAAWnlC,GATC,E,sEA8KT,IACAy7C,EAAe96C,KAAKX,MAAMmY,MAAMxC,OAAhC8lC,WACAnwC,EAAY3K,KAAKV,MAAjBqL,QACFggC,EAAQ3qC,KAAKmrD,WAEnB,OACE,6BACE,kBAAC,GAAD,CACE5Z,YAAa,CACX,CAAE7mB,KAAK,oBAAsB5qB,KAAM,4BACnC,CAAE4qB,KAAK,qBAAD,OAAuBowB,EAAvB,KAAsCh7C,KAAM6K,EAAQ7K,MAC1D,CAAE4qB,KAAK,qBAAD,OAAuBowB,EAAvB,YAA6Ch7C,KAAM,wCACzD,CAAEA,KAAME,KAAK+iB,UAGjB,yBAAKnhB,MAAO,CAAC9D,UAAW,KACtB,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAUq2B,GAAI,GAAIC,GAAI,GAAIC,GAAI,EAAGmqB,GAAI,GACnC,kBAAC,GAAD,CACEz7B,MAAO/iB,KAAK+iB,MACZ4nB,MAAOA,EACPzC,WAAW,OACXC,aAAcv0B,GAAOwC,UAAUrT,EAAOC,IAAI2H,QAAQM,WAAY6vC,GAC9DrjB,aAAc,SAACpmB,GAAD,OAAUuC,GAAO8B,SAAP,4BAAqColC,EAArC,oBAA2DzpC,EAAKhQ,gB,GA1MzEyjB,IAAMhjB,WAoNY,6BCzGlC8vC,M,YA9Gb,WAAYvyC,GAAQ,IAAD,8BACjB,4CAAMA,KAJRi8D,aAAe1nD,GAAOoG,MAAM2nC,IAGT,EAFnB4Z,aAAe3nD,GAAOoG,MAAM4nC,IAET,EAUnBpd,WAAa,SAACnlC,GACZk+C,KAA4B9gC,MAAK,SAAA5O,GAAqB,OAAI,EAAK5N,SAAS,CAAC4N,8BARzE,EAAKvO,MAAQ,CACXsqC,QAAQ,EACR/7B,sBAAuB,IAEzB,EAAK22B,WAAWnlC,GAPC,E,sEAcT,IAAD,SAC6CW,KAAKX,MAAjDi9C,EADD,EACCA,aAAca,EADf,EACeA,UAAWp6B,EAD1B,EAC0BA,MAAOpY,EADjC,EACiCA,QADjC,EAEmC3K,KAAKV,MAAvCsqC,EAFD,EAECA,OAAQ/7B,EAFT,EAESA,sBAChB,IAAK+F,GAAOK,QAAQtJ,GAAU,CAC5B,IAAM6wD,EAAa5nD,GAAOkC,gBAAgB9V,KAAKu7D,aAAc,OAAQ,WACrEC,EAAU,QAAc,CAAC,CAAE,MAASp6C,SAASzW,EAAQmwC,YAAa,aAAgBnwC,EAAQkwC,eAC1F2gB,EAAU,WAAgB,EAK5B,OAHA5nD,GAAOkC,gBAAgB9V,KAAKs7D,aAAc,OAAQ,YAAlD,QAA2EztD,EAC3E+F,GAAOkC,gBAAgB9V,KAAKu7D,aAAc,OAAQ,YAAlD,QAA2E1tD,EAGzE,6BACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAYlP,MAAM,QACfokB,GAEH,kBAAC,GAAD,KACE,kBAAC,GAAD,CACE6mB,OAAQA,EACRD,SAAU/1B,GAAOwC,UAAUrT,EAAOC,IAAIyJ,WAAWC,oCAAqC4vC,EAAca,GACpGtT,OAAQ,SAACiD,GAAD,OACN,kBAAC7G,GAAD,CACEljB,MAAM,iCACNyE,UAAW,EAAK8zC,aAChB1xC,UAAWkjB,EAASv0B,QACpB5J,YAAa5L,EAAO4L,YACpBgtB,WAAW,SACX6F,UAAU,EACVR,SAAU,CACRje,MAAO,2BACPvK,OAAQ,EAAK+iD,aACbl+D,OAAQwkD,GACRtqB,SAAUwmB,IACR,kBAAM,EAAK99C,SAAS,CAAC2pC,QAASA,MAC9Bh2B,GAAOwC,UAAUrT,EAAOC,IAAIyJ,WAAWE,mCAAoC2vC,EAAca,IAE3F9rC,KAAM,CACJ,aAAgBirC,EAChB,UAAaa,EACb,QAAWxyC,EAAQmwC,YAAc15B,SAASzW,EAAQmwC,YAClD,KAAQlnC,GAAOuG,kBAEjB6P,QAASpW,GAAO0B,QAAQ,2BAE1B6rB,UAAW,CACTpe,MAAO,2BACPvK,OAAQ,EAAK+iD,aACbl+D,OAAQwkD,GACRtqB,SAAU2mB,IACR,kBAAM,EAAKj+C,SAAS,CAAC2pC,QAASA,MAC9B7mC,EAAOC,IAAIyJ,WAAWG,sCACtB0vC,EACAa,GAEFnzB,QAASpW,GAAO0B,QAAQ,8BAE1BmsB,YAAa,CACXc,aAAc4b,IACZ,kBAAM,EAAKl+C,SAAS,CAAC2pC,QAASA,MAC9B7mC,EAAOC,IAAIyJ,WAAWG,sCACtB0vC,EACAa,GAEFnzB,QAASpW,GAAO0B,QAAQ,8BAE1B2tB,WAAYrvB,GAAOqH,8B,GApFX6J,IAAMhjB,WAkHY,2BCwE7B8vC,M,YA5Kb,WAAYvyC,GAAQ,IAAD,8BACjB,4CAAMA,KAHR+6D,sBAAwBnrD,KAAKC,MAAMD,KAAKiG,UAAUmiD,KAE/B,EAiBnB7yB,WAAa,SAACnlC,GAAW,IAAD,EACYA,EAAMmY,MAAMxC,OAAtC8lC,EADc,EACdA,WAAYjO,EADE,EACFA,UACpB+P,GAAiB9B,GAAYr+B,MAAK,SAAA9R,GAChC,EAAK1K,SAAS,CAAC0K,eAEjBmyC,GAAuBhC,EAAYjO,GAAWpwB,MAAK,SAAAhZ,GACjD,EAAKxD,SAAS,CAACwD,cAEjBw4C,KAAoBx/B,MAAK,SAAA69C,GACvB,EAAKr6D,SAAS,CAACq6D,yBAEjBlc,GAA2BtD,EAAYjO,GAAWpwB,MAAK,SAAAg+C,GACrD,EAAKx6D,SAAS,CAACw7D,cAAehB,EAAapqD,OAAS,QA7BrC,EAiCnB88B,mBAAqB,WAAO,IAAD,EACG,EAAK7tC,MAAzBqL,EADiB,EACjBA,QAASlH,EADQ,EACRA,OACjBwU,SAAS8K,MAAT,UAAoBtf,EAAOuf,WAAa,GAAxC,cAAgDrY,EAAQ7K,MAAQ,GAAhE,gCAnCiB,EAsCnB47D,oBAAsB,SAACrqD,EAAMyQ,GAC3B,OAAOpG,GAAKK,SAAS,EAAKsrC,WAAYh2C,GAAMoL,MAAK,SAAAhZ,GAC/C,EAAKxD,SAAS,CAACwD,WACXqe,GACFA,IAEFsmB,GAAMC,QAAQ72B,GAASoB,QAAQC,UAC9B6kB,OAAM,SAAA/J,GAEP,OADAya,GAAMtnC,MAAM0Q,GAASG,MAAMG,kBACpBkL,QAAQC,OAAO0Q,OA/CP,EAmDnBguC,iBAAmB,WAAO,IAAD,EACW,EAAKt8D,MAAMmY,MAAMxC,OAA3C8lC,EADe,EACfA,WAAYjO,EADG,EACHA,UADG,EAEW,EAAKvtC,MAA/BmE,EAFe,EAEfA,OAAQg4D,EAFO,EAEPA,cACVphC,EAAU,GA2BhB,MA1B2B,OAAvB52B,EAAOy+C,aACT7nB,EAAQtqB,KACN,kBAACiiC,GAAD,CAASF,WAAW,6BAA6Bz9B,IAAI,iBACnD,kBAAC3S,EAAA,EAAD,CACEb,QAAQ,YACRlC,MAAM,UACNgD,QAAS,kBAAMiS,GAAO8B,SAAP,8BAAuCjS,EAAOu3D,qBAH/D,qCAQgB,IAAlBS,GACFphC,EAAQtqB,KACN,kBAACiiC,GAAD,CAASF,WAAW,6BAA6Bz9B,IAAI,iBACnD,kBAACsQ,GAAA,EAAD,CAAS5B,MAAM,+PAA6CX,UAAU,SAASwC,WAAY,KACzF,kBAACljB,EAAA,EAAD,CACEb,QAAQ,YACRlC,MAAM,UACNgD,QAAS,kBAAMiS,GAAO8B,SAAP,4BAAqColC,EAArC,oBAA2DjO,EAA3D,oBAHjB,qCAWDxS,GA9EP,EAAK/6B,MAAQ,CACXqL,QAAS,GACTlH,OAAQ,GACR62D,kBAAmB,GACnBmB,eAAe,GAEjB,EAAKj3B,WAAWnlC,GAChB,EAAKgoD,WAAazzC,GAAOwC,UACvBrT,EAAOC,IAAI2H,QAAQxE,cACnB9G,EAAMmY,MAAMxC,OAAO8lC,WACnBz7C,EAAMmY,MAAMxC,OAAO63B,WAbJ,E,sEAoFT,IAAD,SAC2B7sC,KAAKX,MAAMmY,MAAMxC,OAA3C8lC,EADD,EACCA,WAAYjO,EADb,EACaA,UADb,EAEwC7sC,KAAKV,MAA5CqL,EAFD,EAECA,QAASlH,EAFV,EAEUA,OAAQ62D,EAFlB,EAEkBA,kBACrBsB,EAAgBhoD,GAAOkC,gBACzB9V,KAAKo6D,sBAAuB,OAAQ,uBAEtCwB,EAAc53D,QAAUs2D,EACxBsB,EAAcpqC,WAAY,EAC1B,IAAIqqC,EAAgBjoD,GAAOkC,gBACzB9V,KAAKo6D,sBAAuB,OAAQ,oBAKtC,OAHAyB,EAAc73D,QAAU,CAAC,CAAC,MAASP,EAAOu3D,iBAAkB,aAAgBv3D,EAAOuf,YACnF64C,EAAcrqC,WAAY,EAGxB,6BACE,kBAAC,GAAD,CACE+f,YAAa,CACX,CAAE7mB,KAAK,oBAAsB5qB,KAAM,4BACnC,CAAE4qB,KAAK,qBAAD,OAAuBowB,EAAvB,KAAsCh7C,KAAM6K,EAAQ7K,MAC1D,CAAE4qB,KAAK,qBAAD,OAAuBowB,EAAvB,YAA6Ch7C,KAAM,wCACzD,CAAEA,KAAM2D,EAAOuf,cAGnB,yBAAKphB,MAAO,CAAC9D,UAAW,KACtB,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAUq2B,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAAImqB,GAAI,IACpC,kBAAC1W,GAAD,CACE/kB,MAAOtf,EAAOuf,WAAa,GAC3B3R,KAAM5N,EACN+U,OAAQ++C,GACRp2B,UAAW,CACTpe,MAAO,+DACPvK,OAAQxY,KAAKo6D,sBACb1yB,WAAY1nC,KAAK07D,oBACjB1xC,QAASpW,GAAO0B,QAAQ,iCAE1BmsB,YAAa,CACXc,aAAc,kBAAOwa,GACnB,EAAKsK,WAD4B,4BAEZvM,EAFY,cAInC9wB,QAASpW,GAAO0B,QAAQ,iCAE1B+kB,QAASr6B,KAAK27D,uBAIpB,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAYh9D,MAAM,QAAlB,4BACA,kBAAC,GAAD,KACE,kBAAC,GAAD,CACEgrC,SAAU/1B,GAAOwC,UAAUrT,EAAOC,IAAI2H,QAAQhC,iBAAkBmyC,EAAYjO,GAC5EhD,OAAQ,SAACiD,GAAD,OACN,kBAAC7G,GAAD,CACEze,UAAWwwC,GACXpuC,UAAWkjB,EACXn+B,YAAa5L,EAAO4L,YACpBqe,aAAc,CACZ,CACE,QAAW,6CACX,KAAQ,kBAAC,KAAD,CAASruB,MAAM,cACvB,YAAe,kBAAOiV,GAAO8B,SAAP,4BAAqColC,EAArC,oBAA2DjO,EAA3D,sBAG1B5J,WAAYrvB,GAAOqH,yBAM5BxX,EAAO+2D,qBAAuB/2D,EAAOu3D,iBACpC,kBAAC,GAAD,CACEj4C,MAAM,iCACNu5B,aAAc74C,EAAO+2D,oBACrBrd,UAAW15C,EAAOu3D,iBAClBrwD,QAAS,CACPmwC,WAAYA,EACZD,aAAclwC,EAAQ7K,QAGxB,W,GAxKoBglB,IAAMhjB,WA+KY,8BC5HrC8vC,M,YAnEb,WAAYvyC,GAAQ,IAAD,8BACjB,4CAAMA,KAHR0jB,MAAQ,uCAEW,EAanByhB,WAAa,SAACnlC,GACZu9C,GAAiBv9C,EAAMmY,MAAMxC,OAAO8lC,YAAYr+B,MAAK,SAAA9R,GACnD,EAAK1K,SAAS,CAAC0K,gBAfA,EAmBnBwiC,mBAAqB,WAAO,IAClBxiC,EAAY,EAAKrL,MAAjBqL,QACRsN,SAAS8K,MAAT,UAAoB,EAAKA,MAAzB,cAAoCpY,EAAQ7K,MAAQ,GAApD,gCAlBA,EAAKR,MAAQ,CACXqL,QAAS,IAEX,EAAK65B,WAAWnlC,GAChB,EAAKgoD,WAAazzC,GAAOwC,UACvBrT,EAAOC,IAAI2H,QAAQxG,OACnB9E,EAAMmY,MAAMxC,OAAO8lC,YATJ,E,sEAwBT,IACAA,EAAe96C,KAAKX,MAAMmY,MAAMxC,OAAhC8lC,WACAnwC,EAAY3K,KAAKV,MAAjBqL,QAER,OACE,6BACE,kBAAC,GAAD,CACE4mC,YAAa,CACX,CAAE7mB,KAAM,oBAAqB5qB,KAAM,4BACnC,CAAE4qB,KAAK,qBAAD,OAAuBowB,GAAch7C,KAAM6K,EAAQ7K,MACzD,CAAEA,KAAME,KAAK+iB,UAGjB,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAYpkB,MAAM,QAAQqB,KAAK+iB,OAC/B,kBAAC,GAAD,KACE,kBAAC,GAAD,CACE4mB,SAAU/1B,GAAOwC,UAAUrT,EAAOC,IAAI2H,QAAQK,mBAAoB8vC,GAClEjR,OAAQ,SAACiD,GAAD,OACN,kBAAC7G,GAAD,CACEZ,WAAW,kBACX7d,UAAW4vC,GACXxtC,UAAWkjB,EACXn+B,YAAa5L,EAAO4L,YACpBqe,aAAc,CACZ,CACE,QAAW,6CACX,KAAQ,kBAAC,KAAD,CAASruB,MAAM,cACvB,YAAe,kBAAOiV,GAAO8B,SAAP,4BAAqColC,EAArC,oBAG1B7X,WAAYrvB,GAAOqH,8B,GA1DL6J,IAAMhjB,WAsEY,8BC8DnC8vC,M,YApHb,WAAYvyC,GAAQ,IAAD,8BACjB,4CAAMA,KAHR0jB,MAAQ,uCAEW,EAYnByhB,WAAa,SAACnlC,GAAW,IAAD,EACyBA,EAAMmY,MAAMxC,OAAnD8lC,EADc,EACdA,WAAYjO,EADE,EACFA,UAAWgP,EADT,EACSA,YAC/Be,GAAiB9B,GAAYr+B,MAAK,SAAA9R,GAChC,EAAK1K,SAAS,CAAC0K,eAEjBmyC,GAAuBhC,EAAYjO,GAAWpwB,MAAK,SAAAhZ,GACjD,EAAKxD,SAAS,CAACwD,cAEbo4C,G1E8JD,SAAuCf,EAAYjO,EAAWgP,GACnE,OAAOngC,GAAKE,SAAShI,GAAOwC,UAAUrT,EAAOC,IAAI2H,QAAQ9B,sBAAuBiyC,EAAYjO,EAAWgP,I0E9JnGigB,CAA8BhhB,EAAYjO,EAAWgP,GAAap/B,MAChE,SAAAi5C,GAAc,OAAI,EAAKz1D,SAAS,CAACy1D,sBACjCh+B,OAAM,SAAA/J,GACqB,MAAvBA,EAAO8b,aACT,EAAKpqC,MAAM0yC,UAAUpkB,EAAOxpB,YAzBjB,EA+BnBgpC,mBAAqB,WAAO,IAClB0O,EAAgB,EAAKx8C,MAAMmY,MAAMxC,OAAjC6mC,YACR,EAAK94B,MAAQ84B,EAAc,uCAAW,uCAFb,MAGG,EAAKv8C,MAAzBqL,EAHiB,EAGjBA,QAASlH,EAHQ,EAGRA,OACjBwU,SAAS8K,MAAT,UAAoB,EAAKA,MAAzB,cAAoCtf,EAAOuf,WAAa,GAAxD,cAAgErY,EAAQ7K,MAAQ,GAAhF,gCAhCA,EAAKR,MAAQ,CACXqL,QAAS,GACTlH,OAAQ,GACRiyD,eAAgB5O,GAChBpd,cAAe,MAEjB,EAAKlF,WAAWnlC,GATC,E,sEAsCT,IAAD,EACwCW,KAAKX,MAAMmY,MAAMxC,OAAxD8lC,EADD,EACCA,WAAYjO,EADb,EACaA,UAAWgP,EADxB,EACwBA,YADxB,EAEqC77C,KAAKV,MAAzCqL,EAFD,EAECA,QAASlH,EAFV,EAEUA,OAAQiyD,EAFlB,EAEkBA,eACpB7Z,IACH6Z,EAAc,qBAA2B/qD,EAAQgrD,qBACjDD,EAAc,kBAAwB/qD,EAAQ+4C,kBAC9CgS,EAAc,aAAmBjyD,EAAOs4D,4BACxCrG,EAAc,UAAgB7oB,GAEhC,IAAM0E,EAAc,CAClB,CAAE7mB,KAAM,oBAAqB5qB,KAAM,4BACnC,CAAE4qB,KAAK,qBAAD,OAAuBowB,EAAvB,KAAsCh7C,KAAM6K,EAAQ7K,MAC1D,CAAE4qB,KAAK,qBAAD,OAAuBowB,EAAvB,YAA6Ch7C,KAAM,4BACzD,CAAE4qB,KAAK,qBAAD,OAAuBowB,EAAvB,oBAA6CjO,GAAa/sC,KAAM2D,EAAOuf,YAQ/E,OANI64B,EACFtK,EAAYxhC,KAAK,CAAEjQ,KAAM,yCAEzByxC,EAAYxhC,KAAK,CAAEjQ,KAAM,yCAIzB,6BACE,kBAAC,GAAD,CACEyxC,YAAaA,IAEf,yBAAK3vC,MAAO,CAAC9D,UAAW,KACtB,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAUq2B,GAAI,GAAIC,GAAI,GAAIC,GAAI,EAAGmqB,GAAI,GACnC,kBAAC,GAAD,CACEz7B,MAAO/iB,KAAK+iB,MACZvK,OAAQ4sC,GACRxvB,UAAW,CAACiqB,GAAuBe,IACnCxqB,QAAS,CACP,CACEt2B,KAAM,kBACNijB,MAAO,6CACPvK,OAAQ8sC,GACRruB,UAAU,EACVD,aAAa,GAEf,CACEl3B,KAAM,aACNijB,MAAO,2BACPvK,OAAQ6sC,GACRpuB,UAAU,EACVD,aAAa,GAEf,CACEl3B,KAAM,iBACNijB,MAAO,2BACPvK,OAAQ+sC,GACRloD,OAAQmoD,GACRvuB,UAAU,EACVD,aAAa,IAGjB3lB,KAAMqkD,EACNxtB,WAAY,OACZC,aACE0T,EAAcjoC,GAAOwC,UACnBrT,EAAOC,IAAI2H,QAAQ5B,qBAAsB+xC,EAAYjO,EAAW6oB,EAAer0D,IAC7EuS,GAAOwC,UACTrT,EAAOC,IAAI2H,QAAQ7B,oBAAqBgyC,EAAYjO,GAGxDpV,aAAc,kBAAM7jB,GAAO8B,SAAP,4BAAqColC,EAArC,oBAA2DjO,KAC/EvE,eAAgBuT,EAAcjoC,GAAOwC,UAAUrT,EAAOC,IAAI2H,QAAQ/B,gBAAiBkyC,EAAYjO,EAAWgP,GAAe,KACzHtT,eAAgB,kBAAM30B,GAAO8B,SAAP,4BAAqColC,EAArC,oBAA2DjO,e,GA7GzD/nB,IAAMhjB,WAuHY,gCClIpDk6D,G,YAIJ,WAAY38D,GAAQ,IAAD,8BACjB,4CAAMA,KAJR0jB,MAAQ,iCAGW,EAFnBk5C,mBAAqBroD,GAAOoG,MAAM89C,IAEf,EAWnBtzB,WAAa,SAACnlC,GAAW,IACfy7C,EAAez7C,EAAMmY,MAAMxC,OAA3B8lC,WACR8B,GAAiB9B,GAAYr+B,MAAK,SAAA9R,GAEhC,OADA,EAAK1K,SAAS,CAAC0K,YACRA,KACN8R,MAAK,SAAA9R,GACNuyC,GAAmBvyC,EAAQquD,wBAAyBruD,EAAQsuD,eAAex8C,MAAK,SAAA+3C,GAC9E,EAAKv0D,SAAS,CAACu0D,4BAGnB3X,GAAwB/B,GAAYr+B,MAAK,SAAAy/C,GACvC,EAAKj8D,SAAS,CAAEi8D,+BAtBD,EA0BnB/uB,mBAAqB,WAAO,IAClBxiC,EAAY,EAAKrL,MAAjBqL,QACRsN,SAAS8K,MAAT,UAAoB,EAAKA,MAAzB,cAAoCpY,EAAQ7K,MAAQ,GAApD,gCAzBA,EAAKR,MAAQ,CACXqL,QAAS,GACT6pD,kBAAmB,GACnB0H,uBAAwB,IAE1B,EAAK13B,WAAWnlC,GARC,E,sEA+BT,IACAy7C,EAAe96C,KAAKX,MAAMmY,MAAMxC,OAAhC8lC,WADD,EAEwD96C,KAAKV,MAA5DqL,EAFD,EAECA,QAAS6pD,EAFV,EAEUA,kBAAmB0H,EAF7B,EAE6BA,uBAIpC,OAHAtoD,GAAOkC,gBAAgB9V,KAAKi8D,mBAAoB,OAAQ,gBAAxD,QAAqFzH,EACrF5gD,GAAOkC,gBAAgB9V,KAAKi8D,mBAAoB,OAAQ,WAAxD,QAAgFC,EAG/E,6BACG,kBAAC,GAAD,CACE3qB,YAAa,CACX,CAAE7mB,KAAK,oBAAsB5qB,KAAM,4BACnC,CAAE4qB,KAAK,qBAAD,OAAuBowB,EAAvB,KAAsCh7C,KAAM6K,EAAQ7K,MAC1D,CAAEA,KAAME,KAAK+iB,UAGjB,yBAAKnhB,MAAO,CAAC9D,UAAW,KACtB,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAUq2B,GAAI,GAAIC,GAAI,GAAIC,GAAI,EAAGmqB,GAAI,GACnC,kBAAC,GAAD,CACEz7B,MAAO/iB,KAAK+iB,MACZvK,OAAQxY,KAAKi8D,mBACb5+D,OAAQ06D,GACR1mD,KAAM,CACJ,qBAAwB1G,EAAQgrD,qBAChC,kBAAqBhrD,EAAQ+4C,kBAC7B,aAAgB/4C,EAAQ69C,aACxB,KAAQ79C,EAAQ7K,KAChB,SAAY,CAACg7C,IAEf5S,WAAY,OACZC,aAAcv0B,GAAOwC,UAAUrT,EAAOC,IAAI2H,QAAQoB,kBAAmB+uC,GACrErjB,aAAc,SAACpmB,GAAD,OAAUuC,GAAO8B,SAAP,4BAAqColC,EAArC,mBAA0DzpC,EAAKhQ,GAA/D,iB,GAlEVyjB,IAAMhjB,WA4ErB8vC,MAAgBnD,uBAAautB,IAAkB,4BCwB/CpqB,M,YA/Fb,WAAYvyC,GAAQ,IAAD,8BACjB,4CAAMA,KAJR0jB,MAAQ,iCAGW,EAFnBk5C,mBAAqBroD,GAAOoG,MAAM89C,IAEf,EAYnBtzB,WAAa,SAACnlC,GAAW,IAAD,EACWA,EAAMmY,MAAMxC,OAArC8lC,EADc,EACdA,WAAY8C,EADE,EACFA,SACpB,EAAKyJ,WAAazzC,GAAOwC,UACvBrT,EAAOC,IAAI2H,QAAQqB,qBACnB8uC,EAAY8C,GAEdhB,GAAiB9B,GAAYr+B,MAAK,SAAA9R,GAEhC,OADA,EAAK1K,SAAS,CAAE0K,YACTA,KACN8R,MAAK,SAAA9R,GACNuyC,GAAmBvyC,EAAQquD,wBAAyBruD,EAAQsuD,eAAex8C,MAAK,SAAA+3C,GAC9E,EAAKv0D,SAAS,CAAEu0D,4B5EuQjB,SAA+B1Z,EAAY8C,GAChD,OAAOliC,GAAKE,SAAShI,GAAOwC,UAAUrT,EAAOC,IAAI2H,QAAQqB,qBAAsB8uC,EAAY8C,I4ErQzFue,CAAsBrhB,EAAY8C,GAAUnhC,MAAK,SAAAkK,GAAK,OAAI,EAAK1mB,SAAS,CAAE0mB,aAC1Ek2B,GAAwB/B,GAAYr+B,MAAK,SAAAy/C,GACvC,EAAKj8D,SAAS,CAAEi8D,+BA5BD,EAgCnB/uB,mBAAqB,WAAO,IAClBxiC,EAAY,EAAKrL,MAAjBqL,QACRsN,SAAS8K,MAAT,UAAoB,EAAKA,MAAzB,cAAoCpY,EAAQ7K,MAAQ,GAApD,gCAlCiB,EAqCnBs8D,mBAAqB,SAAC/qD,EAAMyQ,GAC1B,OAAOpG,GAAKK,SAAS,EAAKsrC,WAAYh2C,GAAMoL,MAAK,SAAAkK,GAC/C,EAAK1mB,SAAS,CAAE0mB,UACZ7E,GACFA,IAEFsmB,GAAMC,QAAQ72B,GAASoB,QAAQC,UAC9B6kB,OAAM,SAAA/J,GAEP,OADAya,GAAMtnC,MAAM0Q,GAASG,MAAMG,kBACpBkL,QAAQC,OAAO0Q,OA3CxB,EAAKruB,MAAQ,CACXqL,QAAS,GACTgc,MAAO,GACP6tC,kBAAmB,GACnB0H,uBAAwB,IAE1B,EAAK13B,WAAWnlC,GATC,E,sEAkDT,IAAD,OACCy7C,EAAe96C,KAAKX,MAAMmY,MAAMxC,OAAhC8lC,WADD,EAE+D96C,KAAKV,MAAnEqL,EAFD,EAECA,QAAS6pD,EAFV,EAEUA,kBAAmB7tC,EAF7B,EAE6BA,MAAOu1C,EAFpC,EAEoCA,uBAI3C,OAHAtoD,GAAOkC,gBAAgB9V,KAAKi8D,mBAAoB,OAAQ,gBAAxD,QAAqFzH,EACrF5gD,GAAOkC,gBAAgB9V,KAAKi8D,mBAAoB,OAAQ,WAAxD,QAAgFC,EAG9E,6BACE,kBAAC,GAAD,CACE3qB,YAAa,CACX,CAAE7mB,KAAK,oBAAsB5qB,KAAM,4BACnC,CAAE4qB,KAAK,qBAAD,OAAuBowB,EAAvB,KAAsCh7C,KAAM6K,EAAQ7K,MAC1D,CAAEA,KAAME,KAAK+iB,UAGjB,yBAAKnhB,MAAO,CAAE9D,UAAW,KACvB,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAUq2B,GAAI,GAAIC,GAAI,GAAIC,GAAI,EAAGmqB,GAAI,GACnC,kBAAC1W,GAAD,CACE/kB,MAAO,kCAAO4D,EAAM7mB,QAAU,EAC9BuR,KAAMf,OAAOC,OAAOoW,EAAO,CAAE,aAAgBhc,EAAQ69C,eACrDhwC,OAAQxY,KAAKi8D,mBACb96B,UAAW,CACTpe,MAAO,6CACPvK,OAAQxY,KAAKi8D,mBACb5+D,OAAQ06D,GACRrwB,WAAY1nC,KAAKo8D,mBACjBpyC,QAASpW,GAAO0B,QAAQ,gCAE1BmsB,YAAa,CACXc,aAAc,kBAAOwa,GACnB,EAAKsK,WAD4B,4BAEZvM,KAEvB9wB,QAASpW,GAAO0B,QAAQ,0C,GAxFTwP,IAAMhjB,WAmGY,6BCnBpC8vC,M,YA9Eb,WAAYvyC,GAAQ,IAAD,8BACjB,4CAAMA,KASRmlC,WAAa,SAACnlC,GAEZu9C,GADuBv9C,EAAMmY,MAAMxC,OAA3B8lC,YACqBr+B,MAAK,SAAA9R,GAAO,OAAI,EAAK1K,SAAS,CAAC0K,gBAZ3C,EAenBwiC,mBAAqB,WAAO,IAAD,EACD,EAAK9tC,MAAMmY,MAAMxC,OAAjCyF,EADiB,EACjBA,KAAMC,EADW,EACXA,MACN/P,EAAY,EAAKrL,MAAjBqL,QACRsN,SAAS8K,MAAT,UAAoBtI,EAApB,iBAA4BC,EAA5B,4CAA4C/P,EAAQ7K,MAAQ,GAA5D,gCAlBiB,EAqBnBu8D,qBAAuB,SAAChrD,EAAMyQ,GAE5B,O7EgSG,SAAiCg5B,EAAYxX,EAAIjyB,GACtD,OAAIiyB,EACK5nB,GAAKK,SAASnI,GAAOwC,UAAUrT,EAAOC,IAAI2H,QAAQe,0BAA2BovC,EAAYxX,GAAKjyB,GAE9FqK,GAAKG,UAAUjI,GAAOwC,UAAUrT,EAAOC,IAAI2H,QAAQc,uBAAwBqvC,GAAazpC,G6EpSxFirD,CADgB,EAAKj9D,MAAMmY,MAAMxC,OAAhC8lC,WACmCzpC,EAAKkrD,cAAelrD,GAAMoL,MAAK,WACpEqF,GACFA,IAEFsmB,GAAMC,QAAQ72B,GAASoB,QAAQC,OAC/B,EAAK5S,SAAS,CAAC2pC,QAAS,EAAKtqC,MAAMsqC,YAClClS,OAAM,SAAA/J,GAEP,OADAya,GAAMtnC,MAAM0Q,GAASG,MAAMG,kBACpBkL,QAAQC,OAAO0Q,OA5BxB,EAAKruB,MAAQ,CACXqL,QAAS,GACTi/B,QAAQ,GAEV,EAAKpF,WAAWnlC,GAPC,E,sEAmCT,IAAD,SAC6BW,KAAKX,MAAMmY,MAAMxC,OAA7C8lC,EADD,EACCA,WAAYrgC,EADb,EACaA,KAAMC,EADnB,EACmBA,MADnB,EAEqB1a,KAAKV,MAAzBqL,EAFD,EAECA,QAASi/B,EAFV,EAEUA,OAEjB,OACE,6BACE,kBAAC,GAAD,CACE2H,YAAa,CACX,CAAE7mB,KAAK,oBAAsB5qB,KAAM,4BACnC,CAAE4qB,KAAK,qBAAD,OAAuBowB,EAAvB,KAAsCh7C,KAAM6K,EAAQ7K,MAC1D,CAAEA,KAAK,GAAD,OAAK2a,EAAL,iBAAaC,EAAb,sCAGV,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAY/b,MAAM,QAAlB,UAA6BgM,EAAQ7K,KAArC,iBAA6C2a,EAA7C,iBAAqDC,EAArD,mCACA,kBAAC,GAAD,KACE,kBAAC,GAAD,CACEkvB,OAAQA,EACRD,SAAU/1B,GAAOwC,UAAUrT,EAAOC,IAAI2H,QAAQa,4BAA6BsvC,EAAYrgC,EAAMC,GAC7FmvB,OAAQ,SAACiD,GAAD,OACN,kBAAC7G,GAAD,CACEljB,MAAK,UAAKtI,EAAL,iBAAaC,EAAb,kCACL8M,UAAWiwC,GACX7tC,UAAWkjB,EACXn+B,YAAa5L,EAAO4L,YACpBgtB,WAAW,SACXwF,UAAW,CACT,OAAUu2B,GACV,OAAUC,GACV,SAAY,EAAK0E,qBACjB,QAAWzoD,GAAO0B,QAAQ,iCAE5B2tB,WAAYrvB,GAAOqH,8B,GArEL6J,IAAMhjB,WAgFY,8BCZnC8vC,M,YAxEb,WAAYvyC,GAAQ,IAAD,8BACjB,4CAAMA,KAJR0jB,MAAQ,qBAGW,EAFnBurC,SAAW,sBAEQ,EAYnB9pB,WAAa,SAACxvB,G9E6XT,IAA+B8lC,EAAY6Z,E8E5X9C/X,GAAiB5nC,EAAO8lC,YAAYr+B,MAAK,SAAA9R,GAAY,EAAK1K,SAAS,CAAC0K,gB9E4XlCmwC,E8E3XZ9lC,EAAO8lC,W9E2XiB6Z,E8E3XL3/C,EAAO2/C,W9E4X3Cj5C,GAAKE,SAAShI,GAAOwC,UAAUrT,EAAOC,IAAI2H,QAAQkB,qBAAsBivC,EAAY6Z,K8E5X7Bl4C,MAAK,SAAAwO,GAC/D,EAAKhrB,SAAS,CAAC4L,qBAAsBof,EAAKujC,UACzC92B,OAAM,SAAA/J,GACoB,MAAvBA,EAAO8b,aACT,EAAKpqC,MAAM0yC,UAAUpkB,EAAOxpB,YAlBf,EAuBnBgpC,mBAAqB,WAAO,IAClBxiC,EAAY,EAAKrL,MAAjBqL,QACRsN,SAAS8K,MAAT,UAAoB,EAAKA,MAAzB,cAAoCpY,EAAQ7K,KAA5C,gCAtBA,EAAKR,MAAQ,CACXqL,QAAS,GACTkB,qBAAsB,KACtB49B,YAAa,KACbC,cAAe,MAEjB,EAAKlF,WAAWnlC,EAAMmY,MAAMxC,QATX,E,sEA4BT,IAAD,OACC8lC,EAAe96C,KAAKX,MAAMmY,MAAMxC,OAAhC8lC,WADD,EAEmC96C,KAAKV,MAAvCqL,EAFD,EAECA,QAASkB,EAFV,EAEUA,qBAEjB,OACE,6BACE,kBAAC,GAAD,CACE0lC,YAAa,CACX,CAAC7mB,KAAM,oBAAqB5qB,KAAM,4BAClC,CAAC4qB,KAAK,qBAAD,OAAuBowB,GAAch7C,KAAM6K,EAAQ7K,MACxD,CAACA,KAAME,KAAK+iB,UAGhB,yBAAKnhB,MAAO,CAAC9D,UAAW,KACtB,kBAAC0kB,GAAA,EAAD,KACE,kBAACG,GAAA,EAAD,CACEI,MAAO/iB,KAAK+iB,MACZtT,OACE,kBAACoV,GAAA,EAAD,CACE2iB,gBAAc,OACd7lC,QAAS,WAAOiS,GAAOkE,mBAAmB,EAAKw2C,YAE/C,kBAAC,KAAD,SAIN,kBAAChrC,GAAA,EAAD,KACE,4BACEP,MAAO/iB,KAAK+iB,MACZ1hB,GAAIrB,KAAKsuD,SACTG,OAAQ5iD,EACR6iD,YAAY,IACZpxD,MAAM,OACN2rB,OAAO,mB,GAjEMnE,IAAMhjB,WA4EY,wBCYhC8vC,M,YAhFb,WAAYvyC,GAAQ,IAAD,8BACjB,4CAAMA,KAHR0jB,MAAQ,uCAEW,EAUnByhB,WAAa,SAACnlC,GAEZu9C,GADuBv9C,EAAMmY,MAAMxC,OAA3B8lC,YACqBr+B,MAAK,SAAA9R,GAAO,OAAI,EAAK1K,SAAS,CAAC0K,gBAZ3C,EAenBwiC,mBAAqB,WAAO,IAClBxiC,EAAY,EAAKrL,MAAjBqL,QACRsN,SAAS8K,MAAT,UAAoB,EAAKA,MAAzB,cAAoCpY,EAAQ7K,MAAQ,GAApD,gCAjBiB,EAoBnB08D,sBAAwB,SAACnrD,GAAU,IACzBypC,EAAe,EAAKz7C,MAAMmY,MAAMxC,OAAhC8lC,WACR,OAAOp/B,GAAKI,YAAYlI,GAAOwC,UAAUrT,EAAOC,IAAI2H,QAAQwB,qBAAsB2uC,EAAYzpC,EAAKhQ,KAAKob,MAAK,WAC3G2rB,GAAMC,QAAQ72B,GAASoB,QAAQE,SAC/B,EAAK7S,SAAS,CAAC2pC,QAAS,EAAKtqC,MAAMsqC,YAClClS,OAAM,SAAA/J,GACPya,GAAMtnC,MAAM6sB,EAAOxpB,QACnB6Y,QAAQC,OAAO0Q,OAxBjB,EAAKruB,MAAQ,CACXqL,QAAS,GACTi/B,QAAQ,GAEV,EAAKpF,WAAWnlC,GAPC,E,sEA+BT,IAAD,OACCy7C,EAAe96C,KAAKX,MAAMmY,MAAMxC,OAAhC8lC,WADD,EAEqB96C,KAAKV,MAAzBqL,EAFD,EAECA,QAASi/B,EAFV,EAEUA,OAEjB,OACE,6BACE,kBAAC,GAAD,CACE2H,YAAa,CACX,CAAE7mB,KAAM,oBAAqB5qB,KAAM,4BACnC,CAAE4qB,KAAK,qBAAD,OAAuBowB,GAAch7C,KAAM6K,EAAQ7K,MACzD,CAAEA,KAAME,KAAK+iB,UAGjB,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAYpkB,MAAM,QAAQqB,KAAK+iB,OAC/B,kBAAC,GAAD,KACE,kBAAC,GAAD,CACE6mB,OAAQA,EACRD,SAAU/1B,GAAOwC,UAAUrT,EAAOC,IAAI2H,QAAQsB,mBAAoB6uC,GAClEjR,OAAQ,SAACiD,GAAD,OACN,kBAAC7G,GAAD,CACEze,UAAWywC,GACXruC,UAAWkjB,EACXn+B,YAAa5L,EAAO4L,YACpBqe,aAAc,CACZ,CACE,QAAW,yDACX,KAAQ,kBAAC,KAAD,CAASruB,MAAM,cACvB,YAAe,kBAAOiV,GAAO8B,SAAP,4BAAqColC,EAArC,yBACtB,QAAWlnC,GAAO0B,QAAQ,sCAG9BmsB,YAAa,CACXc,aAAc,EAAKi6B,sBACnBxyC,QAASpW,GAAO0B,QAAQ,wCAE1BqmB,WAAW,SACXsH,WAAYrvB,GAAOqH,8B,GAvEL6J,IAAMhjB,WAmFY,qCC8CnC8vC,M,YAvHb,WAAYvyC,GAAQ,IAAD,8BACjB,4CAAMA,KAHR0jB,MAAQ,uCAEW,EAWnByhB,WAAa,SAACnlC,GAEZu9C,GADuBv9C,EAAMmY,MAAMxC,OAA3B8lC,YACqBr+B,MAAK,SAAA9R,GAAO,OAAI,EAAK1K,SAAS,CAAC0K,eAC5D0wC,KAA2B5+B,MAAK,SAAAggD,GAAc,OAAI,EAAKx8D,SAAS,CAACw8D,uBAdhD,EAiBnBtvB,mBAAqB,WAAO,IAClBxiC,EAAY,EAAKrL,MAAjBqL,QACRsN,SAAS8K,MAAT,UAAoB,EAAKA,MAAzB,cAAoCpY,EAAQ7K,MAAQ,GAApD,gCAnBiB,EAsBnB48D,iCAAmC,SAAC58D,EAAMuR,GAAU,IAC1CorD,EAAmB,EAAKn9D,MAAxBm9D,eACF18D,EAAQsR,EAAKvR,GACN,YAATA,IAEAuR,EAAI,aADFtR,EACqB6T,GAAOkC,gBAAgB2mD,EAAgB,QAAS18D,GAAhD,aAEA,OA7BV,EAkCnBorD,SAAW,WAAO,IACRrQ,EAAe,EAAKz7C,MAAMmY,MAAMxC,OAAhC8lC,WADO,EAE2B,EAAKx7C,MAAvCm9D,EAFO,EAEPA,eAAgBE,EAFT,EAESA,cAClBC,EAAsChpD,GAAOoG,MAAMk+C,IAEzD,OADA0E,EAAoC,GAApC,QAAoDH,EAChD7oD,GAAOK,QAAQwoD,GACV,KAEA,CACL,CACE38D,KAAM,uCACN0oC,UAAW,CACT1oC,KAAM,eACN0Y,OAAQokD,EACRvrD,KAAM,CACJ,QAAWypC,GAEbllB,UAAW,CAAC,EAAK8mC,oCAGrB,CACE58D,KAAM,2BACN0oC,UAAW,CACT1oC,KAAM,gBACN0Y,OAAQ+tC,GACRlpD,OAAQmpD,GACRpwB,QAAS,CACP,CACEt2B,KAAM,aACNijB,MAAO,2BACPvK,OAAQ6sC,GACRpuB,UAAU,EACVD,aAAa,GAEf,CACEl3B,KAAM,iBACNijB,MAAO,2BACPvK,OAAQ+sC,GACRloD,OAAQmoD,GACRvuB,UAAU,EACVD,aAAa,IAGjB3lB,KAAMsrD,MA1Ed,EAAKr9D,MAAQ,CACXqL,QAAS,GACTgyD,cAAe/oD,GAAOoG,MAAMitC,IAC5BwV,eAAgB,IAElB,EAAKj4B,WAAWnlC,GARC,E,sEAoFT,IACAy7C,EAAe96C,KAAKX,MAAMmY,MAAMxC,OAAhC8lC,WACAnwC,EAAY3K,KAAKV,MAAjBqL,QACFggC,EAAQ3qC,KAAKmrD,WAEnB,OACE,6BACE,kBAAC,GAAD,CACE5Z,YAAa,CACX,CAAE7mB,KAAM,oBAAqB5qB,KAAM,4BACnC,CAAE4qB,KAAK,qBAAD,OAAuBowB,GAAch7C,KAAM6K,EAAQ7K,MACzD,CAAE4qB,KAAK,qBAAD,OAAuBowB,EAAvB,mBAAoDh7C,KAAM,wCAChE,CAAEA,KAAME,KAAK+iB,UAGjB,yBAAKnhB,MAAO,CAAC9D,UAAW,KACtB,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAUq2B,GAAI,GAAIC,GAAI,GAAIC,GAAI,EAAGmqB,GAAI,GACjC7T,EACA,kBAAC,GAAD,CACE5nB,MAAO/iB,KAAK+iB,MACZ4nB,MAAOA,EACPzC,WAAW,OACXC,aAAcv0B,GAAOwC,UAAUrT,EAAOC,IAAI2H,QAAQuB,mBAAoB4uC,GACtErjB,aAAc,kBAAM7jB,GAAO8B,SAAP,4BAAqColC,EAArC,uBAEpB,a,GAjHch2B,IAAMhjB,WA0HY,CAChD,mCAAoC,wCC1CvB8vC,M,YApFb,WAAYvyC,GAAQ,IAAD,8BACjB,4CAAMA,KAURmlC,WAAa,SAACnlC,GAAW,IAAD,EACgCA,EAAMmY,MAAMxC,OAA1D8lC,EADc,EACdA,WAAY+hB,EADE,EACFA,iBAAkBhhB,EADhB,EACgBA,YACtCe,GAAiB9B,GAAYr+B,MAAK,SAAA9R,GAAO,OAAI,EAAK1K,SAAS,CAAC0K,ejFwRzD,SAAuCmwC,EAAY+hB,GACxD,OAAOnhD,GAAKE,SAAShI,GAAOwC,UAAUrT,EAAOC,IAAI2H,QAAQwB,qBAAsB2uC,EAAY+hB,IiFxRzFC,CAA8BhiB,EAAY+hB,GAAkBpgD,MAC1D,SAAAsgD,GAAa,OAAI,EAAK98D,SAAS,CAAC88D,qBjF0R/B,SAA8CjiB,EAAYkiB,EAAmBnhB,GAClF,OAAOngC,GAAKE,SAAShI,GAAOwC,UAC1BrT,EAAOC,IAAI2H,QAAQyB,6BAA8B0uC,EAAYkiB,EAAmBnhB,IiF1RhFohB,CAAqCniB,EAAY+hB,EAAkBhhB,GAAap/B,MAC9E,SAAAkgD,GAAa,OAAI,EAAK18D,SAAS,CAAC08D,sBAlBjB,EAsBnBxvB,mBAAqB,WAAO,IAAD,EACyB,EAAK7tC,MAA/CqL,EADiB,EACjBA,QAASoyD,EADQ,EACRA,cAAeJ,EADP,EACOA,cAChC1kD,SAAS8K,MAAT,UAAoB45C,EAAc7P,YAAlC,2BAAsDiQ,EAAcvU,aAApE,2BAAyF79C,EAAQ7K,OArBjG,EAAKR,MAAQ,CACXqL,QAAS,GACToyD,cAAe,GACfJ,cAAe,IAEjB,EAAKn4B,WAAWnlC,GARC,E,sEA2BT,IAAD,EAC+CW,KAAKX,MAAMmY,MAAMxC,OAA/D8lC,EADD,EACCA,WAAY+hB,EADb,EACaA,iBAAkBhhB,EAD/B,EAC+BA,YAD/B,EAE2C77C,KAAKV,MAA/CqL,EAFD,EAECA,QAASoyD,EAFV,EAEUA,cAAeJ,EAFzB,EAEyBA,cAEhC,OACE,6BACE,kBAAC,GAAD,CACEprB,YAAa,CACX,CAAE7mB,KAAM,oBAAqB5qB,KAAM,4BACnC,CAAE4qB,KAAK,qBAAD,OAAuBowB,GAAch7C,KAAM6K,EAAQ7K,MACzD,CAAE4qB,KAAK,qBAAD,OAAuBowB,EAAvB,mBAAoDh7C,KAAM,wCAChE,CAAEA,KAAMi9D,EAAcvU,iBAG1B,yBAAK5mD,MAAO,CAAC9D,UAAW,KACtB,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAUq2B,GAAI,GAAIC,GAAI,GAAIC,GAAI,EAAGmqB,GAAI,GACnC,kBAAC,GAAD,CACEz7B,MAAO/iB,KAAK+iB,MACZvK,OAAQ+tC,GACRlpD,OAAQmpD,GACRpwB,QAAS,CACP,CACEt2B,KAAM,aACNijB,MAAO,2BACPvK,OAAQ6sC,GACRpuB,UAAU,EACVD,aAAa,GAEf,CACEl3B,KAAM,iBACNijB,MAAO,2BACPvK,OAAQ+sC,GACRloD,OAAQmoD,GACRvuB,UAAU,EACVD,aAAa,IAGjB3lB,KAAMsrD,EACNz0B,WAAY,OACZC,aAAcv0B,GAAOwC,UACnBrT,EAAOC,IAAI2H,QAAQ0B,4BAA6ByuC,EAAY+hB,EAAkBhhB,GAEhFpkB,aAAc,kBAAM7jB,GAAO8B,SAAP,4BAAqColC,EAArC,qBACpBxS,eAAgB10B,GAAOwC,UACrBrT,EAAOC,IAAI2H,QAAQ2B,8BAA+BwuC,EAAY+hB,EAAkBhhB,GAElFtT,eAAgB,kBAAM30B,GAAO8B,SAAP,4BAAqColC,EAArC,+B,GA5EEh2B,IAAMhjB,WAsFY,uCCzEpDo7D,G,YAEJ,WAAY79D,GAAQ,IAAD,8BACjB,4CAAMA,KAURmlC,WAAa,SAACnlC,GAAW,IAAD,EACYA,EAAMmY,MAAMxC,OAAtC8lC,EADc,EACdA,WAAYjO,EADE,EACFA,UACpB+P,GAAiB9B,GAAYr+B,MAAK,SAAA9R,GAChC,EAAK1K,SAAS,CAAC0K,eAEjBmyC,GAAuBhC,EAAYjO,GAAWpwB,MAAK,SAAAhZ,GACjD,EAAKxD,SAAS,CAACwD,cAEjB26C,GAA2BtD,EAAYjO,GAAWpwB,MAAK,SAAAg+C,GACrD,EAAKx6D,SAAS,CAACw6D,qBApBA,EAwBnBttB,mBAAqB,WAAO,IAAD,EACG,EAAK7tC,MAAzBqL,EADiB,EACjBA,QAASlH,EADQ,EACRA,OACjBwU,SAAS8K,MAAT,UAAoBtf,EAAOuf,WAAa,GAAxC,cAAgDrY,EAAQ7K,MAAQ,GAAhE,gCA1BiB,EA6BnBq9D,mBAAqB,WACnB,GAAI,EAAKl1B,QAAS,CAAC,IAAD,EACkB,EAAK5oC,MAAMmY,MAAMxC,OAA3C8lC,EADQ,EACRA,WAAYjO,EADJ,EACIA,UACdx7B,EAAO,EAAK42B,WlF0gBjB,SAAyC6S,EAAYuD,EAAmBhtC,GAC7E,OAAOqK,GAAKG,UAAUjI,GAAOwC,UAAUrT,EAAOC,IAAI2H,QAAQ6B,6BAA8BsuC,EAAYuD,GAAoBhtC,IkF1gBpH+rD,CAAgCtiB,EAAYjO,EAAWx7B,GAAMoL,MAAK,WAChE7I,GAAO8B,SAAP,4BAAqColC,EAArC,oBAA2DjO,IAC3DzE,GAAMC,QAAQ72B,GAASoB,QAAQC,UAC9B6kB,OAAM,SAAA/J,GACPya,GAAMtnC,MAAM6sB,EAAOxpB,aAlCvB,EAAK7E,MAAQ,CACXqL,QAAS,GACTlH,OAAQ,GACRg3D,aAAc,IAEhB,EAAKj2B,WAAWnlC,GARC,E,sEA0CT,IAAD,SAC2BW,KAAKX,MAAMmY,MAAMxC,OAA3C8lC,EADD,EACCA,WAAYjO,EADb,EACaA,UACZvsC,EAAYN,KAAKX,MAAjBiB,QAFD,EAGmCN,KAAKV,MAAvCqL,EAHD,EAGCA,QAASlH,EAHV,EAGUA,OAAQg3D,EAHlB,EAGkBA,aAEzB,OACE,6BACE,kBAAC,GAAD,CACElpB,YAAa,CACX,CAAE7mB,KAAK,oBAAsB5qB,KAAM,4BACnC,CAAE4qB,KAAK,qBAAD,OAAuBowB,EAAvB,KAAsCh7C,KAAM6K,EAAQ7K,MAC1D,CAAE4qB,KAAK,qBAAD,OAAuBowB,EAAvB,YAA6Ch7C,KAAM,wCACzD,CAAE4qB,KAAK,qBAAD,OAAuBowB,EAAvB,oBAA6CjO,GAAa/sC,KAAM2D,EAAOuf,WAC7E,CAAEljB,KAAM,qCAGZ,kBAAC,GAAD,KACE,kBAAC,GAAD,eACM2D,EAAOuf,UADb,qDAGA,kBAAC,GAAD,KACGy3C,GAAgBA,EAAapqD,OAAS,EACrC,kBAACq2B,GAAD,CACEluB,OAAQ8+C,GACRrgC,UAAU,EACVD,aAAa,EACb3lB,KAAMopD,EACNjmC,SAAU,SAAAxc,GAAG,OAAI,EAAKiwB,QAAUjwB,GAAOA,EAAIse,SAE3C,kBAAC,GAAD,OAEN,kBAAC,GAAD,KACE,kBAAC11B,EAAA,EAAD,CAAYgB,MAAO,CAAC8iB,KAAM,KAC1B,kBAAChjB,EAAA,EAAD,CACEb,QAAQ,YACRlC,MAAM,UACN8B,UAAWH,EAAQujB,OACnBliB,QAAS3B,KAAKm9D,oBAJhB,uB,GA7E4Br4C,IAAMhjB,WA4F/B8vC,MACb7vC,cAnGa,SAAA3E,GAAK,MAAK,CACvBymB,OAAQ,CACN1lB,OAAQf,EAAMK,QAAQ,OAiGxBsE,CAAmBm7D,IACnB,8BC/CatrB,M,YA5Db,WAAYvyC,GAAQ,IAAD,8BACjB,4CAAMA,KAHR0jB,MAAQ,uCAEW,EASnByhB,WAAa,SAACnlC,GACZu9C,GAAiBv9C,EAAMmY,MAAMxC,OAAO8lC,YAAYr+B,MAAK,SAAA9R,GACnD,EAAK1K,SAAS,CAAC0K,gBAXA,EAenBwiC,mBAAqB,WAAO,IAClBxiC,EAAY,EAAKrL,MAAjBqL,QACRsN,SAAS8K,MAAT,UAAoB,EAAKA,MAAzB,cAAoCpY,EAAQ7K,MAAQ,GAApD,gCAdA,EAAKR,MAAQ,CACXqL,QAAS,IAEX,EAAK65B,WAAWnlC,GANC,E,sEAoBT,IAAD,OACCy7C,EAAe96C,KAAKX,MAAMmY,MAAMxC,OAAhC8lC,WACAnwC,EAAY3K,KAAKV,MAAjBqL,QAER,OACE,6BACE,kBAAC,GAAD,CACE4mC,YAAa,CACX,CAAE7mB,KAAM,oBAAqB5qB,KAAM,4BACnC,CAAE4qB,KAAK,qBAAD,OAAuBowB,GAAch7C,KAAM6K,EAAQ7K,MACzD,CAAEA,KAAME,KAAK+iB,UAGjB,kBAACriB,EAAA,EAAD,CAAOkB,MAAOq0C,IACZ,kBAAC,GAAD,CACEtM,SAAU/1B,GAAOwC,UAAUrT,EAAOC,IAAI2H,QAAQO,kBAAmB4vC,GACjEjR,OAAQ,SAACiD,GAAD,OACN,kBAAC7G,GAAD,CACEljB,MAAK,UAAKpY,EAAQ7K,KAAb,iBAAqB,EAAKijB,OAC/Bwe,WAAW,EACX/Z,UAAW2wC,GACXvuC,UAAWkjB,EACXn+B,YAAa5L,EAAO4L,YACpBqe,aAAc,CACZ,CACE,QAAW,yDACX,KAAQ,kBAAC,KAAD,CAASruB,MAAM,cACvB,YAAe,kBAAOiV,GAAO8B,SAAP,4BAAqColC,EAArC,sBAG1B7X,WAAYrvB,GAAOqH,6B,GArDD6J,IAAMhjB,WA+DY,gCC4CrC8vC,M,YA7Fb,WAAYvyC,GAAQ,IAAD,8BACjB,4CAAMA,KAHR0jB,MAAQ,uCAEW,EAUnByhB,WAAa,SAACnlC,GAAW,IAAD,EACcA,EAAMmY,MAAMxC,OAAxC8lC,EADc,EACdA,WAAYe,EADE,EACFA,YACpBe,GAAiB9B,GAAYr+B,MAAK,SAAA9R,GAChC,EAAK1K,SAAS,CAAC0K,eAEbkxC,GpF0KD,SAAiCf,EAAYe,GAClD,OAAOngC,GAAKE,SAAShI,GAAOwC,UAAUrT,EAAOC,IAAI2H,QAAQS,uBAAwB0vC,EAAYe,IoF1KzFwhB,CAAwBviB,EAAYe,GAAap/B,MAC/C,SAAAi5C,GAAc,OAAI,EAAKz1D,SAAS,CAACy1D,uBAjBpB,EAsBnBvoB,mBAAqB,WAAO,IAClB0O,EAAgB,EAAKx8C,MAAMmY,MAAMxC,OAAjC6mC,YACR,EAAK94B,MAAQ84B,EAAc,uCAAW,uCAFb,IAGjBlxC,EAAY,EAAKrL,MAAjBqL,QACRsN,SAAS8K,MAAT,UAAoB,EAAKA,MAAzB,cAAoCpY,EAAQ7K,MAAQ,GAApD,gCAvBA,EAAKR,MAAQ,CACXqL,QAAS,GACT+qD,eAAgBzO,IAElB,EAAKziB,WAAWnlC,GAPC,E,sEA6BT,IAAD,EAC6BW,KAAKX,MAAMmY,MAAMxC,OAA7C8lC,EADD,EACCA,WAAYe,EADb,EACaA,YADb,EAE6B77C,KAAKV,MAAjCqL,EAFD,EAECA,QAAS+qD,EAFV,EAEUA,eACXnkB,EAAc,CAClB,CAAE7mB,KAAM,oBAAqB5qB,KAAM,4BACnC,CAAE4qB,KAAK,qBAAD,OAAuBowB,EAAvB,KAAsCh7C,KAAM6K,EAAQ7K,MAC1D,CAAE4qB,KAAK,qBAAD,OAAuBowB,EAAvB,eAAgDh7C,KAAM,yCAQ9D,OANI+7C,EACFtK,EAAYxhC,KAAK,CAAEjQ,KAAM,yCAEzByxC,EAAYxhC,KAAK,CAAEjQ,KAAM,yCAIzB,6BACE,kBAAC,GAAD,CACEyxC,YAAaA,IAEf,yBAAK3vC,MAAO,CAAC9D,UAAW,KACtB,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAUq2B,GAAI,GAAIC,GAAI,GAAIC,GAAI,EAAGmqB,GAAI,GACnC,kBAAC,GAAD,CACEz7B,MAAO/iB,KAAK+iB,MACZvK,OAAQ+tC,GACR3wB,UAAW,CAAC4qB,IACZpqB,QAAS,CACP,CACEt2B,KAAM,aACNijB,MAAO,2BACPvK,OAAQ6sC,GACRpuB,UAAU,EACVD,aAAa,GAEf,CACEl3B,KAAM,iBACNijB,MAAO,2BACPvK,OAAQ+sC,GACRloD,OAAQmoD,GACRvuB,UAAU,EACVD,aAAa,IAGjB3lB,KAAMqkD,EACNxtB,WAAY,OACZC,aACE0T,EAAcjoC,GAAOwC,UACnBrT,EAAOC,IAAI2H,QAAQW,sBAAuBwvC,EAAYe,GACpDjoC,GAAOwC,UACTrT,EAAOC,IAAI2H,QAAQU,qBAAsByvC,GAG7CrjB,aAAc,kBAAM7jB,GAAO8B,SAAP,4BAAqColC,EAArC,gBACpBxS,eAAgBuT,EAAcjoC,GAAOwC,UAAUrT,EAAOC,IAAI2H,QAAQQ,wBAAyB2vC,EAAYe,GAAe,KACtHtT,eAAgB,kBAAM30B,GAAO8B,SAAP,4BAAqColC,EAArC,0B,GAtFJh2B,IAAMhjB,WAgGY,kC,qBCrHvCw7D,GAAkC,CAC7CnpB,MAAO,CACL3yC,KAAM,OAER+7D,YAAa,CACXvsB,IAAK,CACHlC,YAAY,EACZ0uB,YAAa,MACbC,YAAa,YAGjBC,WAAY,CACVC,SAAS,GAEXC,OAAQ,CACNC,MAAM,EACNvgE,MAAO,EACPwgE,OAAQ,CAAC,gBAEXC,MAAO,CACLC,WAAY,MAEdC,MAAO,CACLl7C,MAAO,CACL7F,KAAM,8BAERghD,OAAQ,CACNC,UAAW,SAACx4C,GAAD,OAAS+N,KAAKgtB,MAAM/6B,EAAM,QAGzCy4C,KAAM,CACJpwC,QAAS,GAEX4M,QAAS,CACPyjC,EAAG,CACDF,UAAW,SAAUx4C,GACnB,MAAM,SAAN,OAAW/R,GAAOC,WAAW8R,GAA7B,eAMK24C,GAAkC,CAC7CnqB,MAAO,CACLlrB,OAAQ,IACRznB,KAAM,OACN+8D,KAAM,CACJZ,SAAS,GAEXa,WAAY,CACVb,SAAS,IAGbC,OAAQ,CACNtgE,MAAO,CAAC,EAAE,EAAE,GACZmhE,MAAO,YAETP,OAAQ,KAIRH,MAAO,GAEPE,MAAO,CACLl7C,MAAO,CACL7F,KAAM,8BAERghD,OAAQ,CACNC,UAAW,SAACx4C,GAAD,OAAS+N,KAAKgtB,MAAM/6B,EAAM,QAGzCiV,QAAS,CACPyjC,EAAG,CACDF,UAAW,SAAUx4C,GACnB,MAAM,SAAN,OAAW/R,GAAOC,WAAW8R,GAA7B,eCjDF+4C,G,YAGJ,WAAYr/D,GAAO,IAAD,8BAChB,4CAAMA,KAHR0jB,MAAQ,2BAEU,EAUlB+c,kBAAoB,WAClB7nB,SAAS8K,MAAQ,EAAKA,OAXN,EAclByhB,WAAa,WtFujBN9oB,GAAKE,SAAS7Y,EAAOC,IAAIkL,SAASC,iBsFtjBXsO,MAAK,SAAApL,GAC/BisD,GAAgCS,MAAMC,WAAa3sD,EAAK2sD,WACxD,EAAK/9D,SAAS,CAAE0+D,yBAA0BttD,EAAKutD,YtF6kB5CljD,GAAKE,SAAS7Y,EAAOC,IAAIkL,SAASE,iBsF3kBXqO,MAAK,SAAApL,GAC/BitD,GAAgCJ,OAAS7sD,EAAK2sD,WAC9C,EAAK/9D,SAAS,CAAE4+D,yBAA0BxtD,EAAKutD,aAlBjD,EAAKt/D,MAAQ,CACXq/D,yBAA0B,KAC1BE,yBAA0B,MAE5B,EAAKr6B,aAPW,E,sEAyBR,IACAlkC,EAAYN,KAAKX,MAAjBiB,QADD,EAEwDN,KAAKV,MAA5Dq/D,EAFD,EAECA,yBAA0BE,EAF3B,EAE2BA,yBAElC,OACE,6BACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAU1qC,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAAImqB,GAAI,GACpC,kBAAC,GAAD,CAAMrK,OAAK,GACT,kBAAC,GAAD,CAAYx1C,MAAM,SACfggE,EACC,kBAAC,KAAD,CACEl+D,UAAWH,EAAQw+D,OACnBhtC,QAASwrC,GACTsB,OAAQD,EACRn9D,KAAK,MACLynB,OAAQ,MAER,MAEN,kBAAC,GAAD,uEAKJ,kBAAC,GAAD,CAAUkL,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAAImqB,GAAI,GACpC,kBAAC,GAAD,CAAMrK,OAAK,GACT,kBAAC,GAAD,CAAYx1C,MAAM,SACfkgE,EACC,kBAAC,KAAD,CACEp+D,UAAWH,EAAQw+D,OACnBhtC,QAASwsC,GACTM,OAAQC,EACRr9D,KAAK,OACLynB,OAAQ,MAER,MAEN,kBAAC,GAAD,mI,GAlEkBnE,IAAMhjB,WA6EvB8vC,MAAgB7vC,cAzFhB,SAAA3E,GAAK,MAAK,CACvB0hE,OAAQ,CACN,0BAA2B,CACzBngE,MAAO,SAET,wBAAyB,CACvBq6B,WAAY,UACZr6B,MAAO,aAkFkBoD,CAAmB28D,IAAoB,0BCdzDK,GAAsC,CACjD,CACE,KAAQ,KACR,KAAQ,SACR,MAAS,2BACT,KAAQ,mDAEV,CACE,KAAQ,gBACR,KAAQ,UACR,MAAS,iCACT,UAAa,OAEf,CACE,KAAQ,kBACR,KAAQ,UACR,MAAS,2BACT,UAAa,OAEf,CACE,KAAQ,qBACR,KAAQ,UACR,MAAS,6BACT,UAAa,OAEf,CACE,KAAQ,uBACR,KAAQ,UACR,MAAS,uBACT,UAAa,OAEf,CACE,KAAQ,eACR,KAAQ,UACR,MAAS,uBACT,UAAa,OAEf,CACE,KAAQ,iBACR,KAAQ,UACR,MAAS,iBACT,UAAa,QAIJC,GAAuC,CAClD,CACE,KAAQ,YACR,KAAQ,SACR,MAAS,eACT,YAAc,EACd,UAAY,GAEd,CACE,KAAQ,cACR,KAAQ,SACR,MAAS,2BACT,YAAc,EACd,UAAY,EACZ,QAAW1gD,GACX,QAAU,GAEZ,CACE,KAAQ,wBACR,KAAQ,SACR,MAAS,2BACT,YAAc,EACd,UAAY,GAEd,CACE,KAAQ,aACR,KAAQ,UACR,MAAS,qBACT,UAAa,MACb,UAAY,GAEd,CACE,KAAQ,iBACR,KAAQ,UACR,MAAS,iCACT,UAAa,MACb,UAAY,GAEd,CACE,KAAQ,cACR,KAAQ,UACR,MAAS,mCACT,UAAa,MACb,UAAY,GAEd,CACE,KAAQ,gBACR,KAAQ,UACR,MAAS,6BACT,UAAa,MACb,UAAY,IAIH2gD,GAA0C,CACrD,CACE,KAAQ,cACR,KAAQ,SACR,MAAS,2BACT,KAAQ,2CAEV,CACE,KAAQ,gBACR,KAAQ,UACR,MAAS,iCACT,UAAa,OAEf,CACE,KAAQ,kBACR,KAAQ,UACR,MAAS,2BACT,UAAa,OAEf,CACE,KAAQ,qBACR,KAAQ,UACR,MAAS,6BACT,UAAa,OAEf,CACE,KAAQ,uBACR,KAAQ,UACR,MAAS,uBACT,UAAa,OAEf,CACE,KAAQ,eACR,KAAQ,UACR,MAAS,uBACT,UAAa,OAEf,CACE,KAAQ,iBACR,KAAQ,UACR,MAAS,iBACT,UAAa,QC1KFC,G,2MAhDbn8C,MAAQ,2B,EAER+c,kBAAoB,WAClB7nB,SAAS8K,MAAQ,EAAKA,O,wEAItB,OACE,6BACE,kBAACriB,EAAA,EAAD,CAAOkB,MAAOq0C,IACZ,kBAAC,GAAD,CACEtM,SAAW5mC,EAAOC,IAAIkL,SAASI,gBAC/Bu7B,OAAS,SAACiD,GAAD,OACP,kBAAC7G,GAAD,CACEljB,MAAM,uCACNwe,WAAW,EACX/Z,UAAWu3C,GACXn1C,UAAWkjB,EACXnH,eAAe,EACf1C,WAAYrvB,GAAOqH,kBACnBumB,UAAU,EACV9H,YAAa,CAAEhK,SAAU,WAKjC,kBAAChvB,EAAA,EAAD,CAAOkB,MAAOq0C,IACZ,kBAAC,GAAD,CACEtM,SAAW5mC,EAAOC,IAAIkL,SAASG,oBAC/Bw7B,OAAS,SAACiD,GAAD,OACP,kBAAC7G,GAAD,CACEljB,MAAM,6CACNwe,WAAW,EACX/Z,UAAWy3C,GACXr1C,UAAWkjB,EACXnH,eAAe,EACf1C,WAAYrvB,GAAOqH,kBACnBumB,UAAU,EACV9H,YAAa,CAAEhK,SAAU,gB,GAvCJ5K,IAAMhjB,WCmD5Bq9D,G,YAjDb,WAAY9/D,GAAQ,IAAD,8BACjB,4CAAMA,KASRygC,kBAAoB,WAAO,IAAD,EACA,EAAKxgC,MAArBmb,EADgB,EAChBA,KAAMC,EADU,EACVA,MACdzC,SAAS8K,MAAT,UAAoBtI,EAApB,iBAA4BC,EAA5B,yCATA,EAAKpb,MAAQ,CACXsqC,QAAQ,EACRnvB,KAAMpb,EAAMmY,MAAMxC,OAAOyF,KACzBC,MAAOrb,EAAMmY,MAAMxC,OAAO0F,OANX,E,sEAeT,IAAD,EACyB1a,KAAKV,MAA7Bmb,EADD,EACCA,KAAMC,EADP,EACOA,MAAOkvB,EADd,EACcA,OAErB,OACE,6BACE,kBAAC,GAAD,CACE2H,YAAa,CACX,CAAE7mB,KAAM,4BAA6B5qB,KAAM,4BAC3C,CAAEA,KAAK,GAAD,OAAK2a,EAAL,iBAAaC,EAAb,cAGV,kBAACha,EAAA,EAAD,CAAOkB,MAAOq0C,IACZ,kBAAC,GAAD,CACErM,OAAQA,EACRD,SAAW/1B,GAAOwC,UAAUrT,EAAOC,IAAIkL,SAASK,iBAAkBkM,EAAMC,GACxEmvB,OAAS,SAACiD,GAAD,OACP,kBAAC7G,GAAD,CACEljB,MAAK,UAAKtI,EAAL,iBAAaC,EAAb,wCACL6mB,WAAW,EACX/Z,UAAWw3C,GACXp1C,UAAWkjB,EACXnH,eAAe,EACf1C,WAAYrvB,GAAOqH,kBACnBumB,UAAU,EACV9H,YAAa,CAAEhK,SAAU,gB,GAzCJ5K,IAAMhjB,WCkD5Bs9D,G,YAhDb,WAAY//D,GAAQ,IAAD,8BACjB,4CAAMA,KAQRygC,kBAAoB,WAAO,IACjBrlB,EAAS,EAAKnb,MAAdmb,KACRxC,SAAS8K,MAAT,UAAoBtI,EAApB,+CARA,EAAKnb,MAAQ,CACXsqC,QAAQ,EACRnvB,KAAMpb,EAAMmY,MAAMxC,OAAOyF,MALV,E,sEAcT,IAAD,EACkBza,KAAKV,MAAtBmb,EADD,EACCA,KAAMmvB,EADP,EACOA,OAEd,OACE,6BACE,kBAAC,GAAD,CACE2H,YAAa,CACX,CAAE7mB,KAAM,4BAA6B5qB,KAAM,4BAC3C,CAAEA,KAAK,GAAD,OAAK2a,EAAL,oBAGV,kBAAC/Z,EAAA,EAAD,CAAOkB,MAAOq0C,IACZ,kBAAC,GAAD,CACErM,OAAQA,EACRD,SAAW/1B,GAAOwC,UAAUrT,EAAOC,IAAIkL,SAASM,uBAAwBiM,GACxEovB,OAAS,SAACiD,GAAD,OACP,kBAAC7G,GAAD,CACEljB,MAAK,UAAKtI,EAAL,8CACL8mB,WAAW,EACX/Z,UAAWw3C,GACXp1C,UAAWkjB,EACXnH,eAAe,EACf1C,WAAYrvB,GAAOqH,kBACnBumB,UAAU,EACV9H,YAAa,CAAEhK,SAAU,gB,GAxCC5K,IAAMhjB,WCWjCu9D,G,iLAjBX,OACE,6BACE,4BACEt8C,MAAM,KACNzlB,MAAM,MACN2rB,OAAO,MACPpG,IAAI,4CACJ6rC,YAAY,IACZ4Q,MAAM,0EACNC,iBAAe,S,GAZNz6C,IAAMhjB,WC+GnB09D,G,iLACM,IACA1vD,EAAS9P,KAAKX,MAAdyQ,KAER,OACE,kBAAC,GAAD,CACEupC,SACE,kBAAC,IAAM94C,SAAP,KACE,kBAACijB,GAAA,EAAD,KAAM,kBAAC,GAAD,OACN,kBAACwuB,GAAD,CAASF,WAAY,CAAC,wBAAyB,qBAAsB,0BAA2B,0BAC9F,kBAACpuB,GAAA,EAAD,MACA,kBAACF,GAAA,EAAD,KAAM,kBAAC,GAAD,QAER,kBAACwuB,GAAD,CAASF,WAAY,CAAC,8BAA+B,6BAA8B,8BACjF,kBAACpuB,GAAA,EAAD,MACA,kBAACF,GAAA,EAAD,KAAM,kBAAC,GAAD,QAER,kBAACwuB,GAAD,CAASF,WAAY,CAAC,uBAAwB,8BAC5C,kBAACpuB,GAAA,EAAD,MACA,kBAACF,GAAA,EAAD,KAAM,kBAAC,GAAD,QAER,kBAACwuB,GAAD,CAASF,WAAY,CAAC,yBAA0B,yBAC9C,kBAACpuB,GAAA,EAAD,MACA,kBAACF,GAAA,EAAD,KAAM,kBAAC,GAAD,QAER,kBAACwuB,GAAD,CAASF,WAAY,CAAC,2BACpB,kBAACpuB,GAAA,EAAD,MACA,kBAACF,GAAA,EAAD,KAAM,kBAAC,GAAD,QAEP1T,EAAK2vD,SACJ,oCACE,kBAAC/7C,GAAA,EAAD,MACA,kBAACF,GAAA,EAAD,KAAM,kBAAC,GAAD,QAEN,MAGRzC,QAAShe,EAAO+L,YAEhB,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAO++B,OAAK,EAACC,KAAK,IAAInqB,UAAW07C,KACjC,kBAAC,IAAD,CAAOvxB,KAAK,WAAWnqB,UAAW+7C,KAClC,kBAAC,IAAD,CAAO5xB,KAAK,YAAYnqB,UAAWg8C,KACnC,kBAAC,IAAD,CAAO7xB,KAAK,UAAUnqB,UAAWi8C,KACjC,kBAAC,IAAD,CAAO9xB,KAAK,WAAWnqB,UAAWk8C,KAClC,kBAAC,IAAD,CAAO/xB,KAAK,gBAAgBnqB,UAAWm8C,KACvC,kBAAC,IAAD,CAAOhyB,KAAK,UAAUnqB,UAAWo8C,KACjC,kBAAC,IAAD,CAAOjyB,KAAK,WAAWnqB,UAAWq8C,KAClC,kBAAC,IAAD,CAAOlyB,KAAK,YAAYnqB,UAAWs8C,KACnC,kBAAC,IAAD,CAAOt8C,UAAWylB,W,GAjDHtkB,IAAMhjB,WAwDzB49D,GAAgB,kBACpB,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAO5xB,KAAK,kBAAkBnqB,UAAWupB,KACzC,kBAAC,IAAD,CAAOvpB,UAAWylB,OAIhBw2B,GAAe,kBACnB,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAO/xB,OAAK,EAACC,KAAK,UAAUnqB,UAAW46B,KACvC,kBAAC,IAAD,CAAO1Q,OAAK,EAACC,KAAK,mBAAmBnqB,UAAWu8C,KAChD,kBAAC,IAAD,CAAOryB,OAAK,EAACC,KAAK,iDAAiDnqB,UAAWw/B,KAC9E,kBAAC,IAAD,CAAOtV,OAAK,EAACC,KAAK,uBAAuBnqB,UAAWw8C,KACpD,kBAAC,IAAD,CAAOtyB,OAAK,EAACC,KAAK,oBAAoBnqB,UAAWy8C,KACjD,kBAAC,IAAD,CAAOvyB,OAAK,EAACC,KAAK,iCAAiCnqB,UAAWy8C,KAC9D,kBAAC,IAAD,CAAOvyB,OAAK,EAACC,KAAK,mBAAmBnqB,UAAW08C,KAChD,kBAAC,IAAD,CAAOxyB,OAAK,EAACC,KAAK,iCAAiCnqB,UAAW28C,KAC9D,kBAAC,IAAD,CAAOzyB,OAAK,EAACC,KAAK,kEAAkEnqB,UAAW48C,KAC/F,kBAAC,IAAD,CAAO58C,UAAWylB,OAIhBy2B,GAAgB,kBACpB,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOhyB,OAAK,EAACC,KAAK,sBAAsBnqB,UAAW68C,KACnD,kBAAC,IAAD,CAAO3yB,OAAK,EAACC,KAAK,yBAAyBnqB,UAAW88C,KACtD,kBAAC,IAAD,CAAO5yB,OAAK,EAACC,KAAK,kCAAkCnqB,UAAW+8C,KAC/D,kBAAC,IAAD,CAAO7yB,OAAK,EAACC,KAAK,yCAAyCnqB,UAAWg9C,KACtE,kBAAC,IAAD,CAAO9yB,OAAK,EAACC,KAAK,6CAA6CnqB,UAAWi9C,KAC1E,kBAAC,IAAD,CAAO/yB,OAAK,EAACC,KAAK,oDAAoDnqB,UAAWk9C,KACjF,kBAAC,IAAD,CAAOhzB,OAAK,EAACC,KAAK,kEAAkEnqB,UAAWm9C,KAC/F,kBAAC,IAAD,CAAOjzB,OAAK,EAACC,KAAK,gFAAgFnqB,UAAWm9C,KAC7G,kBAAC,IAAD,CAAOjzB,OAAK,EAACC,KAAK,kFAAkFnqB,UAAWo9C,KAC/G,kBAAC,IAAD,CAAOlzB,OAAK,EAACC,KAAK,qEAAqEnqB,UAAWq9C,KAClG,kBAAC,IAAD,CAAOnzB,OAAK,EAACC,KAAK,kDAAkDnqB,UAAWq9C,KAC/E,kBAAC,IAAD,CAAOnzB,OAAK,EAACC,KAAK,gDAAgDnqB,UAAWs9C,KAC7E,kBAAC,IAAD,CAAOpzB,OAAK,EAACC,KAAK,+EAA+EnqB,UAAWu9C,KAC5G,kBAAC,IAAD,CAAOrzB,OAAK,EAACC,KAAK,uBAAuBnqB,UAAWw9C,KACpD,kBAAC,IAAD,CAAOtzB,OAAK,EAACC,KAAK,0BAA0BnqB,UAAWy9C,KACvD,kBAAC,IAAD,CAAOvzB,OAAK,EAACC,KAAK,+CAA+CnqB,UAAWm9C,KAC5E,kBAAC,IAAD,CAAOjzB,OAAK,EAACC,KAAK,+DAA+DnqB,UAAWo9C,KAC5F,kBAAC,IAAD,CAAOlzB,OAAK,EAACC,KAAK,6DAA6DnqB,UAAWm9C,KAC1F,kBAAC,IAAD,CAAOjzB,OAAK,EAACC,KAAK,iCAAiCnqB,UAAW+yC,KAC9D,kBAAC,IAAD,CAAO7oB,OAAK,EAACC,KAAK,+EAA+EnqB,UAAW09C,KAC5G,kBAAC,IAAD,CAAOxzB,OAAK,EAACC,KAAK,0BAA0BnqB,UAAW29C,KACvD,kBAAC,IAAD,CAAOzzB,OAAK,EAACC,KAAK,4BAA4BnqB,UAAW49C,KACzD,kBAAC,IAAD,CAAO1zB,OAAK,EAACC,KAAK,iDAAiDnqB,UAAW69C,KAC9E,kBAAC,IAAD,CAAO3zB,OAAK,EAACC,KAAK,4CAA4CnqB,UAAW89C,KACzE,kBAAC,IAAD,CAAO99C,UAAWylB,OAIhBu2B,GAAiB,kBACrB,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAO9xB,OAAK,EAACC,KAAK,YAAYnqB,UAAW4jC,KACzC,kBAAC,IAAD,CAAO1Z,OAAK,EAACC,KAAK,wBAAwBnqB,UAAW+9C,KACrD,kBAAC,IAAD,CAAO7zB,OAAK,EAACC,KAAK,oBAAoBnqB,UAAWg+C,KACjD,kBAAC,IAAD,CAAO9zB,OAAK,EAACC,KAAK,gCAAgCnqB,UAAWooC,KAC7D,kBAAC,IAAD,CAAOle,OAAK,EAACC,KAAK,6CAA6CnqB,UAAWi+C,KAC1E,kBAAC,IAAD,CAAO/zB,OAAK,EAACC,KAAK,sDAAsDnqB,UAAWk+C,KACnF,kBAAC,IAAD,CAAOh0B,OAAK,EAACC,KAAK,iEAAiEnqB,UAAWm+C,KAC9F,kBAAC,IAAD,CAAOj0B,OAAK,EAACC,KAAK,iEAAiEnqB,UAAWo+C,KAC9F,kBAAC,IAAD,CAAOl0B,OAAK,EAACC,KAAK,6DAA6DnqB,UAAWq+C,KAC1F,kBAAC,IAAD,CAAOn0B,OAAK,EAACC,KAAK,uCAAuCnqB,UAAWs+C,KACpE,kBAAC,IAAD,CAAOp0B,OAAK,EAACC,KAAK,kCAAkCnqB,UAAWmrC,KAC/D,kBAAC,IAAD,CAAOjhB,OAAK,EAACC,KAAK,yBAAyBnqB,UAAWorC,KACtD,kBAAC,IAAD,CAAOlhB,OAAK,EAACC,KAAK,iDAAiDnqB,UAAWorC,KAC9E,kBAAC,IAAD,CAAOlhB,OAAK,EAACC,KAAK,kCAAkCnqB,UAAWwrC,KAC/D,kBAAC,IAAD,CAAOthB,OAAK,EAACC,KAAK,2BAA2BnqB,UAAWu+C,KACxD,kBAAC,IAAD,CAAOv+C,UAAWylB,OAIhB02B,GAAqB,kBACzB,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOjyB,OAAK,EAACC,KAAK,gBAAgBnqB,UAAWgtC,KAC7C,kBAAC,IAAD,CAAO9iB,OAAK,EAACC,KAAK,oBAAoBnqB,UAAWitC,KACjD,kBAAC,IAAD,CAAO/iB,OAAK,EAACC,KAAK,yBAAyBnqB,UAAWktC,KACtD,kBAAC,IAAD,CAAOhjB,OAAK,EAACC,KAAK,8BAA8BnqB,UAAWitC,KAC3D,kBAAC,IAAD,CAAO/iB,OAAK,EAACC,KAAK,iCAAiCnqB,UAAWuuC,KAC9D,kBAAC,IAAD,CAAOrkB,OAAK,EAACC,KAAK,mCAAmCnqB,UAAWwuC,KAChE,kBAAC,IAAD,CAAOtkB,OAAK,EAACC,KAAK,kDAAkDnqB,UAAWyuC,KAC/E,kBAAC,IAAD,CAAOzuC,UAAWylB,OAIhB22B,GAAe,kBACnB,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOlyB,OAAK,EAACC,KAAK,oBAAoBnqB,UAAWw+C,KACjD,kBAAC,IAAD,CAAOt0B,OAAK,EAACC,KAAK,wBAAwBnqB,UAAWy+C,KACrD,kBAAC,IAAD,CAAOv0B,OAAK,EAACC,KAAK,gCAAgCnqB,UAAW0+C,KAC7D,kBAAC,IAAD,CAAO1+C,UAAWylB,OAIhB42B,GAAgB,kBACpB,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOnyB,OAAK,EAACC,KAAK,oBAAoBnqB,UAAW2+C,KACjD,kBAAC,IAAD,CAAOz0B,OAAK,EAACC,KAAK,wBAAwBnqB,UAAW4+C,KACrD,kBAAC,IAAD,CAAO10B,OAAK,EAACC,KAAK,gCAAgCnqB,UAAWk1C,KAC7D,kBAAC,IAAD,CAAOhrB,OAAK,EAACC,KAAK,wCAAwCnqB,UAAW6+C,KACrE,kBAAC,IAAD,CAAO30B,OAAK,EAACC,KAAK,4CAA4CnqB,UAAW8+C,KACzE,kBAAC,IAAD,CAAO50B,OAAK,EAACC,KAAK,mDAAmDnqB,UAAW++C,KAChF,kBAAC,IAAD,CAAO70B,OAAK,EAACC,KAAK,iEAAiEnqB,UAAWg/C,KAC9F,kBAAC,IAAD,CAAO90B,OAAK,EAACC,KAAK,+EAA+EnqB,UAAWg/C,KAC5G,kBAAC,IAAD,CAAO90B,OAAK,EAACC,KAAK,gEAAgEnqB,UAAWu5C,KAC7F,kBAAC,IAAD,CAAOrvB,OAAK,EAACC,KAAK,wDAAwDnqB,UAAWi/C,KACrF,kBAAC,IAAD,CAAO/0B,OAAK,EAACC,KAAK,2CAA2CnqB,UAAWq4C,KACxE,kBAAC,IAAD,CAAOnuB,OAAK,EAACC,KAAK,iDAAiDnqB,UAAWk/C,KAC9E,kBAAC,IAAD,CAAOh1B,OAAK,EAACC,KAAK,sDAAsDnqB,UAAWm/C,KACnF,kBAAC,IAAD,CAAOj1B,OAAK,EAACC,KAAK,+CAA+CnqB,UAAWo/C,KAC5E,kBAAC,IAAD,CAAOl1B,OAAK,EAACC,KAAK,mDAAmDnqB,UAAWq/C,KAChF,kBAAC,IAAD,CAAOn1B,OAAK,EAACC,KAAK,wFAAwFnqB,UAAWs/C,KACrH,kBAAC,IAAD,CAAOp1B,OAAK,EAACC,KAAK,0CAA0CnqB,UAAWu/C,KACvE,kBAAC,IAAD,CAAOr1B,OAAK,EAACC,KAAK,8CAA8CnqB,UAAWw/C,KAC3E,kBAAC,IAAD,CAAOt1B,OAAK,EAACC,KAAK,8DAA8DnqB,UAAWw/C,KAC3F,kBAAC,IAAD,CAAOx/C,UAAWylB,OAIhB62B,GAAiB,kBACrB,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOpyB,OAAK,EAACC,KAAK,YAAYnqB,UAAW+6C,KACzC,kBAAC,IAAD,CAAO7wB,OAAK,EAACC,KAAK,4BAA4BnqB,UAAWu7C,KACzD,kBAAC,IAAD,CAAOrxB,OAAK,EAACC,KAAK,4CAA4CnqB,UAAWw7C,KACzE,kBAAC,IAAD,CAAOtxB,OAAK,EAACC,KAAK,uCAAuCnqB,UAAWy7C,KACpE,kBAAC,IAAD,CAAOz7C,UAAWylB,OASPrnC,gBAAW5E,GAAQ,CAAEigC,WAAW,GAAhCr7B,CAAwCy9D,ICvSxCxhD,gBANS,SAAC1e,EAAO2e,GAC9B,MAAO,CACLnO,KAAMxQ,EAAMwQ,KAAK3M,MAImB,KAAzB6a,CAA+BwhD,I,UCNxC4D,I,OAAyBC,iBAAuB,CACpDC,OAAQ,0CACRC,WAAY,6BACZC,YAAa,oCACbC,UAAW,aACXC,cAAe,yBACfC,kBAAmB,eACnBC,MAAO,4CACPC,cAAe,kBAGbC,GAAY,KAChB,KACEA,GAAYV,GAAuBU,aACzBC,kBAER,2FAEF,MAAOnkE,IACP2kD,QAAQC,IAAI5kD,IAECkkE,U,qBCNTE,G,YAEJ,WAAY3kE,GAAQ,IAAD,8BACjB,4CAAMA,KAWRI,aAAe,SAACowB,GAAW,IAAD,EACAA,EAAMhwB,OAAtBC,EADgB,EAChBA,KAAMC,EADU,EACVA,MACd,EAAKE,SAAL,eAAiBH,EAAOC,KAdP,EAiBnBJ,aAAe,SAACkwB,GACdA,EAAM3vB,iBADkB,MAES,EAAKZ,MAA9B6jB,EAFgB,EAEhBA,MAAO8gD,EAFS,EAETA,cACV9gD,GAAU8gD,EAEqB,IAAzBA,EAAc5zD,OACvB+3B,GAAMtnC,MAAM0Q,GAASG,MAAMe,uBAE3B,EAAKzS,SAAS,CAAE0P,SAAS,I/FulBxB,SAAiCwT,EAAO8gD,GAC7C,OAAOvoD,GAAKG,UAAU9Y,EAAOC,IAAIE,QAAQG,gBAAiB,CAAE8f,QAAO8gD,kB+FvlB/DC,CAAwB/gD,EAAO8gD,GAAexnD,MAAK,kBACjD2rB,GAAMC,QAAQ72B,GAASoB,QAAQQ,eAC9BskB,OAAM,SAAA/J,GAAM,OACb,EAAK1tB,SAAS,CAAEud,QAASmQ,EAAOxpB,YAC/BwzB,SAAQ,kBACT,EAAK13B,SAAS,CAAE0P,SAAS,QAV3By4B,GAAMtnC,MAAM0Q,GAASG,MAAMa,iCAnB7B,EAAKlT,MAAQ,CACX6jB,MAAO,GACP8gD,cAAe,GACfzmD,QAAS,KACT7N,SAAS,GAEX,EAAKlQ,aAAe,EAAKA,aAAaC,KAAlB,gBACpB,EAAKC,aAAe,EAAKA,aAAaD,KAAlB,gBATH,E,sEAoCT,IACAY,EAAYN,KAAKX,MAAjBiB,QADD,EAEsBN,KAAKV,MAA1Bke,EAFD,EAECA,QAAS7N,EAFV,EAEUA,QAEjB,OACE,kBAAC,IAAMpP,SAAP,KACE,kBAACC,EAAA,EAAD,MACA,0BAAMC,UAAWH,EAAQjD,QACvB,kBAACqD,EAAA,EAAD,CAAOD,UAAWH,EAAQzC,OACxB,kBAAC8C,EAAA,EAAD,CAAQF,UAAWH,EAAQpC,QACzB,kBAAC,KAAD,OAEF,kBAAC0C,EAAA,EAAD,CAAYC,QAAQ,aAApB,sHACC2c,EACC,uBAAG/c,UAAWH,EAAQ5B,OAAQ8e,GAC5B,GAEJ,0BAAM/c,UAAWH,EAAQ9B,MACvB,kBAACuC,EAAA,EAAD,CAAa5C,OAAO,SAAS6C,UAAQ,EAACC,WAAS,GAC7C,kBAACwwB,GAAA,EAAD,CAAW3xB,KAAK,QAAQsnB,MAAM,yDAAY7lB,SAAUvB,KAAKP,gBAE3D,kBAACsB,EAAA,EAAD,CAAa5C,OAAO,SAAS6C,UAAQ,EAACC,WAAS,GAC7C,kBAACwwB,GAAA,EAAD,CACE3xB,KAAK,gBACLsnB,MAAM,iCACN7lB,SAAUvB,KAAKP,aACf+B,KAAK,SACL6vB,YAAY,+DACZ8yC,WAAW,+DACXC,QAAS,SAACxkE,GACe,KAAnBA,EAAEC,OAAOE,OAAiBgb,MAAMqG,SAASxhB,EAAEC,OAAOE,UACpDH,EAAEC,OAAOE,MAAQ2zB,KAAKf,IAAI,EAAGvR,SAASxhB,EAAEC,OAAOE,QAAS2xB,WAAWzhB,MAAM,EAAE,QAKnF,kBAACvO,EAAA,EAAD,CACEF,KAAK,SACLP,WAAS,EACTJ,QAAQ,YACRlC,MAAM,UACN8B,UAAWH,EAAQ7B,OACnBkD,QAAS3B,KAAKL,aACdyvB,SAAUzf,GAPZ,eAUGA,GAAW,kBAAC0oB,GAAA,EAAD,CAAkBzjB,KAAM,GAAInU,UAAWH,EAAQzB,0B,GApF9CimB,IAAMhjB,WA8FpBC,gBAAW5E,EAAX4E,CAAmBiiE,IC9F5BK,G,YAEJ,WAAYhlE,GAAQ,IAAD,8BACjB,4CAAMA,KAaRmlC,WAAa,SAACnlC,GAAW,IAAD,EACMA,EAAMmY,MAAMxC,QhGykBrC,SAA2BlF,EAAMw0D,GACtC,OAAO5oD,GAAKE,SAAS7Y,EAAOC,IAAIE,QAAQI,eAAgB,CAAEwM,OAAMw0D,egGzkB9DC,CAFsB,EACdz0D,KADc,EACRw0D,WACqB5sC,OAAM,SAAA/J,GAAM,OAC7C,EAAK1tB,SAAS,CAAEf,SAAS,EAAMslE,YAAa72C,EAAOxpB,aAjBpC,EAqBnB1E,aAAe,SAACowB,GAAW,IAAD,EACAA,EAAMhwB,OAAtBC,EADgB,EAChBA,KAAMC,EADU,EACVA,MACd,EAAKE,SAAL,eAAiBH,EAAOC,KAvBP,EA0BnBJ,aAAe,SAACkwB,GACdA,EAAM3vB,iBADkB,MAEI,EAAKb,MAAMmY,MAAMxC,OAArClF,EAFgB,EAEhBA,KAAMw0D,EAFU,EAEVA,UAFU,EAG8B,EAAKhlE,MAAnDE,EAHgB,EAGhBA,SAAUilE,EAHM,EAGNA,iBAAkBR,EAHZ,EAGYA,cAC/BzkE,GAAailE,GAAqBR,EAE3BzkE,IAAailE,EhGmkBtB,SAA2BjlE,EAAUsQ,EAAMw0D,EAAWL,GAC3D,OAAOvoD,GAAKG,UAAU9Y,EAAOC,IAAIE,QAAQI,eAAgB,CAAE9D,WAAUsQ,OAAMw0D,YAAWL,kBgGnkBlFS,CAAkBllE,EAAUsQ,EAAMw0D,EAAWL,GAAexnD,MAAK,WAC/D7I,GAAO8B,SAAS,UAChB0yB,GAAMC,QAAQ72B,GAASoB,QAAQL,qBAC9BmlB,OAAM,SAAA/J,GACPya,GAAMtnC,MAAM6sB,EAAOxpB,QACfwpB,EAAOjY,UACT9B,GAAO8B,SAASiY,EAAOjY,aAI3B0yB,GAAMtnC,MAAM0Q,GAASG,MAAMY,kBAZ3B61B,GAAMtnC,MAAM0Q,GAASG,MAAMc,qCA7B7B,EAAKnT,MAAQ,CACXE,SAAU,GACVilE,iBAAkB,GAClBR,cAAe,GACf/kE,SAAS,EACTslE,YAAa,MAEf,EAAK/kE,aAAe,EAAKA,aAAaC,KAAlB,gBACpB,EAAKC,aAAe,EAAKA,aAAaD,KAAlB,gBACpB,EAAK8kC,WAAWnlC,GAXC,E,sEA+CT,IACAiB,EAAYN,KAAKX,MAAjBiB,QADD,EAE0BN,KAAKV,MAA9BJ,EAFD,EAECA,QAASslE,EAFV,EAEUA,YAEjB,OACE,kBAAC,IAAMjkE,SAAP,KACE,kBAACC,EAAA,EAAD,OACc,IAAZtB,EACA,0BAAMuB,UAAWH,EAAQjD,QACvB,kBAACqD,EAAA,EAAD,CAAOD,UAAWH,EAAQzC,OACxB,kBAAC8C,EAAA,EAAD,CAAQF,UAAWH,EAAQpC,QACzB,kBAAC,KAAD,OAEF,kBAAC0C,EAAA,EAAD,CAAYC,QAAQ,aAApB,gHACA,0BAAMJ,UAAWH,EAAQ9B,MACvB,kBAACuC,EAAA,EAAD,CAAa5C,OAAO,SAAS6C,UAAQ,EAACC,WAAS,GAC7C,kBAACwwB,GAAA,EAAD,CAAW3xB,KAAK,WAAWsnB,MAAM,iCAAQ5lB,KAAK,WAAWD,SAAUvB,KAAKP,gBAE1E,kBAACsB,EAAA,EAAD,CAAa5C,OAAO,SAAS6C,UAAQ,EAACC,WAAS,GAC7C,kBAACwwB,GAAA,EAAD,CAAW3xB,KAAK,mBAAmBsnB,MAAM,6CAAU5lB,KAAK,WAAWD,SAAUvB,KAAKP,gBAEpF,kBAACsB,EAAA,EAAD,CAAa5C,OAAO,SAAS6C,UAAQ,EAACC,WAAS,GAC7C,kBAACwwB,GAAA,EAAD,CAAW3xB,KAAK,gBAAgBsnB,MAAM,iCAAQ7lB,SAAUvB,KAAKP,aAAc+B,KAAK,SAC9E6vB,YAAY,qHACZ8yC,WAAW,qHACXC,QAAS,SAACxkE,GACe,KAAnBA,EAAEC,OAAOE,OAAiBgb,MAAMqG,SAASxhB,EAAEC,OAAOE,UACpDH,EAAEC,OAAOE,MAAQ2zB,KAAKf,IAAI,EAAGvR,SAASxhB,EAAEC,OAAOE,QAAS2xB,WAAWzhB,MAAM,EAAE,QAKnF,kBAACvO,EAAA,EAAD,CACEF,KAAK,SACLP,WAAS,EACTJ,QAAQ,YACRlC,MAAM,UACN8B,UAAWH,EAAQ7B,OACnBkD,QAAS3B,KAAKL,cANhB,mBAcN,yBAAKc,UAAWH,EAAQpB,SACtB,kBAAC+pC,GAAD,CAAYF,WAAY,IAAKvrB,QAASgnD,IACtC,kBAAC,IAAD,CAAM3iE,GAAG,oBAAT,oDACA,kBAAC,IAAD,CAAMA,GAAG,UAAT,wC,GAlGgBijB,IAAMhjB,WA0GnBC,gBAAW5E,EAAX4E,CAAmBsiE,ICjH5BM,G,2MA+BJ7kC,kBAAoB,WAAO,IACjBjqB,EAAa,EAAKxW,MAAMc,SAAxB0V,SACJ/S,IACF8hE,IAAQC,IAAI,CAAE3+C,KAAMrQ,IACpB+uD,IAAQE,SAASjvD,K,EAIrBkvD,kBAAoB,SAAC/1D,GAAW,IACtBc,EAAS,EAAKzQ,MAAdyQ,KAEJA,EAAKk1D,QAAQ7vD,QAAQnG,IAAU,EACjCu1C,QAAQC,IAAI,sEAGd9oC,GAAKG,UAAU9Y,EAAOC,IAAImK,OAAOc,yBAA0B,CACzDe,QACA4oB,YAAanW,GACb3R,KAAMA,EAAKzO,KACVob,MACD,kBAAM8nC,QAAQC,IAAI,6DAClB9sB,OACA,kBAAM6sB,QAAQC,IAAI,8D,2MAlDd36B,EAAO7pB,KACT8jE,KACFA,GAAUmB,oBAAoBxoD,KAA9B,sBAAmC,4BAAAgK,EAAA,sEACbq9C,GAAUoB,WADG,OAC3Bl2D,EAD2B,OAEjCu1C,QAAQC,IAAI,SAAUx1C,GACtB6a,EAAKk7C,kBAAkB/1D,GAHU,4CAIhC0oB,OAAM,SAAS52B,GAChByjD,QAAQC,IAAI,sCAAuC1jD,MAGrDgjE,GAAUqB,gBAAe,WACvBrB,GAAUoB,WAAWzoD,MAAK,SAAC2oD,GACzB7gB,QAAQC,IAAI,mBAAoB4gB,GAChCv7C,EAAKk7C,kBAAkBK,MACtB1tC,OAAM,SAAC2tC,GACR9gB,QAAQC,IAAI,sCAAuC6gB,SAGvDzkD,UAAU0kD,cAAcn1C,iBAAiB,WAAW,SAACo1C,GAEnDhhB,QAAQC,IAAI,UAAW+gB,GACvB7pD,GAAKE,SAAS7Y,EAAOC,IAAIE,QAAQM,yBAAyBiZ,MAAK,SAAApL,GAAI,OACjEm0D,YAAW,kBAAM,EAAKnmE,MAAMomE,mBAAmBp0D,KAAO,Y,qIAiC5D,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOw8B,OAAK,EAACC,KAAK,SAASnqB,UAAWvkB,KACtC,kBAAC,IAAD,CAAOyuC,OAAK,EAACC,KAAK,mBAAmBnqB,UAAWqgD,KAChD,kBAAC,IAAD,CAAOl2B,KAAK,kCAAkCnqB,UAAW0gD,KACzD,kBAAC,GAAD,CAAcv2B,KAAK,IAAInqB,UAAW67C,U,GA/DxB16C,IAAMhjB,WAqETijB,eAAW4/C,IC7DX3mD,gBAfS,SAAC1e,EAAO2e,GAC9B,MAAO,CACLnO,KAAMxQ,EAAMwQ,KAAK3M,GACjByM,MAAOtQ,EAAMwQ,KAAKF,UAIK,SAAAgG,GACzB,MAAO,CACL6vD,mBADK,SACc51D,GACjB+F,EzLyC4B,SAAC/F,GAAD,MAAoB,CACpDrO,KAAMa,EAAcO,oBACpBiN,iByL3Ca41D,CAAmB51D,QAKnBmO,CAA6C2mD,ICPxCe,QACW,cAA7BlsD,OAAOrZ,SAASwlE,UAEe,UAA7BnsD,OAAOrZ,SAASwlE,UAEhBnsD,OAAOrZ,SAASwlE,SAASnuD,MACvB,2D,OAwHA,kBAAmBoJ,WACrBA,UAAU0kD,cACPM,SAAS,6BACTnpD,MAAK,SAASopD,GACbthB,QAAQC,IAAI,qCAAsCqhB,EAAaC,UAEhEpuC,OAAM,SAAS52B,GACdyjD,QAAQC,IAAI,6CAA8C1jD,MCnI9DgC,IACF8hE,IAAQpgC,WAAW,kBACnBpgC,GAAQ2hE,QAAO,YAAmB,IAAhBlwD,EAAe,EAAfA,SAChB+uD,IAAQC,IAAI,CAAE3+C,KAAMrQ,IACpB+uD,IAAQE,SAASjvD,OAIrB84B,IAAS9E,OACP,kBAAC,IAAD,CAAUp5B,MAAOA,IACf,kBAAC,IAAD,CAAiBrM,QAASA,IACxB,kBAAC,mBAAD,CACEwqC,SAAU,EACVC,aAAc,CACZE,SAAU,SACVD,WAAY,SAEdlgC,iBAAkB7L,EAAO6L,kBAEzB,kBAAC,GAAD,SAINqJ,SAASC,eAAe,SD4FpB,kBAAmB0I,WACrBA,UAAU0kD,cAAcU,MAAMvpD,MAAK,SAAAopD,GACjCA,EAAaI,kB","file":"static/js/main.97af9e6c.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/cover.6d89881f.jpg\";","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport {\r\n  Avatar,\r\n  Button,\r\n  CssBaseline,\r\n  FormControl,\r\n  Input,\r\n  InputLabel,\r\n  Paper,\r\n  Typography,\r\n} from '@material-ui/core';\r\nimport { green } from '@material-ui/core/colors';\r\nimport LockIcon from '@material-ui/icons/LockOutlined';\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\n\r\nconst styles = theme => ({\r\n  layout: {\r\n    width: 'auto',\r\n    display: 'block',\r\n    marginLeft: theme.spacing(3),\r\n    marginRight: theme.spacing(3),\r\n    [theme.breakpoints.up(400 + theme.spacing(3) * 2)]: {\r\n      width: 400,\r\n      marginLeft: 'auto',\r\n      marginRight: 'auto',\r\n    },\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    padding: `${theme.spacing(2)}px ${theme.spacing(3)}px ${theme.spacing(3)}px`,\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  alert: {\r\n    color: 'red',\r\n    fontSize: 14\r\n  },\r\n  buttonProgress: {\r\n    color: green[500],\r\n    position: 'absolute',\r\n    top: '50%',\r\n    left: '50%',\r\n    marginTop: -12,\r\n    marginLeft: -12,\r\n  },\r\n  timeout: {\r\n    textAlign: 'center',\r\n    '& a': {\r\n      marginRight: theme.spacing(3),\r\n    },\r\n  },\r\n});\r\n\r\nexport { styles };\r\n\r\nclass Login extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      username: '',\r\n      password: '',\r\n    }\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  handleChange(e) {\r\n    const { name, value } = e.target;\r\n    this.setState({ [name]: value });\r\n  }\r\n\r\n  handleSubmit(e) {\r\n    e.preventDefault();\r\n    const { location } = this.props;\r\n    const { username, password } = this.state;\r\n    if (username && password) {\r\n      this.props.login(username, password, location.state && location.state.from);\r\n    }\r\n  }\r\n\r\n  render(){\r\n    const { classes } = this.props;\r\n    return (\r\n      <React.Fragment>\r\n        {/* <Header menu=\"\"/> */}\r\n        <CssBaseline />\r\n        <main className={classes.layout}>\r\n          <Paper className={classes.paper}>\r\n            <Avatar className={classes.avatar}>\r\n              <LockIcon />\r\n            </Avatar>\r\n            <Typography variant=\"subtitle1\"></Typography>\r\n            {this.props.error ?\r\n              <p className={classes.alert}></p>\r\n              : ''\r\n            }\r\n\r\n            <form className={classes.form}>\r\n              <FormControl margin=\"normal\" required fullWidth>\r\n                <InputLabel htmlFor=\"email\"></InputLabel>\r\n                <Input id=\"email\" name=\"username\" autoFocus onChange={this.handleChange}/>\r\n              </FormControl>\r\n              <FormControl margin=\"normal\" required fullWidth>\r\n                <InputLabel htmlFor=\"password\"></InputLabel>\r\n                <Input\r\n                  name=\"password\"\r\n                  type=\"password\"\r\n                  id=\"password\"\r\n                  autoComplete=\"current-password\"\r\n                  onChange={this.handleChange}\r\n                />\r\n              </FormControl>\r\n              <Button\r\n                type=\"submit\"\r\n                fullWidth\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                className={classes.submit}\r\n                onClick={this.handleSubmit}\r\n              >\r\n                \r\n              </Button>\r\n              <Typography style={{marginTop: 8, fontSize: 13}}>\r\n                <Link to=\"/password/forget\"></Link>\r\n              </Typography>\r\n            </form>\r\n          </Paper>\r\n        </main>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles)(Login);\r\n","export const authConstants = {\r\n    LOGIN_REQUEST: 'LOGIN_REQUEST',\r\n    LOGIN_SUCCESS: 'LOGIN_SUCCESS',\r\n    LOGIN_FAILURE: 'LOGIN_FAILURE',\r\n\r\n    LOGOUT: 'LOGOUT',\r\n};\r\n","export const userConstants = {\r\n  GET_ME_REQUEST: 'GET_ME_REQUEST',\r\n  GET_ME_SUCCESS: 'GET_ME_SUCCESS',\r\n  GET_ME_FAILURE: 'GET_ME_FAILURE',\r\n  CLEAR_ME: 'CLEAR_ME',\r\n  NOTIFICATION_ADD: 'NOTIFICATION_ADD',\r\n  NOTIFICATION_CHANGE: 'NOTIFICATION_CHANGE',\r\n  NOTIFICATION_RELOAD: 'NOTIFICATION_RELOAD',\r\n}\r\n","export const hostApi = '//sales.wisdom-technology.co.jp';\r\n// export const hostApi = '//works-new.wisdom-technology.co.jp';\r\n// export const hostApi = '//127.0.0.1:8000';\r\nexport const isGoogleAnalytics = (hostApi === '//sales.wisdom-technology.co.jp')\r\n\r\nexport const config = {\r\n  api: {\r\n    authenticate: hostApi + '/api/token-auth/',\r\n    account: {\r\n      me: hostApi + '/api/account/me/',\r\n      logout: hostApi + '/api/account/logout/',\r\n      password_forget: hostApi + '/api/account/password/forget/',\r\n      password_reset: hostApi + '/api/account/password/reset/',\r\n      notification_read: hostApi + '/api/account/notifications/%s/read/',\r\n      notification_list_by_me: hostApi + '/api/account/notifications/me/',\r\n    },\r\n    member: {\r\n      dashboard: hostApi + '/api/member/dashboard/',\r\n      list: hostApi + '/api/member/members/',\r\n      add: hostApi + '/api/member/members/',\r\n      add_from_contract: hostApi + '/api/member/members/add-from-contract/',\r\n      portal_list: hostApi + '/api/member/members/portal-list/',\r\n      portal_detail: hostApi + '/api/member/ct/%s/pk/%s/',\r\n      choices: hostApi + '/api/member/members/choices/',\r\n      member_organizations: hostApi + '/api/member/ct/%s/pk/%s/organizations/',\r\n      member_projects: hostApi + '/api/member/ct/%s/pk/%s/projects/',\r\n      detail: hostApi + '/api/member/members/%s/',\r\n      history: hostApi + '/api/member/members/%s/history/',\r\n      organizations: hostApi + '/api/member/members/%s/organizations/',\r\n      duplicated: hostApi + '/api/member/members/duplicated/',\r\n      avatar: hostApi + '/api/member/members/%s/avatar/',\r\n      release_list: hostApi + '/api/member/releases/%s/%s/',\r\n      next_code: hostApi + '/api/member/members/next-code/',\r\n      untreated_waiting_members: hostApi + '/api/member/members/%s/untreated-waiting-members/',\r\n      untreated_release_members: hostApi + '/api/member/members/%s/untreated-release-members/',\r\n      untreated_project_requests: hostApi + '/api/member/members/%s/untreated-project-requests/',\r\n      untreated_partner_orders: hostApi + '/api/member/members/%s/untreated-partner-orders/',\r\n      untreated_payment_notices: hostApi + '/api/member/members/%s/untreated-payment-notice/',\r\n      check_duplications: hostApi + '/api/member/check-duplications/?first_name=%s&last_name=%s',\r\n      worker_roster_by_member: hostApi + '/api/member/members/%s/worker-roster/download/',\r\n      worker_roster_list: hostApi + '/api/member/members/worker-roster/download/',\r\n      education_list: hostApi + '/api/member/members/%s/educations/',\r\n      education_detail: hostApi + '/api/member/members/%s/educations/%s/',\r\n    },\r\n    salesperson: {\r\n      salesperson_portal_list: hostApi + '/api/member/salesperson/portal-list/',\r\n      salesperson_list: hostApi + '/api/member/salesperson/',\r\n    },\r\n    organization: {\r\n      add: hostApi + '/api/org/organizations/',\r\n      list: hostApi + '/api/org/organizations/',\r\n      portal_list: hostApi + '/api/org/organizations/portal-list/',\r\n      detail: hostApi + '/api/org/organizations/%s/',\r\n      members: hostApi + '/api/org/organizations/%s/members/',\r\n      position_list: hostApi + '/api/org/organizations/%s/positions/',\r\n      position_add: hostApi + '/api/org/organizations/%s/positions/',\r\n      position_detail: hostApi + '/api/org/organizations/%s/positions/%s/',\r\n      member_organization_add: hostApi + '/api/org/member-organizations/',\r\n      member_organization_detail: hostApi + '/api/org/member-organizations/%s/',\r\n      turnover_for_clients_by_month: hostApi + '/api/org/organizations/%s/turnover/%s/%s/clients/',\r\n      attendance_by_month: hostApi + '/api/org/organizations/%s/attendances/%s/%s/',\r\n      export_attendance_excel: hostApi + '/api/org/organizations/%s/attendances/%s/%s/export/',\r\n      import_attendance_excel: hostApi + '/api/org/organizations/%s/attendances/%s/%s/import/',\r\n    },\r\n    contract: {\r\n      dashboard: hostApi + '/api/contract/dashboard/',\r\n      detail: hostApi + '/api/contract/contracts/%s/',\r\n      member_list: hostApi + '/api/contract/members/',\r\n      member_detail: hostApi + '/api/contract/members/%s/',\r\n      add_member_contract: hostApi + '/api/contract/members/%s/add-contract/',\r\n      member_timeline: hostApi + '/api/contract/members/%s/timeline/',\r\n      member_emergency_contact_list: hostApi + '/api/contract/members/%s/emergency-contacts/',\r\n      member_emergency_contact_add: hostApi + '/api/contract/members/%s/emergency-contacts/',\r\n      member_emergency_contact_detail: hostApi + '/api/contract/members/%s/emergency-contacts/%s/',\r\n      member_family_list: hostApi + '/api/contract/members/%s/family/',\r\n      member_family_add: hostApi + '/api/contract/members/%s/family/',\r\n      member_family_detail: hostApi + '/api/contract/members/%s/family/%s/',\r\n      member_residence_list: hostApi + '/api/contract/members/%s/residence/',\r\n      member_residence_add: hostApi + '/api/contract/members/%s/residence/',\r\n      member_residence_detail: hostApi + '/api/contract/members/%s/residence/%s/',\r\n      member_bank_account_list: hostApi + '/api/contract/members/%s/bank-accounts/',\r\n      member_bank_account_add: hostApi + '/api/contract/members/%s/bank-accounts/',\r\n      member_bank_account_detail: hostApi + '/api/contract/members/%s/bank-accounts/%s/',\r\n      member_salary_csv_preview: hostApi + '/api/contract/members/salary/csv/preview/',\r\n      member_salary_pdf_preview: hostApi + '/api/contract/members/salary/pdf/preview/',\r\n      contract_items: hostApi + '/api/contract/contracts/%s/items/',\r\n      contract_allowances: hostApi + '/api/contract/contracts/%s/allowances/',\r\n      report_employment: hostApi + '/api/contract/contracts/%s/employment/',\r\n      report_incumbency: hostApi + '/api/contract/contracts/%s/incumbency/',\r\n      report_income: hostApi + '/api/contract/contracts/%s/income/',\r\n      auto_update_list: hostApi + '/api/contract/contracts/auto-update-list/',\r\n      expire_list: hostApi + '/api/contract/contracts/expire-list/',\r\n      contract_allowances_detail: hostApi + '/api/contract/contracts/%s/allowances/%s/',\r\n      contract_comment_list: hostApi + '/api/contract/contracts/%s/comments/',\r\n      contract_comment_detail: hostApi + '/api/contract/contracts/%s/comments/%s/',\r\n      contract_comments_for_add: hostApi + '/api/contract/contracts/%s/comments/add-list/',\r\n      commutation_list: hostApi + '/api/contract/commutations/year/%s/month/%s/',\r\n      commutation_add: hostApi + '/api/member/members/%s/commutations/',\r\n      commutation_detail: hostApi + '/api/member/members/%s/commutations/%s/',\r\n      paid_vacation_list: hostApi + '/api/member/paid-vacations/',\r\n      paid_vacation_detail: hostApi + '/api/member/paid-vacations/%s/',\r\n    },\r\n    partner: {\r\n      list: hostApi + '/api/partner/companies/',\r\n      add: hostApi + '/api/partner/companies/',\r\n      detail: hostApi + '/api/partner/companies/%s/',\r\n      company_members: hostApi + '/api/partner/companies/%s/members/',\r\n      company_member: hostApi + '/api/partner/companies/%s/members/%s/',\r\n      company_orders_status: hostApi + '/api/partner/companies/%s/orders-status/',\r\n      company_payment_notice_status: hostApi + '/api/partner/companies/%s/payment-notice-status/',\r\n      company_payment_notice_by_month: hostApi + '/api/partner/companies/%s/payment-notice/%s/%s/organizations/%s/',\r\n      add_from_partner: hostApi + '/api/partner/companies/%s/members/add-from-partner/',\r\n      member_projects: hostApi + '/api/partner/members/%s/projects/',\r\n      member_contracts: hostApi + '/api/partner/companies/%s/members/%s/contracts/',\r\n      member_contract: hostApi + '/api/partner/members/%s/contracts/%s/',\r\n      member_contract_total: hostApi + '/api/partner/members/%s/contracts/%s/total/',\r\n      member_contract_add: hostApi + '/api/partner/members/%s/contracts/add/',\r\n      member_contract_save: hostApi + '/api/partner/members/%s/contracts/%s/save/',\r\n      member_monthly_request: hostApi + '/api/partner/members/%s/contracts/%s/monthly-request/',\r\n      member_monthly_request_detail: hostApi + '/api/partner/members/%s/contracts/%s/monthly-request/%s/',\r\n      member_orders_status: hostApi + '/api/partner/companies/%s/members/%s/orders-status/',\r\n      member_retire: hostApi + '/api/partner/members/%s/retire/',\r\n      individual_members: hostApi + '/api/partner/individual/',\r\n      individual_member_add: hostApi + '/api/partner/members/add-from-partner/',\r\n      individual_member_detail: hostApi + '/api/partner/individual/%s/',\r\n      individual_member_contracts: hostApi + '/api/partner/members/%s/contracts/',\r\n      individual_payment_notice_status: hostApi + '/api/partner/individual/%s/payment-notice-status/',\r\n      individual_payment_notice_by_month: hostApi + '/api/partner/individual/%s/payment-notice/%s/%s/organizations/%s/',\r\n      order_add: hostApi + '/api/partner/monthly-requests/%s/orders/add/',\r\n      order_detail: hostApi + '/api/partner/orders/%s/',\r\n      order_html: hostApi + '/api/partner/orders/%s/order-preview/',\r\n      order_request_html: hostApi + '/api/partner/orders/%s/order-request-preview/',\r\n      order_email_data: hostApi + '/api/partner/orders/%s/email-data/',\r\n      orders_status: hostApi + '/api/partner/orders-status/year/%s/month/%s/',\r\n      monthly_orders: hostApi + '/api/partner/monthly-orders/',\r\n      monthly_requests: hostApi + '/api/partner/payment-notice/months/',\r\n      create_payment_notice: hostApi + '/api/partner/payment-notice/create/',\r\n      payment_notice_email_data: hostApi + '/api/partner/payment-notice/%s/email-data/',\r\n      next_partner_member_code: hostApi + '/api/partner/companies/%s/members/next-code/',\r\n      next_self_employee_code: hostApi + '/api/partner/members/next-code/',\r\n      request_list_by_month: hostApi + '/api/partner/requests/year/%s/month/%s/',\r\n      partner_request_detail: hostApi + '/api/partner/payment-notice/%s/',\r\n    },\r\n    client: {\r\n      list: hostApi + '/api/client/companies/',\r\n      add: hostApi + '/api/client/companies/',\r\n      detail: hostApi + '/api/client/companies/%s/',\r\n      company_bank_account_list: hostApi + '/api/client/companies/%s/bank-accounts/',\r\n      project_list: hostApi + '/api/client/companies/%s/projects/',\r\n    },\r\n    project: {\r\n      list: hostApi + '/api/project/projects/',\r\n      detail: hostApi + '/api/project/projects/%s/',\r\n      finish: hostApi + '/api/project/projects/%s/finish/',\r\n      request_profile: hostApi + '/api/project/projects/%s/request-profile/',\r\n      request_profile_change: hostApi + '/api/project/projects/%s/request-profile-change/',\r\n      add_project: hostApi + '/api/project/projects/add-project/',\r\n      member_list: hostApi + '/api/project/projects/%s/members/',\r\n      member_portal_list: hostApi + '/api/project/projects/%s/members/portal-list/',\r\n      member_add: hostApi + '/api/project/projects/%s/members/add/',\r\n      member_detail: hostApi + '/api/project/projects/%s/members/%s/',\r\n      member_contracts: hostApi + '/api/project/projects/%s/members/%s/contracts/',\r\n      member_contract_total: hostApi + '/api/project/projects/%s/members/%s/contracts/%s/total/',\r\n      member_contract_add: hostApi + '/api/project/projects/%s/members/%s/contracts/add/',\r\n      member_contract_save: hostApi + '/api/project/projects/%s/members/%s/contracts/%s/save/',\r\n      member_contract: hostApi + '/api/project/projects/%s/members/%s/contracts/%s/',\r\n      blanket_contracts: hostApi + '/api/project/projects/%s/contracts/',\r\n      blanket_contract_detail: hostApi + '/api/project/projects/%s/contracts/%s',\r\n      blanket_contract_total: hostApi + '/api/project/projects/%s/contracts/%s/total/',\r\n      blanket_contract_add: hostApi + '/api/project/projects/%s/contracts/add/',\r\n      blanket_contract_save: hostApi + '/api/project/projects/%s/contracts/%s/save/',\r\n      project_attendance_status: hostApi + '/api/project/projects/%s/attendance-status/',\r\n      project_attendance_by_month: hostApi + '/api/project/projects/%s/attendances/year/%s/month/%s/',\r\n      project_attendance_add: hostApi + '/api/project/projects/%s/attendances/',\r\n      project_attendance_detail: hostApi + '/api/project/projects/%s/attendances/%s/',\r\n      project_request_status: hostApi + '/api/project/projects/%s/request-status/',\r\n      project_request_create: hostApi + '/api/project/projects/%s/create-request/',\r\n      project_request_html: hostApi + '/api/project/projects/%s/requests/%s/preview/',\r\n      project_request_delete: hostApi + '/api/project/projects/%s/requests/%s/',\r\n      project_order_add: hostApi + '/api/project/projects/%s/orders/',\r\n      project_order_detail: hostApi + '/api/project/projects/%s/orders/%s/',\r\n      subcontractor_list: hostApi + '/api/project/projects/%s/subcontractors/',\r\n      subcontractor_save: hostApi + '/api/project/projects/%s/subcontractors/',\r\n      subcontractor_detail: hostApi + '/api/project/projects/%s/subcontractors/%s/',\r\n      subcontractor_contract_total: hostApi + '/api/project/projects/%s/subcontractors/%s/contracts/%s/total/',\r\n      subcontractor_contract_save: hostApi + '/api/project/projects/%s/subcontractors/%s/contracts/%s/save/',\r\n      subcontractor_contract_detail: hostApi + '/api/project/projects/%s/subcontractors/%s/contracts/%s/',\r\n      duplicated_project_members_for_add: hostApi + '/api/project/projects/%s/members/duplications/',\r\n      project_members_duplications: hostApi + '/api/project/projects/%s/members/%s/duplications/',\r\n    },\r\n    attendance: {\r\n      expense_list_by_content_object_list: hostApi + '/api/attendance/ct/%s/pk/%s/expenses/',\r\n      expense_list_by_content_object_add: hostApi + '/api/attendance/ct/%s/pk/%s/expenses/',\r\n      expense_list_by_content_object_detail: hostApi + '/api/attendance/ct/%s/pk/%s/expenses/%s/',\r\n      expense_months: hostApi + '/api/attendance/expenses/months/',\r\n      expense_by_month: hostApi + '/api/attendance/expenses/year/%s/month/%s/',\r\n      expense_by_object: hostApi + '/api/attendance/expenses/year/%s/month/%s/ct/%s/pk/%s/',\r\n      expense_by_object_download: hostApi + '/api/attendance/expenses/year/%s/month/%s/ct/%s/pk/%s/download/',\r\n      expense_add: hostApi + '/api/attendance/expenses/',\r\n      expense_detail: hostApi + '/api/attendance/expenses/%s/',\r\n    },\r\n    master: {\r\n      contract_items: hostApi + '/api/master/contract-items/',\r\n      contract_allowances: hostApi + '/api/master/contract-allowances/',\r\n      project_business_type: hostApi + '/api/master/project-business-type/',\r\n      company_category: hostApi + '/api/master/company-category/',\r\n      member_category: hostApi + '/api/master/member-category/',\r\n      content_objects: hostApi + '/api/master/ct/%s/',\r\n      bank_list: hostApi + '/api/master/banks/',\r\n      bank_branch_list: hostApi + '/api/master/banks/%s/branches/',\r\n      bank_account_add: hostApi + '/api/master/bank-accounts/',\r\n      bank_account_detail: hostApi + '/api/master/bank-accounts/%s/',\r\n      bank_account_by_ct: hostApi + '/api/master/ct/%s/pk/%s/bank-accounts/',\r\n      expense_category_list: hostApi + '/api/master/expense-category/',\r\n      attachment_download: hostApi + '/api/master/attachment/%s/download/',\r\n      send_email: hostApi + '/api/master/send-email/',\r\n      send_email_for_content_type: hostApi + '/api/master/ct/%s/pk/%s/send-email/',\r\n      register_firebase_device: hostApi + '/api/master/firebase-devices/',\r\n    },\r\n    turnover: {\r\n      company_monthly: hostApi + '/api/turnover/monthly/',\r\n      clients_monthly: hostApi + '/api/turnover/clients/monthly/',\r\n      members_fiscal_year: hostApi + '/api/turnover/members/fiscal-year/',\r\n      members_monthly: hostApi + '/api/turnover/members/monthly/',\r\n      members_by_month: hostApi + '/api/turnover/members/year/%s/month/%s/',\r\n      members_by_fiscal_year: hostApi + '/api/turnover/members/fiscal-year/%s/',\r\n    },\r\n    third_part: {\r\n      get_address_by_postcode: 'https://sales.wisdom-technology.co.jp/api/addr/postcode/?code=%s',\r\n    }\r\n  },\r\n  rowsPerPage: 25,\r\n  autoHideDuration: 5000, /* 5 */\r\n  fileSizeLimit: 5 * 1024 * 1024,  /* 5MB */\r\n  systemName: '',\r\n};\r\n","export function authHeader() {\r\n  // return authorization header with jwt token\r\n  let token = JSON.parse(localStorage.getItem('token'));\r\n\r\n  if (token) {\r\n    return {\r\n      'Accept': 'application/json',\r\n      'Authorization': 'JWT ' + token,\r\n      \"Content-Type\": \"application/json; charset=utf-8\",\r\n    };\r\n  } else {\r\n    return {\r\n      'Accept': 'application/json',\r\n      \"Content-Type\": \"application/json; charset=utf-8\",\r\n    };\r\n  }\r\n};\r\n","import { authConstants } from '../constants';\r\n\r\nlet token = JSON.parse(localStorage.getItem('token'));\r\nconst initialState = token ?\r\n{\r\n  loggingIn: false,\r\n  loggedIn: true,\r\n  token: token,\r\n  error: false,\r\n}\r\n: {\r\n  loggingIn: false,\r\n  loggedIn: false,\r\n  token: null,\r\n  error: false,\r\n};\r\n\r\nexport function auth(state = initialState, action) {\r\n  switch (action.type) {\r\n    case authConstants.LOGIN_REQUEST:\r\n      return {\r\n        ...state,\r\n        loggingIn: true,\r\n        loggedIn: false,\r\n        error: false,\r\n      };\r\n    case authConstants.LOGIN_SUCCESS:\r\n      return {\r\n        ...state,\r\n        loggingIn: false,\r\n        loggedIn: true,\r\n        token: action.payload.token,\r\n      };\r\n    case authConstants.LOGIN_FAILURE:\r\n      return {\r\n        ...state,\r\n        error: true,\r\n      };\r\n    case authConstants.LOGOUT:\r\n      return {\r\n        ...state,\r\n        loggedIn: false,\r\n        token: null,\r\n        error: false\r\n      };\r\n    default:\r\n      return state\r\n  }\r\n}\r\n","import { userConstants } from '../constants';\r\n\r\nconst initialState = {\r\n  loading: false,\r\n  error: false,\r\n  me: {},\r\n  perms: {},\r\n  notifications: [],\r\n};\r\n\r\nexport function user(state = initialState, action) {\r\n  switch (action.type) {\r\n    case userConstants.GET_ME_REQUEST:\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n        error: false,\r\n      };\r\n    case userConstants.GET_ME_SUCCESS:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        me: action.payload.me,\r\n        perms: action.payload.perms,\r\n        notifications: action.payload.notifications,\r\n      };\r\n    case userConstants.GET_ME_FAILURE:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: true,\r\n      };\r\n    case userConstants.CLEAR_ME:\r\n      return {\r\n        ...state,\r\n        me: {},\r\n      };\r\n    case userConstants.NOTIFICATION_ADD:\r\n      state.notifications.push(action.notification)\r\n      return {\r\n        ...state,\r\n        notifications: state.notifications.slice(),\r\n      };\r\n    case userConstants.NOTIFICATION_CHANGE:\r\n      const items = state.notifications.filter(col => col['id'] === action.notification.id);\r\n      if (items.length > 0) {\r\n        Object.assign(items[0], action.notification);\r\n      }\r\n      return {\r\n        ...state,\r\n        notifications: state.notifications.slice(),\r\n      };\r\n    case userConstants.NOTIFICATION_RELOAD:\r\n      return {\r\n        ...state,\r\n        notifications: action.notifications,\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n","import { createStore, applyMiddleware, combineReducers } from 'redux';\r\nimport logger from 'redux-logger';\r\nimport thunk from 'redux-thunk';\r\nimport { connectRouter, routerMiddleware } from 'connected-react-router';\r\nimport { createBrowserHistory } from 'history';\r\n\r\nimport * as reducers from '../features/reducers';\r\n\r\nexport const history = createBrowserHistory();\r\n\r\nexport const store = createStore(\r\n  combineReducers({\r\n    ...reducers,\r\n    router: connectRouter(history), \r\n  }),\r\n  // applyMiddlewareredux-logger\r\n  applyMiddleware(\r\n    logger,\r\n    thunk,\r\n    routerMiddleware(history)\r\n  ),\r\n);\r\n","import { userConstants } from '../constants';\r\nimport { userService } from '../services';\r\n\r\nexport const getMe = () => {\r\n  return dispatch => {\r\n    dispatch(getMeRequest());\r\n\r\n    userService.getMe()\r\n      .then(\r\n        data => dispatch(getMeSuccess(data)),\r\n        error => dispatch(getMeFailure(error))\r\n      );\r\n  };\r\n}\r\n\r\nconst getMeRequest = () => ({\r\n  type: userConstants.GET_ME_REQUEST\r\n});\r\n\r\nconst getMeSuccess = (data) => ({\r\n  type: userConstants.GET_ME_SUCCESS,\r\n  payload: data\r\n});\r\n\r\nconst getMeFailure = (error) => ({\r\n  type: userConstants.GET_ME_FAILURE,\r\n  error\r\n});\r\n\r\nexport const clearMe = () => ({\r\n  type: userConstants.CLEAR_ME\r\n});\r\n\r\n/**\r\n * \r\n * @param {Object} notification \r\n */\r\nexport const addNotification = (notification) => ({\r\n  type: userConstants.NOTIFICATION_ADD,\r\n  notification,\r\n});\r\n\r\n/**\r\n * \r\n * @param {Object} notification \r\n */\r\nexport const changeNotification = (notification) => ({\r\n  type: userConstants.NOTIFICATION_CHANGE,\r\n  notification,\r\n});\r\n\r\n/**\r\n * \r\n * @param {Array} notifications \r\n */\r\nexport const reloadNotification = (notifications) => ({\r\n  type: userConstants.NOTIFICATION_RELOAD,\r\n  notifications,\r\n});\r\n","export const constant = {\r\n  // SETTING: {\r\n  // },\r\n  // WARNING: {\r\n  //   REQUIRE_SEARCH_URL: '',\r\n  //   REQUIRE_SAVE_URL: '',\r\n  // },\r\n  INFO: {\r\n    // NO_DATA: '',\r\n    // INPUT_KEYWORD: '',\r\n    // DELETE_CONFIRM: '',\r\n    NO_NOTIFICATIONS: '',\r\n  },\r\n  ERROR: {\r\n    // REQUIRE_SELECTED_DATA: '',\r\n    // REQUIRE_FIELD: '%s ',\r\n    // REQUIRE_SINGLE_SELECT: '',\r\n    REQUIRE_SELECTED: '',\r\n    NO_CALLBANK: '',\r\n    FORM_CHECK_ERROR: '',\r\n    DATE_CONTRADICT: '%s  %s ',\r\n    DELETED_FAILURE: '',\r\n    UNIQUE: '',\r\n    REQUEST_FILE_NOT_FOUND: '',\r\n    BP_ORDER_FILE_NOT_FOUND: '',\r\n    PAYMENT_NOTICE_NOT_FOUND: '',\r\n    HTTP_NOT_FOUND: '',\r\n    HTTP_NOT_ALLOWED: '',\r\n    PASSWORD_CONFIRM: '',\r\n    REQUIRE_MAIL_AND_SECURITY_CODE: '',\r\n    REQUIRE_PASSWORD_AND_SECURITY_CODE: '',\r\n    SECURITY_CODE_LENGTH:'4',\r\n    SELECT_SINGLE: ''\r\n  },\r\n  SUCCESS: {\r\n    SAVED: '',\r\n    DELETED: '',\r\n    UPLOADED: '',\r\n    RETIRED: '',\r\n    // DELETED_PARTIALLY: '%s%s',\r\n    REQUEST_FILE_CREATED: '',\r\n    BP_ORDER_FILE_CREATED: 'BP',\r\n    PAYMENT_NOTICE_CREATED: '',\r\n    EMAIL_SENT: '',\r\n    BANK_ACCOUNT_ADDED: '',\r\n    EMERGENCY_CONTACT_ADDED: '',\r\n    PASSWORD_CONFIRM: '',\r\n  },\r\n  CONFIRM: {\r\n    RECEIVE_ORDER_REQUEST: '',\r\n    RECEIVE_ORDER_REQUEST_UNDO: '',\r\n    RECEIVE_PARTNER_REQUEST: '',\r\n    RECEIVE_PARTNER_REQUEST_UNDO: '',\r\n  },\r\n};\r\n","import queryString from 'query-string';\r\nimport cloneDeep from 'lodash/cloneDeep';\r\nimport { push } from 'connected-react-router';\r\nimport { vsprintf } from 'sprintf-js';\r\nimport { authHeader } from './authHeader';\r\nimport { store } from '../app/store';\r\nimport { logoutAndRedirect, clearMe } from '../features/actions/index';\r\nimport { constant } from './constants';\r\n\r\nexport const common = {\r\n\r\n  /**\r\n   * \r\n   * @param {Integer} num \r\n   */\r\n  toNumComma: function(num) {\r\n    if (num === null || num === undefined) {\r\n      return '';\r\n    } else {\r\n      const int_comma = (num + \"\").replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, '$1,');\r\n      return int_comma;\r\n    }\r\n  },\r\n\r\n  /**\r\n   * \r\n   * @param {Object} obj \r\n   */\r\n  isEmpty: function(obj) {\r\n    if (obj === null || obj === undefined || obj === '') {\r\n      return true;\r\n    } else if (Array.isArray(obj)) {\r\n      return obj.length === 0;\r\n    } else if (typeof obj === 'number') {\r\n      return false;\r\n    }\r\n    for(var key in obj) {\r\n      if(obj.hasOwnProperty(key))\r\n        return false;\r\n    }\r\n    return true;\r\n  },\r\n\r\n  /**\r\n   * \r\n   * @param {String} s \r\n   * @param {String} c \r\n   */\r\n  trim: function(s, c) {\r\n    if (c === \"]\") c = \"\\\\]\";\r\n    if (c === \"\\\\\") c = \"\\\\\\\\\";\r\n    return s.replace(new RegExp(\r\n      \"^[\" + c + \"]+|[\" + c + \"]+$\", \"g\"\r\n    ), \"\");\r\n  },\r\n\r\n  /**\r\n   * 0\r\n   * @param {Integer} num \r\n   * @param {Integer} size \r\n   */\r\n  pad: function(num, size) {\r\n    var s = \"000000000\" + num;\r\n    return s.substr(s.length-size);\r\n  },\r\n\r\n  /**\r\n   * \r\n   * @param {String} url \r\n   * @param {Object} data JSON\r\n   */\r\n  addUrlParameter: function(url, data) {\r\n    url = this.trim(this.trim(url, '?'), '&');\r\n    const params = queryString.stringify(data);\r\n    if (url.indexOf('?') < 0) {\r\n      url += '?';\r\n    }\r\n    return url + '&' + params;\r\n  },\r\n\r\n  /**\r\n   * URLJSON\r\n   * @param {String} qs URL\r\n   */\r\n  parseQueryString: function(qs) {\r\n    return queryString.parse(qs);\r\n  },\r\n\r\n  /**\r\n   * \r\n   * @param {String} perm \r\n   */\r\n  hasPerm: function(perm) {\r\n    if (!store.getState()) {\r\n      return false;\r\n    }\r\n    const user = store.getState().user;\r\n    if (user.me.is_superuser) {\r\n      return true;\r\n    }\r\n    if (this.isEmpty(user.perms)) {\r\n      return false;\r\n    }\r\n    return user.perms.indexOf(perm) >= 0;\r\n  },\r\n\r\n    /**\r\n   * \r\n   * @param {String} url \r\n   */\r\n  redirect: function(url, search='', state={}) {\r\n    store.dispatch(push({\r\n      pathname: url,\r\n      search: search,\r\n      state: state,\r\n    }));\r\n  },\r\n\r\n  /**\r\n   * JSON\r\n   * @param {Array} json_list \r\n   * @param {String} key \r\n   * @param {String} value \r\n   */\r\n  getFromJsonList: function(json_list, key, value) {\r\n    if (!json_list) {\r\n      return {};\r\n    } else if (json_list.length === 0) {\r\n      return {};\r\n    } else if (typeof value === 'undefined') {\r\n      return {};\r\n    } else {\r\n      if (typeof value === 'string') {\r\n        value = value.split('__')[0];\r\n      }\r\n      let cols = json_list.filter(col => col[key] === value);\r\n      return cols.length > 0 ? cols[0] : {};\r\n    }\r\n  },\r\n\r\n  /**\r\n   * JSON\r\n   * @param {Object} arg \r\n   */\r\n  isJSON: function(arg) {\r\n    return typeof arg === 'object';\r\n  },\r\n\r\n  /**\r\n   * \r\n   * @param {String} format \r\n   *\r\n   * utils.format('This is argument: %s', arg1);\r\n   */\r\n  formatStr: function(format) {\r\n    if (!format) {\r\n      return null;\r\n    } else if (arguments && arguments.length === 2 && this.isJSON(arguments[1])) {\r\n      return vsprintf(format, arguments[1]);\r\n    } else {\r\n      var i = 0,\r\n        j = 0,\r\n        r = \"\",\r\n        next = function(args){\r\n          j += 1; i += 1;\r\n          return args[j] !== void 0 ? args[j] : \"\";\r\n        };\r\n\r\n      for(i=0; i<format.length; i++){\r\n        if(format.charCodeAt(i) === 37){\r\n          switch(format.charCodeAt(i+1)){\r\n            case 115: r += next(arguments); break;\r\n            case 100: r += Number(next(arguments)); break;\r\n            default: r += format[i]; break;\r\n          }\r\n        } else {\r\n          r += format[i];\r\n        }\r\n      }\r\n      return r;\r\n    }\r\n  },\r\n\r\n  /**\r\n   * \r\n   * @param {Date} date \r\n   * @param {String} format \r\n   */\r\n  formatDate: function (date, format) {\r\n    if (!format) {\r\n        format = 'YYYY-MM-DD hh:mm:ss.SSS';\r\n    }\r\n    if (!date) {\r\n      return null;\r\n    } else if (typeof date === \"string\") {\r\n        date = new Date(date);\r\n    }\r\n    format = format.replace(/YYYY/g, date.getFullYear());\r\n    format = format.replace(/MM/g, ('0' + (date.getMonth() + 1)).slice(-2));\r\n    format = format.replace(/DD/g, ('0' + date.getDate()).slice(-2));\r\n    format = format.replace(/hh/g, ('0' + date.getHours()).slice(-2));\r\n    format = format.replace(/mm/g, ('0' + date.getMinutes()).slice(-2));\r\n    format = format.replace(/ss/g, ('0' + date.getSeconds()).slice(-2));\r\n    if (format.match(/S/g)) {\r\n        var milliSeconds = ('00' + date.getMilliseconds()).slice(-3);\r\n        var length = format.match(/S/g).length;\r\n        for (var i = 0; i < length; i++) format = format.replace(/S/, milliSeconds.substring(i, i + 1));\r\n    }\r\n    return format;\r\n  },\r\n\r\n  /**\r\n   * \r\n   * @param {JSON} response Ajax\r\n   */\r\n  getFormErrorMessage: function(response) {\r\n    if (response.detail) {\r\n      return response.detail;\r\n    } else {\r\n      return constant.ERROR.FORM_CHECK_ERROR;\r\n    }\r\n  },\r\n\r\n  /**\r\n   * iframe\r\n   * @param {String} idFrame iframeID\r\n   */\r\n  printIframeContent: function(idFrame) {\r\n    var frm = document.getElementById(idFrame).contentWindow;\r\n    frm.focus();\r\n    frm.print();\r\n    return false;\r\n  },\r\n\r\n  /**\r\n   * \r\n   * @param {Array} results \r\n   * @param {String} src_field \r\n   */\r\n  cascade_reflect: function(results, schema, src_field) {\r\n    const column = common.getFromJsonList(schema, 'name', src_field);\r\n    if (column && column.cascade_to) {\r\n      const cascade_to = common.getFromJsonList(schema, 'name', column.cascade_to);\r\n      if (cascade_to && cascade_to.cascade_reflect) {\r\n        cascade_to.cascade_reflect(results);\r\n      }\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Base64Blob\r\n   * @param {Base64} base64 Base64\r\n   * @param {String} mime_ctype \r\n   */\r\n  toBlob: function(base64, mime_ctype='application/octet-stream') {\r\n    var bin = atob(base64.replace(/^.*,/, ''));\r\n    var buffer = new Uint8Array(bin.length);\r\n    for (var i = 0; i < bin.length; i++) {\r\n        buffer[i] = bin.charCodeAt(i);\r\n    }\r\n    // Blob\r\n    try{\r\n        var blob = new Blob([buffer.buffer], {\r\n            type: mime_ctype\r\n        });\r\n    }catch (e){\r\n        return false;\r\n    }\r\n    return blob;\r\n  },\r\n\r\n  /**\r\n   * Blob\r\n   * @param {Blob} blob \r\n   * @param {String} filename \r\n   */\r\n  downloadBlog: function(blob, filename) {\r\n    var csvURL = window.URL.createObjectURL(blob);\r\n    var tempLink = document.createElement('a');\r\n    tempLink.href = csvURL;\r\n    tempLink.setAttribute('download', filename);\r\n    tempLink.click();\r\n  },\r\n\r\n  /**\r\n   * JSON\r\n   * @param {JSON} data JSON\r\n   */\r\n  clone: function(data) {\r\n    return cloneDeep(data);\r\n  },\r\n\r\n  /**\r\n   * 'YYYY-MM-DD'\r\n   */\r\n  getCurrentDateStr: function() {\r\n    return this.formatDate(new Date(), 'YYYY-MM-DD');\r\n  },\r\n\r\n  /**\r\n   * \r\n   */\r\n  getCurrentYear: function() {\r\n    const d = new Date();\r\n    return d.getFullYear() + '';\r\n  },\r\n\r\n  /**\r\n   * \r\n   */\r\n  getCurrentMonth: function() {\r\n    const d = new Date();\r\n    // return (d.getMonth() + 1) + '';\r\n    return this.pad(d.getMonth() + 1, 2);\r\n  },\r\n\r\n  /**\r\n   * \r\n   * {year: YYYY, month: MM}\r\n   * @param {Date}} date \r\n   */\r\n  getPrevMonthDict: function(date) {\r\n    if (!(date instanceof Date)) {\r\n      date = new Date();\r\n    }\r\n    const d = new Date(date.getFullYear(), date.getMonth() - 1, 1);\r\n    return {\r\n      'year': d.getFullYear() + '',\r\n      'month': this.pad(d.getMonth() + 1, 2),\r\n    }\r\n  },\r\n\r\n  /**\r\n   * \r\n   * {year: YYYY, month: MM}\r\n   * @param {Date}} date \r\n   */\r\n  getNextMonthDict: function(date) {\r\n    if (!(date instanceof Date)) {\r\n      date = new Date();\r\n    }\r\n    const d = new Date(date.getFullYear(), date.getMonth() + 1, 1);\r\n    return {\r\n      'year': d.getFullYear() + '',\r\n      'month': this.pad(d.getMonth() + 1, 2),\r\n    }\r\n  },\r\n\r\n  /**\r\n   * \r\n   * {year: YYYY, month: MM}\r\n   * @param {String} year \r\n   * @param {String} month \r\n   */\r\n  getPrevMonthDictByYm: function(year, month) {\r\n    const date = new Date(year, month - 1, 1);\r\n    return this.getPrevMonthDict(date);\r\n  },\r\n\r\n  /**\r\n   * \r\n   * {year: YYYY, month: MM}\r\n   * @param {String} year \r\n   * @param {String} month \r\n   */\r\n  getNextMonthDictByYm: function(year, month) {\r\n    const date = new Date(year, month - 1, 1);\r\n    return this.getNextMonthDict(date);\r\n  },\r\n\r\n  /**\r\n   * 2\r\n   * @param {Date} d1 \r\n   * @param {Date} d2 \r\n   */\r\n  getMonthDiff: function(d1, d2) {\r\n    if (typeof d1 === 'string') {\r\n      d1 = new Date(d1);\r\n    }\r\n    if (typeof d2 === 'string') {\r\n      d2 = new Date(d2);\r\n    }\r\n    if (!d1 || !d2) {\r\n      return null;\r\n    }\r\n    if (isNaN(d1) || isNaN(d2)) {\r\n      return null;\r\n    }\r\n    let months = (d2.getFullYear() - d1.getFullYear()) * 12;\r\n    months -= d1.getMonth();\r\n    months += d2.getMonth();\r\n    return months <= 0 ? 0 : months;\r\n  },\r\n\r\n  getHeaderHeight: function() {\r\n    if (document.getElementsByTagName('header').length > 0) {\r\n      return document.getElementsByTagName('header')[0].offsetHeight;\r\n    } else {\r\n      return 64;\r\n    }\r\n  },\r\n\r\n  /**\r\n   * \r\n   * @param {Date} date \r\n   * @param {Integer} months \r\n   */\r\n  addMonths: function(date, months) {\r\n    if (typeof date === 'string') {\r\n      date = new Date(date);\r\n    }\r\n    if (isNaN(date)) {\r\n      return null;\r\n    }\r\n    const resultDate = new Date(date.getTime());\r\n    resultDate.setMonth(date.getMonth() + months);\r\n    return resultDate;\r\n  },\r\n\r\n  /**\r\n   * \r\n   * 1\r\n   * @param {Date} date \r\n   */\r\n  getOneYearEndDate: function (date) {\r\n    const date_after_12_month = this.addMonths(date, 12);\r\n    if (date_after_12_month) {\r\n      return new Date(date_after_12_month.getFullYear(), date_after_12_month.getMonth(), 0);\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n};\r\n\r\nexport const ajax = {\r\n\r\n  getMethod: function(name) {\r\n    switch (name) {\r\n      case 'GET':\r\n        return this.fetchGet;\r\n      case 'POST':\r\n        return this.fetchPost;\r\n      case 'DELETE':\r\n        return this.fetchDelete;\r\n      case 'PUT':\r\n        return this.fetchPut;\r\n      case 'OPTIONS':\r\n        return this.fetchOptions;\r\n      default:\r\n        throw Error('UNKNOWN METHOD NAME!');\r\n    }\r\n  },\r\n\r\n  /**\r\n   * \r\n   * @param {String} url \r\n   * @param {Object} params \r\n   */\r\n  fetchGet: function(url, params) {\r\n    return ajax.fetchCommon(url, 'GET', params);\r\n  },\r\n\r\n  /**\r\n   * \r\n   * @param {String} url \r\n   * @param {Object} params \r\n   */\r\n  fetchPost: function(url, params) {\r\n    return ajax.fetchCommon(url, 'POST', params);\r\n  },\r\n\r\n  /**\r\n   * \r\n   * @param {String} url \r\n   * @param {Object} params \r\n   */\r\n  fetchPatch: function(url, params) {\r\n    return ajax.fetchCommon(url, 'PATCH', params);\r\n  },\r\n\r\n  /**\r\n   * \r\n   * @param {String} url \r\n   * @param {Object} params \r\n   */\r\n  fetchDelete: function(url, params) {\r\n    return ajax.fetchCommon(url, 'DELETE', params);\r\n  },\r\n\r\n  /**\r\n   * \r\n   * @param {String} url \r\n   * @param {Object} params \r\n   */\r\n  fetchPut: function(url, params) {\r\n    return ajax.fetchCommon(url, 'PUT', params);\r\n  },\r\n\r\n  /**\r\n   * \r\n   * @param {String} url \r\n   * @param {Object} params \r\n   */\r\n  fetchOptions: function(url) {\r\n    return ajax.fetchCommon(url, 'OPTIONS');\r\n  },\r\n\r\n  fetchBinary: function(url) {\r\n    const requestOptions = {\r\n      method: 'GET',\r\n      headers: authHeader(),\r\n      // credentials: 'same-origin',\r\n    };\r\n    return fetch(url, requestOptions)\r\n      .then(ajax.handleStatus)\r\n      .then(function(res) {\r\n        return res.blob();\r\n      });\r\n  },\r\n\r\n  /**\r\n   * \r\n   * @param {String} url \r\n   * @param {String} method GET|POST|PUT|DELETE\r\n   * @param {Object} params \r\n   */\r\n  fetchCommon: function(url, method, params) {\r\n    const requestOptions = {\r\n      method: method,\r\n      headers: authHeader(),\r\n      // credentials: 'same-origin',\r\n    };\r\n    if (params && !common.isEmpty(params)) {\r\n      if (method === 'GET') {\r\n        url = common.addUrlParameter(url, params);\r\n      } else if (['POST', 'PUT'].indexOf(method) >= 0 && 'blob' in params) {\r\n        requestOptions['body'] = params['blob'];\r\n        requestOptions.headers['Content-Type'] = params.type || 'multipart/form-data';\r\n      } else {\r\n        requestOptions['body'] = JSON.stringify(params)\r\n      }\r\n    }\r\n\r\n    url = common.addUrlParameter(url, {'format': 'json'});\r\n    return fetch(url, requestOptions)\r\n      .then(ajax.handleStatus)\r\n      .then(ajax.handleResponse);\r\n  },\r\n\r\n  handleStatus: function(response) {\r\n    if (!response.ok) {\r\n      // store.dispatch(changeStatusCode(response.status));\r\n      if (response.status === 401) {\r\n        // auto logout if 401 response returned from api\r\n        store.dispatch(logoutAndRedirect());\r\n        store.dispatch(clearMe());\r\n        //location.reload(true);\r\n      }\r\n      return ajax.handleResponse(response).then(data => {\r\n        return Promise.reject(data);\r\n      });\r\n    } else {\r\n      return response;\r\n    }\r\n  },\r\n\r\n  handleResponse: function(response) {\r\n    return response.text().then(text => {\r\n      let data = text;\r\n      try {\r\n        data = JSON.parse(text);\r\n      } catch (e) { }\r\n\r\n      return data;\r\n    });\r\n  },\r\n};\r\n","import { config } from '../../utils/config';\r\nimport { ajax } from '../../utils/common';\r\n\r\nexport const userService = {\r\n  login,\r\n  logout,\r\n  getMe\r\n};\r\n\r\nfunction login(username, password) {\r\n  const requestOptions = {\r\n    method: 'POST',\r\n    headers: { 'Content-Type': 'application/json' },\r\n    body: JSON.stringify(\r\n      {\r\n        username,\r\n        password\r\n      }\r\n    )\r\n  };\r\n\r\n  return fetch(config.api.authenticate, requestOptions)\r\n    .then(handleResponse)\r\n    .then(data => {\r\n      // login successful if there's a jwt token in the response\r\n      if (data.token) {\r\n        // store user details and jwt token in local storage to keep user logged in between page refreshes\r\n        localStorage.setItem('token', JSON.stringify(data.token));\r\n      }\r\n\r\n      return data;\r\n    });\r\n}\r\n\r\nfunction logout() {\r\n  // user\r\n  return ajax.fetchPost(config.api.account.logout).then(() => (\r\n    localStorage.removeItem('token')\r\n  ));\r\n}\r\n\r\nfunction getMe() {\r\n  return ajax.fetchPost(config.api.account.me);\r\n}\r\n\r\nfunction handleResponse(response) {\r\n  return response.text().then(text => {\r\n    const data = text && JSON.parse(text);\r\n    if (!response.ok) {\r\n      if (response.status === 401) {\r\n        // auto logout if 401 response returned from api\r\n        logout();\r\n        //location.reload(true);\r\n      }\r\n\r\n      const error = (data && data.message) || response.statusText;\r\n      return Promise.reject(error);\r\n    }\r\n\r\n    return data;\r\n  });\r\n}\r\n","import { authConstants } from '../constants';\r\nimport { userService } from '../services';\r\nimport { push } from 'connected-react-router';\r\n\r\nexport const login = (username, password, from) => {\r\n  return dispatch => {\r\n    dispatch(loginRequest({ username }));\r\n\r\n    userService.login(username, password)\r\n      .then(\r\n        data => {\r\n          dispatch(loginSuccess(data));\r\n          dispatch(push(from || '/'));\r\n        },\r\n        error => {\r\n          dispatch(loginFailure(error));\r\n        }\r\n      );\r\n  };\r\n}\r\n\r\nexport const logoutAndRedirect = (location) => {\r\n  return dispatch => {\r\n    userService.logout();\r\n    dispatch(logout());\r\n    dispatch(push('/login', {from: location}));\r\n  }\r\n};\r\n\r\nconst logout = () => ({\r\n  type: authConstants.LOGOUT\r\n});\r\n\r\nconst loginRequest = data => ({\r\n  type: authConstants.LOGIN_REQUEST,\r\n});\r\n\r\nconst loginSuccess = data => ({\r\n  type: authConstants.LOGIN_SUCCESS,\r\n  payload: data\r\n});\r\n\r\nconst loginFailure = error => ({\r\n  type: authConstants.LOGIN_FAILURE,\r\n  payload: error\r\n});\r\n","// var nVer = navigator.appVersion;\r\nvar nAgt = navigator.userAgent;\r\nvar browserName = navigator.appName;\r\nvar fullVersion = '' + parseFloat(navigator.appVersion);\r\nvar majorVersion = parseInt(navigator.appVersion, 10);\r\nvar nameOffset, verOffset, ix;\r\n\r\n// In Opera, the true version is after \"Opera\" or after \"Version\"\r\nif ((verOffset = nAgt.indexOf(\"Opera\")) !== -1) {\r\n  browserName = \"Opera\";\r\n  fullVersion = nAgt.substring(verOffset + 6);\r\n  if ((verOffset = nAgt.indexOf(\"Version\")) !== -1)\r\n    fullVersion = nAgt.substring(verOffset + 8);\r\n}\r\n// In MSIE, the true version is after \"MSIE\" in userAgent\r\nelse if ((verOffset = nAgt.indexOf(\"MSIE\")) !== -1) {\r\n  browserName = \"Microsoft Internet Explorer\";\r\n  fullVersion = nAgt.substring(verOffset + 5);\r\n}\r\n// In Chrome, the true version is after \"Chrome\" \r\nelse if ((verOffset = nAgt.indexOf(\"Chrome\")) !== -1) {\r\n  browserName = \"Chrome\";\r\n  fullVersion = nAgt.substring(verOffset + 7);\r\n}\r\n// In Safari, the true version is after \"Safari\" or after \"Version\" \r\nelse if ((verOffset = nAgt.indexOf(\"Safari\")) !== -1) {\r\n  browserName = \"Safari\";\r\n  fullVersion = nAgt.substring(verOffset + 7);\r\n  if ((verOffset = nAgt.indexOf(\"Version\")) !== -1)\r\n    fullVersion = nAgt.substring(verOffset + 8);\r\n}\r\n// In Firefox, the true version is after \"Firefox\" \r\nelse if ((verOffset = nAgt.indexOf(\"Firefox\")) !== -1) {\r\n  browserName = \"Firefox\";\r\n  fullVersion = nAgt.substring(verOffset + 8);\r\n}\r\n// In most other browsers, \"name/version\" is at the end of userAgent \r\nelse if ((nameOffset = nAgt.lastIndexOf(' ') + 1) <\r\n  (verOffset = nAgt.lastIndexOf('/'))) {\r\n  browserName = nAgt.substring(nameOffset, verOffset);\r\n  fullVersion = nAgt.substring(verOffset + 1);\r\n  if (browserName.toLowerCase() === browserName.toUpperCase()) {\r\n    browserName = navigator.appName;\r\n  }\r\n}\r\n// trim the fullVersion string at semicolon/space if present\r\nif ((ix = fullVersion.indexOf(\";\")) !== -1)\r\n  fullVersion = fullVersion.substring(0, ix);\r\nif ((ix = fullVersion.indexOf(\" \")) !== -1)\r\n  fullVersion = fullVersion.substring(0, ix);\r\n\r\nmajorVersion = parseInt('' + fullVersion, 10);\r\nif (isNaN(majorVersion)) {\r\n  fullVersion = '' + parseFloat(navigator.appVersion);\r\n  majorVersion = parseInt(navigator.appVersion, 10);\r\n}\r\n\r\nvar OSName = \"Unknown OS\";\r\nif (navigator.appVersion.indexOf(\"Win\") !== -1) OSName = \"Windows\";\r\nif (navigator.appVersion.indexOf(\"Mac\") !== -1) OSName = \"MacOS\";\r\nif (navigator.appVersion.indexOf(\"X11\") !== -1) OSName = \"UNIX\";\r\nif (navigator.appVersion.indexOf(\"Linux\") !== -1) OSName = \"Linux\";\r\n\r\nexport const deviceInfo = {\r\n  browserInfo: {\r\n    name: browserName,\r\n    fullVersion,\r\n    majorVersion,\r\n    appName: navigator.appName,\r\n    userAgent: navigator.userAgent,\r\n  },\r\n  osInfo: {\r\n    name: OSName,\r\n  },\r\n};\r\n\r\nexport const firebaseDeviceInfo = `${browserName} ${fullVersion}, OS:${OSName}`\r\n","import { connect } from 'react-redux';\r\nimport Login from '../components/Login';\r\nimport { login } from '../features/actions/auth.actions';\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n  error: state.auth.error\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  login(username, password, from) {\r\n    dispatch(login(username, password, from));\r\n  }\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);\r\n","export const choice_years = [\r\n  { \"value\": \"2015\", \"display_name\": \"2015\" },\r\n  { \"value\": \"2016\", \"display_name\": \"2016\" },\r\n  { \"value\": \"2017\", \"display_name\": \"2017\" },\r\n  { \"value\": \"2018\", \"display_name\": \"2018\" },\r\n  { \"value\": \"2019\", \"display_name\": \"2019\" },\r\n  { \"value\": \"2020\", \"display_name\": \"2020\" },\r\n  { \"value\": \"2021\", \"display_name\": \"2021\" },\r\n  { \"value\": \"2022\", \"display_name\": \"2022\" },\r\n  { \"value\": \"2023\", \"display_name\": \"2023\" },\r\n  { \"value\": \"2024\", \"display_name\": \"2024\" },\r\n  { \"value\": \"2025\", \"display_name\": \"2025\" },\r\n  { \"value\": \"2026\", \"display_name\": \"2026\" },\r\n  { \"value\": \"2027\", \"display_name\": \"2027\" },\r\n  { \"value\": \"2028\", \"display_name\": \"2028\" },\r\n  { \"value\": \"2029\", \"display_name\": \"2029\" },\r\n  { \"value\": \"2030\", \"display_name\": \"2030\" },\r\n];\r\n\r\nexport const choice_months = [\r\n  { \"value\": \"01\", \"display_name\": \"1\" },\r\n  { \"value\": \"02\", \"display_name\": \"2\" },\r\n  { \"value\": \"03\", \"display_name\": \"3\" },\r\n  { \"value\": \"04\", \"display_name\": \"4\" },\r\n  { \"value\": \"05\", \"display_name\": \"5\" },\r\n  { \"value\": \"06\", \"display_name\": \"6\" },\r\n  { \"value\": \"07\", \"display_name\": \"7\" },\r\n  { \"value\": \"08\", \"display_name\": \"8\" },\r\n  { \"value\": \"09\", \"display_name\": \"9\" },\r\n  { \"value\": \"10\", \"display_name\": \"10\" },\r\n  { \"value\": \"11\", \"display_name\": \"11\" },\r\n  { \"value\": \"12\", \"display_name\": \"12\" },\r\n];\r\n\r\nexport const choice_years_from_prev = () => {\r\n  const year = (new Date()).getFullYear();\r\n  return [\r\n    { \"value\": (year - 1) + '', \"display_name\": (year - 1) + '' },\r\n    { \"value\": (year + 0) + '', \"display_name\": (year + 0) + '' },\r\n    { \"value\": (year + 1) + '', \"display_name\": (year + 1) + '' },\r\n    { \"value\": (year + 2) + '', \"display_name\": (year + 2) + '' },\r\n  ];\r\n};\r\n\r\n// \r\nexport const choice_residence_type = [\r\n  { \"value\": \"01\", \"display_name\": \"\" },\r\n  { \"value\": \"02\", \"display_name\": \"\" },\r\n  { \"value\": \"03\", \"display_name\": \"\" },\r\n  { \"value\": \"10\", \"display_name\": \"1\" },\r\n  { \"value\": \"11\", \"display_name\": \"2\" },\r\n  { \"value\": \"20\", \"display_name\": \"\" },\r\n  { \"value\": \"21\", \"display_name\": \"\" },\r\n  { \"value\": \"22\", \"display_name\": \"\" },\r\n  { \"value\": \"90\", \"display_name\": \"\" },\r\n];\r\n\r\nexport const choice_bank_account_type = [\r\n  { \"value\": \"01\", \"display_name\": \"\" },\r\n  { \"value\": \"02\", \"display_name\": \"\" },\r\n  { \"value\": \"03\", \"display_name\": \"\" },\r\n  { \"value\": \"04\", \"display_name\": \"\" },\r\n  { \"value\": \"05\", \"display_name\": \"\" },\r\n  { \"value\": \"06\", \"display_name\": \"\" },\r\n  { \"value\": \"07\", \"display_name\": \"\" },\r\n];\r\n\r\nexport const choice_simple_member_type = [\r\n  { \"value\": \"01\", \"display_name\": \"\" },\r\n  { \"value\": \"02\", \"display_name\": \"\" },\r\n  { \"value\": \"03\", \"display_name\": \"\" },\r\n];\r\n\r\nexport const choice_contract_type_all_member = [\r\n  { \"value\": \"0001\", \"display_name\": \"\", },\r\n  { \"value\": \"0002\", \"display_name\": \"\", },\r\n  { \"value\": \"0010\", \"display_name\": \"\", },\r\n  { \"value\": \"0011\", \"display_name\": \"\", },\r\n  { \"value\": \"0012\", \"display_name\": \"\", },\r\n  { \"value\": \"0020\", \"display_name\": \"\", },\r\n  { \"value\": \"0021\", \"display_name\": \"\", },\r\n];\r\n\r\nexport const choice_contract_type_individual = [\r\n  { \"value\": \"0020\", \"display_name\": \"\"}\r\n];\r\n\r\nexport const choice_contract_type_bp = [\r\n  { \"value\": \"0021\", \"display_name\": \"\"}\r\n];\r\n\r\nexport const choice_contract_type_partner = [\r\n  { \"value\": \"0101\", \"display_name\": \"\" },\r\n  { \"value\": \"0102\", \"display_name\": \"\" },\r\n  { \"value\": \"0103\", \"display_name\": \"\" },\r\n  { \"value\": \"0104\", \"display_name\": \"\" },\r\n  { \"value\": \"0111\", \"display_name\": \"\" },\r\n  { \"value\": \"0112\", \"display_name\": \"\" },\r\n  { \"value\": \"0190\", \"display_name\": \"\" },\r\n];\r\n\r\nexport const choice_organization_position = [\r\n  { \"value\": \"01\", \"display_name\": \"\" },\r\n  { \"value\": \"02\", \"display_name\": \"\" },\r\n  { \"value\": \"10\", \"display_name\": \"\" },\r\n  { \"value\": \"11\", \"display_name\": \"\" },\r\n  { \"value\": \"20\", \"display_name\": \"\" },\r\n  { \"value\": \"21\", \"display_name\": \"\" },\r\n  { \"value\": \"30\", \"display_name\": \"\" },\r\n  { \"value\": \"31\", \"display_name\": \"\" },\r\n];\r\n\r\nexport const choice_expense_cost_type = [\r\n  { \"value\": \"01\", \"display_name\": \"\" },\r\n  { \"value\": \"02\", \"display_name\": \"\" },\r\n  { \"value\": \"10\", \"display_name\": \"\" },\r\n];\r\n\r\nexport const choice_gender = [\r\n  { \"value\": \"1\", \"display_name\": \"\" },\r\n  { \"value\": \"2\", \"display_name\": \"\" },\r\n];\r\n\r\nexport const choice_has_income = [\r\n  { \"value\": \"0\", \"display_name\": \"\" },\r\n  { \"value\": \"1\", \"display_name\": \"\" },\r\n];\r\n\r\nexport const choice_marriage = [\r\n  { \"value\": \"0\", \"display_name\": \"\", },\r\n  { \"value\": \"1\", \"display_name\": \"\", }\r\n];\r\n\r\nexport const choice_dependant_type = [\r\n  { \"value\": \"00\", \"display_name\": \"\", },\r\n  { \"value\": \"01\", \"display_name\": \"\", },\r\n  { \"value\": \"02\", \"display_name\": \"\", }\r\n];\r\n\r\nexport const choice_relation_ship = [\r\n  { \"value\": \"0\", \"display_name\": \"\", },\r\n  { \"value\": \"1\", \"display_name\": \"\", },\r\n  { \"value\": \"2\", \"display_name\": \"\", },\r\n  { \"value\": \"3\", \"display_name\": \"\", },\r\n  { \"value\": \"4\", \"display_name\": \"\", },\r\n  { \"value\": \"5\", \"display_name\": \"\", },\r\n  { \"value\": \"6\", \"display_name\": \"\", },\r\n  { \"value\": \"7\", \"display_name\": \"\", },\r\n  { \"value\": \"8\", \"display_name\": \"\", },\r\n  { \"value\": \"9\", \"display_name\": \"\", },\r\n  { \"value\": \"10\", \"display_name\": \"\", },\r\n  { \"value\": \"11\", \"display_name\": \"\", },\r\n  { \"value\": \"12\", \"display_name\": \"\", },\r\n  { \"value\": \"13\", \"display_name\": \"\", },\r\n  { \"value\": \"14\", \"display_name\": \"\", },\r\n  { \"value\": \"15\", \"display_name\": \"\", },\r\n  { \"value\": \"16\", \"display_name\": \"\", },\r\n  { \"value\": \"17\", \"display_name\": \"\", },\r\n  { \"value\": \"18\", \"display_name\": \"\", },\r\n  { \"value\": \"19\", \"display_name\": \"\", },\r\n  { \"value\": \"20\", \"display_name\": \"\", },\r\n  { \"value\": \"21\", \"display_name\": \"\", },\r\n  { \"value\": \"22\", \"display_name\": \"\", },\r\n  { \"value\": \"23\", \"display_name\": \"\", },\r\n  { \"value\": \"24\", \"display_name\": \"\", },\r\n  { \"value\": \"25\", \"display_name\": \"\", },\r\n  { \"value\": \"26\", \"display_name\": \"\", },\r\n  { \"value\": \"27\", \"display_name\": \"\", },\r\n  { \"value\": \"28\", \"display_name\": \"\", },\r\n  { \"value\": \"29\", \"display_name\": \"\", },\r\n  { \"value\": \"30\", \"display_name\": \"\", },\r\n  { \"value\": \"31\", \"display_name\": \"\", },\r\n  { \"value\": \"32\", \"display_name\": \"\", },\r\n  { \"value\": \"33\", \"display_name\": \"\", },\r\n  { \"value\": \"34\", \"display_name\": \"\", },\r\n  { \"value\": \"35\", \"display_name\": \"\", },\r\n  { \"value\": \"36\", \"display_name\": \"\", },\r\n  { \"value\": \"37\", \"display_name\": \"\", },\r\n  { \"value\": \"38\", \"display_name\": \"\", },\r\n  { \"value\": \"39\", \"display_name\": \"\", },\r\n  { \"value\": \"40\", \"display_name\": \"\", },\r\n  { \"value\": \"41\", \"display_name\": \"\", },\r\n  { \"value\": \"42\", \"display_name\": \"\", },\r\n  { \"value\": \"43\", \"display_name\": \"\", },\r\n  { \"value\": \"44\", \"display_name\": \"\", },\r\n];\r\n\r\nexport const choice_business_type = [\r\n  { \"value\": \"\", \"display_name\": \"\", },\r\n  { \"value\": \"\", \"display_name\": \"\", },\r\n  { \"value\": \"\", \"display_name\": \"\", },\r\n  { \"value\": \"\", \"display_name\": \"\", },\r\n  { \"value\": \"\", \"display_name\": \"\", },\r\n  { \"value\": \"\", \"display_name\": \"\", },\r\n  { \"value\": \"\", \"display_name\": \"\", },\r\n  { \"value\": \"\", \"display_name\": \"\", },\r\n  { \"value\": \"\", \"display_name\": \"\", },\r\n  { \"value\": \"\", \"display_name\": \"\", },\r\n  { \"value\": \"\", \"display_name\": \"\", },\r\n  { \"value\": \"\", \"display_name\": \"\", },\r\n  { \"value\": \"\", \"display_name\": \"\", },\r\n  { \"value\": \"\", \"display_name\": \"\", },\r\n];\r\n\r\nexport const choice_contract_comment = [\r\n  { \"value\": \"0001\", \"display_name\": \"\", },\r\n  { \"value\": \"0002\", \"display_name\": \"\", },\r\n  { \"value\": \"0003\", \"display_name\": \"\", },\r\n  { \"value\": \"0004\", \"display_name\": \"\", },\r\n  { \"value\": \"0005\", \"display_name\": \"\", },\r\n  { \"value\": \"0006\", \"display_name\": \"\", },\r\n  { \"value\": \"0007\", \"display_name\": \"\", },\r\n  { \"value\": \"0200\", \"display_name\": \"\", },\r\n  { \"value\": \"0201\", \"display_name\": \"\", },\r\n  { \"value\": \"0202\", \"display_name\": \"\", },\r\n  { \"value\": \"0300\", \"display_name\": \"\", },\r\n  { \"value\": \"0301\", \"display_name\": \"\", },\r\n  { \"value\": \"0302\", \"display_name\": \"\", },\r\n  { \"value\": \"0800\", \"display_name\": \"\", },\r\n  { \"value\": \"9900\", \"display_name\": \"\", },\r\n];\r\n\r\nexport const choice_country = [\r\n  { \"value\": \"392\", \"display_name\": \"\" },\r\n  { \"value\": \"156\", \"display_name\": \"\" },\r\n  { \"value\": \"004\", \"display_name\": \"\" },\r\n  { \"value\": \"008\", \"display_name\": \"\" },\r\n  { \"value\": \"010\", \"display_name\": \"\" },\r\n  { \"value\": \"012\", \"display_name\": \"\" },\r\n  { \"value\": \"016\", \"display_name\": \"\" },\r\n  { \"value\": \"020\", \"display_name\": \"\" },\r\n  { \"value\": \"024\", \"display_name\": \"\" },\r\n  { \"value\": \"028\", \"display_name\": \"\" },\r\n  { \"value\": \"031\", \"display_name\": \"\" },\r\n  { \"value\": \"032\", \"display_name\": \"\" },\r\n  { \"value\": \"036\", \"display_name\": \"\" },\r\n  { \"value\": \"040\", \"display_name\": \"\" },\r\n  { \"value\": \"044\", \"display_name\": \"\" },\r\n  { \"value\": \"048\", \"display_name\": \"\" },\r\n  { \"value\": \"050\", \"display_name\": \"\" },\r\n  { \"value\": \"051\", \"display_name\": \"\" },\r\n  { \"value\": \"052\", \"display_name\": \"\" },\r\n  { \"value\": \"056\", \"display_name\": \"\" },\r\n  { \"value\": \"060\", \"display_name\": \"\" },\r\n  { \"value\": \"064\", \"display_name\": \"\" },\r\n  { \"value\": \"068\", \"display_name\": \"\" },\r\n  { \"value\": \"070\", \"display_name\": \"\" },\r\n  { \"value\": \"072\", \"display_name\": \"\" },\r\n  { \"value\": \"074\", \"display_name\": \"\" },\r\n  { \"value\": \"076\", \"display_name\": \"\" },\r\n  { \"value\": \"084\", \"display_name\": \"\" },\r\n  { \"value\": \"086\", \"display_name\": \"\" },\r\n  { \"value\": \"090\", \"display_name\": \"\" },\r\n  { \"value\": \"092\", \"display_name\": \"\" },\r\n  { \"value\": \"096\", \"display_name\": \"\" },\r\n  { \"value\": \"100\", \"display_name\": \"\" },\r\n  { \"value\": \"104\", \"display_name\": \"\" },\r\n  { \"value\": \"108\", \"display_name\": \"\" },\r\n  { \"value\": \"112\", \"display_name\": \"\" },\r\n  { \"value\": \"116\", \"display_name\": \"\" },\r\n  { \"value\": \"120\", \"display_name\": \"\" },\r\n  { \"value\": \"124\", \"display_name\": \"\" },\r\n  { \"value\": \"132\", \"display_name\": \"\" },\r\n  { \"value\": \"136\", \"display_name\": \"\" },\r\n  { \"value\": \"140\", \"display_name\": \"\" },\r\n  { \"value\": \"144\", \"display_name\": \"\" },\r\n  { \"value\": \"148\", \"display_name\": \"\" },\r\n  { \"value\": \"152\", \"display_name\": \"\" },\r\n  { \"value\": \"158\", \"display_name\": \"\" },\r\n  { \"value\": \"162\", \"display_name\": \"\" },\r\n  { \"value\": \"166\", \"display_name\": \"\" },\r\n  { \"value\": \"170\", \"display_name\": \"\" },\r\n  { \"value\": \"174\", \"display_name\": \"\" },\r\n  { \"value\": \"175\", \"display_name\": \"\" },\r\n  { \"value\": \"178\", \"display_name\": \"\" },\r\n  { \"value\": \"180\", \"display_name\": \"\" },\r\n  { \"value\": \"184\", \"display_name\": \"\" },\r\n  { \"value\": \"188\", \"display_name\": \"\" },\r\n  { \"value\": \"191\", \"display_name\": \"\" },\r\n  { \"value\": \"192\", \"display_name\": \"\" },\r\n  { \"value\": \"196\", \"display_name\": \"\" },\r\n  { \"value\": \"203\", \"display_name\": \"\" },\r\n  { \"value\": \"204\", \"display_name\": \"\" },\r\n  { \"value\": \"208\", \"display_name\": \"\" },\r\n  { \"value\": \"212\", \"display_name\": \"\" },\r\n  { \"value\": \"214\", \"display_name\": \"\" },\r\n  { \"value\": \"218\", \"display_name\": \"\" },\r\n  { \"value\": \"222\", \"display_name\": \"\" },\r\n  { \"value\": \"226\", \"display_name\": \"\" },\r\n  { \"value\": \"231\", \"display_name\": \"\" },\r\n  { \"value\": \"232\", \"display_name\": \"\" },\r\n  { \"value\": \"233\", \"display_name\": \"\" },\r\n  { \"value\": \"234\", \"display_name\": \"\" },\r\n  { \"value\": \"238\", \"display_name\": \"\" },\r\n  { \"value\": \"239\", \"display_name\": \"\" },\r\n  { \"value\": \"242\", \"display_name\": \"\" },\r\n  { \"value\": \"246\", \"display_name\": \"\" },\r\n  { \"value\": \"248\", \"display_name\": \"\" },\r\n  { \"value\": \"250\", \"display_name\": \"\" },\r\n  { \"value\": \"254\", \"display_name\": \"\" },\r\n  { \"value\": \"258\", \"display_name\": \"\" },\r\n  { \"value\": \"260\", \"display_name\": \"\" },\r\n  { \"value\": \"262\", \"display_name\": \"\" },\r\n  { \"value\": \"266\", \"display_name\": \"\" },\r\n  { \"value\": \"268\", \"display_name\": \"\" },\r\n  { \"value\": \"270\", \"display_name\": \"\" },\r\n  { \"value\": \"275\", \"display_name\": \"\" },\r\n  { \"value\": \"276\", \"display_name\": \"\" },\r\n  { \"value\": \"288\", \"display_name\": \"\" },\r\n  { \"value\": \"292\", \"display_name\": \"\" },\r\n  { \"value\": \"296\", \"display_name\": \"\" },\r\n  { \"value\": \"300\", \"display_name\": \"\" },\r\n  { \"value\": \"304\", \"display_name\": \"\" },\r\n  { \"value\": \"308\", \"display_name\": \"\" },\r\n  { \"value\": \"312\", \"display_name\": \"\" },\r\n  { \"value\": \"316\", \"display_name\": \"\" },\r\n  { \"value\": \"320\", \"display_name\": \"\" },\r\n  { \"value\": \"324\", \"display_name\": \"\" },\r\n  { \"value\": \"328\", \"display_name\": \"\" },\r\n  { \"value\": \"332\", \"display_name\": \"\" },\r\n  { \"value\": \"334\", \"display_name\": \"\" },\r\n  { \"value\": \"336\", \"display_name\": \"\" },\r\n  { \"value\": \"340\", \"display_name\": \"\" },\r\n  { \"value\": \"344\", \"display_name\": \"\" },\r\n  { \"value\": \"348\", \"display_name\": \"\" },\r\n  { \"value\": \"352\", \"display_name\": \"\" },\r\n  { \"value\": \"356\", \"display_name\": \"\" },\r\n  { \"value\": \"360\", \"display_name\": \"\" },\r\n  { \"value\": \"364\", \"display_name\": \"\" },\r\n  { \"value\": \"368\", \"display_name\": \"\" },\r\n  { \"value\": \"372\", \"display_name\": \"\" },\r\n  { \"value\": \"376\", \"display_name\": \"\" },\r\n  { \"value\": \"380\", \"display_name\": \"\" },\r\n  { \"value\": \"384\", \"display_name\": \"\" },\r\n  { \"value\": \"388\", \"display_name\": \"\" },\r\n  { \"value\": \"398\", \"display_name\": \"\" },\r\n  { \"value\": \"400\", \"display_name\": \"\" },\r\n  { \"value\": \"404\", \"display_name\": \"\" },\r\n  { \"value\": \"408\", \"display_name\": \"\" },\r\n  { \"value\": \"410\", \"display_name\": \"\" },\r\n  { \"value\": \"414\", \"display_name\": \"\" },\r\n  { \"value\": \"417\", \"display_name\": \"\" },\r\n  { \"value\": \"418\", \"display_name\": \"\" },\r\n  { \"value\": \"422\", \"display_name\": \"\" },\r\n  { \"value\": \"426\", \"display_name\": \"\" },\r\n  { \"value\": \"428\", \"display_name\": \"\" },\r\n  { \"value\": \"430\", \"display_name\": \"\" },\r\n  { \"value\": \"434\", \"display_name\": \"\" },\r\n  { \"value\": \"438\", \"display_name\": \"\" },\r\n  { \"value\": \"440\", \"display_name\": \"\" },\r\n  { \"value\": \"442\", \"display_name\": \"\" },\r\n  { \"value\": \"446\", \"display_name\": \"\" },\r\n  { \"value\": \"450\", \"display_name\": \"\" },\r\n  { \"value\": \"454\", \"display_name\": \"\" },\r\n  { \"value\": \"458\", \"display_name\": \"\" },\r\n  { \"value\": \"462\", \"display_name\": \"\" },\r\n  { \"value\": \"466\", \"display_name\": \"\" },\r\n  { \"value\": \"470\", \"display_name\": \"\" },\r\n  { \"value\": \"474\", \"display_name\": \"\" },\r\n  { \"value\": \"478\", \"display_name\": \"\" },\r\n  { \"value\": \"480\", \"display_name\": \"\" },\r\n  { \"value\": \"484\", \"display_name\": \"\" },\r\n  { \"value\": \"492\", \"display_name\": \"\" },\r\n  { \"value\": \"496\", \"display_name\": \"\" },\r\n  { \"value\": \"498\", \"display_name\": \"\" },\r\n  { \"value\": \"499\", \"display_name\": \"\" },\r\n  { \"value\": \"500\", \"display_name\": \"\" },\r\n  { \"value\": \"504\", \"display_name\": \"\" },\r\n  { \"value\": \"508\", \"display_name\": \"\" },\r\n  { \"value\": \"512\", \"display_name\": \"\" },\r\n  { \"value\": \"516\", \"display_name\": \"\" },\r\n  { \"value\": \"520\", \"display_name\": \"\" },\r\n  { \"value\": \"524\", \"display_name\": \"\" },\r\n  { \"value\": \"528\", \"display_name\": \"\" },\r\n  { \"value\": \"531\", \"display_name\": \"\" },\r\n  { \"value\": \"533\", \"display_name\": \"\" },\r\n  { \"value\": \"534\", \"display_name\": \"\" },\r\n  { \"value\": \"535\", \"display_name\": \"\" },\r\n  { \"value\": \"540\", \"display_name\": \"\" },\r\n  { \"value\": \"548\", \"display_name\": \"\" },\r\n  { \"value\": \"554\", \"display_name\": \"\" },\r\n  { \"value\": \"558\", \"display_name\": \"\" },\r\n  { \"value\": \"562\", \"display_name\": \"\" },\r\n  { \"value\": \"566\", \"display_name\": \"\" },\r\n  { \"value\": \"570\", \"display_name\": \"\" },\r\n  { \"value\": \"574\", \"display_name\": \"\" },\r\n  { \"value\": \"578\", \"display_name\": \"\" },\r\n  { \"value\": \"580\", \"display_name\": \"\" },\r\n  { \"value\": \"581\", \"display_name\": \"\" },\r\n  { \"value\": \"583\", \"display_name\": \"\" },\r\n  { \"value\": \"584\", \"display_name\": \"\" },\r\n  { \"value\": \"585\", \"display_name\": \"\" },\r\n  { \"value\": \"586\", \"display_name\": \"\" },\r\n  { \"value\": \"591\", \"display_name\": \"\" },\r\n  { \"value\": \"598\", \"display_name\": \"\" },\r\n  { \"value\": \"600\", \"display_name\": \"\" },\r\n  { \"value\": \"604\", \"display_name\": \"\" },\r\n  { \"value\": \"608\", \"display_name\": \"\" },\r\n  { \"value\": \"612\", \"display_name\": \"\" },\r\n  { \"value\": \"616\", \"display_name\": \"\" },\r\n  { \"value\": \"620\", \"display_name\": \"\" },\r\n  { \"value\": \"624\", \"display_name\": \"\" },\r\n  { \"value\": \"626\", \"display_name\": \"\" },\r\n  { \"value\": \"630\", \"display_name\": \"\" },\r\n  { \"value\": \"634\", \"display_name\": \"\" },\r\n  { \"value\": \"638\", \"display_name\": \"\" },\r\n  { \"value\": \"642\", \"display_name\": \"\" },\r\n  { \"value\": \"643\", \"display_name\": \"\" },\r\n  { \"value\": \"646\", \"display_name\": \"\" },\r\n  { \"value\": \"652\", \"display_name\": \"\" },\r\n  { \"value\": \"654\", \"display_name\": \"\" },\r\n  { \"value\": \"659\", \"display_name\": \"\" },\r\n  { \"value\": \"660\", \"display_name\": \"\" },\r\n  { \"value\": \"662\", \"display_name\": \"\" },\r\n  { \"value\": \"663\", \"display_name\": \"\" },\r\n  { \"value\": \"666\", \"display_name\": \"\" },\r\n  { \"value\": \"670\", \"display_name\": \"\" },\r\n  { \"value\": \"674\", \"display_name\": \"\" },\r\n  { \"value\": \"678\", \"display_name\": \"\" },\r\n  { \"value\": \"682\", \"display_name\": \"\" },\r\n  { \"value\": \"686\", \"display_name\": \"\" },\r\n  { \"value\": \"688\", \"display_name\": \"\" },\r\n  { \"value\": \"690\", \"display_name\": \"\" },\r\n  { \"value\": \"694\", \"display_name\": \"\" },\r\n  { \"value\": \"702\", \"display_name\": \"\" },\r\n  { \"value\": \"703\", \"display_name\": \"\" },\r\n  { \"value\": \"704\", \"display_name\": \"\" },\r\n  { \"value\": \"705\", \"display_name\": \"\" },\r\n  { \"value\": \"706\", \"display_name\": \"\" },\r\n  { \"value\": \"710\", \"display_name\": \"\" },\r\n  { \"value\": \"716\", \"display_name\": \"\" },\r\n  { \"value\": \"724\", \"display_name\": \"\" },\r\n  { \"value\": \"728\", \"display_name\": \"\" },\r\n  { \"value\": \"729\", \"display_name\": \"\" },\r\n  { \"value\": \"732\", \"display_name\": \"\" },\r\n  { \"value\": \"740\", \"display_name\": \"\" },\r\n  { \"value\": \"744\", \"display_name\": \"\" },\r\n  { \"value\": \"748\", \"display_name\": \"\" },\r\n  { \"value\": \"752\", \"display_name\": \"\" },\r\n  { \"value\": \"756\", \"display_name\": \"\" },\r\n  { \"value\": \"760\", \"display_name\": \"\" },\r\n  { \"value\": \"762\", \"display_name\": \"\" },\r\n  { \"value\": \"764\", \"display_name\": \"\" },\r\n  { \"value\": \"768\", \"display_name\": \"\" },\r\n  { \"value\": \"772\", \"display_name\": \"\" },\r\n  { \"value\": \"776\", \"display_name\": \"\" },\r\n  { \"value\": \"780\", \"display_name\": \"\" },\r\n  { \"value\": \"784\", \"display_name\": \"\" },\r\n  { \"value\": \"788\", \"display_name\": \"\" },\r\n  { \"value\": \"792\", \"display_name\": \"\" },\r\n  { \"value\": \"795\", \"display_name\": \"\" },\r\n  { \"value\": \"796\", \"display_name\": \"\" },\r\n  { \"value\": \"798\", \"display_name\": \"\" },\r\n  { \"value\": \"800\", \"display_name\": \"\" },\r\n  { \"value\": \"804\", \"display_name\": \"\" },\r\n  { \"value\": \"807\", \"display_name\": \"\" },\r\n  { \"value\": \"818\", \"display_name\": \"\" },\r\n  { \"value\": \"826\", \"display_name\": \"\" },\r\n  { \"value\": \"831\", \"display_name\": \"\" },\r\n  { \"value\": \"832\", \"display_name\": \"\" },\r\n  { \"value\": \"833\", \"display_name\": \"\" },\r\n  { \"value\": \"834\", \"display_name\": \"\" },\r\n  { \"value\": \"840\", \"display_name\": \"\" },\r\n  { \"value\": \"850\", \"display_name\": \"\" },\r\n  { \"value\": \"854\", \"display_name\": \"\" },\r\n  { \"value\": \"858\", \"display_name\": \"\" },\r\n  { \"value\": \"860\", \"display_name\": \"\" },\r\n  { \"value\": \"862\", \"display_name\": \"\" },\r\n  { \"value\": \"876\", \"display_name\": \"\" },\r\n  { \"value\": \"882\", \"display_name\": \"\" },\r\n  { \"value\": \"887\", \"display_name\": \"\" },\r\n  { \"value\": \"894\", \"display_name\": \"\" },\r\n];\r\n\r\nexport const choice_payment_month = [\r\n  { \"value\": \"1\", \"display_name\": \"\" },\r\n  { \"value\": \"2\", \"display_name\": \"\" },\r\n  { \"value\": \"3\", \"display_name\": \"\" },\r\n  { \"value\": \"4\", \"display_name\": \"\" },\r\n  { \"value\": \"5\", \"display_name\": \"\" },\r\n  { \"value\": \"6\", \"display_name\": \"\" },\r\n];\r\n\r\nexport const choice_payment_day = [\r\n  { \"value\": \"01\", \"display_name\": \"1\" },\r\n  { \"value\": \"02\", \"display_name\": \"2\" },\r\n  { \"value\": \"03\", \"display_name\": \"3\" },\r\n  { \"value\": \"04\", \"display_name\": \"4\" },\r\n  { \"value\": \"05\", \"display_name\": \"5\" },\r\n  { \"value\": \"06\", \"display_name\": \"6\" },\r\n  { \"value\": \"07\", \"display_name\": \"7\" },\r\n  { \"value\": \"08\", \"display_name\": \"8\" },\r\n  { \"value\": \"09\", \"display_name\": \"9\" },\r\n  { \"value\": \"10\", \"display_name\": \"10\" },\r\n  { \"value\": \"11\", \"display_name\": \"11\" },\r\n  { \"value\": \"12\", \"display_name\": \"12\" },\r\n  { \"value\": \"13\", \"display_name\": \"13\" },\r\n  { \"value\": \"14\", \"display_name\": \"14\" },\r\n  { \"value\": \"15\", \"display_name\": \"15\" },\r\n  { \"value\": \"16\", \"display_name\": \"16\" },\r\n  { \"value\": \"17\", \"display_name\": \"17\" },\r\n  { \"value\": \"18\", \"display_name\": \"18\" },\r\n  { \"value\": \"19\", \"display_name\": \"19\" },\r\n  { \"value\": \"20\", \"display_name\": \"20\" },\r\n  { \"value\": \"21\", \"display_name\": \"21\" },\r\n  { \"value\": \"22\", \"display_name\": \"22\" },\r\n  { \"value\": \"23\", \"display_name\": \"23\" },\r\n  { \"value\": \"24\", \"display_name\": \"24\" },\r\n  { \"value\": \"25\", \"display_name\": \"25\" },\r\n  { \"value\": \"26\", \"display_name\": \"26\" },\r\n  { \"value\": \"27\", \"display_name\": \"27\" },\r\n  { \"value\": \"28\", \"display_name\": \"28\" },\r\n  { \"value\": \"29\", \"display_name\": \"29\" },\r\n  { \"value\": \"30\", \"display_name\": \"30\" },\r\n  { \"value\": \"99\", \"display_name\": \"\" },\r\n];\r\n\r\nexport const choice_decimal_type = [\r\n  { \"value\": \"0\", \"display_name\": \"\" },\r\n  { \"value\": \"1\", \"display_name\": \"\" },\r\n  { \"value\": \"2\", \"display_name\": \"\" },\r\n];\r\n\r\nexport const choice_attendance_type = [\r\n  { \"value\": \"1\", \"display_name\": \"\" },\r\n  { \"value\": \"2\", \"display_name\": \"\" },\r\n  { \"value\": \"3\", \"display_name\": \"\" },\r\n  { \"value\": \"4\", \"display_name\": \"\" },\r\n];\r\n\r\nexport const choice_project_status = [\r\n  { \"value\": \"01\", \"display_name\": \"\" },\r\n  { \"value\": \"02\", \"display_name\": \"\" },\r\n  { \"value\": \"03\", \"display_name\": \"\" },\r\n  { \"value\": \"10\", \"display_name\": \"\" },\r\n  { \"value\": \"90\", \"display_name\": \"\" },\r\n];\r\n\r\nexport const choice_degree = [\r\n  { \"value\": \"01\", \"display_name\": \"\" },\r\n  { \"value\": \"02\", \"display_name\": \"\" },\r\n  { \"value\": \"03\", \"display_name\": \"\" },\r\n  { \"value\": \"04\", \"display_name\": \"\" },\r\n  { \"value\": \"05\", \"display_name\": \"\" },\r\n];\r\n","import { common } from \"./common\";\r\nimport { constant } from \"./constants\";\r\n\r\n/**\r\n * \r\n * @param {JSON} data \r\n * @param {String} start_name \r\n * @param {String} end_name \r\n */\r\nexport const checkDateContradict = (data, start_name='start_date', end_name='end_date') => {\r\n  const start = data[start_name];\r\n  const end = data[end_name];\r\n  if (start > end) {\r\n    return [{\r\n      name: end_name,\r\n      message: common.formatStr(constant.ERROR.DATE_CONTRADICT, start, end),\r\n    }];\r\n  } else {\r\n    return true;\r\n  }\r\n};\r\n\r\n/**\r\n * \r\n * @param {Array} dataList \r\n */\r\nexport const checkUnique = (fields) => (dataList) => {\r\n  if (fields && Array.isArray(dataList) && dataList.length > 0) {\r\n    let vals = [];\r\n    let results = [];\r\n    dataList.map((data, index) => {\r\n      let item = {};\r\n      Array.from(fields).map(arg => (item[arg] = data[arg]));\r\n      if (vals.indexOf(JSON.stringify(item)) >= 0) {\r\n        Array.from(fields).map(arg => (\r\n          results.push({\r\n            name: arg,\r\n            message: constant.ERROR.UNIQUE,\r\n            index: index,\r\n          })\r\n        ));\r\n      } else {\r\n        vals.push(JSON.stringify(item));\r\n      }\r\n      return true;\r\n    });\r\n    return common.isEmpty(results) ? true : results;\r\n  } else {\r\n    return true;\r\n  }\r\n};\r\n\r\n/**\r\n * \r\n * @param {JSON} data \r\n * @param {String} start_name \r\n * @param {String} end_name \r\n */\r\nexport const checkEndYearAndMonth = (data, start_year='year', start_month='month', end_year=\"end_year\", end_month=\"end_month\") => {\r\n  const start_ym = data[start_year] + data[start_month];\r\n  const end_ym = data[end_year] + data[end_month];\r\n  if (start_ym > end_ym) {\r\n    return [\r\n      {\r\n        name: end_year,\r\n        message: common.formatStr(constant.ERROR.DATE_CONTRADICT, start_ym, end_ym),\r\n      },\r\n      {\r\n        name: end_month,\r\n        message: common.formatStr(constant.ERROR.DATE_CONTRADICT, start_ym, end_ym),\r\n      }\r\n    ];\r\n  } else {\r\n    return true;\r\n  }\r\n};\r\n\r\nexport const checkAllowanceAmount = (data) => {\r\n  if (common.getFromJsonList(data, 'code', '0001').amount === 0) {\r\n    return [\r\n      {\r\n        index: 0,\r\n        name: \"amount\",\r\n        message: \"\",\r\n      },\r\n    ];\r\n  } else {\r\n    return true;\r\n  }\r\n};\r\n","import React from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { Link } from 'react-router-dom'\r\nimport PropTypes from 'prop-types';\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport {\r\n  Popper,\r\n  Grow,\r\n  Card,\r\n  CardHeader,\r\n  CardActions,\r\n  Avatar,\r\n  Tooltip,\r\n  IconButton,\r\n  CardContent,\r\n  List,\r\n  ListItem,\r\n  ListItemAvatar,\r\n  ListItemText,\r\n  Divider,\r\n  Collapse,\r\n} from '@material-ui/core';\r\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\r\nimport AccountCircle from '@material-ui/icons/AccountCircle';\r\nimport PersonIcon from '@material-ui/icons/Person';\r\nimport ExpandLess from '@material-ui/icons/ExpandLess';\r\nimport ExpandMore from '@material-ui/icons/ExpandMore';\r\nimport { common } from '../utils';\r\n\r\nconst styles = (theme) => ({\r\n  popper: {\r\n    width: 330,\r\n  },\r\n  cardContent: {\r\n    padding: 0,\r\n  },\r\n  avatar: {\r\n    border: 1,\r\n    '& svg': {\r\n      fontSize: '48px !important;',\r\n    },\r\n  },\r\n  listRoot: {\r\n    margin: 0,\r\n    padding: 0,\r\n    position: 'relative',\r\n    listStyle: 'none',\r\n  },\r\n  listIcon: {\r\n    backgroundImage: 'linear-gradient(180deg, #1976d2 0%, #0d47a1 100%)',\r\n  },\r\n  nested: {\r\n    paddingLeft: theme.spacing(9),\r\n  },\r\n});\r\n\r\nclass AccountInfo extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      open: false,\r\n      mypage_expanded: true,\r\n      anchorEl: null,\r\n    };\r\n  }\r\n\r\n  handleOpen = (anchorEl) => {\r\n    this.setState({open: true, anchorEl});\r\n  };\r\n\r\n  handleClose = () => {\r\n    this.setState({open: false});\r\n  };\r\n\r\n  handleExpandMyPage = () => {\r\n    this.setState(state => {\r\n      return { mypage_expanded: !state.mypage_expanded };\r\n    });\r\n  }\r\n\r\n  render () {\r\n    const { classes, user } = this.props;\r\n    const { open, anchorEl, mypage_expanded } = this.state;\r\n\r\n    if (anchorEl) {\r\n      return (\r\n        <Popper\r\n          open={open}\r\n          anchorEl={anchorEl}\r\n          transition\r\n          disablePortal\r\n          placement='bottom-end'\r\n          className={classes.popper}\r\n        >\r\n          {({ TransitionProps }) => (\r\n            <Grow {...TransitionProps} timeout={350}>\r\n              <Card className={classes.card} elevation={8}>\r\n                <CardHeader\r\n                  avatar={\r\n                    <Avatar aria-label=\"Recipe\" className={classes.avatar}>\r\n                      {user.me.avatar ? (\r\n                        <img src={user.me.avatar} alt='Avatar' width={40} />\r\n                      ) : <AccountCircle />}\r\n                    </Avatar>\r\n                  }\r\n                  title={user.me.full_name}\r\n                  subheader={\r\n                    common.isEmpty(user.me.positions)\r\n                      ? user.me.email\r\n                      : user.me.positions.map(x => `${x['position']}(${x['org_name']})${x['is_part_time'] === true ? '()' : ''}`).join()\r\n                  }\r\n                />\r\n                <CardContent className={classes.cardContent}>\r\n                  <List className={classes.listRoot}>\r\n                    <Divider component=\"li\" />\r\n                    { !common.isEmpty(user.me.member) ? (\r\n                      <>\r\n                        <ListItem button onClick={this.handleExpandMyPage}>\r\n                          <ListItemAvatar>\r\n                            <Avatar className={classes.listIcon}>\r\n                              <PersonIcon/>\r\n                            </Avatar>\r\n                          </ListItemAvatar>\r\n                          <ListItemText\r\n                            primary=''\r\n                          />\r\n                          {mypage_expanded ? <ExpandLess /> : <ExpandMore />}\r\n                        </ListItem>\r\n                        <Collapse in={mypage_expanded} timeout='auto' unmountOnExit>\r\n                          <List disablePadding>\r\n                            <ListItem\r\n                              button\r\n                              component={Link}\r\n                              className={classes.nested}\r\n                              to={`/account/mypage/${user.me.member}/working-status`}\r\n                              onClick={this.handleClose}\r\n                            >\r\n                              <ListItemText primary='' />\r\n                            </ListItem>\r\n                            <ListItem\r\n                              button\r\n                              component={Link}\r\n                              className={classes.nested}\r\n                              to={`/account/mypage/${user.me.member}/project-request`}\r\n                              onClick={this.handleClose}\r\n                            >\r\n                              <ListItemText primary='' />\r\n                            </ListItem>\r\n                            <ListItem\r\n                              button\r\n                              component={Link}\r\n                              className={classes.nested}\r\n                              to={`/account/mypage/${user.me.member}/partner-order`}\r\n                              onClick={this.handleClose}\r\n                            >\r\n                              <ListItemText primary='' />\r\n                            </ListItem>\r\n                            <ListItem\r\n                              button\r\n                              component={Link}\r\n                              className={classes.nested}\r\n                              to={`/account/mypage/${user.me.member}/payment-notice`}\r\n                              onClick={this.handleClose}\r\n                            >\r\n                              <ListItemText primary='' />\r\n                            </ListItem>\r\n                          </List>\r\n                        </Collapse>\r\n                        <Divider component=\"li\" />\r\n                      </>\r\n                    ) : null }\r\n                  </List>\r\n                </CardContent>\r\n                <CardActions disableSpacing>\r\n                  <div style={{flex: 1}} />\r\n                  <Tooltip title='' placement='bottom' enterDelay={300}>\r\n                    <IconButton aria-label=\"logout\" onClick={() => this.props.logout(this.props.location)}>\r\n                      <ExitToAppIcon />\r\n                    </IconButton>\r\n                  </Tooltip>\r\n                </CardActions>\r\n              </Card>\r\n            </Grow>\r\n          )}\r\n        </Popper>\r\n      );\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n}\r\n\r\nAccountInfo.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  user: PropTypes.object.isRequired,\r\n}\r\n\r\nexport default withRouter(withStyles(styles)(AccountInfo));\r\n","import React from \"react\";\r\n// @material-ui/core components\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\n\r\nconst style = {\r\n  grid: {\r\n    margin: \"0 -15px !important\",\r\n    width: \"unset\"\r\n  }\r\n};\r\n\r\nfunction GridContainer(props) {\r\n  const { classes, children, ...rest } = props;\r\n  return (\r\n    <Grid container {...rest} className={classes.grid}>\r\n      {children}\r\n    </Grid>\r\n  );\r\n}\r\n\r\nexport default withStyles(style)(GridContainer);\r\n","import React from \"react\";\r\n// @material-ui/core components\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\n\r\nconst style = {\r\n  grid: {\r\n    padding: \"0 15px !important\"\r\n  }\r\n};\r\n\r\nfunction GridItem({ ...props }) {\r\n  const { classes, children, ...rest } = props;\r\n  return (\r\n    <Grid item {...rest} className={classes.grid}>\r\n      {children}\r\n    </Grid>\r\n  );\r\n}\r\n\r\nexport default withStyles(style)(GridItem);\r\n","import React from 'react';\r\nimport { vsprintf } from 'sprintf-js';\r\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\r\nimport HighlightOffIcon from '@material-ui/icons/HighlightOff';\r\nimport { Link } from '@material-ui/core';\r\n\r\nexport const common = {\r\n\r\n  /**\r\n   * \r\n   * @param {String} num \r\n   */\r\n  toInteger: function(num, radix=10) {\r\n    let val = parseInt(num, radix);\r\n    return isNaN(val) ? 0 : val;\r\n  },\r\n\r\n  /**\r\n   * \r\n   * @param {Integer} num \r\n   */\r\n  toNumComma: function(num) {\r\n    if (num === null || num === undefined) {\r\n      return '';\r\n    } else {\r\n      const int_comma = (num + \"\").replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, '$1,');\r\n      return int_comma;\r\n    }\r\n  },\r\n\r\n  /**\r\n   * \r\n   * @param {Object} obj \r\n   */\r\n  isEmpty: function(obj) {\r\n    if (obj === null || obj === undefined || obj === '') {\r\n      return true;\r\n    } else if (Array.isArray(obj)) {\r\n      return obj.length === 0;\r\n    } else if (typeof obj === 'number') {\r\n      return false;\r\n    }\r\n    for(var key in obj) {\r\n      if(obj.hasOwnProperty(key))\r\n        return false;\r\n    }\r\n    return true;\r\n  },\r\n\r\n  /**\r\n   * JSON\r\n   * @param {Array} json_list \r\n   * @param {String} value \r\n   */\r\n  getFromList: function(json_list, key, value) {\r\n    if (!json_list) {\r\n      return {};\r\n    } else if (json_list.length === 0) {\r\n      return {};\r\n    } else if (typeof value === 'undefined') {\r\n      return {};\r\n    } else {\r\n      if (typeof value === 'string') {\r\n        value = value.split('__')[0];\r\n      }\r\n      let cols = json_list.filter(col => col[key] === value);\r\n      return cols.length > 0 ? cols[0] : {};\r\n    }\r\n  },\r\n\r\n  getChildren: function(value, items, key='value', parent='parent') {\r\n    let filter_in = [];\r\n    items.map(item => {\r\n      if ((item[parent] + '') === (value + '')) {\r\n        filter_in.push(item[key]);\r\n        filter_in = filter_in.concat(this.getChildren(item[key], items, key, parent));\r\n      }\r\n      return item;\r\n    });\r\n    return filter_in;\r\n  },\r\n\r\n  /**\r\n   * \r\n   * @param {String} format \r\n   *\r\n   * utils.format('This is argument: %s', arg1);\r\n   */\r\n  formatStr: function(format, args) {\r\n    return vsprintf(format, args);\r\n  },\r\n\r\n  /**\r\n   * \r\n   * @param {Array} data \r\n   * @param {Integer} rowsPerPage \r\n   * @param {Integer} page \r\n   */\r\n  getDataForDisplay: function(data, rowsPerPage, page) {\r\n    let results = null;\r\n    if (!rowsPerPage) {\r\n      results = data;\r\n    } else {\r\n      results = data.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\r\n    }\r\n    return results;\r\n  },\r\n\r\n  /**\r\n   * \r\n   * @param {Array} array \r\n   * @param {Function} cmp \r\n   */\r\n  stableSort: function(array, cmp) {\r\n    const stabilizedThis = array.map((el, index) => [el, index]);\r\n    stabilizedThis.sort((a, b) => {\r\n      const order = cmp(a[0], b[0]);\r\n      if (order !== 0) return order;\r\n      return a[1] - b[1];\r\n    });\r\n    return stabilizedThis.map(el => el[0]);  \r\n  },\r\n\r\n  /**\r\n   * JSON\r\n   * @param {Array} array \r\n   * @param {JSON} filters \r\n   */\r\n  stableFilter: function(array, filters) {\r\n    Object.keys(filters).map(key => {\r\n      array = array.filter(function(item) {\r\n        let item_value = item[key];\r\n        if (filters[key] && Array.isArray(filters[key].children)) {\r\n          // \r\n          return filters[key].value === item_value || filters[key].children.indexOf(item_value) >= 0;\r\n        } else if (item_value === true || item_value === false) {\r\n          return (filters[key] === true || filters[key] === false) ? item_value === filters[key] : true;\r\n        } else if (filters[key] === true || filters[key] === false) {\r\n          return item_value === (filters[key] === true ? 1 : 0);\r\n        } else if (typeof item_value === 'number') {\r\n          return item_value === filters[key];\r\n        } else if (item_value) {\r\n          return item_value.indexOf(filters[key]) >= 0;\r\n        } else {\r\n          return false;\r\n        }\r\n      })\r\n      return array;\r\n    });\r\n    return array;\r\n  },\r\n\r\n  /**\r\n   * \r\n   * @param {String} order \r\n   * @param {String} orderBy \r\n   * @param {Boolean} isNumeric \r\n   */\r\n  getSorting: function(order, orderBy, isNumeric) {\r\n    if (isNumeric) {\r\n      return order === 'desc'\r\n      ? (a, b) => (b[orderBy] - a[orderBy])\r\n      : (a, b) => (a[orderBy] - b[orderBy]);\r\n    } else {\r\n      return order === 'desc'\r\n      ? (a, b) => ((b[orderBy] || '') < (a[orderBy] || '') ? -1 : 1)\r\n      : (a, b) => ((a[orderBy] || '') < (b[orderBy] || '') ? -1 : 1);\r\n    }\r\n  },\r\n\r\n  getLabelFromColumn: function(value, column) {\r\n    let label = value;\r\n    if (column === null || column === undefined) {\r\n\r\n    } else if (column.choices && !this.isEmpty(column.choices)) {\r\n      let item = this.getFromList(column.choices, 'value', value);\r\n      if (item) {\r\n        label = item.display_name;\r\n      }\r\n    } else if (column.type === 'boolean') {\r\n      if (value === true) {\r\n        label = column.label;\r\n      } else if (value === false) {\r\n        label = column.label + '';\r\n      }\r\n    }\r\n    return label;\r\n  },\r\n\r\n  /**\r\n   * \r\n   * @param {JSON} rowData \r\n   */\r\n  getExtraRowStyles: function(rowData, tableHead) {\r\n    let extraStyles = {};\r\n    const columns = tableHead.filter(col => col.hasOwnProperty('rowStyles'));\r\n    columns.map(col => {\r\n      let styles = col.rowStyles[rowData[col.name]];\r\n      return Object.assign(extraStyles, styles);\r\n    });\r\n    return extraStyles;\r\n  },\r\n\r\n  getColumnDisplay: function(value, column, data, styles={}) {\r\n    switch (column.type) {\r\n      case 'choice':\r\n        return common.getDisplayNameFromChoice(value, column);\r\n      case 'choices':\r\n        return common.getDisplayNameFromChoices(value, column);\r\n      case 'boolean':\r\n        if (value === true || value === 1) {\r\n          return <CheckCircleIcon fontSize=\"small\" style={{color: 'green'}} />;\r\n        } else if (value === false || value === 0) {\r\n          return <HighlightOffIcon fontSize=\"small\" style={{color: 'red'}} />;\r\n        } else {\r\n          return null;\r\n        }\r\n      case 'integer':\r\n      case 'decimal':\r\n        return common.toNumComma(value);\r\n      case 'percent':\r\n        value = parseFloat(value) * 100;\r\n        if (!isNaN(value)) {\r\n          if (column.decimal_digits >= 0) {\r\n            value = value.toFixed(column.decimal_digits);\r\n          } else {\r\n            value = value.toFixed(2);\r\n          }\r\n          value += '%';\r\n        } else {\r\n          value = null;\r\n        }\r\n        return value;\r\n      case 'text':\r\n        return (\r\n          <div style={{whiteSpace: 'pre-line', ...styles}}>\r\n            {value}\r\n          </div>\r\n        );\r\n      case 'file':\r\n        let display_name = value;\r\n        if (!common.isEmpty(data) && column.verbose_name) {\r\n          display_name = data[column.verbose_name];\r\n        }\r\n        if (column.handle_download) {\r\n          return (\r\n            <Link\r\n              component=\"button\"\r\n              variant=\"caption\"\r\n              onClick={() => column.handle_download(value, data)}\r\n            >\r\n              {display_name || ''}\r\n            </Link>\r\n          );\r\n        } else {\r\n          return display_name;\r\n        }\r\n      default:\r\n        return value;\r\n    }\r\n  },\r\n\r\n  /**\r\n   * \r\n   * @param {Object} value \r\n   * @param {JSON} column \r\n   */\r\n  getDisplayNameFromChoice: function(value, column) {\r\n    if (column.choices && !this.isEmpty(column.choices)) {\r\n      const choice = this.getFromList(column.choices, 'value', value);\r\n      const display_name = choice ? choice.display_name : null;\r\n      return display_name || value;\r\n    } else {\r\n      return value;\r\n    }\r\n  },\r\n\r\n    /**\r\n   * \r\n   * @param {Array} values \r\n   * @param {JSON} column \r\n   */\r\n  getDisplayNameFromChoices: function(values, column) {\r\n    if (column.choices && !this.isEmpty(column.choices)) {\r\n      let display_name = '';\r\n      let choice = null;\r\n      let tmp_display_name = '';\r\n      values.map(value => {\r\n        choice = this.getFromList(column.choices, 'value', value);\r\n        tmp_display_name = (choice ? choice.display_name : null) || '';\r\n        display_name += ((display_name === '' ? '' : ', ') + tmp_display_name);\r\n        return display_name;\r\n      });\r\n      return display_name;\r\n    } else {\r\n      return values;\r\n    }\r\n  },\r\n\r\n  /**\r\n   * \r\n   * @param {String} wrapperId \r\n   * @param {String} toolbarId Toolbar\r\n   * @param {String} srcTabelid \r\n   * @param {String} fixedTableId \r\n   * @param {Integer} offset \r\n   */\r\n  setFixedTableHeader: function(wrapperId, toolbarId, srcTabelid, fixedTableId, offset=0) {\r\n    const wrapper = document.getElementById(wrapperId);\r\n    const srcTable = document.getElementById(srcTabelid);\r\n    const toolbar = document.getElementById(toolbarId);\r\n    const fixedTable = document.getElementById(fixedTableId);\r\n    let {left, width, top, height} = srcTable.getBoundingClientRect();\r\n    const bodyHeight = srcTable.querySelector('tbody').getBoundingClientRect().height;\r\n    if (bodyHeight) {\r\n      height = bodyHeight;\r\n    }\r\n    if (toolbar) {\r\n      top = toolbar.getBoundingClientRect().top;\r\n    }\r\n\r\n    if (top < offset && top > (offset - height)) {\r\n      wrapper.style.display = 'inherit';\r\n      wrapper.style.left = left + 'px';\r\n      wrapper.style.width = width + 'px';\r\n      wrapper.style.top = offset + 'px';\r\n      // \r\n      let colsWidth = [];\r\n      Array.prototype.forEach.call(srcTable.querySelector('thead>tr').children, function(ele, idx) {\r\n        const colWidth = ele.getBoundingClientRect().width;\r\n        colsWidth.push(colWidth);\r\n      });\r\n      Array.prototype.forEach.call(fixedTable.querySelector('thead>tr').children, function(ele, idx) {\r\n        ele.style.width = colsWidth[idx] + 'px';\r\n      });\r\n    } else {\r\n      wrapper.style.display = 'none';\r\n    }\r\n  },\r\n\r\n  /**\r\n   * DataTable\r\n   * @param {Array} tableHead \r\n   * @param {Array} tableData \r\n   */\r\n  dataTableToCSV: function(tableHead, tableData) {\r\n    let self = this;\r\n    let headArray = [];\r\n    let csvArray = [];\r\n    tableHead = tableHead.filter(col => (col.visible !== false || col.csv === true));\r\n    tableHead = tableHead.filter(col => (col.csv !== false));\r\n    tableHead.map(col => (\r\n      headArray.push(col.label || col.name)\r\n    ));\r\n    csvArray.push(headArray);\r\n    // \r\n    tableData.forEach(function(row) {\r\n      let dataArray = [];\r\n      tableHead.map(col => {\r\n        let value = row[col.name];\r\n        if (col.type === 'choice') {\r\n          value = self.getDisplayNameFromChoice(value, col);\r\n        }\r\n        dataArray.push(value);\r\n        return true;\r\n      });\r\n      csvArray.push(dataArray);\r\n    });\r\n\r\n    return this.arrayToCSV(csvArray);\r\n  },\r\n\r\n  arrayToCSV: function(array) {\r\n    let lineArray = [];\r\n    array.forEach(function (infoArray, index) {\r\n      let line = infoArray.join(\",\");\r\n      lineArray.push(line);\r\n    });\r\n    let csvContent = lineArray.join(\"\\n\");\r\n    return csvContent;\r\n  },\r\n\r\n  downloadCSV: function (csvContent, filename) {\r\n    if (filename) {\r\n      filename += '.csv';\r\n    } else {\r\n      filename = 'export.csv';\r\n    }\r\n    let link = document.createElement('a');\r\n    let bom = new Uint8Array([0xEF, 0xBB, 0xBF]);\r\n    let blob = new Blob([bom, csvContent], { type: 'text/csv' });\r\n    link.setAttribute('download', filename);\r\n    if (window.webkitURL && window.webkitURL.createObjectURL) {\r\n      // for chrome (and safari)\r\n      link.setAttribute('href', window.webkitURL.createObjectURL(blob));\r\n      link.click();\r\n    } else if (window.URL && window.URL.createObjectURL) {\r\n      // for firefox\r\n      link.setAttribute('href', window.URL.createObjectURL(blob));\r\n      document.body.appendChild(link);\r\n      link.click();\r\n      document.body.removeChild(link);\r\n    } else {\r\n      alert('')\r\n    }\r\n  },\r\n\r\n  downloadDataTableCSV: function(filename, tableHead, tableData) {\r\n    const data = this.dataTableToCSV(tableHead, tableData);\r\n    this.downloadCSV(data, filename);\r\n  },\r\n\r\n  /**\r\n   * JSON\r\n   * @param {Object} json JSON\r\n   */\r\n  jsonToUrl: function(json) {\r\n    return Object.keys(json).map(function(k) {\r\n      return encodeURIComponent(k) + '=' + encodeURIComponent(json[k])\r\n    }).join('&');\r\n  },\r\n\r\n  /**\r\n   * \r\n   * @param {String} url URL\r\n   */\r\n  urlToJson: function(url) {\r\n    if (!url) {\r\n      return {};\r\n    }\r\n    var hash;\r\n    var json = {};\r\n    var hashes = url.slice(url.indexOf('?') + 1).split('&');\r\n    for (var i = 0; i < hashes.length; i++) {\r\n        hash = hashes[i].split('=');\r\n        json[hash[0]] = hash[1] === 'true' ? true : hash[1] === 'false' ? false : hash[1];\r\n        // If you want to get in native datatypes\r\n        // json[hash[0]] = JSON.parse(hash[1]); \r\n    }\r\n    return json;\r\n  },\r\n\r\n  /**\r\n   * Base64\r\n   * @param {String} b64string Base64\r\n   */\r\n  getB64FileSize: function(b64string) {\r\n    if (b64string && b64string.indexOf(\";base64,\") >= 0) {\r\n      const arr = b64string.split(';base64,');\r\n      const data = arr[1];\r\n      return data.length * 3 / 4 - (data.match(/=/g) || []).length;\r\n    } else {\r\n      return 0;\r\n    }\r\n  },\r\n};\r\n\r\nexport const table = {\r\n  /**\r\n   * \r\n   * @param {Array} data \r\n   */\r\n  initTableData: function(data) {\r\n    if (data) {\r\n      data.map((row, index) => row['__index__'] = index);\r\n    }\r\n    return data;\r\n  },\r\n\r\n  /**\r\n   * \r\n   * @param {String} location URL\r\n   */\r\n  getOrder: function(location) {\r\n    let order = {'__order': 'asc', '__orderBy': ''};\r\n    if (location && location.search) {\r\n      const json = common.urlToJson(location.search);\r\n      const order_by = json.__order;\r\n      const orderNumeric = json.__orderNumeric;\r\n      if (order_by && order_by[0] === '-') {\r\n        order['__order'] = 'desc';\r\n        order['__orderBy'] = order_by.slice(1);\r\n      } else {\r\n        order['__orderBy'] = order_by;\r\n      }\r\n      order['__orderNumeric'] = orderNumeric;\r\n    }\r\n    return order;\r\n  },\r\n\r\n  /**\r\n   * \r\n   * @param {String} order \r\n   * @param {String} orderBy \r\n   * @param {Boolean} orderNumeric \r\n   * @param {String} location \r\n   * @param {Object} history \r\n   */\r\n  changeOrderUrl: function(order, orderBy, orderNumeric, location, history) {\r\n    let json = common.urlToJson(location.search);\r\n    json['__order'] = (order === 'asc' ? '' : '-') + orderBy;\r\n    json['__orderNumeric'] = orderNumeric;\r\n    history.push({\r\n      'pathname': location.pathname,\r\n      'search': common.jsonToUrl(json),\r\n    });\r\n  },\r\n\r\n  /**\r\n   * \r\n   * @param {String} page \r\n   * @param {String} location \r\n   * @param {*} history \r\n   */\r\n  changePaginationUrl: function(page, location, history) {\r\n    let json = common.urlToJson(location.search);\r\n    json['__page'] = page;\r\n    history.push({\r\n      'pathname': location.pathname,\r\n      'search': common.jsonToUrl(json),\r\n    });\r\n  },\r\n\r\n  changePageSizeUrl: function(pageSize, location, history) {\r\n    let json = common.urlToJson(location.search);\r\n    json['__rowsPerPage'] = pageSize;\r\n    history.push({\r\n      'pathname': location.pathname,\r\n      'search': common.jsonToUrl(json),\r\n    });\r\n  },\r\n\r\n  /**\r\n   * \r\n   * @param {JSON} filters \r\n   * @param {String} location \r\n   * @param {Object} history \r\n   */\r\n  changeFilterUrl: function(filters, location, history) {\r\n    let json = common.urlToJson(location.search);\r\n    Object.keys(json).map(key => {\r\n      if (key.slice(0, 2) !== '__') {\r\n        delete json[key];\r\n      }\r\n      return true;\r\n    });\r\n    Object.assign(json, filters);\r\n    history.push({\r\n      'pathname': location.pathname,\r\n      'search': common.jsonToUrl(json),\r\n    });\r\n  },\r\n\r\n  /**\r\n   * \r\n   * @param {String} location \r\n   */\r\n  loadFilters: function(location, columns) {\r\n    if (location && location.search) {\r\n      let json = common.urlToJson(location.search);\r\n      Object.keys(json).map(key => {\r\n        if (key.slice(0, 2) === '__') {\r\n          delete json[key];\r\n        }\r\n        const column = common.getFromList(columns, 'name', key);\r\n        if (column) {\r\n          if (column.type === \"integer\") {\r\n            json[key] = parseInt(json[key]);\r\n          } else if (column.choices && !common.isEmpty(column.choices)) {\r\n            if (typeof column.choices[0].value === 'number') {\r\n              json[key] = parseFloat(json[key]);\r\n            }\r\n          }\r\n        }\r\n        return true;\r\n      });\r\n      return json;\r\n    } else {\r\n      return {};\r\n    }\r\n  },\r\n\r\n  resetFilter: function(filters, columns) {\r\n    Object.keys(filters).map(key => {\r\n      const column = common.getFromList(columns, 'name', key);\r\n      if (column) {\r\n        if (column.type === \"integer\") {\r\n          filters[key] = parseInt(filters[key]);\r\n        } else if (column.choices && !common.isEmpty(column.choices)) {\r\n          if (typeof column.choices[0].value === 'number') {\r\n            if (filters[key] && filters[key].value) {\r\n              // \r\n              filters[key].value = parseFloat(filters[key].value);\r\n            } else {\r\n              filters[key] = parseFloat(filters[key]);\r\n            }\r\n          }\r\n        }\r\n      }\r\n      return true;\r\n    });\r\n    return filters;\r\n  },\r\n};\r\n\r\n","import PropTypes from \"prop-types\";\r\n\r\nexport const constant = {\r\n  tableProps: {\r\n    classes: PropTypes.object.isRequired,\r\n    title: PropTypes.string,\r\n    tableHeaderColor: PropTypes.oneOf([\r\n      \"warning\",\r\n      \"primary\",\r\n      \"danger\",\r\n      \"success\",\r\n      \"info\",\r\n      \"rose\",\r\n      \"gray\"\r\n    ]),\r\n    tableHead: PropTypes.arrayOf(PropTypes.object),\r\n    tableData: PropTypes.arrayOf(PropTypes.object),\r\n    tableProps: PropTypes.object,\r\n  },\r\n  tablePropsDefault: {\r\n    tableHeaderColor: \"gray\",\r\n    tableHead: [],\r\n    tableData: [],\r\n  },\r\n  tableActionProps: {\r\n    tableActions: PropTypes.arrayOf(PropTypes.object),\r\n    rowActions: PropTypes.arrayOf(PropTypes.object),\r\n    actionsTrigger: PropTypes.func,  \r\n  },\r\n  tableActionPropsDefault: {\r\n    tableActions: [],\r\n    rowActions: [],\r\n  },\r\n  INFO: {\r\n    NO_DATA: '',\r\n    INPUT_KEYWORD: '',\r\n    DELETE_CONFIRM: '',\r\n    NO_NOTIFICATIONS: '',\r\n  },\r\n  ERROR: {\r\n    REQUIRE_FIELD: '%(name)s',\r\n    FORM_CHECK_ERROR: '',\r\n    INVALID_DATA: '',\r\n    FILE_SIZE_LIMIT: '%(limit)s'\r\n  },\r\n};\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  error: {\r\n    color: 'red',\r\n  },\r\n}));\r\n\r\nexport function NonFieldErrors(props) {\r\n  const classes = useStyles();\r\n  let { errors } = props;\r\n  if (typeof errors === 'string') {\r\n    errors = [errors];\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {Array.isArray(errors) && errors.length > 0 ? (\r\n        <ul className={classes.error}>\r\n          {errors.map((error, key) => (\r\n            <li key={key}>\r\n              {error}\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      ) : null}\r\n    </React.Fragment>\r\n  );\r\n}","const formStyle = theme => ({\r\n  formControl: {\r\n    margin: theme.spacing(1),\r\n    width: `calc(100% - ${theme.spacing(2)}px)`,\r\n  },\r\n  helpText: {\r\n    color: 'gray',\r\n    fontSize: theme.spacing(1.5),\r\n  },\r\n  inputFileBtnHide: {\r\n    opacity: 0,\r\n    appearance: 'none',\r\n    position: 'absolute',\r\n    left: 0,\r\n    top: 0,\r\n    width: '100%',\r\n    height: '100%',\r\n    cursor: 'pointer',\r\n  },\r\n  fileWrapper: {\r\n    whiteSpace: 'nowrap',\r\n    overflow: 'hidden',\r\n  },\r\n  fileNameWrapper: {\r\n    display: 'inline-block',\r\n    borderBottom: '1px solid lightgray',\r\n    marginLeft: '5px',\r\n    lineHeight: '35px',\r\n    flex: 1,\r\n    cursor: 'pointer',\r\n    width: '100%',\r\n  },\r\n  fileDownloadWrapper: {\r\n    position: 'absolute',\r\n    right: 0,\r\n    backgroundColor: 'white',\r\n  },\r\n  fileDownloadIcon: {\r\n    padding: theme.spacing(1),\r\n  },\r\n  autoCompleteWrapper: {\r\n    '& .MuiFormControl-root': {\r\n      margin: 0,\r\n    },\r\n  },\r\n});\r\n\r\nexport default formStyle;\r\n","import React from 'react';\r\nimport {\r\n  withStyles,\r\n  MenuItem,\r\n  InputLabel,\r\n  Select,\r\n} from '@material-ui/core';\r\nimport { common } from '../../utils/common';\r\n\r\nconst styles = theme => ({\r\n  formControl: {\r\n    margin: theme.spacing(1),\r\n    minWidth: 120,\r\n    width: '100%',\r\n  },\r\n  parentItem: {\r\n    fontWeight: 'bold',\r\n  }\r\n});\r\n\r\nclass HierarchySelect extends React.Component {\r\n\r\n  getAllItems() {\r\n    const { choices } = this.props;\r\n    const rootItems = common.isEmpty(choices) ? [] : choices.filter(item => item.parent === null);\r\n    let items = [];\r\n    rootItems.map(item => {\r\n      return this.getChildItems(items, item);\r\n    });\r\n    return items;\r\n  }\r\n\r\n  getChildItems(items, item, deep = 0) {\r\n    const { classes, choices, native } = this.props;\r\n    const children = choices.filter(sub => sub.parent === item.value);\r\n    let itemProps = { key: item.value + '_item', value: item.value };\r\n    let display_name = item.display_name;\r\n    if (children && children.length > 0) {\r\n      itemProps['className'] = classes.parentItem;\r\n      display_name = '' + display_name;\r\n    }\r\n\r\n    if (native === true) {\r\n      items.push(\r\n        <option\r\n          disabled={item.disabled === true}\r\n          {...itemProps}\r\n        >\r\n          {`${''.repeat(deep)}${display_name}`}\r\n        </option>\r\n      );\r\n    } else {\r\n      items.push(\r\n        <MenuItem\r\n          disabled={item.disabled === true}\r\n          {...itemProps}\r\n          style={{ marginLeft: deep * 30 }}\r\n        >\r\n          {display_name}\r\n        </MenuItem>\r\n      );\r\n    }\r\n    children.map(sub => {\r\n      return this.getChildItems(items, sub, deep + 1);\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { name, value, label, native, handleChange } = this.props;\r\n    const items = this.getAllItems();\r\n\r\n    return (\r\n      <React.Fragment>\r\n        <InputLabel htmlFor={name}>{label}</InputLabel>\r\n        <Select\r\n          native={native === true}\r\n          value={value}\r\n          inputProps={{ name: name, value: value }}\r\n          onChange={handleChange}\r\n        >\r\n          {native === true ? <option value=\"\"></option> : <MenuItem key='none' value=\"\"><em>None</em></MenuItem>}\r\n          {items.map(item => {\r\n            return item;\r\n          })}\r\n        </Select>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles)(HierarchySelect);\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport {\r\n  withStyles,\r\n  FormControl,\r\n  FormControlLabel,\r\n  FormHelperText,\r\n  InputLabel,\r\n  TextField,\r\n  Select,\r\n  Checkbox,\r\n  MenuItem,\r\n  Button,\r\n  IconButton,\r\n  Chip,\r\n  ListItemText,\r\n} from \"@material-ui/core\";\r\nimport Autocomplete from '@material-ui/lab/Autocomplete';\r\nimport ImageSearchIcon from '@material-ui/icons/ImageSearch';\r\nimport formStyle from \"../assets/css/form\";\r\nimport HierarchySelect from './HierarchySelect';\r\nimport { common } from \"../utils\";\r\n\r\nclass ControlCreator extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.setDatasource = this.setDatasource.bind(this);\r\n    this.state = {\r\n      datasource: null,\r\n    };\r\n  }\r\n\r\n  handleChange = (event) => {\r\n    let { name, value } = event.target;\r\n    const { type, variant } = this.props.column;\r\n    if (type === 'boolean') {\r\n      if (variant !== 'select') {\r\n        // \r\n        name = event.target.value;\r\n        value = event.target.checked;\r\n      } else {\r\n        if (value === 'true') {\r\n          value = true;\r\n        } else if (value === 'false') {\r\n          value = false;\r\n        }\r\n      }\r\n    } else if (type === 'integer') {\r\n      value = common.toInteger(value);\r\n    } else if (type === 'file') {\r\n      const file = event.target.files[0];\r\n      const reader = new FileReader();\r\n      reader.addEventListener('load', (e) => this.readFileBlob(e, name, file.name));\r\n      reader.readAsDataURL(file);\r\n      document.getElementById(`id_label_${this.props.column.name}`).innerText = file.name;\r\n      return;\r\n    }\r\n\r\n    if (this.props.handleChange) {\r\n      this.props.handleChange(name, value, type)(event);\r\n    }\r\n  };\r\n\r\n  handleChangeAutoComplete = (event, option) => {\r\n    const { name, type } = this.props.column;\r\n    if (this.props.handleChange) {\r\n      if (option) {\r\n        // \r\n        this.props.handleChange(name, option.value, type)(event);\r\n      } else {\r\n        // \r\n        this.props.handleChange(name, null, type)(event);\r\n      }\r\n    }\r\n  }\r\n\r\n  readFileBlob = (event, name, fileName) => {\r\n    this.props.handleChange(\r\n      name,\r\n      `name:${btoa(unescape(encodeURIComponent(fileName)))};${event.target.result}`,\r\n      'file'\r\n    )(event);\r\n  };\r\n\r\n  handleBlur = (name) => (event) => {\r\n    if (this.props.handleBlur) {\r\n      this.props.handleBlur(event, name);\r\n    }\r\n  }\r\n\r\n  setDatasource = (datasource) => {\r\n    this.setState({datasource});\r\n  };\r\n\r\n  render() {\r\n    const { classes, column, data, errors } = this.props;\r\n    const { datasource } = this.state;\r\n    let control = null;\r\n    let { value } = this.props;\r\n    let label = column.label + (column.required === true ? '()' : '');\r\n    value = (value === null || value === undefined) ? '' : value;\r\n    const error = Array.isArray(errors) && errors.length > 0;\r\n    const errorNodes = (\r\n      error === true ? (\r\n        <React.Fragment>\r\n          {errors.map((message, key) => <FormHelperText key={key}>{message}</FormHelperText>)}\r\n        </React.Fragment>\r\n      ) : null\r\n    );\r\n    let placeholderProps = null;\r\n    if (column.help_text) {\r\n      placeholderProps = {\r\n        placeholder: column.help_text,\r\n        InputLabelProps: { shrink: true,},\r\n      };\r\n    }\r\n\r\n    if (column.read_only === true) {\r\n      control = (\r\n        <TextField\r\n          disabled\r\n          error={error}\r\n          name={column.name}\r\n          value={column.type === 'choice' ? common.getDisplayNameFromChoice(value, column) : value}\r\n          label={label}\r\n          InputLabelProps={{\r\n            shrink: true,\r\n          }}\r\n        />\r\n      );\r\n    } else if (column.type === 'boolean') {\r\n      // \r\n      control = (\r\n        <React.Fragment>\r\n          { column.variant === 'select' ? (\r\n            <React.Fragment>\r\n              <InputLabel htmlFor={column.name}>{label}</InputLabel>\r\n              {column.native === true ? (\r\n                <Select\r\n                  native\r\n                  value={value.toString()}\r\n                  inputProps={{ name: column.name, value: value }}\r\n                  onChange={this.handleChange}\r\n                >\r\n                  <option value=\"\"></option>\r\n                  <option key='true' value='true'></option>\r\n                  <option key='false' value='false'></option>\r\n                </Select>\r\n              ) : (\r\n                <Select\r\n                  value={value.toString()}\r\n                  inputProps={{ name: column.name, value: value }}\r\n                  onChange={this.handleChange}\r\n                >\r\n                  <MenuItem value=\"\"><em>None</em></MenuItem>\r\n                  <MenuItem key='true' value='true'></MenuItem>\r\n                  <MenuItem key='false' value='false'></MenuItem>\r\n                </Select>\r\n              )}\r\n            </React.Fragment>\r\n          ) : (\r\n            <React.Fragment>\r\n              <FormControlLabel\r\n                control={\r\n                  <Checkbox\r\n                    checked={value = value === true ? true : false} \r\n                    value={column.name} \r\n                    onChange={this.handleChange}\r\n                  />\r\n                }\r\n                label={label}\r\n              />\r\n            </React.Fragment>\r\n          ) }\r\n          {column.help_text ? (\r\n            <FormHelperText>{column.help_text}</FormHelperText>\r\n          ) : null}\r\n        </React.Fragment>\r\n      );\r\n    } else if (column.type === 'choice') {\r\n      // \r\n      const choices = Array.isArray(datasource) ? datasource : (column.choices || []);\r\n      column['choices'] = choices;\r\n      if (!common.isEmpty(column.choices) && column.choices[0].hasOwnProperty('parent')) {\r\n        control = (\r\n          <React.Fragment>\r\n            <HierarchySelect\r\n              native={column.native === true}\r\n              name={column.name}\r\n              label={label}\r\n              value={value}\r\n              error={error}\r\n              choices={choices}\r\n              handleChange={this.handleChange}\r\n            />\r\n            {column.help_text ? (\r\n              <FormHelperText>{column.help_text}</FormHelperText>\r\n            ) : null}\r\n          </React.Fragment>\r\n        );\r\n      } else if (column.variant === 'autocomplete') {\r\n        control = (\r\n          <>\r\n            <Autocomplete\r\n              className={classes.autoCompleteWrapper}\r\n              value={common.getFromList(choices, 'value', value)}\r\n              options={choices}\r\n              getOptionLabel={option => option.display_name || ''}\r\n              getOptionDisabled={(option) => option.disabled === true}\r\n              onChange={this.handleChangeAutoComplete}\r\n              renderInput={params => (\r\n                <TextField {...params} label={label} margin=\"normal\" />\r\n              )}\r\n            />\r\n            {column.help_text ? (\r\n              <FormHelperText>{column.help_text}</FormHelperText>\r\n            ) : null}\r\n          </>\r\n        );\r\n      } else {\r\n        control = (\r\n          <React.Fragment>\r\n            <InputLabel htmlFor={column.name}>{label}</InputLabel>\r\n            <Select\r\n              native={column.native === true}\r\n              value={value}\r\n              inputProps={{ name: column.name, value: value }}\r\n              onChange={this.handleChange}\r\n            >\r\n              {column.native === true ? <option value=\"\"></option> : <MenuItem value=\"\"><em>None</em></MenuItem>}\r\n              {column.native === true ? (\r\n                choices.map(item => {\r\n                  return (\r\n                    <option\r\n                      key={item.value}\r\n                      value={item.value}\r\n                    >\r\n                      {item.display_name}\r\n                    </option>\r\n                  );\r\n                })\r\n              ) : (\r\n                choices.map(item => {\r\n                  return (\r\n                    <MenuItem\r\n                      key={item.value}\r\n                      value={item.value}\r\n                    >\r\n                      {item.display_name}\r\n                    </MenuItem>\r\n                  );\r\n                })\r\n              )}\r\n            </Select>\r\n            {column.help_text ? (\r\n              <FormHelperText>{column.help_text}</FormHelperText>\r\n            ) : null}\r\n          </React.Fragment>\r\n        );\r\n      }\r\n    } else if (column.type === 'choices') {\r\n      value = value || [];\r\n      control = (\r\n        <React.Fragment>\r\n          <InputLabel htmlFor={column.name}>{label}</InputLabel>\r\n          <Select\r\n            multiple\r\n            value={value}\r\n            inputProps={{ name: column.name, value: value }}\r\n            onChange={this.handleChange}\r\n            renderValue={selected => (\r\n              <div>\r\n                {selected.map(value => (\r\n                  <Chip key={value} label={common.getFromList(column.choices, 'value', value).display_name} />\r\n                ))}\r\n              </div>\r\n            )}\r\n          >\r\n            {column.choices && column.choices.map(item => {\r\n              return (\r\n                <MenuItem key={item.value} value={item.value}>\r\n                  <Checkbox checked={value.indexOf(item.value) > -1} />\r\n                  <ListItemText primary={item.display_name} />\r\n                </MenuItem>\r\n              );\r\n            })}\r\n          </Select>\r\n          {column.help_text ? (\r\n            <FormHelperText>{column.help_text}</FormHelperText>\r\n          ) : null }\r\n        </React.Fragment>\r\n      );\r\n    } else if (column.type === 'date') {\r\n      control = (\r\n        <TextField\r\n          error={error}\r\n          name={column.name}\r\n          value={value}\r\n          label={label}\r\n          type=\"date\"\r\n          InputLabelProps={{\r\n            shrink: true,\r\n          }}\r\n          onChange={this.handleChange}\r\n        />\r\n      );\r\n    } else if (column.type === 'text') {\r\n      control = (\r\n        <TextField\r\n          error={error}\r\n          multiline\r\n          name={column.name}\r\n          value={value}\r\n          label={label}\r\n          {...placeholderProps}\r\n          onChange={this.handleChange}\r\n          InputProps={{\r\n            style: column.colStyles,\r\n          }}\r\n        />\r\n      );\r\n    } else if (column.type === 'integer') {\r\n      control = (\r\n        <TextField\r\n          error={error}\r\n          name={column.name}\r\n          type='number'\r\n          value={value}\r\n          label={label}\r\n          inputProps={{min: column.min_value, max: column.max_value, step: column.step || 1}}\r\n          {...placeholderProps}\r\n          onChange={this.handleChange}\r\n        />\r\n      );\r\n    } else if (column.type === 'decimal') {\r\n      control = (\r\n        <TextField\r\n          error={error}\r\n          name={column.name}\r\n          type='number'\r\n          value={value}\r\n          label={label}\r\n          inputProps={{min: column.min_value, max: column.max_value, step: column.step}}\r\n          {...placeholderProps}\r\n          onChange={this.handleChange}\r\n        />\r\n      );\r\n    } else if (column.type === 'file') {\r\n      control = (\r\n        <div className={classes.fileWrapper}>\r\n          <label htmlFor={`id_${column.name}`}>\r\n            <Button variant='outlined' component='span'>\r\n              {label || ''}\r\n            </Button>\r\n            <input\r\n              type=\"file\"\r\n              name={column.name}\r\n              id={`id_${column.name}`}\r\n              className={classes.inputFileBtnHide}\r\n              onChange={this.handleChange}\r\n            />\r\n          </label>\r\n          <label\r\n            htmlFor={`id_${column.name}`}\r\n            className={classes.fileNameWrapper}\r\n            id={`id_label_${column.name}`}\r\n          >\r\n            {data[column.verbose_name] || ''}\r\n          </label>\r\n          {data[column.verbose_name] ? (\r\n            <span className={classes.fileDownloadWrapper}>\r\n              <IconButton\r\n                className={classes.fileDownloadIcon}\r\n                onClick={() => column.handle_download(value)}\r\n              >\r\n                <ImageSearchIcon />\r\n              </IconButton>\r\n            </span>\r\n          ) : null}\r\n        </div>\r\n      );\r\n    } else {\r\n      control = (\r\n        <TextField \r\n          error={error}\r\n          name={column.name}\r\n          label={label}\r\n          value={value}\r\n          {...placeholderProps}\r\n          inputProps={{maxLength: column.max_length}}\r\n          onChange={this.handleChange}\r\n          onBlur={this.handleBlur(column.name)}\r\n        />\r\n      );\r\n    }\r\n\r\n    return (\r\n      <FormControl className={classes.formControl} error={error}>\r\n        {control}\r\n        {errorNodes}\r\n      </FormControl>\r\n    );\r\n  }\r\n}\r\n\r\nControlCreator.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  column: PropTypes.shape({\r\n    name: PropTypes.string.isRequired,\r\n  }).isRequired,\r\n  value: PropTypes.any,\r\n  data: PropTypes.object,\r\n  errors: PropTypes.arrayOf(PropTypes.string),\r\n  handleBlur: PropTypes.func,\r\n  handleChange: PropTypes.func,\r\n};\r\n\r\nControlCreator.defaultProps = {\r\n  errors: [],\r\n};\r\n\r\nexport default withStyles(formStyle)(ControlCreator);\r\n","import React from \"react\";\r\nimport {\r\n  Grid,\r\n} from '@material-ui/core';\r\nimport ControlCreator from './ControlCreator';\r\nimport { common, constant } from \"../utils\";\r\n\r\nconst getColspanArray = (schema, isSingleLine) => {\r\n  let arr = new Array(schema.length);\r\n  if (isSingleLine === true) {\r\n    const avgSpan = Math.floor(12 / schema.length);\r\n    if (avgSpan > 0) {\r\n      schema.map((c, index) => (arr[index] = avgSpan));\r\n      arr[schema.length - 1] = 12 - ((schema.length - 1) * avgSpan);\r\n    }\r\n  } else {\r\n    schema.map((c, index) => (arr[index] = 12));\r\n  }\r\n  return arr;\r\n};\r\n\r\nexport const createFormLayout = (data, schema, layout, isSingleLine, prefix, inlineIndex, inlineDataList, errors, handleChange, handleBlur) => {\r\n  let control = null;\r\n  if (common.isEmpty(layout)) {\r\n    const colspanArr = getColspanArray(schema, isSingleLine);\r\n    control = (\r\n      <Grid container>\r\n        {schema.map((col, key) => (\r\n          createFormField(col, key, colspanArr[key], data, prefix, inlineIndex, inlineDataList, errors, handleChange, handleBlur)\r\n        ))}\r\n      </Grid>\r\n    );\r\n  } else {\r\n    control = (\r\n      <Grid container>\r\n        {layout.map((row, key) => (\r\n          createRowLayout(row, key, data, prefix, inlineIndex, inlineDataList, schema, errors, handleChange, handleBlur)\r\n        ))}\r\n      </Grid>\r\n    );\r\n  }\r\n  return control;\r\n};\r\n\r\nexport const createRowLayout = (row, key, data, prefix, inlineIndex, inlineDataList, schema, errors, handleChange, handleBlur) => {\r\n  if (typeof row === 'string') {\r\n    const col = common.getFromList(schema, 'name', row);\r\n    return col && !common.isEmpty(col) ? createFormField(col, row, 12, data, prefix, inlineIndex, inlineDataList, errors, handleChange, handleBlur) : null;\r\n  } else if (Array.isArray(row)) {\r\n    const colSpan = Math.floor(12 / row.length);\r\n    return (\r\n      <React.Fragment key={key}>\r\n        {row.map((fieldName, key) => {\r\n          const col = common.getFromList(schema, 'name', fieldName);\r\n          return col && !common.isEmpty(col) ? createFormField(col, key, colSpan, data, prefix, inlineIndex, inlineDataList, errors, handleChange, handleBlur) : null;\r\n        })}\r\n      </React.Fragment>\r\n    );\r\n  }\r\n  return null;\r\n};\r\n\r\nexport const createFormField = (col, key, colSpan, data, prefix, inlineIndex, inlineDataList, errors, handleChange, handleBlur) => {\r\n  let fieldErrors = null;\r\n  if (errors) {\r\n    fieldErrors = errors[col.name];\r\n  }\r\n  if (col.type === 'cascade') {\r\n    return (\r\n      <ControlCreator\r\n        key={key}\r\n        column={col}\r\n        data={data}\r\n        handleChange={handleChange(inlineIndex)}\r\n        wrapper={{element: Grid, props: {xs: 12, sm: 12, md: colSpan, item: true}}}\r\n        errors={fieldErrors}\r\n      />\r\n    );\r\n  } else {\r\n    const choices = data[col.name + '_choices'];\r\n    let value = data[col.name];\r\n    if (value && value.hasOwnProperty('value')) {\r\n      // \r\n      value = value.value;\r\n    }\r\n    if (col.type === 'choices' && choices) {\r\n      // \r\n      col['choices'] = choices;\r\n      if (common.isEmpty(choices)) {\r\n        value = null;\r\n        data[col.name] = null;\r\n      }\r\n    }\r\n    let newCol = col;\r\n    if (col.get_props && typeof col.get_props === 'function') {\r\n      newCol = Object.assign({}, col, col.get_props(data, inlineDataList));\r\n    }\r\n    return (\r\n      <Grid item key={key} xs={12} sm={12} md={colSpan}>\r\n        <ControlCreator\r\n          column={newCol} \r\n          value={value}\r\n          data={data}\r\n          errors={fieldErrors}\r\n          handleBlur={handleBlur}\r\n          handleChange={handleChange(prefix, inlineIndex)}\r\n          innerRef={(ctrl) => {\r\n            if (col.cascade_from && ctrl && ctrl.setDatasource) {\r\n              col['cascade_reflect'] = ctrl.setDatasource;\r\n            }\r\n          }}\r\n        />\r\n      </Grid>\r\n    );\r\n  }\r\n};\r\n\r\nexport const validate_form = (data, schema, checkList, errors) => {\r\n  let valid = true;\r\n  // \r\n  if (validate_by_schema(null, schema, data, errors) === false) {\r\n    valid = false;\r\n  }\r\n  // \r\n  if (valid === true) {\r\n    (checkList || []).map(method => {\r\n      const retVal = method(data);\r\n      if (retVal !== true) {\r\n        valid = false;\r\n        retVal.map(item => (\r\n          pushError(null, item.index, item.name, item.message, errors)\r\n        ));\r\n      }\r\n      return true;\r\n    });\r\n  }\r\n\r\n  return valid;\r\n};\r\n\r\nexport const validate_by_schema = (prefix, schema, data, errors) => {\r\n  let valid = true;\r\n  let dataList = null;\r\n  let isInline = prefix ? true : false;\r\n  if (Array.isArray(data)) {\r\n    dataList = data;\r\n    isInline = true;\r\n  } else {\r\n    dataList = [data];\r\n  }\r\n  dataList.map((formData, key) => {\r\n    schema.map(col => {\r\n      const name = col.name;\r\n      const value = formData[name];\r\n      const index = isInline ? key : null;\r\n      if (col.required === true) {\r\n        // \r\n        if (value === null || value === '' || value === undefined || (typeof value === 'object' && common.isEmpty(value))) {\r\n          valid = false;\r\n          pushError(prefix, index, name, common.formatStr(constant.ERROR.REQUIRE_FIELD, {name: col.label}), errors);\r\n        }\r\n      }\r\n      if (value && col.regex) {\r\n        // \r\n        const regex = new RegExp(col.regex);\r\n        if (regex.test(value) === false) {\r\n          valid = false;\r\n          pushError(prefix, index, name, constant.ERROR.INVALID_DATA, errors);\r\n        }\r\n      }\r\n      if (col.type === 'file' && col.limit) {\r\n        const fileSize = common.getB64FileSize(value);\r\n        if (fileSize > 0 && fileSize > col.limit) {\r\n          valid = false;\r\n          pushError(prefix, index, name, common.formatStr(constant.ERROR.FILE_SIZE_LIMIT, {limit: col.limit / 1024 / 1024 + 'MB'}), errors);\r\n        }\r\n      }\r\n      return true;\r\n    });\r\n    return true;\r\n  })\r\n  return valid;\r\n};\r\n\r\nexport const pushError = (prefix, index, name, error, errors) => {\r\n  let newErrors = errors;\r\n  if (prefix && index !== undefined && index !== null) {\r\n    let inlineErrors = {};\r\n    if (prefix in errors) {\r\n      inlineErrors = errors[prefix];\r\n    } else {\r\n      inlineErrors = {};\r\n      errors[prefix] = inlineErrors;\r\n    }\r\n    if (index in inlineErrors) {\r\n      newErrors = inlineErrors[index];\r\n    } else {\r\n      newErrors = {};\r\n      inlineErrors[index] = newErrors;\r\n    }\r\n  } else if (index !== undefined && index !== null) {\r\n    if (index in errors) {\r\n      newErrors = errors[index];\r\n    } else {\r\n      newErrors = {};\r\n      errors[index] = newErrors;\r\n    }\r\n  }\r\n  if (name in newErrors) {\r\n    newErrors[name].push(error);\r\n  } else {\r\n    newErrors[name] = [error];\r\n  }\r\n};\r\n\r\nexport const clean_form = (validateFunc, formData, schema) => {\r\n  if (validateFunc() === true) {\r\n    let data = null;\r\n    if (Array.isArray(formData)) {\r\n      data = formData.slice();\r\n    } else {\r\n      data = Object.assign({}, formData);\r\n      schema.map(col => {\r\n        if (col.type === 'field') {\r\n          const value = data[col.name];\r\n          if (Array.isArray(value) && value.length > 0) {\r\n            const item = value[0];\r\n            data[col.name] = item.value;\r\n          }\r\n        } else if (col.type === 'fields') {\r\n          const value = data[col.name];\r\n          if (Array.isArray(value) && value.length > 0) {\r\n            let items = [];\r\n            value.map(item => (items.push(item.value)))\r\n            data[col.name] = items;\r\n          }\r\n        }\r\n        return true;\r\n      });\r\n    }\r\n    return data;\r\n  } else {\r\n    return null;\r\n  }\r\n};\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport {\r\n  Typography,\r\n  Tooltip,\r\n  IconButton,\r\n  Button,\r\n} from '@material-ui/core';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport { grey } from '@material-ui/core/colors';\r\nimport { common } from '../utils';\r\nimport { NonFieldErrors } from \"./NonFieldErrors\";\r\nimport { pushError, createFormLayout, validate_by_schema } from \"./common\";\r\n\r\nconst styles = (theme) => ({\r\n  error: {\r\n    color: 'red',\r\n  },\r\n  message: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n  },\r\n  inlineTitle: {\r\n    borderBottom: '2px solid #555',\r\n    marginTop: theme.spacing(2),\r\n  },\r\n  inlineTable: {\r\n    width: '100%',\r\n  },\r\n  inlineAdd: {\r\n    width: '100%',\r\n    backgroundColor: grey[100],\r\n  },\r\n});\r\n\r\nclass MyForm extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleBlur = this.handleBlur.bind(this);\r\n    this.clean = this.clean.bind();\r\n    this.state = {\r\n      data: this.initializeData(props),\r\n      errors: props.errors || {},\r\n    };\r\n  }\r\n\r\n  initializeData(props) {\r\n    if (!common.isEmpty(props.data)) {\r\n      return props.data;\r\n    } else if (props.schema) {\r\n      let data = props.data || {};\r\n      props.schema.map(col => {\r\n        if (common.isEmpty(data[col.name]) && col.default !== null && col.default !== undefined) {\r\n          data[col.name] = col.default;\r\n        }\r\n        return true;\r\n      });\r\n      return data;\r\n    } else {\r\n      return {};\r\n    }\r\n  }\r\n\r\n  UNSAFE_componentWillReceiveProps(nextProps) {\r\n    if (JSON.stringify(nextProps.data) !== JSON.stringify(this.props.data)) {\r\n      this.setState({data: this.initializeData(nextProps)});\r\n    }\r\n    if (JSON.stringify(nextProps.errors) !== JSON.stringify(this.props.errors)) {\r\n      this.setState({errors: nextProps.errors});\r\n    } else if (JSON.stringify(nextProps.errors) !== JSON.stringify(this.state.errors)) {\r\n      this.setState({errors: nextProps.errors});\r\n    }\r\n  }\r\n\r\n  handleChange = (prefix, inlineIndex) => (name, value, type) => (event) => {\r\n    this.setState((state) => {\r\n      let data = Object.assign({}, state.data);\r\n      if (prefix && inlineIndex !== undefined && inlineIndex !== null) {\r\n        let formsetData = data[prefix];\r\n        formsetData[inlineIndex][name] = value;\r\n      } else {\r\n        data[name] = value;\r\n      }\r\n      return {data: data};\r\n    });\r\n\r\n    this.props.onChanges.map(method => {\r\n      let data = this.state.data;\r\n      if (prefix && inlineIndex !== undefined && inlineIndex !== null) {\r\n        data[prefix][inlineIndex][name] = value;\r\n      } else {\r\n        data[name] = value;\r\n      }\r\n      const retVal = method(name, data, null, prefix, inlineIndex);\r\n      if (retVal) {\r\n        this.setState((state) => {\r\n          let data = Object.assign({}, state.data, retVal);\r\n          return {data: data};\r\n        });\r\n      }\r\n      return true;\r\n    });\r\n\r\n    // if (this.props.onSchemaChange) {\r\n    //   let data = this.state.data;\r\n    //   data[name] = value;\r\n    //   const retVal = this.props.onSchemaChange(name, data);\r\n    //   if (retVal) {\r\n    //     retVal.then(data => {\r\n    //     });\r\n    //   }\r\n    // }\r\n  };\r\n\r\n  handleBlur = (event, name) => {\r\n    this.props.onBlurs.map(method => {\r\n      const data = this.state.data;\r\n      const retVal = method(name, data);\r\n      if (retVal) {\r\n        this.setState((state) => {\r\n          let data = Object.assign({}, state.data, retVal);\r\n          return {data: data};\r\n        });\r\n      }\r\n      return true;\r\n    });\r\n  };\r\n\r\n  handleDeleteInline = (prefix, index) => () => {\r\n    let { data, errors } = this.state;\r\n    let inlineData = data[prefix];\r\n    inlineData.splice(index, 1);\r\n    let inlineErrors = errors[prefix];\r\n    if (inlineErrors) {\r\n      // Index\r\n      delete inlineErrors[index];\r\n      Object.keys(inlineErrors).map(key => {\r\n        if (key > index) {\r\n          const existErrors = inlineErrors[key];\r\n          delete inlineErrors[key];\r\n          inlineErrors[key - 1] = existErrors;\r\n        }\r\n        return true;\r\n      });\r\n    }\r\n    this.setState({data, errors});\r\n  };\r\n\r\n  handleInlineAdd = (prefix, schema) => () => {\r\n    let { data } = this.state;\r\n    let inlineData = data[prefix];\r\n    if (Array.isArray(inlineData)) {\r\n      inlineData.push({});\r\n    } else {\r\n      data[prefix] = [];\r\n    }\r\n    this.setState({data});\r\n  };\r\n\r\n  validate = () => {\r\n    const { data } = this.state;\r\n    let valid = true;\r\n    let errors = {};\r\n    // \r\n    if (validate_by_schema(null, this.props.schema, data, errors) === false) {\r\n      valid = false;\r\n    }\r\n    this.props.inlines.map(formset => {\r\n      const dataList = data[formset.name];\r\n      if (validate_by_schema(formset.name, formset.schema, dataList, errors) === false) {\r\n        valid = false;\r\n      }\r\n      return true;\r\n    });\r\n    // \r\n    if (valid === true) {\r\n      this.props.checkList.map(method => {\r\n        const retVal = method(data);\r\n        if (retVal !== true) {\r\n          valid = false;\r\n          if (Array.isArray(retVal)) {\r\n            retVal.map(item => (\r\n              pushError(null, null, item.name, item.message, errors)\r\n            ));\r\n          }\r\n        }\r\n        return true;\r\n      });\r\n    }\r\n\r\n    // const oldErrors = this.props.errors || {};\r\n    errors = Object.assign({}, errors)\r\n    this.setState({errors});\r\n    return valid;\r\n  };\r\n\r\n  clean = () => {\r\n    if (this.validate() === true) {\r\n      let data = Object.assign({}, this.state.data);\r\n      this.props.schema.map(col => {\r\n        if (col.type === 'field') {\r\n          const value = data[col.name];\r\n          if (Array.isArray(value) && value.length > 0) {\r\n            const item = value[0];\r\n            data[col.name] = item.value;\r\n          }\r\n        } else if (col.type === 'fields') {\r\n          const value = data[col.name];\r\n          if (Array.isArray(value) && value.length > 0) {\r\n            let items = [];\r\n            value.map(item => (items.push(item.value)))\r\n            data[col.name] = items;\r\n          }\r\n        }\r\n        return true;\r\n      });\r\n      return data;\r\n    } else {\r\n      return null;\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { classes, schema, layout, inlines } = this.props;\r\n    const { data, errors } = this.state;\r\n    const { non_field_errors } = this.state.errors;\r\n\r\n    return (\r\n      <div>\r\n        <NonFieldErrors errors={non_field_errors} />\r\n        {createFormLayout(data, schema, layout, false, null, null, null, errors, this.handleChange, this.handleBlur)}\r\n        {inlines.map((formset, key) => {\r\n          const init_data_array = data[formset.name];\r\n          return (\r\n            <div key={key}>\r\n              <Typography variant='subtitle1' className={classes.inlineTitle}>{formset.title}</Typography>\r\n              {(Array.isArray(init_data_array) && init_data_array.length > 0) ? (\r\n                <React.Fragment>\r\n                  {init_data_array.map((init_data, key2) => {\r\n                    const inlineErrors = errors[formset.name] || {};\r\n                    return (\r\n                      <table key={key2} className={classes.inlineTable}>\r\n                        <tbody>\r\n                          <tr>\r\n                            <td>\r\n                              {createFormLayout(\r\n                                init_data,\r\n                                formset.schema,\r\n                                formset.layout,\r\n                                true,\r\n                                formset.name,\r\n                                key2,\r\n                                init_data_array,\r\n                                inlineErrors[key2],\r\n                                this.handleChange,\r\n                                this.handleBlur,\r\n                              )}\r\n                            </td>\r\n                            {formset.allowDelete !== false ? (\r\n                              <td style={{width: 45}}>\r\n                                <Tooltip title='' placement='bottom' enterDelay={300}>\r\n                                  <IconButton aria-label=\"Action\" onClick={this.handleDeleteInline(formset.name, key2)}>\r\n                                    <CloseIcon />\r\n                                  </IconButton>\r\n                                </Tooltip>\r\n                              </td>\r\n                            ) : null}\r\n                          </tr>\r\n                        </tbody>\r\n                      </table>\r\n                    );\r\n                  })}\r\n                </React.Fragment>\r\n              ) : null}\r\n              { formset.allowAdd !== false ? (\r\n                <div>\r\n                  <Tooltip title='' placement='bottom' enterDelay={300}>\r\n                    <Button className={classes.inlineAdd} onClick={this.handleInlineAdd(formset.name, formset.schema)}>\r\n                      <AddIcon />\r\n                    </Button>\r\n                  </Tooltip>\r\n                </div>\r\n              ) : null }\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nMyForm.propTypes = {\r\n  schema: PropTypes.arrayOf(PropTypes.object).isRequired,\r\n  layout: PropTypes.array,\r\n  inlines: PropTypes.arrayOf(PropTypes.object),\r\n  data: PropTypes.object,\r\n  onChanges: PropTypes.arrayOf(PropTypes.func),\r\n  onBlurs: PropTypes.arrayOf(PropTypes.func),\r\n  checkList: PropTypes.arrayOf(PropTypes.func),\r\n  // onSchemaChange: PropTypes.func,\r\n  errors: PropTypes.object,\r\n};\r\n\r\nMyForm.defaultProps = {\r\n  layout: [],\r\n  inlines: [],\r\n  data: {},\r\n  onChanges: [],\r\n  onBlurs: [],\r\n  checkList: [],\r\n};\r\n\r\nconst Form = withStyles(styles)(MyForm);\r\nexport {Form};\r\n","import React from 'react';\r\nimport PropTypes from \"prop-types\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport { \r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n  Button,\r\n  CircularProgress,\r\n  Typography,\r\n} from '@material-ui/core';\r\nimport { green } from '@material-ui/core/colors';\r\nimport { Form } from '../form/Form';\r\n\r\nconst styles = theme => ({\r\n  fullScreen: {\r\n    [theme.breakpoints.down('xs')]: {\r\n      width: '100%',\r\n      height: '100%',\r\n      margin: 0,\r\n      maxWidth: '100%',\r\n      maxHeight: 'none',\r\n      borderRadius: 0,\r\n    },\r\n  },\r\n  wrapper: {\r\n    margin: theme.spacing(1),\r\n    position: 'relative',\r\n  },\r\n  buttonProgress: {\r\n    color: green[500],\r\n    position: 'absolute',\r\n    top: '50%',\r\n    left: '50%',\r\n    marginTop: -12,\r\n    marginLeft: -12,\r\n  },\r\n  description: {\r\n    whiteSpace: 'pre-line',\r\n  },\r\n});\r\n\r\nclass FormDialog extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      open: false,\r\n      data: {},\r\n      errors: props.errors || {},\r\n      loading: false,\r\n    };\r\n  }\r\n\r\n  handleOpen = (initial) => {\r\n    this.setState({\r\n      open: true,\r\n      data: initial,\r\n    });\r\n  };\r\n\r\n  handleClose = () => {\r\n    this.setState({open: false, errors: {}});\r\n  };\r\n\r\n  handleOk = () => {\r\n    if (this.props.handleOk && this._clean) {\r\n      const data = this._clean();\r\n      if (data) {\r\n        this.setState({loading: true});\r\n        this.props.handleOk(data, this.handleClose).then(() => {\r\n          if (this.props.saveCallback) {\r\n            this.props.saveCallback(data);\r\n          }\r\n          this.handleClose();\r\n        }).catch(errors => {\r\n          this.setState({errors});\r\n        }).finally(() => {\r\n          this.setState({loading: false});\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { classes, title, description, schema, layout, ...rest } = this.props;\r\n    const { open, data, errors, loading } = this.state;\r\n\r\n    return (\r\n      <Dialog\r\n        open={open}\r\n        onClose={this.handleClose}\r\n        PaperProps={{className: classes.fullScreen}}\r\n      >\r\n        <DialogTitle>\r\n          {title}\r\n        </DialogTitle>\r\n        <DialogContent dividers>\r\n          {description ? (\r\n            <Typography className={classes.description} variant=\"body2\">\r\n              {description}\r\n            </Typography>\r\n          ) : null}\r\n          <Form\r\n            schema={schema}\r\n            layout={layout}\r\n            data={data}\r\n            errors={errors}\r\n            {...rest}\r\n            innerRef={(form) => {this._clean = form && form.clean}}\r\n          />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={this.handleClose} color='secondary'></Button>\r\n          <div className={classes.wrapper}>\r\n            <Button\r\n              onClick={this.handleOk}\r\n              autoFocus={true}\r\n              disabled={loading}\r\n              color='primary'\r\n            ></Button>\r\n            {loading && <CircularProgress size={24} className={classes.buttonProgress} />}\r\n          </div>\r\n        </DialogActions>\r\n      </Dialog>\r\n    );\r\n  }\r\n}\r\n\r\nFormDialog.propTypes = {\r\n  title: PropTypes.string,\r\n  description: PropTypes.string,\r\n  schema: PropTypes.array.isRequired,\r\n  layout: PropTypes.array,\r\n  handleOk: PropTypes.func.isRequired,\r\n  saveCallback: PropTypes.func,\r\n};\r\nFormDialog.defaultProps = {\r\n};\r\n\r\nexport default withStyles(styles)(FormDialog);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport {\r\n  Button,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n  Dialog,\r\n  Typography,\r\n} from '@material-ui/core';\r\nimport { constant } from '../utils';\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    width: '100%',\r\n    maxWidth: 360,\r\n    backgroundColor: theme.palette.background.paper,\r\n  },\r\n  paper: {\r\n    width: '80%',\r\n    maxHeight: 435,\r\n  },\r\n});\r\n\r\nclass ConfirmDialog extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.handleOpen = this.handleOpen.bind(this);\r\n    this.handleCancel = this.handleCancel.bind(this);\r\n    this.handleOk = this.handleOk.bind(this);\r\n    this.state = {\r\n      open: false,\r\n      content: null,\r\n    }\r\n  }\r\n\r\n  handleOpen(content) {\r\n    this.setState({open: true, content: content,})\r\n  }\r\n\r\n  handleCancel() {\r\n    this.setState({open: false,})\r\n  }\r\n\r\n  handleOk() {\r\n    if (this.props.onOk) {\r\n      if (this.props.onOk()) {\r\n        this.handleCancel();\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { title } = this.props;\r\n    const { open, content } = this.state;\r\n\r\n    return (\r\n      <Dialog\r\n        open={open}\r\n        maxWidth=\"xs\"\r\n        aria-labelledby=\"confirmation-dialog-title\"\r\n      >\r\n        <DialogTitle id=\"confirmation-dialog-title\">{ title }</DialogTitle>\r\n        <DialogContent>\r\n          {content ? (\r\n            null\r\n          ) : constant.INFO.DELETE_CONFIRM}\r\n          <Typography style={{whiteSpace: 'pre-line'}}>\r\n            {content}\r\n          </Typography>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={this.handleCancel} color=\"secondary\">\r\n            \r\n          </Button>\r\n          <Button onClick={this.handleOk} color=\"primary\">\r\n            \r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    );\r\n  }\r\n}\r\n\r\nConfirmDialog.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  title: PropTypes.string.isRequired,\r\n  onOk: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(ConfirmDialog);","import { common } from \"../utils\";\r\n\r\n/**\r\n * \r\n * @param {String} colType \r\n */\r\nexport const getCellAlignment = (colType) => {\r\n  if (['decimal', 'integer', 'percent'].indexOf(colType) >= 0) {\r\n    return { align: 'right', numeric: true };\r\n  } else if (colType === 'boolean') {\r\n    return { align: 'center', numeric: false };\r\n  } else {\r\n    return { align: 'left', numeric: false };\r\n  }\r\n};\r\n\r\n/**\r\n * \r\n * @param {Object} row \r\n * @param {Array} selected ID\r\n * @param {String} pkName ID\r\n */\r\nexport const isSelected = (row, selected, pkName) => {\r\n  if (common.isEmpty(row)) {\r\n    return false;\r\n  }\r\n\r\n  let key = null;\r\n  if (row.__index__ !== null && row.__index__ !== undefined) {\r\n    key = '__index__';\r\n  } else {\r\n    key = pkName;\r\n  }\r\n\r\n  if (!selected) {\r\n    return false;\r\n  } else {\r\n    return selected.filter(r => r[key] === row[key]).length > 0;\r\n  }\r\n};\r\n\r\nexport const onRowSelect = (data, selectable, selected) => {\r\n  if (selectable === 'none') {\r\n    return;\r\n  }\r\n  \r\n  const is_selected = isSelected(data, selected);\r\n  let newSelected = [];\r\n  if (selectable === 'multiple') {\r\n    if (is_selected === true) {\r\n      const selectedIndex = selected.indexOf(data);\r\n      newSelected = newSelected.concat(\r\n        selected.slice(0, selectedIndex),\r\n        selected.slice(selectedIndex + 1),\r\n      );\r\n    } else {\r\n      newSelected = newSelected.concat(selected, data);\r\n    }\r\n  } else if (selectable === 'single') {\r\n    if (is_selected === true) {\r\n      newSelected = [];\r\n    } else {\r\n      newSelected = [data];\r\n    }\r\n  }\r\n\r\n  return { selected: newSelected }\r\n};\r\n\r\n/**\r\n * \r\n */\r\nexport const handleMinWidth = (tableId, tableStyles) => {\r\n  if (!common.isEmpty(tableStyles) && tableStyles.minWidth) {\r\n    // \r\n    const wrapperDiv = document.getElementById(tableId).parentElement.parentElement;\r\n    wrapperDiv.style.width = `${wrapperDiv.offsetWidth}px`;\r\n    document.getElementById(tableId).style.minWidth = `${tableStyles.minWidth}px`;\r\n  }\r\n};\r\n","import React from \"react\";\r\nimport uuid from 'uuid';\r\nimport PropTypes from \"prop-types\";\r\nimport { Link } from 'react-router-dom';\r\nimport {\r\n  TableCell,\r\n  IconButton,\r\n  Grow,\r\n  Button,\r\n  Tooltip,\r\n  Fab,\r\n} from \"@material-ui/core\";\r\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\r\nimport HighlightOffIcon from '@material-ui/icons/HighlightOff';\r\nimport ArchiveIcon from '@material-ui/icons/Archive';\r\nimport { common } from \"../utils/common\";\r\nimport { getCellAlignment } from \"./Common\";\r\n\r\nclass DataTableCell extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.handleHideActions = this.handleHideActions.bind(this);\r\n    this.state = {\r\n      open: false,\r\n    }\r\n  }\r\n\r\n  getOutput(value) {\r\n    const { column, data } = this.props;\r\n    let url = null;\r\n    if (column.link) {\r\n      if (typeof column.link === 'string') {\r\n        url = common.formatStr(column.link, data);\r\n      } else if (typeof column.link === 'function') {\r\n        url = common.formatStr(column.link(data), data);\r\n      }\r\n    }\r\n\r\n    return (\r\n      url ? (\r\n        <Link to={url}>{value}</Link>\r\n      ) : value\r\n    );\r\n  }\r\n\r\n  handleShowActions = (event) => {\r\n    event.stopPropagation();\r\n    this.setState({open: true});\r\n  };\r\n\r\n  handleHideActions = (event) => {\r\n    if (event) {\r\n      event.stopPropagation();\r\n    }\r\n    this.setState({open: false});\r\n  };\r\n\r\n  handleFileDownload = file_id => (event) => {\r\n    const { column, data } = this.props;\r\n    event.stopPropagation();\r\n    if (column.handle_download) {\r\n      column.handle_download(file_id, data);\r\n    }\r\n  }\r\n\r\n  handleActionClick = (method) => (event) =>  {\r\n    event.stopPropagation();\r\n    const { data } = this.props;\r\n    if (method) {\r\n      method(data);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { classes, column, data, actions, actionsTrigger } = this.props;\r\n    const { open } = this.state;\r\n    let value = data[column.name];\r\n\r\n    let style = Object.assign({}, this.props.style);\r\n    let attrs = { 'align': getCellAlignment(column.type).align };\r\n    let output = null;\r\n    if (Array.isArray(actions) && actions.length > 0 && (!actionsTrigger || actionsTrigger(data))) {\r\n      style['padding'] = 0;\r\n      style['width'] = 35;\r\n      style['position'] = 'relative';\r\n      attrs['align'] = 'center';\r\n      output = (\r\n        <React.Fragment>\r\n          {open ? (\r\n            <IconButton style={{padding: 10}} onClick={this.handleHideActions}>\r\n              <CloseIcon />\r\n            </IconButton>\r\n          ) : (\r\n            <IconButton style={{padding: 10}} onClick={this.handleShowActions}>\r\n              <MoreVertIcon />\r\n            </IconButton>\r\n          )}\r\n          <div className={classes.tableActionWrapper}>\r\n            <Grow in={open}>\r\n              <div style={{display: open ? 'block' : 'none'}}>\r\n                {actions.map((action, key) => {\r\n                  if (action.trigger && !action.trigger(data)) {\r\n                    return null;\r\n                  } else if (action.icon) {\r\n                    return (\r\n                      <Tooltip key={key} title={action.tooltip} placement='bottom' enterDelay={300}>\r\n                        <Fab\r\n                          size=\"medium\"\r\n                          color={action.color ? action.color : \"primary\"}\r\n                          aria-label=\"Add\"\r\n                          onClick={this.handleActionClick(action.handleClick)}\r\n                          className={classes.tableActionButton}\r\n                        >\r\n                          {action.icon}\r\n                        </Fab>\r\n                      </Tooltip>\r\n                    );\r\n                  } else {\r\n                    return (\r\n                      <Button\r\n                        key={key}\r\n                        variant=\"contained\"\r\n                        color={action.color ? action.color : \"primary\"}\r\n                        className={classes.button}\r\n                      >\r\n                        {action.name}\r\n                      </Button>\r\n                    );\r\n                  }\r\n                })}\r\n              </div>\r\n            </Grow>\r\n          </div>\r\n        </React.Fragment>\r\n      );\r\n    } else if (column.type === 'integer' || column.type === 'decimal') {\r\n      // \r\n      value = common.toNumComma(value);\r\n      output = this.getOutput(value);\r\n    } else if (column.type === 'percent') {\r\n      output = common.getColumnDisplay(value, column);\r\n    } else if (column.type === 'boolean') {\r\n      style['padding'] = 0;\r\n      if (value === true || value === 1) {\r\n        output = <CheckCircleIcon style={{color: 'green'}} />;\r\n      } else if (value === false || value === 0) {\r\n        output = <HighlightOffIcon style={{color: 'red'}} />;\r\n      }\r\n    } else if (column.type === 'file') {\r\n      style['padding'] = 0;\r\n      output = (value ? (\r\n        <IconButton onClick={this.handleFileDownload(value)} style={{padding: 10}}>\r\n          <ArchiveIcon />\r\n        </IconButton>\r\n      ) : null);\r\n    } else if (column.type === 'choice') {\r\n      const display_name = common.getDisplayNameFromChoice(value, column);\r\n      output = this.getOutput(display_name);\r\n    } else if (column.type === 'text') {\r\n      output = common.getColumnDisplay(value, column);\r\n    } else {\r\n      output = this.getOutput(value);\r\n    }\r\n\r\n    return column.visible === false ? null : (\r\n      <TableCell className={classes.tableCell} key={uuid()} style={style} {...attrs}>\r\n        {column.max_width ? (\r\n          <div style={{ maxWidth: column.max_width, }} className={classes.tableCellFixedWidth} title={value}>\r\n            {output}\r\n          </div>\r\n        ) : output }\r\n      </TableCell>\r\n    );\r\n  }\r\n}\r\n\r\nDataTableCell.defaultProps = {\r\n  column: {},\r\n  data: {},\r\n  actions: [],\r\n};\r\n\r\nDataTableCell.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  column: PropTypes.object,\r\n  data: PropTypes.object,\r\n  actions: PropTypes.array,\r\n};\r\n\r\nexport default DataTableCell;\r\n","import React from 'react';\r\nimport PropTypes from \"prop-types\";\r\nimport {\r\n  TableHead,\r\n  TableRow,\r\n  TableCell,\r\n  Tooltip,\r\n  TableSortLabel,\r\n  Checkbox,\r\n} from \"@material-ui/core\";\r\nimport { getCellAlignment } from './Common';\r\n\r\nclass DataTableHead extends React.Component {\r\n\r\n  createSortHandler = (property, isNumeric) => event => {\r\n    if (this.props.sortable === true && this.props.onSort) {\r\n      this.props.onSort(event, property, isNumeric);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { classes, tableHeaderColor, tableHead, sortable, order, orderBy, selected, selectable, data } = this.props;\r\n    const numSelected = selected ? selected.length : 0;\r\n    const rowCount = data ? data.length : 0;\r\n    let chkCell = <React.Fragment/>;\r\n    if (selectable === 'multiple') {\r\n      chkCell = (\r\n        <TableCell padding=\"none\" className={classes.tableCellCheckable}>\r\n          <Checkbox\r\n            indeterminate={numSelected > 0 && numSelected < rowCount}\r\n            checked={numSelected === rowCount}\r\n            onChange={this.props.onSelectAllClick}\r\n            disabled={rowCount === 0}\r\n          />\r\n        </TableCell>\r\n      );\r\n    } else if (selectable === 'single') {\r\n      chkCell = (\r\n        <TableCell padding=\"none\" className={classes.tableCellCheckable}></TableCell>\r\n      );\r\n    }\r\n\r\n    if (tableHead === undefined) {\r\n      return null;\r\n    } else {\r\n      return (\r\n        <TableHead className={classes[tableHeaderColor + \"TableHeader\"]}>\r\n          <TableRow>\r\n            { chkCell }\r\n            {tableHead.filter(col => col.visible !== false).map((column, key) => {\r\n              const { align, numeric } = getCellAlignment(column.type);\r\n              return (\r\n                <TableCell\r\n                  className={classes.tableCell + \" \" + classes.tableHeadCell}\r\n                  key={key}\r\n                  align={align}\r\n                  sortDirection={orderBy === column.name ? order : false}\r\n                >\r\n                  {sortable === true && column.sortable === true ? (\r\n                    <Tooltip\r\n                      title=\"Sort\"\r\n                      placement={numeric ? 'bottom-end' : 'bottom-start'}\r\n                      enterDelay={300}\r\n                    >\r\n                      <TableSortLabel\r\n                        active={orderBy === (column.sort_field || column.name)}\r\n                        direction={order}\r\n                        onClick={this.createSortHandler((column.sort_field || column.name), numeric)}\r\n                      >\r\n                        {column.label}\r\n                      </TableSortLabel>\r\n                    </Tooltip>\r\n                  ) : column.label}\r\n                </TableCell>\r\n              );\r\n            })}\r\n          </TableRow>\r\n        </TableHead>\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nDataTableHead.propTypes = {\r\n  sortable: PropTypes.bool,\r\n};\r\n\r\nDataTableHead.defaultProps = {\r\n  sortable: true,\r\n};\r\n\r\nexport default DataTableHead;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n// @material-ui/core components\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport {\r\n  TablePagination,\r\n  IconButton,\r\n} from \"@material-ui/core\";\r\nimport FirstPageIcon from '@material-ui/icons/FirstPage';\r\nimport KeyboardArrowLeft from '@material-ui/icons/KeyboardArrowLeft';\r\nimport KeyboardArrowRight from '@material-ui/icons/KeyboardArrowRight';\r\nimport LastPageIcon from '@material-ui/icons/LastPage'\r\n\r\nconst paginationActionsStyles = theme => ({\r\n  root: {\r\n    flexShrink: 0,\r\n    color: theme.palette.text.secondary,\r\n    marginLeft: theme.spacing(2.5),\r\n  },\r\n});\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    '& .MuiTablePagination-caption, & .MuiTablePagination-selectRoot': {\r\n      [theme.breakpoints.down('xs')]: {\r\n        display: 'none',\r\n      },\r\n    },\r\n  }\r\n});\r\n\r\nclass TablePaginationActions extends React.Component {\r\n  handleFirstPageButtonClick = event => {\r\n    this.props.onChangePage(event, 0);\r\n  };\r\n\r\n  handleBackButtonClick = event => {\r\n    this.props.onChangePage(event, this.props.page - 1);\r\n  };\r\n\r\n  handleNextButtonClick = event => {\r\n    this.props.onChangePage(event, this.props.page + 1);\r\n  };\r\n\r\n  handleLastPageButtonClick = event => {\r\n    this.props.onChangePage(\r\n      event,\r\n      Math.max(0, Math.ceil(this.props.count / this.props.rowsPerPage) - 1),\r\n    );\r\n  };\r\n\r\n  render() {\r\n    const { classes, count, page, rowsPerPage, theme } = this.props;\r\n\r\n    return (\r\n      <div className={classes.root}>\r\n        <IconButton\r\n          onClick={this.handleFirstPageButtonClick}\r\n          disabled={page === 0}\r\n          aria-label=\"First Page\"\r\n        >\r\n          {theme.direction === 'rtl' ? <LastPageIcon /> : <FirstPageIcon />}\r\n        </IconButton>\r\n        <IconButton\r\n          onClick={this.handleBackButtonClick}\r\n          disabled={page === 0}\r\n          aria-label=\"Previous Page\"\r\n        >\r\n          {theme.direction === 'rtl' ? <KeyboardArrowRight /> : <KeyboardArrowLeft />}\r\n        </IconButton>\r\n        <IconButton\r\n          onClick={this.handleNextButtonClick}\r\n          disabled={page >= Math.ceil(count / rowsPerPage) - 1}\r\n          aria-label=\"Next Page\"\r\n        >\r\n          {theme.direction === 'rtl' ? <KeyboardArrowLeft /> : <KeyboardArrowRight />}\r\n        </IconButton>\r\n        <IconButton\r\n          onClick={this.handleLastPageButtonClick}\r\n          disabled={page >= Math.ceil(count / rowsPerPage) - 1}\r\n          aria-label=\"Last Page\"\r\n        >\r\n          {theme.direction === 'rtl' ? <FirstPageIcon /> : <LastPageIcon />}\r\n        </IconButton>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nTablePaginationActions.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  count: PropTypes.number.isRequired,\r\n  onChangePage: PropTypes.func.isRequired,\r\n  page: PropTypes.number.isRequired,\r\n  rowsPerPage: PropTypes.number.isRequired,\r\n  theme: PropTypes.object.isRequired,\r\n};\r\n\r\nconst TablePaginationActionsWrapped = withStyles(paginationActionsStyles, { withTheme: true })(\r\n  TablePaginationActions,\r\n);\r\n\r\nclass DataTablePagination extends React.Component {\r\n  render() {\r\n    const { classes } = this.props;\r\n    return (\r\n      <TablePagination\r\n        {...this.props}\r\n        className={classes.root}\r\n        style={{overflow: 'visible'}}\r\n        ActionsComponent={TablePaginationActionsWrapped}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles)(DataTablePagination);","const defaultFont = {\r\n  fontFamily: '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif',\r\n  fontWeight: \"300\",\r\n  lineHeight: \"1.5em\"\r\n};\r\n\r\nconst primaryColor = \"#9c27b0\";\r\nconst warningColor = \"#ff9800\";\r\nconst dangerColor = \"#f44336\";\r\nconst successColor = \"#4caf50\";\r\nconst infoColor = \"#00acc1\";\r\nconst roseColor = \"#e91e63\";\r\nconst grayColor = \"#999999\";\r\n\r\nexport {\r\n  defaultFont,\r\n  primaryColor,\r\n  warningColor,\r\n  dangerColor,\r\n  successColor,\r\n  infoColor,\r\n  roseColor,\r\n  grayColor,\r\n};\r\n","import {\r\n  warningColor,\r\n  primaryColor,\r\n  dangerColor,\r\n  successColor,\r\n  infoColor,\r\n  roseColor,\r\n  grayColor,\r\n  defaultFont\r\n} from \"./common\";\r\n\r\nconst tableStyle = theme => ({\r\n  warningTableHeader: {\r\n    color: warningColor\r\n  },\r\n  primaryTableHeader: {\r\n    color: primaryColor\r\n  },\r\n  dangerTableHeader: {\r\n    color: dangerColor\r\n  },\r\n  successTableHeader: {\r\n    color: successColor\r\n  },\r\n  infoTableHeader: {\r\n    color: infoColor\r\n  },\r\n  roseTableHeader: {\r\n    color: roseColor\r\n  },\r\n  grayTableHeader: {\r\n    color: grayColor\r\n  },\r\n  table: {\r\n    marginBottom: \"0\",\r\n    width: \"100%\",\r\n    minWidth: 600,\r\n    maxWidth: \"100%\",\r\n    backgroundColor: \"transparent\",\r\n    borderSpacing: \"0\",\r\n    borderCollapse: \"collapse\"\r\n  },\r\n  tableRow: {\r\n    \"&:hover\": {\r\n      backgroundColor: \"rgba(0, 0, 0, 0.07) !important\"\r\n    }\r\n  },\r\n  tableHeadCell: {\r\n    color: \"inherit\",\r\n    ...defaultFont,\r\n  },\r\n  tableFixedHeader: {\r\n    \"& th\": {\r\n      boxSizing: 'border-box',\r\n    },\r\n    position: \"fixed\",\r\n    backgroundColor: 'white',\r\n    tableLayout: 'fixed',\r\n    display: 'none',\r\n    zIndex: 1,\r\n  },\r\n  tableCell: {\r\n    ...defaultFont,\r\n    lineHeight: \"1.42857143\",\r\n    paddingLeft: \"8px\",\r\n    paddingRight: \"8px\",\r\n    verticalAlign: \"middle\",\r\n    // fontSize: \"12px\",\r\n  },\r\n  tableCellCheckable: {\r\n    width: 42,\r\n  },\r\n  tableResponsive: {\r\n    width: \"100%\",\r\n    // marginTop: theme.spacing(3),\r\n    // overflow: \"visible\",\r\n  },\r\n  tableActions: {\r\n    display: \"flex\",\r\n    padding: \"12px 8px !important\",\r\n    verticalAlign: \"middle\",\r\n    textAlign: 'center',\r\n  },\r\n  tableActionCell: {\r\n    width: 35,\r\n    textAlign: 'center',\r\n    padding: 0,\r\n  },\r\n  tableActionButton: {\r\n    margin: 2,\r\n  },\r\n  tableActionWrapper: {\r\n    display: 'flex',\r\n    position: 'absolute',\r\n    top: '0',\r\n    right: '50px',\r\n    whiteSpace: 'nowrap',\r\n  },\r\n  tableRowSelected: {\r\n    backgroundColor: '#fff0c3',\r\n  },\r\n  tableCellFixedWidth: {\r\n    whiteSpace: 'nowrap',\r\n    overflow: 'hidden',\r\n  },\r\n});\r\n\r\nexport default tableStyle;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n// @material-ui/core components\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport {\r\n  Table,\r\n  TableRow,\r\n  TableBody,\r\n} from \"@material-ui/core\";\r\n// core components\r\nimport DataTableCell from './DataTableCell';\r\nimport DataTableHead from './DataTableHead';\r\nimport DataTablePagination from './DataTablePagination';\r\nimport tableStyle from \"../assets/css/datatable\";\r\nimport { common } from \"../utils/common\";\r\nimport { constant } from \"../utils/constant\";\r\n\r\nclass MySimpleTable extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.handleChangePage = this.handleChangePage.bind(this);\r\n    this.state = {\r\n      page: 0,\r\n    };\r\n  }\r\n\r\n  handleChangePage = (event, page) => {\r\n    this.setState({page});\r\n  };\r\n\r\n  render () {\r\n    const { classes, tableHead, tableData, tableProps, rowsPerPage } = this.props;\r\n    const { page } = this.state;\r\n\r\n    return (\r\n      <div className={classes.tableResponsive}>\r\n        <Table className={classes.table} {...tableProps}>\r\n          <DataTableHead\r\n            classes={classes}\r\n            tableHeaderColor={this.props.tableHeaderColor}\r\n            tableHead={tableHead}\r\n            sortable={false}\r\n          />\r\n          <TableBody>\r\n            {common.getDataForDisplay(tableData, rowsPerPage, page)\r\n              .map((row, key) => {\r\n                return (\r\n                  <TableRow key={key} hover>\r\n                    {tableHead.map((col, key) => {\r\n                      return (\r\n                        <DataTableCell\r\n                          key={key}\r\n                          classes={classes}\r\n                          column={col}\r\n                          data={row}\r\n                        />\r\n                      );\r\n                    })}\r\n                  </TableRow>\r\n                );\r\n            })}\r\n          </TableBody>\r\n        </Table>\r\n        {(rowsPerPage && tableData.length > rowsPerPage) ? (\r\n          <DataTablePagination\r\n            component=\"div\"\r\n            // id={paginationId}\r\n            count={tableData.length}\r\n            rowsPerPage={rowsPerPage}\r\n            rowsPerPageOptions={[]}\r\n            page={page}\r\n            backIconButtonProps={{\r\n              'aria-label': 'Previous Page',\r\n            }}\r\n            nextIconButtonProps={{\r\n              'aria-label': 'Next Page',\r\n            }}\r\n            onChangePage={this.handleChangePage}\r\n          />\r\n        ) : <React.Fragment/> }\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nMySimpleTable.propTypes = {\r\n  ...constant.tableProps,\r\n  rowsPerPage: PropTypes.number,\r\n};\r\n\r\nMySimpleTable.defaultProps = {\r\n  ...constant.tablePropsDefault,\r\n  rowsPerPage: null,\r\n};\r\n\r\nconst SimpleTable = withStyles(tableStyle)(MySimpleTable)\r\nexport { SimpleTable } ;\r\n","import React from 'react';\r\nimport {\r\n  Table,\r\n} from \"@material-ui/core\";\r\n\r\nclass DataTableFixedHead extends React.Component {\r\n\r\n  render() {\r\n    const { classes, id, tableId, tableHeader, toolbar } = this.props;\r\n\r\n    return (\r\n      <div id={id} className={classes.tableFixedHeader}>\r\n        {toolbar}\r\n        <Table\r\n          id={tableId}\r\n          className={classes.table}\r\n          aria-labelledby=\"fixedHeader\"\r\n        >\r\n          {tableHeader}\r\n        </Table>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default DataTableFixedHead;","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport classNames from 'classnames';\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport {\r\n  Toolbar,\r\n  Tooltip,\r\n  IconButton,\r\n  Chip,\r\n  CircularProgress,\r\n  Popper,\r\n  Paper,\r\n  ClickAwayListener,\r\n  withWidth,\r\n  isWidthDown,\r\n  Collapse,\r\n} from \"@material-ui/core\";\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport FilterListIcon from '@material-ui/icons/FilterList';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport CloudDownloadIcon from \"@material-ui/icons/CloudDownload\";\r\nimport ClearAllIcon from '@material-ui/icons/ClearAll';\r\nimport { lighten } from '@material-ui/core/styles/colorManipulator';\r\nimport { green } from '@material-ui/core/colors';\r\nimport { createFormLayout } from \"../form/common\";\r\nimport { common } from \"../utils/common\";\r\nimport FormDialog from \"../dialog/FormDialog\";\r\nimport ConfirmDialog from \"../dialog/ConfirmDialog\";\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    paddingLeft: theme.spacing(1),\r\n    paddingRight: theme.spacing(1),\r\n    minHeight: 48,\r\n  },\r\n  highlight:\r\n    theme.palette.type === 'light'\r\n      ? {\r\n        color: theme.palette.secondary.main,\r\n        backgroundColor: lighten(theme.palette.secondary.light, 0.85),\r\n      }\r\n      : {\r\n        color: theme.palette.text.primary,\r\n        backgroundColor: theme.palette.secondary.dark,\r\n      },\r\n\r\n  spacer: {\r\n    flex: '1 1 100%',\r\n  },\r\n  actions: {\r\n    color: theme.palette.text.secondary,\r\n    whiteSpace: 'nowrap',\r\n  },\r\n  title: {\r\n    flex: '0 0 auto',\r\n  },\r\n  chip: {\r\n    margin: theme.spacing(0.5),\r\n  },\r\n  selected: {\r\n    marginRight: theme.spacing(1),\r\n  },\r\n  wrapper: {\r\n    position: 'relative',\r\n  },\r\n  buttonProgress: {\r\n    color: green[500],\r\n    position: 'absolute',\r\n    top: '50%',\r\n    left: '50%',\r\n    marginTop: -24,\r\n    marginLeft: -24,\r\n  },\r\n  filter: {\r\n    padding: theme.spacing(3),\r\n    width: 404,\r\n    height: 'calc(100% - 250px)',\r\n    overflowY: 'auto',\r\n  },\r\n});\r\n\r\nclass DataTableToolbar extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      openFilter: false,\r\n      anchorEl: null,\r\n      filters: props.filters,\r\n      btnLoadings: {},\r\n      maxHeight: 300,\r\n    };\r\n  }\r\n\r\n  onEscPress = (event) => {\r\n    if(event.keyCode === 27) {\r\n      //Do whatever when esc is pressed\r\n      this.handleCloseFilter();\r\n    }\r\n  };\r\n\r\n  componentDidMount = () => {\r\n    document.addEventListener(\"keydown\", this.onEscPress, false);\r\n  };\r\n\r\n  componentWillUnmount = () => {\r\n    document.removeEventListener(\"keydown\", this.onEscPress, false);\r\n  };\r\n\r\n  handleOpenFilter = (event) => {\r\n    this.setState({ openFilter: true, anchorEl: event.currentTarget, maxHeight: window.innerHeight - 300 });\r\n  };\r\n\r\n  handleCloseFilter = () => {\r\n    this.setState({ openFilter: false });\r\n  };\r\n\r\n  handleClearFilter = (event) => {\r\n    const { filters } = this.state;\r\n    Object.keys(filters).map(key => delete filters[key]);\r\n    this.setState({ filters: filters });\r\n    if (this.props.onChangeFilter) {\r\n      this.props.onChangeFilter(event, filters);\r\n    }\r\n  }\r\n\r\n  handleDeleteFilter = name => (event) => {\r\n    const { filters } = this.state;\r\n    delete filters[name];\r\n    if (this.props.onChangeFilter) {\r\n      this.props.onChangeFilter(event, filters);\r\n    }\r\n  };\r\n\r\n  handleChange = (name, value, type) => (event) => {\r\n    const { tableHead } = this.props;\r\n    const column = common.getFromList(tableHead, 'name', name);\r\n    let filter_in = null;\r\n    if (!common.isEmpty(column.choices) && column.choices[0].hasOwnProperty('parent')) {\r\n      filter_in = common.getChildren(value, column.choices, 'value', 'parent');\r\n    }\r\n    this.setState((state) => {\r\n      let filters = state.filters;\r\n      if (value === '' || value === null) {\r\n        delete filters[name];\r\n      } else if (filter_in) {\r\n        filters[name] = {children: filter_in, value: value};\r\n      } else {\r\n        filters[name] = value;\r\n      }\r\n      if (this.props.onChangeFilter) {\r\n        this.props.onChangeFilter(event, filters);\r\n      }\r\n      return {filters: filters};\r\n    });\r\n  };\r\n\r\n  createCsvAction = () => {\r\n    const { title, tableHead, tableData } = this.props;\r\n    return (\r\n      <Tooltip title='' placement='bottom' enterDelay={300}>\r\n        <IconButton\r\n          aria-label=\"Action\"\r\n          onClick={() => common.downloadDataTableCSV(title, tableHead, tableData)}\r\n        >\r\n          <CloudDownloadIcon/>\r\n        </IconButton>\r\n      </Tooltip>\r\n    );\r\n  }\r\n\r\n  handleActionClick = (method, props, state_name) => {\r\n    this.setState(state => {\r\n      const btnLoadings = state.btnLoadings;\r\n      btnLoadings[state_name] = true;\r\n      return Object.assign({}, btnLoadings);\r\n    });\r\n    method(props).finally(() => (\r\n      this.setState(state => {\r\n        const btnLoadings = state.btnLoadings;\r\n        btnLoadings[state_name] = false;\r\n        return Object.assign({}, btnLoadings);\r\n      })\r\n    ));\r\n  }\r\n\r\n  createActions = () => {\r\n    const { classes, selected, tableData, tableActions, rowActions, saveCallback } = this.props;\r\n    const { btnLoadings } = this.state;\r\n\r\n    if (Array.isArray(selected) && selected.length > 0 ) {\r\n      // \r\n      return (\r\n        <React.Fragment>\r\n          {rowActions.filter(act => act['visible'] !== false).map((action, key) => (\r\n            <Tooltip\r\n              key={key} \r\n              title={action.tooltip} \r\n              placement='bottom' \r\n              enterDelay={300}\r\n            >\r\n              <IconButton\r\n                aria-label=\"Action\"\r\n                onClick={() => action.handleClick(\r\n                  selected.length === 1 ? selected[0] : selected,\r\n                  saveCallback\r\n                )}\r\n              >\r\n                {action.icon}\r\n              </IconButton>\r\n            </Tooltip>\r\n          ))}\r\n        </React.Fragment>\r\n      );\r\n    } else {\r\n      return (\r\n        <React.Fragment>\r\n          {tableActions.filter(act => act['visible'] !== false).map((action, key) => (\r\n            <Tooltip\r\n              key={key}\r\n              title={action.tooltip}\r\n              placement='bottom'\r\n              enterDelay={300}\r\n            >\r\n              <IconButton\r\n                aria-label=\"Action\"\r\n                className={classes.wrapper}\r\n                onClick={\r\n                  action.showLoading === true \r\n                    ? (props) => this.handleActionClick(() => action.handleClick(tableData), props, `tbl_action_${key}`)\r\n                    : () => action.handleClick(tableData)\r\n                }\r\n                disabled={btnLoadings[`tbl_action_${key}`] === true}\r\n              >\r\n                {action.icon}\r\n                {action.showLoading === true ? (\r\n                  btnLoadings[`tbl_action_${key}`] === true &&\r\n                  <CircularProgress size={48} className={classes.buttonProgress} />\r\n                ) : null}\r\n              </IconButton>\r\n            </Tooltip>\r\n          ))}\r\n        </React.Fragment>\r\n      );\r\n    }\r\n  };\r\n\r\n  onShowAddDialog = () => {\r\n    if (this._showAddDialog) {\r\n      const { addProps } = this.props;\r\n      if (addProps.handleBeforeShowup) {\r\n        addProps.handleBeforeShowup();\r\n      }\r\n      this._showAddDialog();\r\n    }\r\n  };\r\n\r\n  onShowEditDialog = () => {\r\n    const { selected, editProps } = this.props;\r\n    if (this._showModel) {\r\n      if (editProps.handleBeforeShowup) {\r\n        editProps.handleBeforeShowup(selected[0]);\r\n      }\r\n      this._showModel(selected[0]);\r\n    }\r\n  };\r\n\r\n  onShowDeleteDialog = () => {\r\n    if (this._showDeleteConfirm) {\r\n      this._showDeleteConfirm();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      classes, id, title, showTitle, tableHead, selected, allowCsv,\r\n      addProps, editProps, saveCallback, deleteProps, clearSelected, filterLayout, width,\r\n    } = this.props;\r\n    const { filters, openFilter, anchorEl, maxHeight } = this.state;\r\n    const numSelected = selected.length;\r\n\r\n    return (\r\n      <div id={id}>\r\n        <Toolbar\r\n          className={classNames(classes.root, {\r\n            [classes.highlight]: numSelected > 0,\r\n          })}\r\n        >\r\n          <div className={classes.title}>\r\n            {numSelected > 0 ? (\r\n              <span color=\"inherit\" className={classes.selected}>\r\n                {numSelected} \r\n              </span>\r\n            ) : title && showTitle && common.isEmpty(filters) ? title : null }\r\n            {Object.keys(filters).map(name => {\r\n              let value = filters[name];\r\n              if (value && value.value) {\r\n                // \r\n                value = value.value;\r\n              }\r\n              const column = common.getFromList(tableHead, 'name', name);\r\n              return (\r\n                <Chip\r\n                  key={name}\r\n                  label={common.getLabelFromColumn(value, column)}\r\n                  className={classes.chip}\r\n                  onDelete={this.handleDeleteFilter(name)}\r\n                />\r\n              );\r\n            })}\r\n          </div>\r\n          <div className={classes.spacer} />\r\n          <div className={classes.actions}>\r\n            {this.createActions()}\r\n            {(addProps && addProps.visible !== false && common.isEmpty(selected)) ? (\r\n              <Tooltip title=\"\" placement='bottom' enterDelay={300}>\r\n                <IconButton aria-label=\"Add\" onClick={this.onShowAddDialog}>\r\n                  <AddIcon color='secondary' />\r\n                </IconButton>\r\n              </Tooltip>\r\n            ) : null}\r\n            {(editProps\r\n               && Array.isArray(selected) \r\n               && selected.length === 1 \r\n               && (typeof(editProps.visible) === 'function' ? editProps.visible(selected[0]) : editProps.visible !== false)\r\n            ) ? (\r\n              <Tooltip title=\"\" placement='bottom' enterDelay={300}>\r\n                <IconButton aria-label=\"Edit\" onClick={this.onShowEditDialog}>\r\n                  <EditIcon />\r\n                </IconButton>\r\n              </Tooltip>\r\n            ) : null}\r\n            {(deleteProps\r\n               && Array.isArray(selected) \r\n               && selected.length === 1 \r\n               && (typeof(deleteProps.visible) === 'function' ? deleteProps.visible(selected[0]) : deleteProps.visible !== false)\r\n            ) ? (\r\n              <Tooltip title=\"\" placement='bottom' enterDelay={300}>\r\n                <IconButton aria-label=\"Delete\" onClick={this.onShowDeleteDialog}>\r\n                  <DeleteIcon />\r\n                </IconButton>\r\n              </Tooltip>\r\n            ) : null}\r\n            {allowCsv ? this.createCsvAction() : null}\r\n            {!common.isEmpty(filters) ? (\r\n              <Tooltip title=\"\" placement='bottom' enterDelay={300}>\r\n                <IconButton aria-label=\"ClearAll\" onClick={this.handleClearFilter}>\r\n                  <ClearAllIcon />\r\n                </IconButton>\r\n              </Tooltip>\r\n            ) : null}\r\n            {tableHead.filter(col => col.searchable === true).length > 0 ? (\r\n              isWidthDown('xs', width) ? (\r\n                <Tooltip title=\"\" placement='bottom' enterDelay={300}>\r\n                  { openFilter === true ? (\r\n                    <IconButton aria-label=\"Filter list\" onClick={this.handleCloseFilter}>\r\n                      <CloseIcon />\r\n                    </IconButton>\r\n                  ) : (\r\n                    <IconButton aria-label=\"Filter list\" onClick={this.handleOpenFilter}>\r\n                      <FilterListIcon />\r\n                    </IconButton>\r\n                  )}\r\n                </Tooltip>\r\n              ) : (\r\n                <ClickAwayListener onClickAway={this.handleCloseFilter}>\r\n                  <span>\r\n                    <Tooltip title=\"\" placement='bottom' enterDelay={300}>\r\n                      <IconButton aria-label=\"Filter list\" onClick={this.handleOpenFilter}>\r\n                        <FilterListIcon />\r\n                      </IconButton>\r\n                    </Tooltip>\r\n                    <Popper\r\n                      open={openFilter}\r\n                      transition\r\n                      disablePortal\r\n                      placement='bottom-end'\r\n                      anchorEl={anchorEl}\r\n                      style={{zIndex: 10}}\r\n                    >\r\n                      <Paper className={classes.filter} elevation={8} style={{maxHeight: maxHeight}}>\r\n                        {createFormLayout(\r\n                          filters,\r\n                          tableHead.filter(col => col.searchable === true),\r\n                          filterLayout,\r\n                          false,\r\n                          null,\r\n                          null,\r\n                          null,\r\n                          null,\r\n                          () => this.handleChange,\r\n                          null,\r\n                        )}\r\n                      </Paper>\r\n                    </Popper>\r\n                  </span>\r\n                </ClickAwayListener>\r\n              )\r\n            ) : null}\r\n          </div>\r\n        </Toolbar>\r\n        { isWidthDown('xs', width) ? (\r\n          <div>\r\n            <Collapse in={openFilter} timeout='auto' unmountOnExit>\r\n              {createFormLayout(\r\n                filters,\r\n                tableHead.filter(col => col.searchable === true),\r\n                filterLayout,\r\n                false,\r\n                null,\r\n                null,\r\n                null,\r\n                null,\r\n                () => this.handleChange,\r\n                null,\r\n              )}\r\n            </Collapse>\r\n          </div>\r\n        ) : null}\r\n        {/*  */}\r\n        {(addProps && addProps.visible !== false && common.isEmpty(selected)) ? (\r\n          <FormDialog\r\n            title={`${title}`}\r\n            innerRef={(dlg) => { this._showAddDialog = dlg && dlg.handleOpen }}\r\n            {...addProps}\r\n          />\r\n        ) : null}\r\n        {/*  */}\r\n        {(editProps && editProps.visible !== false && Array.isArray(selected) && selected.length === 1) ? (\r\n          <FormDialog\r\n            title={`${title}`}\r\n            innerRef={(dlg) => { this._showModel = dlg && dlg.handleOpen }}\r\n            {...editProps}\r\n            saveCallback={saveCallback}\r\n          />\r\n        ) : null}\r\n        {/*  */}\r\n        {(deleteProps && deleteProps.visible !== false && Array.isArray(selected) && selected.length === 1) ? (\r\n          <ConfirmDialog\r\n            title=''\r\n            innerRef={(dlg) => { this._showDeleteConfirm = dlg && dlg.handleOpen }}\r\n            onOk={() => {\r\n              deleteProps.handleDelete(this.props.selected[0]).then(() => clearSelected())\r\n            }}\r\n          />\r\n        ) : null}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nDataTableToolbar.propTypes = {\r\n  showTitle: PropTypes.bool,\r\n  filters: PropTypes.object,\r\n  filterLayout: PropTypes.array,\r\n  addProps: PropTypes.shape({\r\n    title: PropTypes.string,\r\n    schema: PropTypes.array.isRequired,\r\n    handleOk: PropTypes.func.isRequired,\r\n    visible: PropTypes.oneOfType([PropTypes.bool, PropTypes.func]),\r\n  }),\r\n  editProps: PropTypes.shape({\r\n    title: PropTypes.string,\r\n    schema: PropTypes.array.isRequired,\r\n    handleOk: PropTypes.func.isRequired,\r\n    visible: PropTypes.oneOfType([PropTypes.bool, PropTypes.func]),\r\n  }),\r\n  saveCallback: PropTypes.func,\r\n  deleteProps: PropTypes.shape({\r\n    handleDelete: PropTypes.func.isRequired,\r\n    visible: PropTypes.oneOfType([PropTypes.bool, PropTypes.func]),\r\n  }),\r\n};\r\nDataTableToolbar.defaultProps = {\r\n  showTitle: true,\r\n  filters: {},\r\n  addProps: null,\r\n  editProps: null,\r\n  deleteProps: null,\r\n};\r\n\r\nexport default withStyles(styles)(withWidth()(DataTableToolbar));\r\n","import React from \"react\";\r\nimport uuid from 'uuid';\r\nimport PropTypes from \"prop-types\";\r\n// @material-ui/core components\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport {\r\n  Table,\r\n  TableRow,\r\n  TableBody,\r\n  TableCell,\r\n  Checkbox,\r\n  withWidth,\r\n  isWidthDown,\r\n} from \"@material-ui/core\";\r\n// core components\r\nimport DataTableCell from './DataTableCell';\r\nimport DataTableHead from './DataTableHead';\r\nimport DataTableFixedHead from './DataTableFixedHead';\r\nimport DataTableToolbar from \"./DataTableToolbar\";\r\nimport { isSelected, onRowSelect, handleMinWidth } from './Common';\r\nimport tableStyle from \"../assets/css/datatable\";\r\nimport { common, constant, table } from \"../utils\";\r\n\r\nconst indent = 8;\r\n\r\nclass MyHierarchyTable extends React.Component {\r\n  tableId = uuid();\r\n  toolbarId = uuid();\r\n  fixedTableId = uuid();\r\n  fixedHeaderId = uuid();\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      tableData: table.initTableData(props.tableData),\r\n      selected: [],\r\n    }\r\n  }\r\n\r\n  handleFixedHeader = () => {\r\n    let { pushpinTop, width } = this.props;\r\n    if (!isWidthDown('xs', width)) {\r\n      common.setFixedTableHeader(this.fixedHeaderId, this.toolbarId, this.tableId, this.fixedTableId, pushpinTop);\r\n    }\r\n  };\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('scroll', this.handleFixedHeader);\r\n    window.addEventListener('resize', this.handleFixedHeader);\r\n    handleMinWidth(this.tableId, this.props.tableStyles);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('scroll', this.handleFixedHeader);\r\n    window.removeEventListener('resize', this.handleFixedHeader);\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    this.handleFixedHeader();\r\n    handleMinWidth(this.tableId, this.props.tableStyles);\r\n  }\r\n\r\n  getAllRows() {\r\n    const { relatedName } = this.props;\r\n    const { tableData } = this.state;\r\n    const rootRows = common.isEmpty(tableData) ? [] : tableData.filter(row => row[relatedName] === null);\r\n    let rows = [];\r\n    rootRows.map(row => {\r\n      return this.getChildRows(rows, row);\r\n    });\r\n    return rows;\r\n  }\r\n\r\n  getChildRows(items, item, deep=0) {\r\n    const { relatedName, pk } = this.props;\r\n    const { tableData } = this.state;\r\n    const children = tableData.filter(sub => sub[relatedName] === item[pk]);\r\n\r\n    items.push(this.getTableRow(item, deep));\r\n    children.map(sub => {\r\n      return this.getChildRows(items, sub, deep + 1);\r\n    });\r\n  }\r\n\r\n  getTableRow(row, deep) {\r\n    const { classes, tableHead, selectable } = this.props;\r\n    const { selected } = this.state;\r\n    const is_selected = isSelected(row, selected);\r\n\r\n    return (\r\n      <TableRow\r\n        key={row.__index__}\r\n        hover\r\n      >\r\n        { selectable === 'single' ? (\r\n          <TableCell padding=\"none\">\r\n            <Checkbox checked={is_selected} onClick={() => this.setState(onRowSelect(row, selectable, selected))} />\r\n          </TableCell>\r\n        ) : null }\r\n        {tableHead.map((col, key) => {\r\n          let paddingLeft = key === 0 ? ((deep * 30) || indent) : indent;\r\n          return (\r\n            <DataTableCell\r\n              key={key}\r\n              classes={classes}\r\n              column={col}\r\n              data={row}\r\n              style={{paddingLeft: paddingLeft}}\r\n            />\r\n          );\r\n        })}\r\n      </TableRow>\r\n    );\r\n  }\r\n\r\n  render () {\r\n    const { \r\n      classes, title, tableHeaderColor, tableHead, tableData, tableActions, rowActions, tableProps, allowCsv, pk, selectable, width,\r\n    } = this.props;\r\n    const { selected } = this.state;\r\n    const rows = this.getAllRows();\r\n    const toolbar = tableActions ? true : (rowActions ? true : false);\r\n\r\n    const headerProps = {\r\n      classes: classes,\r\n      tableHeaderColor: tableHeaderColor,\r\n      tableHead: tableHead,\r\n      actions: tableActions ? tableActions : (rowActions ? true : false),\r\n      selectable: selectable,\r\n    };\r\n    const toolbarProps = {\r\n      title: title,\r\n      tableHead: tableHead,\r\n      tableData: tableData,\r\n      tableActions: tableActions,\r\n      rowActions: rowActions,\r\n      allowCsv: allowCsv,\r\n      selected: selected,\r\n      pk: pk,\r\n    }\r\n\r\n    return (\r\n      <div className={classes.tableResponsive}>\r\n        {toolbar ? (\r\n          <DataTableToolbar\r\n            id={this.toolbarId}\r\n            {...toolbarProps}\r\n          />\r\n        ) : null}\r\n        <div style={{width: 'auto', overflowX: \"auto\"}}>\r\n        <Table className={classes.table} id={this.tableId} {...tableProps}>\r\n          <DataTableHead\r\n            {...headerProps}\r\n          />\r\n          <TableBody>\r\n            {rows.length > 0 ? (\r\n              rows.map(row => {\r\n                return row;\r\n              })\r\n            ) : (\r\n              <TableRow\r\n                className={classes.tableRow}\r\n              >\r\n                <TableCell colSpan={tableHead.length + (selectable === 'none' ? 0 : 1)}>\r\n                  {constant.INFO.NO_DATA}\r\n                </TableCell>\r\n              </TableRow>\r\n            )}\r\n          </TableBody>\r\n        </Table>\r\n        </div>\r\n        {!isWidthDown('xs', width) ? (\r\n          <DataTableFixedHead\r\n            id={this.fixedHeaderId}\r\n            tableId={this.fixedTableId}\r\n            classes={classes}\r\n            tableHeader={\r\n              <DataTableHead\r\n                {...headerProps}\r\n              />\r\n            }\r\n            toolbar={\r\n              toolbar ? (\r\n                <DataTableToolbar\r\n                  {...toolbarProps}\r\n                />\r\n              ) : null\r\n            }\r\n          />\r\n        ) : null }\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nMyHierarchyTable.propTypes = {\r\n  ...constant.tableProps,\r\n  ...constant.tableActionProps,\r\n  title: PropTypes.string,\r\n  selectable: PropTypes.oneOf(['none', 'single']),\r\n  relatedName: PropTypes.string,\r\n  pk: PropTypes.string,\r\n  pushpinTop: PropTypes.number,\r\n};\r\n\r\nMyHierarchyTable.defaultProps = {\r\n  ...constant.tablePropsDefault,\r\n  ...constant.tableActionPropsDefault,\r\n  selectable: 'none',\r\n  relatedName: 'parent',\r\n  pk: 'id',\r\n  pushpinTop: 0,\r\n};\r\n\r\nconst HierarchyTable = withStyles(tableStyle)(withWidth()(MyHierarchyTable))\r\nexport { HierarchyTable } ;\r\n","import React from 'react';\r\nimport PropTypes from \"prop-types\";\r\nimport {\r\n  TableRow,\r\n  TableCell,\r\n} from \"@material-ui/core\";\r\nimport { getCellAlignment } from './Common';\r\nimport { common } from '../utils';\r\n\r\nclass AggregateFooter extends React.Component {\r\n  data = {}\r\n\r\n  getAggregateValue = (column) => {\r\n    const { tableData } = this.props;\r\n    const { aggregate, name } = column;\r\n\r\n    if (aggregate === 'sum') {\r\n      const total = tableData.reduce((sum, row) => {\r\n        return sum + (row[name] || 0);\r\n      }, 0);\r\n      this.data[name] = total;\r\n      return common.toNumComma(total);\r\n    } else if (typeof aggregate === 'function') {\r\n      return common.getColumnDisplay(aggregate(this.data), column);\r\n    } else {\r\n      return 0;\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { classes, tableHead, selectable } = this.props;\r\n    let chkCell = null;\r\n    if (selectable !== 'none') {\r\n      chkCell = (\r\n        <TableCell padding=\"none\" />\r\n      );\r\n    }\r\n\r\n    if (tableHead === undefined) {\r\n      return null;\r\n    } else {\r\n      return (\r\n        <TableRow\r\n          className={classes.tableRow}\r\n        >\r\n          {chkCell}\r\n          {tableHead.map((col, key) => {\r\n            if (col.aggregate) {\r\n              return (\r\n                <TableCell\r\n                  key={key}\r\n                  className={classes.tableCell}\r\n                  align={getCellAlignment(col.type).align}\r\n                >\r\n                  {this.getAggregateValue(col)}\r\n                </TableCell>\r\n              );\r\n            } else {\r\n              return (<TableCell key={key} />)\r\n            }\r\n          })}\r\n        </TableRow>\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nAggregateFooter.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  tableHead: PropTypes.arrayOf(PropTypes.object),\r\n  tableData: PropTypes.arrayOf(PropTypes.object),\r\n  selectable: PropTypes.oneOf(['none', 'single', 'multiple']),\r\n};\r\n\r\nAggregateFooter.defaultProps = {\r\n  tableHead: [],\r\n  tableData: [],\r\n  selectable: 'none',\r\n};\r\n\r\nexport default AggregateFooter;\r\n","import React from \"react\";\r\nimport { withRouter } from 'react-router-dom';\r\nimport uuid from 'uuid';\r\nimport PropTypes from \"prop-types\";\r\n// @material-ui/core components\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport {\r\n  Table,\r\n  TableRow,\r\n  TableBody,\r\n  TableCell,\r\n  Checkbox,\r\n  TableFooter,\r\n  withWidth,\r\n  isWidthDown,\r\n} from \"@material-ui/core\";\r\n// core components\r\nimport DataTableCell from './DataTableCell';\r\nimport DataTableHead from './DataTableHead';\r\nimport DataTablePagination from './DataTablePagination';\r\nimport DataTableToolbar from \"./DataTableToolbar\";\r\nimport DataTableFixedHead from \"./DataTableFixedHead\";\r\nimport tableStyle from \"../assets/css/datatable\";\r\nimport { common, constant, table } from \"../utils\";\r\nimport AggregateFooter from \"./AggregateFooter\";\r\nimport { handleMinWidth } from './Common';\r\n\r\nclass MyEnhancedTable extends React.Component {\r\n  tableId = uuid();\r\n  toolbarId = uuid();\r\n  fixedTableId = uuid();\r\n  fixedHeaderId = uuid();\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.handleChangePage = this.handleChangePage.bind(this);\r\n    this.handleChangeRowsPerPage = this.handleChangeRowsPerPage.bind(this);\r\n    this.handleSort = this.handleSort.bind(this);\r\n    this.handleChangeFilter = this.handleChangeFilter.bind(this);\r\n    this.isSelected = this.isSelected.bind(this);\r\n    this.handleRowSelect = this.handleRowSelect.bind(this);\r\n    this.handleSelectAllClick = this.handleSelectAllClick.bind(this);\r\n    this.clearSelected = this.clearSelected.bind(this);\r\n    this.handleSaveCallback = this.handleSaveCallback.bind(this);\r\n    this.state = {\r\n      tableData: table.initTableData(props.tableData),\r\n      selected: [],\r\n      ...this.initialize(props),\r\n    };\r\n  }\r\n\r\n  initialize = (props) => {\r\n    const { location, rowsPerPage } = this.props;\r\n    const json = common.urlToJson(location.search);\r\n    const order = table.getOrder(location)\r\n    let state = {\r\n      page: 0,\r\n      rowsPerPage: rowsPerPage,\r\n      order: 'asc',\r\n      orderBy: '',\r\n      orderNumeric: false,\r\n      filters: {},\r\n    };\r\n    if (order) {\r\n      state['order'] = order.__order;\r\n      state['orderBy'] = order.__orderBy;\r\n      state['orderNumeric'] = order.__orderNumeric;\r\n    }\r\n    if (json.__rowsPerPage) {\r\n      state['rowsPerPage'] = common.toInteger(json.__rowsPerPage);\r\n    }\r\n    if (json.__page) {\r\n      state['page'] = common.toInteger(json.__page);\r\n    }\r\n    // \r\n    const urlFilters = table.loadFilters(location, props.tableHead);\r\n    const storageFilter = this.getFilter();\r\n    if (!common.isEmpty(storageFilter)) {\r\n      state['filters'] = storageFilter;\r\n    } else if (!common.isEmpty(urlFilters)) {\r\n      state['filters'] = urlFilters;\r\n    }\r\n    return state;\r\n  };\r\n\r\n  handleFixedHeader = () => {\r\n    const { pushpinTop, width } = this.props;\r\n    if (!isWidthDown('xs', width)) {\r\n      common.setFixedTableHeader(this.fixedHeaderId, this.toolbarId, this.tableId, this.fixedTableId, pushpinTop);\r\n    }\r\n  };\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('scroll', this.handleFixedHeader);\r\n    window.addEventListener('resize', this.handleFixedHeader);\r\n    handleMinWidth(this.tableId, this.props.tableStyles);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('scroll', this.handleFixedHeader);\r\n    window.removeEventListener('resize', this.handleFixedHeader);\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    this.handleFixedHeader();\r\n    handleMinWidth(this.tableId, this.props.tableStyles);\r\n  }\r\n\r\n  UNSAFE_componentWillReceiveProps(nextProps) {\r\n    if (JSON.stringify(this.props.tableData) !== JSON.stringify(nextProps.tableData)) {\r\n      const { selected } = this.state;\r\n      const tableData = table.initTableData(nextProps.tableData);\r\n      this.setState({tableData});\r\n      if (!common.isEmpty(selected)) {\r\n        // \r\n        let pkList = [];\r\n        let key = null;\r\n        for (let data of selected) {\r\n          if (!key) {\r\n            key = this.getDataKey(data);\r\n          }\r\n          pkList.push(data[key]);\r\n        }\r\n        const newSelected = tableData.filter(row => pkList.indexOf(row[key]) >= 0);\r\n        this.setState({ selected: newSelected });\r\n      }\r\n    }\r\n  }\r\n\r\n  handleChangePage = (event, page) => {\r\n    this.handleFixedHeader();\r\n    this.setState({page});\r\n    const { urlReflect, location, history } = this.props;\r\n    if (urlReflect === true) {\r\n      table.changePaginationUrl(page, location, history);\r\n    }\r\n  };\r\n\r\n  handleChangeRowsPerPage = event => {\r\n    this.handleFixedHeader();\r\n    if (this.props.server) {\r\n    } else {\r\n      this.setState({ rowsPerPage: event.target.value });\r\n    }\r\n    // 1\r\n    this.handleChangePage(event, 0);\r\n    const { urlReflect, location, history } = this.props;\r\n    if (urlReflect === true) {\r\n      table.changePageSizeUrl(event.target.value, location, history);\r\n    }\r\n  };\r\n\r\n  handleSort = (event, property, orderNumeric) => {\r\n    const orderBy = property;\r\n    let order = 'desc';\r\n\r\n    if (this.state.orderBy === property && this.state.order === 'desc') {\r\n      order = 'asc';\r\n    }\r\n    this.handleFixedHeader();\r\n    this.setState({ order, orderBy, orderNumeric });\r\n    const { urlReflect, location, history } = this.props;\r\n    if (urlReflect === true) {\r\n      table.changeOrderUrl(order, orderBy, orderNumeric, location, history);\r\n    }\r\n  };\r\n\r\n  handleChangeFilter = (event, filters) => {\r\n    const { tableHead } = this.props;\r\n    this.handleFixedHeader();\r\n    filters = table.resetFilter(filters, tableHead);\r\n    this.setState({ filters });\r\n    this.saveFilter(filters);\r\n    // 1\r\n    this.handleChangePage(event, 0);\r\n    const { urlReflect, location, history } = this.props;\r\n    if (urlReflect === true) {\r\n      table.changeFilterUrl(filters, location, history);\r\n    }\r\n  };\r\n\r\n  /**\r\n   * \r\n   * \r\n   */\r\n  saveFilter = (filters) => {\r\n    const { location, storageKey } = this.props;\r\n    if (storageKey) {\r\n      localStorage.setItem(`${location.pathname}-key-${storageKey}`, JSON.stringify(filters));\r\n    }\r\n  };\r\n\r\n  /**\r\n   * \r\n   * \r\n   */\r\n  getFilter = () => {\r\n    const { location, storageKey } = this.props;\r\n    if (storageKey) {\r\n      const data = localStorage.getItem(`${location.pathname}-key-${storageKey}`);\r\n      return JSON.parse(data);\r\n    } else {\r\n      return {};\r\n    }\r\n  }\r\n\r\n  isSelected = (data) => {\r\n    if (!data) {\r\n      return false;\r\n    }\r\n    const { selected } = this.state;\r\n    let key = this.getDataKey(data);\r\n\r\n    if (!selected) {\r\n      return false;\r\n    } else {\r\n      return selected.filter(row => row[key] === data[key]).length > 0;\r\n    }\r\n  };\r\n\r\n  getDataKey = (data) => {\r\n    const { pk } = this.props;\r\n    let key = null;\r\n    if (data.__index__ !== null && data.__index__ !== undefined) {\r\n      key = '__index__';\r\n    } else {\r\n      key = pk;\r\n    }\r\n    return key;\r\n  }\r\n\r\n  handleRowSelect = (data) => {\r\n    if (this.props.selectable === 'none') {\r\n      return;\r\n    }\r\n    const { selected } = this.state;\r\n    const isSelected = this.isSelected(data);\r\n    let newSelected = [];\r\n    if (this.props.selectable === 'multiple') {\r\n      if (isSelected === true) {\r\n        const selectedIndex = selected.indexOf(data);\r\n        newSelected = newSelected.concat(\r\n          selected.slice(0, selectedIndex),\r\n          selected.slice(selectedIndex + 1),\r\n        );\r\n      } else {\r\n        newSelected = newSelected.concat(selected, data);\r\n      }\r\n    } else if (this.props.selectable === 'single') {\r\n      if (isSelected === true) {\r\n        newSelected = [];\r\n      } else {\r\n        newSelected = [data];\r\n      }\r\n    }\r\n\r\n    this.setState({ selected: newSelected });\r\n  };\r\n\r\n  handleSelectAllClick = (event, checked) => {\r\n    if (checked) {\r\n      const { filters, tableData } = this.state;\r\n      const results = common.stableFilter(tableData, filters);\r\n      this.setState({ selected: results });\r\n      return;\r\n    } else {\r\n      this.clearSelected();\r\n    }\r\n  };\r\n\r\n  clearSelected = () => {\r\n    this.setState({ selected: [] });\r\n  };\r\n\r\n  handleSaveCallback = (data) => {\r\n    const { selected } = this.state;\r\n    if (Array.isArray(selected) && selected.length === 1) {\r\n      // \r\n      this.setState({selected: [data]});\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      classes, tableHead, tableActions, rowActions, toolbar, selectable, allowCsv, pk, showTitle, showAggregate,\r\n      addProps, editProps, deleteProps, filterLayout, width,\r\n    } = this.props;\r\n    const { tableData, filters, page, rowsPerPage, order, orderBy, orderNumeric, selected } = this.state;\r\n    let results = common.stableSort(tableData, common.getSorting(order, orderBy, orderNumeric));\r\n    if (!common.isEmpty(filters)) {\r\n      results = common.stableFilter(results, filters);\r\n    }\r\n    const headerProps = {\r\n      classes: classes,\r\n      tableHeaderColor: this.props.tableHeaderColor,\r\n      tableHead: tableHead,\r\n      onSort: this.handleSort,\r\n      order: order,\r\n      orderBy: orderBy,\r\n      selectable: selectable,\r\n      selected: selected,\r\n      data: results,\r\n      onSelectAllClick: this.handleSelectAllClick,\r\n    };\r\n    const toolbarProps = {\r\n      title: this.props.title,\r\n      showTitle: showTitle,\r\n      filters: filters,\r\n      filterLayout: filterLayout,\r\n      tableHead: tableHead,\r\n      tableData: results,\r\n      selected: selected,\r\n      onChangeFilter: this.handleChangeFilter,\r\n      tableActions: tableActions,\r\n      rowActions: rowActions,\r\n      allowCsv: allowCsv,\r\n      pk: pk,\r\n      addProps: addProps,\r\n      editProps: editProps,\r\n      saveCallback: this.handleSaveCallback,\r\n      deleteProps: deleteProps,\r\n      clearSelected: this.clearSelected,\r\n    };\r\n\r\n    return (\r\n      <div className={classes.tableResponsive}>\r\n        {toolbar ? (\r\n          <DataTableToolbar\r\n            id={this.toolbarId}\r\n            {...toolbarProps}\r\n          />\r\n        ) : null}\r\n        <div style={{width: 'auto', overflowX: \"auto\"}} onScroll={this.handleFixedHeader}>\r\n        <Table className={classes.table} id={this.tableId} {...this.props.tableProps}>\r\n          <DataTableHead\r\n            {...headerProps}\r\n          />\r\n          <TableBody>\r\n            {results.length > 0 ? (\r\n              common.getDataForDisplay(results, rowsPerPage, page)\r\n              .map((row, key) => {\r\n                const rowStyles = common.getExtraRowStyles(row, tableHead);\r\n                const isSelected = this.isSelected(row);\r\n                let chkCell = null;\r\n                if (selectable === 'multiple' || selectable === 'single') {\r\n                  chkCell = (\r\n                    <TableCell padding=\"none\">\r\n                      <Checkbox checked={isSelected} onClick={() => this.handleRowSelect(row)} />\r\n                    </TableCell>\r\n                  );\r\n                }\r\n                return (\r\n                  <TableRow\r\n                    key={key}\r\n                    className={classes.tableRow}\r\n                    role=\"checkbox\"\r\n                    aria-checked={isSelected}\r\n                    selected={isSelected}\r\n                    style={{...rowStyles}}\r\n                  >\r\n                    {chkCell}\r\n                    {tableHead.map((col, key) => {\r\n                      return (\r\n                        <DataTableCell\r\n                          key={key}\r\n                          classes={classes}\r\n                          column={col}\r\n                          data={row}\r\n                        />\r\n                      );\r\n                    })}\r\n                  </TableRow>\r\n                );\r\n              })\r\n            ) : (\r\n              <TableRow\r\n                className={classes.tableRow}\r\n              >\r\n                <TableCell colSpan={tableHead.length + (selectable === 'none' ? 0 : 1)}>\r\n                  {constant.INFO.NO_DATA}\r\n                </TableCell>\r\n              </TableRow>\r\n            ) }\r\n          </TableBody>\r\n          <TableFooter>\r\n            {results.length > 0 && showAggregate === true ? (\r\n              <AggregateFooter\r\n                classes={classes}\r\n                tableHead={tableHead}\r\n                tableData={results}\r\n                selectable={selectable}\r\n              />\r\n            ) : null }\r\n          </TableFooter>\r\n        </Table>\r\n        </div>\r\n        <DataTablePagination\r\n          component=\"div\"\r\n          count={results.length}\r\n          rowsPerPage={rowsPerPage}\r\n          rowsPerPageOptions={this.props.rowsPerPageOptions}\r\n          page={page}\r\n          backIconButtonProps={{\r\n            'aria-label': 'Previous Page',\r\n          }}\r\n          nextIconButtonProps={{\r\n            'aria-label': 'Next Page',\r\n          }}\r\n          onChangePage={this.handleChangePage}\r\n          onChangeRowsPerPage={this.handleChangeRowsPerPage}\r\n        />\r\n        {!isWidthDown('xs', width) ? (\r\n          <DataTableFixedHead\r\n            id={this.fixedHeaderId}\r\n            tableId={this.fixedTableId}\r\n            classes={classes}\r\n            tableHeader={\r\n              <DataTableHead\r\n                {...headerProps}\r\n              />\r\n            }\r\n            toolbar={\r\n              toolbar ? (\r\n                <DataTableToolbar\r\n                  {...toolbarProps}\r\n                />\r\n              ) : null\r\n            }\r\n          />\r\n        ) : null }\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nMyEnhancedTable.propTypes = {\r\n  ...constant.tableProps,\r\n  ...constant.tableActionProps,\r\n  selectable: PropTypes.oneOf(['none', 'single', 'multiple']),\r\n  pk: PropTypes.string,\r\n  rowsPerPage: PropTypes.number,\r\n  rowsPerPageOptions: PropTypes.array,\r\n  server: PropTypes.bool,\r\n  toolbar: PropTypes.bool,\r\n  filters: PropTypes.object,\r\n  filterLayout: PropTypes.array,\r\n  pushpinTop: PropTypes.number,\r\n  tableActions: PropTypes.arrayOf(PropTypes.object),\r\n  rowActions: PropTypes.arrayOf(PropTypes.object),\r\n  allowCsv: PropTypes.bool,\r\n  urlReflect: PropTypes.bool,\r\n  showTitle: PropTypes.bool,\r\n  showAggregate: PropTypes.bool,\r\n  addProps: PropTypes.shape({\r\n    title: PropTypes.string,\r\n    schema: PropTypes.array.isRequired,\r\n    handleOk: PropTypes.func.isRequired,\r\n    visible: PropTypes.oneOfType([PropTypes.bool, PropTypes.func]),\r\n  }),\r\n  editProps: PropTypes.shape({\r\n    title: PropTypes.string,\r\n    schema: PropTypes.array.isRequired,\r\n    handleOk: PropTypes.func.isRequired,\r\n    visible: PropTypes.oneOfType([PropTypes.bool, PropTypes.func]),\r\n  }),\r\n  deleteProps: PropTypes.shape({\r\n    handleDelete: PropTypes.func.isRequired,\r\n    visible: PropTypes.oneOfType([PropTypes.bool, PropTypes.func]),\r\n  }),\r\n  storageKey: PropTypes.oneOfType([\r\n    PropTypes.string,\r\n    PropTypes.number,\r\n  ]),\r\n};\r\n\r\nMyEnhancedTable.defaultProps = {\r\n  ...constant.tablePropsDefault,\r\n  ...constant.tableActionPropsDefault,\r\n  selectable: 'none',\r\n  pk: 'id',\r\n  rowsPerPage: 10,\r\n  rowsPerPageOptions: [5, 10, 25, 50, 100],\r\n  server: false,\r\n  toolbar: true,\r\n  filters: {},\r\n  pushpinTop: 0,\r\n  tableActions: [],\r\n  rowActions: [],\r\n  allowCsv: false,\r\n  urlReflect: false,\r\n  showTitle: false,\r\n  showAggregate: false,\r\n  addProps: null,\r\n  editProps: null,\r\n  deleteProps: null,\r\n};\r\n\r\nconst EnhancedTable = withRouter(withStyles(tableStyle)(withWidth()(MyEnhancedTable)));\r\nexport { EnhancedTable } ;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport {\r\n  Tooltip,\r\n  IconButton,\r\n  Button,\r\n} from '@material-ui/core';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport { grey } from '@material-ui/core/colors';\r\nimport { createFormLayout, validate_form, clean_form } from \"./common\";\r\nimport { common } from \"../utils\";\r\nimport { NonFieldErrors } from \"./NonFieldErrors\";\r\n\r\nconst styles = () => ({\r\n  inlineTable: {\r\n    width: '100%',\r\n  },\r\n  alternativeInline: {\r\n    backgroundColor: grey[100],\r\n  },\r\n  error: {\r\n    color: 'red',\r\n  },\r\n});\r\n\r\nclass MyInlineForm extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.handleAppendNew = this.handleAppendNew.bind();\r\n    this.clean = this.clean.bind();\r\n    this.state = {\r\n      data: this.initializeData(props),\r\n      errors: props.errors || {},\r\n    };\r\n  }\r\n\r\n  initializeData(props) {\r\n    if (props.schema) {\r\n      let data = props.data || [];\r\n      data.map(row => (\r\n        props.schema.map(col => {\r\n          if (common.isEmpty(row[col.name]) && col.default !== null && col.default !== undefined) {\r\n            row[col.name] = col.default;\r\n          }\r\n          return true;\r\n        })\r\n      ))\r\n      return data;\r\n    } else {\r\n      return [];\r\n    }\r\n  }\r\n\r\n  handleDeleteInline = index => () => {\r\n    let { data, errors } = this.state;\r\n    data.splice(index, 1);\r\n    if (errors) {\r\n      // Index\r\n      delete errors[index];\r\n      Object.keys(errors).map(key => {\r\n        if (key > index) {\r\n          const existErrors = errors[key];\r\n          delete errors[key];\r\n          errors[key - 1] = existErrors;\r\n        }\r\n        return true;\r\n      });\r\n    }\r\n    this.setState({data, errors});\r\n  };\r\n\r\n  handleAppendNew = () => {\r\n    this.setState(state => {\r\n      let data = state.data;\r\n      data.push({is_new: true});\r\n      return {data};\r\n    });\r\n  };\r\n\r\n  handleChange = (prefix, inlineIndex) => (name, value, type) => (event) => {\r\n    this.setState((state) => {\r\n      let data = state.data.slice();\r\n      data[inlineIndex][name] = value;\r\n      return {data: data};\r\n    });\r\n\r\n    this.props.onChanges.map(method => {\r\n      let data = this.state.data;\r\n      data[inlineIndex][name] = value;\r\n      const retVal = method(name, data, null, prefix, inlineIndex);\r\n      if (retVal) {\r\n        this.setState({data: retVal});\r\n      }\r\n      return true;\r\n    });\r\n  };\r\n\r\n  createAddComponent = () => {\r\n    return (\r\n      <div>\r\n        <Button fullWidth onClick={this.handleAppendNew}>\r\n          <AddIcon />\r\n        </Button>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  validate = () => {\r\n    const { schema, checkList } = this.props;\r\n    const { data } = this.state;\r\n    let errors = {};\r\n    const valid = validate_form(data, schema, checkList, errors);\r\n\r\n    const oldErrors = this.props.errors || {};\r\n    errors = Object.assign(oldErrors, errors)\r\n    this.setState({errors});\r\n    return valid;\r\n  };\r\n\r\n  clean = () => {\r\n    return clean_form(this.validate, this.state.data, this.props.schema);\r\n  }\r\n\r\n  render() {\r\n    const { classes, schema, layout, allowAdd, allowDelete, new_line_schema } = this.props;\r\n    const { data, errors } = this.state;\r\n    const non_field_errors = errors ? errors.non_field_errors : null;\r\n\r\n    if (Array.isArray(data) && data.length > 0) {\r\n      return (\r\n        <div>\r\n          <NonFieldErrors errors={non_field_errors} />\r\n          {data.map((row_data, key) => (\r\n            <div key={key}className={key % 2 ? classes.alternativeInline : null}>\r\n              <table className={classes.inlineTable}>\r\n                <tbody>\r\n                  <tr>\r\n                    <td>\r\n                      {createFormLayout(\r\n                        row_data,\r\n                        row_data.is_new === true ? new_line_schema : schema,\r\n                        layout,\r\n                        true,\r\n                        null,\r\n                        key,\r\n                        data,\r\n                        errors[key],\r\n                        this.handleChange\r\n                      )}\r\n                    </td>\r\n                    { allowDelete !== false ? (\r\n                      <td style={{width: 45}}>\r\n                        <Tooltip title='' placement='bottom' enterDelay={300}>\r\n                          <IconButton aria-label=\"Action\" onClick={this.handleDeleteInline(key)}>\r\n                            <CloseIcon />\r\n                          </IconButton>\r\n                        </Tooltip>\r\n                      </td>\r\n                    ) : null }\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          ))}\r\n          { allowAdd !== false ? this.createAddComponent() : null }\r\n        </div>\r\n      );\r\n    } else {\r\n      return (\r\n        <>\r\n          { allowAdd !== false ? this.createAddComponent() : null }\r\n        </>\r\n      )\r\n    }\r\n  }\r\n}\r\n\r\nMyInlineForm.propTypes = {\r\n  schema: PropTypes.array.isRequired,\r\n  layout: PropTypes.array,\r\n  data: PropTypes.array,\r\n  onChanges: PropTypes.arrayOf(PropTypes.func),\r\n  allowAdd: PropTypes.bool,\r\n  allowDelete: PropTypes.bool,\r\n};\r\n\r\nMyInlineForm.defaultProps = {\r\n  layout: [],\r\n  data: [],\r\n  onChanges: [],\r\n  allowAdd: true,\r\n  allowDelete: true,\r\n};\r\n\r\nconst InlineForm = withStyles(styles)(MyInlineForm);\r\nexport {InlineForm};\r\n","import { red } from '@material-ui/core/colors';\r\nimport {\r\n  defaultFont,\r\n} from './common';\r\n\r\nconst tableDetailStyle = {\r\n  avatar: {\r\n    backgroundColor: red[500],\r\n  },\r\n  title: {\r\n    fontSize: 20,\r\n    paddingBottom: 0,\r\n  },\r\n  table: {\r\n    marginBottom: \"0\",\r\n    width: \"100%\",\r\n    maxWidth: \"100%\",\r\n    backgroundColor: \"transparent\",\r\n    borderSpacing: \"0\",\r\n    borderCollapse: \"collapse\"\r\n  },\r\n  tableHeadCell: {\r\n    textAlign: 'right',\r\n    width: '30%',\r\n    minWidth: 100,\r\n  },\r\n  tableCell: {\r\n    \"& p\": {\r\n      lineHeight: \"1.42857143\",\r\n      fontSize: \"12px\",\r\n    },\r\n    ...defaultFont,\r\n    lineHeight: \"1.42857143\",\r\n    paddingLeft: \"8px\",\r\n    paddingRight: \"8px\",\r\n    verticalAlign: \"middle\",\r\n    // fontSize: \"12px\",\r\n  },\r\n  actions: {\r\n    padding: 16,\r\n  },\r\n};\r\n\r\nexport default tableDetailStyle;\r\n","import React from \"react\";\r\nimport PropTypes from 'prop-types';\r\nimport { Link } from 'react-router-dom';\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport {\r\n  Card,\r\n  CardHeader,\r\n  CardContent,\r\n  CardActions,\r\n  Avatar,\r\n  Table,\r\n  TableBody,\r\n  TableRow,\r\n  TableCell,\r\n  Typography,\r\n  Button,\r\n  Menu,\r\n  IconButton,\r\n} from '@material-ui/core';\r\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\r\nimport detailStyle from '../assets/css/detail';\r\nimport FormDialog from '../dialog/FormDialog';\r\nimport { common } from '../utils/index';\r\nimport ConfirmDialog from \"../dialog/ConfirmDialog\";\r\n\r\nclass MyTableDetail extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.onShowEditDialog = this.onShowEditDialog.bind(this);\r\n    this.state = {\r\n      open: false,\r\n      anchorEl: null,\r\n      data: props.data || {},\r\n    };\r\n  }\r\n\r\n  UNSAFE_componentWillReceiveProps(nextProps) {\r\n    if (JSON.stringify(this.props.data) !== JSON.stringify(nextProps.data)) {\r\n      this.setState({data: nextProps.data});\r\n    }\r\n  }\r\n\r\n  handleOpenMenu = (event) => {\r\n    this.setState({open: true, anchorEl: event.currentTarget});\r\n  };\r\n\r\n  handleCloseMenu = (event) => {\r\n    this.setState({open: false});\r\n  };\r\n\r\n  handleMenuListKeyDown = (event) => {\r\n    if (event.key === 'Tab') {\r\n      event.preventDefault();\r\n      this.setState({open: false});\r\n    }\r\n  };\r\n\r\n  getAvatar = () => {\r\n    const { classes, avatar } = this.props;\r\n    let avatarIcon = null;\r\n    if (typeof avatar === 'string') {\r\n      avatarIcon = (\r\n        <Avatar aria-label=\"Recipe\" className={classes.avatar} src={avatar}>\r\n          {avatar}\r\n        </Avatar>\r\n      );\r\n    }\r\n    return avatarIcon;\r\n  }\r\n  \r\n  onShowEditDialog = () => {\r\n    if (this._showEditDialog) {\r\n      const { data } = this.state;\r\n      this._showEditDialog(data);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { classes, title, schema, actions, editProps, deleteProps, cardMenuItems } = this.props;\r\n    const { open, anchorEl, data } = this.state;\r\n\r\n    return (\r\n      <div>\r\n        <Card>\r\n          <CardHeader\r\n            avatar={this.getAvatar()}\r\n            title={title}\r\n            titleTypographyProps={{className: classes.title}}\r\n            className={classes.title}\r\n            action={cardMenuItems ? (\r\n              <IconButton\r\n                aria-owns={anchorEl ? \"menu\" : null}\r\n                aria-haspopup=\"true\"\r\n                onClick={this.handleOpenMenu}\r\n              >\r\n                <MoreVertIcon />\r\n              </IconButton>\r\n            ) : null}\r\n          />\r\n          <CardContent>\r\n            <Table className={classes.table}>\r\n              <TableBody>\r\n                {schema.map(col => {\r\n                  const value = data[col.name];\r\n                  const display_name = common.getColumnDisplay(value, col, data);\r\n                  return (\r\n                    <TableRow key={col.name}>\r\n                      <TableCell className={classes.tableCell + ' ' + classes.tableHeadCell}>{col.label}</TableCell>\r\n                      <TableCell className={classes.tableCell}>\r\n                        {col.link ? (\r\n                          <Link to={common.formatStr(typeof col.link === 'function' ? col.link(data) : col.link, data)}>{display_name}</Link>\r\n                        ) : display_name}\r\n                      </TableCell>\r\n                    </TableRow>\r\n                  );\r\n                })}\r\n              </TableBody>\r\n            </Table>\r\n          </CardContent>\r\n          <CardActions className={classes.actions}>\r\n            { actions.map(button => {\r\n              return button;\r\n            })}\r\n            <Typography style={{flex: 1}} />\r\n            {!common.isEmpty(deleteProps) && deleteProps.visible !== false ? (\r\n              <Button\r\n                variant=\"contained\"\r\n                color=\"secondary\"\r\n                className={classes.button}\r\n                onClick={() => this.__confirm ? this.__confirm() : null} \r\n              >\r\n                \r\n              </Button>\r\n            ) : null}\r\n            {!common.isEmpty(editProps) && editProps.visible !== false ? (\r\n              <Button\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                className={classes.button}\r\n                onClick={this.onShowEditDialog}\r\n              >\r\n                \r\n              </Button>\r\n            ) : null}\r\n          </CardActions>\r\n        </Card>\r\n        {!common.isEmpty(editProps) && editProps.visible !== false ? (\r\n          <FormDialog\r\n            {...editProps}\r\n            handleOk={editProps.handleEdit}\r\n            ref={(dialog) => {this._showEditDialog = dialog && dialog.handleOpen}}\r\n          />\r\n        ) : null}\r\n        {!common.isEmpty(deleteProps) && deleteProps.visible !== false ? (\r\n          <ConfirmDialog\r\n            title=''\r\n            onOk={deleteProps.handleDelete}\r\n            innerRef={dlg => { this.__confirm = dlg && dlg.handleOpen }}\r\n          />\r\n        ) : null}\r\n        {cardMenuItems ? (\r\n          <Menu\r\n            anchorEl={anchorEl}\r\n            open={open}\r\n            onClose={this.handleCloseMenu}\r\n          >{cardMenuItems}</Menu>\r\n        ) : null}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nMyTableDetail.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  title: PropTypes.string,\r\n  data: PropTypes.object.isRequired,\r\n  schema: PropTypes.array.isRequired,\r\n  actions: PropTypes.arrayOf(PropTypes.object),\r\n  editProps: PropTypes.object,\r\n  deleteProps: PropTypes.object,\r\n  cardMenuItems: PropTypes.arrayOf(PropTypes.object),\r\n};\r\n\r\nMyTableDetail.defaultProps = {\r\n  actions: [],\r\n  editProps: {},\r\n  deleteProps: {},\r\n};\r\n\r\nconst TableDetail = withStyles(detailStyle)(MyTableDetail)\r\nexport { TableDetail } ;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n  withStyles,\r\n  Card,\r\n  CardContent,\r\n  CardHeader,\r\n  CardActions,\r\n  Button,\r\n} from '@material-ui/core';\r\nimport GridContainer from './Grid/GridContainer';\r\nimport GridItem from './Grid/GridItem';\r\nimport { Form, ConfirmDialog } from '../datatable';\r\nimport { ajax } from '../utils/common';\r\nimport { constant } from '../utils/constants';\r\nimport { Toast } from '.';\r\n\r\nconst styles = (theme) => ({\r\n  paper: {\r\n  },\r\n  buttons: {\r\n    textAlign: 'right',\r\n    flexGrow: 1,\r\n  },\r\n  button: {\r\n    margin: theme.spacing(1),\r\n  },\r\n  cardActions: {\r\n    padding: theme.spacing(2),\r\n  }\r\n});\r\n\r\nclass ActionForm extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.handleOk = this.handleOk.bind(this);\r\n    this.state = {\r\n      data: props.data,\r\n      errors: props.errors || {},\r\n    };\r\n  }\r\n\r\n  UNSAFE_componentWillReceiveProps(nextProps) {\r\n    if (JSON.stringify(this.props.data) !== JSON.stringify(nextProps.data)) {\r\n      this.setState({data: nextProps.data});\r\n    }\r\n  }\r\n\r\n  handleOk = () => {\r\n    if (this.__clean) {\r\n      const formData = this.__clean();\r\n      if (formData) {\r\n        const { methodName, saveEndpoint, saveCallback } = this.props;\r\n        ajax.getMethod(methodName)(saveEndpoint, formData).then(json => {\r\n          Toast.success(constant.SUCCESS.SAVED);\r\n          if (saveCallback) {\r\n            saveCallback(json);\r\n          }\r\n        }).catch(errors => {\r\n          this.setState({errors});\r\n          if ('detail' in errors) {\r\n            Toast.error(errors.detail);\r\n          } else {\r\n            Toast.error(constant.ERROR.FORM_CHECK_ERROR);\r\n          }\r\n        });\r\n      } else {\r\n        Toast.error(constant.ERROR.FORM_CHECK_ERROR);\r\n      }\r\n    }\r\n  };\r\n\r\n  handleDelete = () => {\r\n    const { deleteEndpoint, deleteCallback } = this.props;\r\n    ajax.fetchDelete(deleteEndpoint).then(() => {\r\n      Toast.success(constant.SUCCESS.DELETED);\r\n      if (deleteCallback) {\r\n        deleteCallback();\r\n      }\r\n    }).catch(errors => {\r\n      this.setState({errors});\r\n      Toast.error(errors.detail || constant.ERROR.DELETED_FAILURE);\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { classes, title, deleteEndpoint, ...formProps } = this.props;\r\n    const { data, errors } = this.state;\r\n\r\n    return (\r\n      <GridContainer>\r\n        <GridItem xs={12} sm={12} md={12}>\r\n          <Card>\r\n            {title ? (\r\n              <CardHeader\r\n                title={title}\r\n              />\r\n            ) : null}\r\n            <CardContent>\r\n              <Form\r\n                ref={(form) => {\r\n                  this.__clean = form && form.clean;\r\n                  this.__toastError = form && form.toastError;\r\n                }}\r\n                {...formProps}\r\n                data={data}\r\n                errors={errors}\r\n              />\r\n            </CardContent>\r\n            <CardActions className={classes.cardActions}>\r\n              <div className={classes.buttons}>\r\n                {deleteEndpoint ? (\r\n                  <Button\r\n                    className={classes.button}\r\n                    onClick={() => this.__confirm ? this.__confirm() : null} \r\n                    variant=\"contained\" \r\n                    color=\"secondary\"\r\n                  >\r\n                    \r\n                  </Button>\r\n                ) : null}\r\n                <Button\r\n                  onClick={this.handleOk} \r\n                  variant=\"contained\" \r\n                  color=\"primary\"\r\n                  autoFocus={true}\r\n                >\r\n                  \r\n                </Button>\r\n              </div>\r\n            </CardActions>\r\n          </Card>\r\n        </GridItem>\r\n        <ConfirmDialog\r\n          title=''\r\n          innerRef={dlg => { this.__confirm = dlg && dlg.handleOpen }}\r\n          onOk={this.handleDelete}\r\n        />\r\n      </GridContainer>\r\n    );\r\n  }\r\n}\r\n\r\nActionForm.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  title: PropTypes.string,\r\n  data: PropTypes.object,\r\n  methodName: PropTypes.oneOf(['POST', 'PUT', 'DELETE']).isRequired,\r\n  saveEndpoint: PropTypes.string.isRequired,\r\n  saveCallback: PropTypes.func,\r\n  deleteEndpoint: PropTypes.string,\r\n  deleteCallback: PropTypes.func,\r\n}\r\n\r\nexport default withStyles(styles)(ActionForm);","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Grid, Typography } from '@material-ui/core';\r\nimport { constant } from '../utils/constants';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  paper: {\r\n    padding: theme.spacing(2),\r\n    paddingTop: 100,\r\n    textAlign: 'center',\r\n    color: theme.palette.text.secondary,\r\n    minHeight: 200,\r\n    marginBottom: theme.spacing(3),\r\n  },\r\n  statusCode: {\r\n    textAlign: 'right',\r\n    marginRight: theme.spacing(3),\r\n  },\r\n  errorMsg: {\r\n    textAlign: 'left',\r\n    marginLeft: theme.spacing(3),\r\n  },\r\n}));\r\n\r\nexport default function HttpStatus(props) {\r\n  const classes = useStyles();\r\n\r\n  const { statusCode, message } = props;\r\n\r\n  return (\r\n    <div className={classes.paper}>\r\n      <Grid container>\r\n        <Grid item xs={6} xm={6}>\r\n          <Typography className={classes.statusCode} variant=\"h2\" color=\"error\">\r\n            {statusCode}\r\n          </Typography>\r\n        </Grid>\r\n        <Grid item xs={6} xm={6} style={{borderLeft: '1px solid lightgray'}}>\r\n          <div className={classes.errorMsg}>\r\n            <Typography variant=\"subtitle1\">Sorry!</Typography>\r\n            <Typography variant=\"body1\">{message}</Typography>\r\n          </div>\r\n        </Grid>\r\n      </Grid>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport const HttpNotFound = () => (\r\n  <HttpStatus\r\n    statusCode={404}\r\n    message={constant.ERROR.HTTP_NOT_FOUND}\r\n  />\r\n);\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { CircularProgress, Typography } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  paper: {\r\n    padding: theme.spacing(2),\r\n    paddingTop: 100,\r\n    textAlign: 'center',\r\n    color: theme.palette.text.secondary,\r\n    minHeight: 200,\r\n    marginBottom: theme.spacing(3),\r\n  },\r\n}));\r\n\r\nconst Waiting = (props) => {\r\n  const classes = useStyles();\r\n  const { placeholder } = props;\r\n\r\n  return (\r\n    <div className={classes.paper}>\r\n      <CircularProgress />\r\n      <Typography component=\"p\">\r\n        {placeholder || 'Loading...'}\r\n      </Typography>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Waiting;\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { ajax } from '../utils/common';\r\nimport HttpStatus from \"./HttpStatus\";\r\nimport Waiting from \"./Waiting\";\r\n\r\nclass DataSource extends Component {\r\n  _isMounted = false;\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      data: {},\r\n      loaded: false,\r\n      status_code: null,\r\n      error_message: null,\r\n      placeholder: \"Loading...\",\r\n    };\r\n  }\r\n\r\n  UNSAFE_componentWillMount() {\r\n    this._isMounted = true;\r\n    if (this.props.endpoint) {\r\n      ajax.fetchGet(this.props.endpoint)\r\n        .then(data => {\r\n          if (this._isMounted) {\r\n            this.setState({\r\n              data,\r\n              loaded: true,\r\n              status_code: 200,\r\n              error_message: null,\r\n            })\r\n          }\r\n        }).catch(errors => {\r\n          this.setState({\r\n            status_code: errors.status_code,\r\n            error_message: errors.detail,\r\n            loaded: false,\r\n          });\r\n        });\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this._isMounted = false;\r\n  }\r\n\r\n  UNSAFE_componentWillReceiveProps(nextProps) {\r\n    if (this.props.reload !== null && this.props.reload !== undefined) {\r\n      if (this.props.reload !== nextProps.reload) {\r\n        ajax.fetchGet(nextProps.endpoint).then(data => {\r\n          this.setState({data, loaded: true, status_code: 200});\r\n        }).catch(errors => {\r\n          this.setState({\r\n            status_code: errors.status_code,\r\n            error_message: errors.detail,\r\n            loaded: false,\r\n          });\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { data, loaded, status_code, error_message, placeholder } = this.state;\r\n    \r\n    if (loaded) {\r\n      return this.props.render(data);\r\n    } else if (status_code !== null && status_code !== undefined && status_code !== 200) {\r\n      return (\r\n        <HttpStatus\r\n          statusCode={status_code}\r\n          message={error_message}\r\n        />\r\n      );\r\n    } else {\r\n      return (\r\n        <Waiting\r\n          placeholder={placeholder}\r\n        />\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nDataSource.propTypes = {\r\n  endpoint: PropTypes.string.isRequired,\r\n  render: PropTypes.func.isRequired,\r\n  params: PropTypes.object,\r\n  reload: PropTypes.bool,\r\n};\r\n\r\nDataSource.defaultProps = {\r\n  params: {},\r\n  reload: false,\r\n}\r\n\r\nexport default DataSource;\r\n","import React from 'react'\r\nimport AvatarEditor from 'react-avatar-editor'\r\n\r\nclass ImageEditor extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      image: null,\r\n      scale: 1,\r\n    };\r\n  }\r\n\r\n  handleNewImage = e => {\r\n    this.setState({ image: e.target.files[0] });\r\n  };\r\n\r\n  handleScale = e => {\r\n    const scale = parseFloat(e.target.value);\r\n    this.setState({ scale });\r\n  };\r\n\r\n  getImage = () => {\r\n    const { image } = this.state;\r\n    if (this.editor && image) {\r\n      // This returns a HTMLCanvasElement, it can be made into a data URL or a blob,\r\n      // drawn on another canvas, or added to the DOM.\r\n      // const canvas = this.editor.getImage()\r\n\r\n      // If you want the image resized to the canvas size (also a HTMLCanvasElement)\r\n      const canvas = this.editor.getImageScaledToCanvas();\r\n      return {canvas, type: image.type};\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { image, scale } = this.state;\r\n\r\n    return (\r\n      <div style={{ textAlign: 'center' }}>\r\n        <AvatarEditor\r\n          ref={(editor) => this.editor = editor}\r\n          image={image}\r\n          width={250}\r\n          height={250}\r\n          border={50}\r\n          scale={scale}\r\n        />\r\n        <div>\r\n          <input name=\"newImage\" type=\"file\" onChange={this.handleNewImage} />\r\n        </div>\r\n        {image ? (\r\n          <div>\r\n            Zoom:\r\n            <input\r\n              name=\"scale\"\r\n              type=\"range\"\r\n              onChange={this.handleScale}\r\n              min='1'\r\n              max=\"2\"\r\n              step=\"0.01\"\r\n              defaultValue=\"1\"\r\n            />\r\n          </div>\r\n        ) : null}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ImageEditor;\r\n","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\n\r\nconst PrivateRoute = ({ component: Component, ...rest }) => (\r\n  <Route {...rest} render={props => (\r\n    localStorage.getItem('token')\r\n      ? <Component {...props} />\r\n      : <Redirect to={{ pathname: '/login', state: { from: props.location } }} />\r\n  )} />\r\n);\r\n\r\nexport default PrivateRoute;\r\n","import React from 'react';\r\nimport PropTypes from \"prop-types\";\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport {\r\n  Paper,\r\n  Stepper,\r\n  Step,\r\n  StepLabel,\r\n  Button,\r\n  Typography,\r\n} from '@material-ui/core';\r\nimport { Form, InlineForm } from '../datatable';\r\nimport { common, ajax } from '../utils/common';\r\nimport { constant } from '../utils/constants';\r\nimport { Toast } from '.';\r\n\r\nconst styles = (theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(2),\r\n    marginBottom: theme.spacing(3),\r\n    padding: theme.spacing(2),\r\n    [theme.breakpoints.up(600 + theme.spacing(3) * 2)]: {\r\n      marginBottom: theme.spacing(6),\r\n      padding: theme.spacing(3),\r\n    },\r\n  },\r\n  stepper: {\r\n    padding: theme.spacing(3, 0, 5),\r\n  },\r\n  stepDescription: {\r\n    color: 'gray',\r\n    padding: '0 20px 5px',\r\n  },\r\n  errorStepLabel: {\r\n    color: 'red',\r\n  },\r\n  buttons: {\r\n    display: 'flex',\r\n    justifyContent: 'flex-end',\r\n  },\r\n  button: {\r\n    marginTop: theme.spacing(3),\r\n    marginLeft: theme.spacing(1),\r\n  },\r\n});\r\n\r\nclass StepForm extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.handleNext = this.handleNext.bind(this);\r\n    this.handleBack = this.handleBack.bind(this);\r\n    this.state = {\r\n      activeStep: 0,\r\n      maxStep: 0,\r\n      data: {},\r\n      errors: {},\r\n    };\r\n  }\r\n\r\n  getCurrentForm = (index) => {\r\n    const { steps } = this.props;\r\n    const { data, errors } = this.state;\r\n    if (index < steps.length) {\r\n      const { name, inline, checkList, onChanges, ...props } = steps[index].formProps;\r\n      const error = common.isEmpty(errors) ? {} : errors[name];\r\n      if (data[name]) {\r\n        props['data'] = data[name];\r\n      }\r\n      let newCheckList = [];\r\n      if (checkList) {\r\n        // \r\n        newCheckList = checkList.map(method => (d) => method(d, data));\r\n      }\r\n      let newOnChangeList = [];\r\n      if (onChanges) {\r\n        // \r\n        newOnChangeList = onChanges.map(method => (n, d, s, p, i) => method(n, d, data, p, i));\r\n      }\r\n      const form = React.createElement(\r\n        inline === true ? InlineForm : Form,\r\n        {\r\n          ...props,\r\n          key: index,\r\n          checkList: newCheckList,\r\n          onChanges: newOnChangeList,\r\n          errors: error || {},\r\n          ref: (frm) => {\r\n            if (frm && frm.clean) {\r\n              this['__clean__' + name] = frm.clean;\r\n            }\r\n            if (frm && frm.toastError) {\r\n              this['__toastError__' + name] = frm && frm.toastError;\r\n            }\r\n          }\r\n        }\r\n      )\r\n      return { name, form };\r\n    } else {\r\n      return null;\r\n    }\r\n  };\r\n\r\n  hasStepError = (step) => {\r\n    const { errors } = this.state;\r\n    const name = step.formProps.name;\r\n    if (errors[name]) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  };\r\n\r\n  handleNext = (name) => () => {\r\n    const formData = this.clean(name);\r\n    if (formData) {\r\n      this.setState(state => {\r\n        let data = state.data;\r\n        data[name] = formData;\r\n        return {\r\n          data,\r\n          activeStep: state.activeStep + 1,\r\n          maxStep: state.maxStep <= state.activeStep ? state.activeStep + 1 : state.maxStep,\r\n        };\r\n      });\r\n    } else if (!this.hasForm(name)) {\r\n      this.setState(state => {\r\n        return {\r\n          activeStep: state.activeStep + 1,\r\n          maxStep: state.maxStep <= state.activeStep ? state.activeStep + 1 : state.maxStep,\r\n        };\r\n      });\r\n    } else {\r\n      Toast.error(constant.ERROR.FORM_CHECK_ERROR);\r\n    }\r\n  };\r\n\r\n  hasForm = (name) => {\r\n    const forms = this.props.steps.filter(step => {\r\n      if (step.formProps && step.formProps.name === name) {\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    });\r\n    return forms.length > 0;\r\n  };\r\n\r\n  handleBack = () => {\r\n    this.setState(state => {\r\n      return {activeStep: state.activeStep - 1};\r\n    });\r\n  };\r\n\r\n  clean = (name) => {\r\n    if (name && this['__clean__' + name]) {\r\n      return this['__clean__' + name]();\r\n    } else {\r\n      return null;\r\n    }\r\n  };\r\n\r\n  handleOk = (name) => () => {\r\n    const formData = this.clean(name);\r\n    if (formData) {\r\n      let { data } = this.state;\r\n      data[name] = formData;\r\n      const { methodName, saveEndpoint, saveCallback } = this.props;\r\n      ajax.getMethod(methodName)(saveEndpoint, data).then(json => {\r\n        Toast.success(constant.SUCCESS.SAVED);\r\n        if (saveCallback) {\r\n          saveCallback(json);\r\n        }\r\n      }).catch(errors => {\r\n        this.setState({errors});\r\n        Toast.error(common.getFormErrorMessage(errors));\r\n      });\r\n    } else {\r\n      Toast.error(constant.ERROR.FORM_CHECK_ERROR);\r\n    }\r\n  };\r\n\r\n  getStepActions = (stepIndex) => {\r\n    const { steps } = this.props;\r\n    if (stepIndex <= steps.length) {\r\n      return steps[stepIndex].actions;\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  handleActionClick = (formName, stepsData, method) => {\r\n    method(stepsData).then(json => {\r\n      stepsData[formName] = Object.assign({}, stepsData[formName], json);\r\n      this.setState({data: stepsData});\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { classes, title, steps } = this.props;\r\n    const { activeStep, data } = this.state;\r\n    const currentForm = this.getCurrentForm(activeStep);\r\n    const stepActions = this.getStepActions(activeStep);\r\n\r\n    if (common.isEmpty(steps)) {\r\n      return null;\r\n    } else {\r\n      return (\r\n        <div>\r\n          <Paper className={classes.paper}>\r\n            <Typography component=\"h1\" variant=\"h4\" align=\"center\">\r\n              {title}\r\n            </Typography>\r\n            <Stepper activeStep={activeStep} className={classes.stepper}>\r\n              {steps.map((step, index) => (\r\n                <Step key={index}>\r\n                  <StepLabel>\r\n                    <span className={this.hasStepError(step) ? classes.errorStepLabel : null}>\r\n                      {step.name}\r\n                    </span>\r\n                  </StepLabel>\r\n                </Step>\r\n              ))}\r\n            </Stepper>\r\n            {activeStep < steps.length && steps[activeStep].description ? (\r\n              <Typography className={classes.stepDescription} variant='body2' gutterBottom>\r\n                {steps[activeStep].description}\r\n              </Typography>\r\n            ) : null}\r\n            <div>\r\n              {activeStep === steps.length ? (\r\n                <React.Fragment>\r\n                  <Typography variant=\"h5\" gutterBottom>\r\n                    Thank you for your order.\r\n                  </Typography>\r\n                  <Typography variant=\"subtitle1\">\r\n                    Your order number is #2001539. We have emailed your order confirmation, and will\r\n                    send you an update when your order has shipped.\r\n                  </Typography>\r\n                </React.Fragment>\r\n              ) : (\r\n                <React.Fragment>\r\n                  {currentForm ? (\r\n                    currentForm.form\r\n                  ) : null }\r\n                  <div className={classes.buttons}>\r\n                    { stepActions ? (\r\n                      <React.Fragment>\r\n                        {stepActions.map((action, key) => (\r\n                          <Button\r\n                            key={key}\r\n                            variant=\"contained\"\r\n                            color=\"primary\"\r\n                            onClick={() => this.handleActionClick(currentForm.name, data, action.handleClick)}\r\n                            className={classes.button}\r\n                          >\r\n                            {action.title}\r\n                          </Button>\r\n                        ))}\r\n                        <div style={{flex: 1}}></div>\r\n                      </React.Fragment>\r\n                    ) : null}\r\n                    {activeStep !== 0 && (\r\n                      <Button onClick={this.handleBack} className={classes.button}>\r\n                        Back\r\n                      </Button>\r\n                    )}\r\n                    <Button\r\n                      variant=\"contained\"\r\n                      color=\"primary\"\r\n                      onClick={activeStep === steps.length - 1 ? this.handleOk(currentForm.name) : this.handleNext(currentForm.name)}\r\n                      className={classes.button}\r\n                    >\r\n                      {activeStep === steps.length - 1 ? '' : 'Next'}\r\n                    </Button>\r\n                  </div>\r\n                </React.Fragment>\r\n              )}\r\n            </div>\r\n          </Paper>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nStepForm.propTypes = {\r\n  title: PropTypes.string.isRequired,\r\n  steps: PropTypes.arrayOf(PropTypes.shape({\r\n    name: PropTypes.string.isRequired,\r\n    formProps: PropTypes.object.isRequired,\r\n  })).isRequired,\r\n  methodName: PropTypes.oneOf(['POST', 'PUT', 'DELETE']).isRequired,\r\n  saveEndpoint: PropTypes.string.isRequired,\r\n  saveCallback: PropTypes.func,\r\n  deleteEndpoint: PropTypes.string,\r\n  deleteCallback: PropTypes.func,\r\n};\r\n\r\nexport default withStyles(styles)(StepForm);\r\n","import { connect } from 'react-redux';\r\nimport AccountInfo from '../components/AccountInfo';\r\nimport { logoutAndRedirect, clearMe } from '../features/actions/index';\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n  loggedIn: state.auth.loggedIn,\r\n  user: state.user,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    logout(location) {\r\n      dispatch(logoutAndRedirect(location));\r\n      dispatch(clearMe());\r\n    },\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(AccountInfo);\r\n","export const untreated_waiting_members_schema = [\r\n  {\r\n    \"name\": \"full_name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"link\": \"/member/members/%(object_id)s/ct/%(content_type_id)s\"\r\n  },\r\n  {\r\n    \"name\": \"company_name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"division_name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"department_name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"section_name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n  },\r\n];\r\n\r\nexport const untreated_release_members_schema = [\r\n  {\r\n    \"name\": \"full_name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"link\": \"/member/members/%(object_id)s/ct/%(content_type_id)s\"\r\n  },\r\n  {\r\n    \"name\": \"project_name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"link\": \"/project/projects/%(project_id)s\"\r\n  },\r\n  {\r\n    \"name\": \"company_name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"division_name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"department_name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"section_name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"release_date\",\r\n    \"type\": \"date\",\r\n    \"label\": \"\",\r\n  },\r\n];\r\n\r\nexport const untreated_project_requests_schema = [\r\n  {\r\n    \"name\": \"ym\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"project_name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"link\": \"/project/projects/%(project_id)s\",\r\n  },\r\n  {\r\n    \"name\": \"company_name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"division_name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"department_name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"section_name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"order_no\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"salesperson_name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n  },\r\n];\r\n\r\nexport const untreated_partner_orders_schema = [\r\n  {\r\n    \"name\": \"ym\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"full_name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"link\": \"/partner/companies/%(company_id)s/members/%(member_id)s\",\r\n  },\r\n  {\r\n    \"name\": \"project_name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"link\": \"/project/projects/%(project_id)s\",\r\n  },\r\n  {\r\n    \"name\": \"company_name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"link\": \"/partner/companies/%(company_id)s\",\r\n  },\r\n  {\r\n    \"name\": \"division_name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"department_name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"section_name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"salesperson_name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n  },\r\n];\r\n\r\nexport const untreated_payment_notices_schema = [\r\n  {\r\n    \"name\": \"ym\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"company_name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"link\": \"/partner/companies/%(company_id)s\",\r\n  },\r\n  {\r\n    \"name\": \"full_name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"link\": \"/partner/individual/%(member_id)s\",\r\n  },\r\n  {\r\n    \"name\": \"division_name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"department_name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"section_name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n  },\r\n];\r\n","import { makeStyles } from '@material-ui/core/styles';\r\n\r\nexport const useStyles = makeStyles(theme => ({\r\n  tabWrapper: {\r\n    marginTop: theme.spacing(2),\r\n    marginLeft: theme.spacing(3),\r\n    marginRight: theme.spacing(3),\r\n    [theme.breakpoints.down('sm')]: {\r\n      marginTop: theme.spacing(1),\r\n      marginLeft: theme.spacing(1.5),\r\n      marginRight: theme.spacing(1.5),\r\n    },\r\n    [theme.breakpoints.down('xs')]: {\r\n      marginTop: theme.spacing(0),\r\n      marginLeft: theme.spacing(0.5),\r\n      marginRight: theme.spacing(0.5),\r\n    },\r\n  },\r\n  tabPaper: {\r\n    padding: theme.spacing(3),\r\n    marginBottom: theme.spacing(2),\r\n  }\r\n}));\r\n","import React from 'react';\r\nimport { Paper } from '@material-ui/core';\r\nimport {\r\n  untreated_waiting_members_schema,\r\n  untreated_release_members_schema,\r\n} from './schema';\r\nimport { EnhancedTable } from '../../datatable';\r\nimport { DataSource } from '../../components';\r\nimport { config, common } from '../../utils';\r\nimport { useStyles } from './style';\r\n\r\nfunction WorkingStatusTab(props) {\r\n  const { member_id } = props.match.params;\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div className={classes.tabWrapper}>\r\n      <Paper className={classes.tabPaper}>\r\n        <DataSource\r\n          endpoint={ common.formatStr(config.api.member.untreated_waiting_members, member_id) }\r\n          render={ (initData) => (\r\n            <EnhancedTable\r\n              title=''\r\n              tableHead={untreated_waiting_members_schema}\r\n              tableData={initData.results}\r\n              rowsPerPage={config.rowsPerPage}\r\n              pushpinTop={common.getHeaderHeight()}\r\n              allowCsv={true}\r\n              showTitle={true}\r\n            />\r\n          ) }\r\n        />\r\n      </Paper>\r\n      <Paper className={classes.tabPaper}>\r\n        <DataSource\r\n          endpoint={ common.formatStr(config.api.member.untreated_release_members, member_id) }\r\n          render={ (initData) => (\r\n            <EnhancedTable\r\n              title=''\r\n              tableHead={untreated_release_members_schema}\r\n              tableData={initData.results}\r\n              rowsPerPage={config.rowsPerPage}\r\n              pushpinTop={common.getHeaderHeight()}\r\n              allowCsv={true}\r\n              showTitle={true}\r\n            />\r\n          ) }\r\n        />\r\n      </Paper>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default WorkingStatusTab;\r\n","import React from 'react';\r\nimport { Paper } from '@material-ui/core';\r\nimport {\r\n  untreated_project_requests_schema,\r\n} from './schema';\r\nimport { EnhancedTable } from '../../datatable';\r\nimport { DataSource } from '../../components';\r\nimport { config, common } from '../../utils';\r\nimport { useStyles } from './style';\r\n\r\nfunction UntreatedProjectRequestTab(props) {\r\n  const { member_id } = props.match.params;\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div className={classes.tabWrapper}>\r\n      <Paper className={classes.tabPaper}>\r\n        <DataSource\r\n          endpoint={ common.formatStr(config.api.member.untreated_project_requests, member_id) }\r\n          render={ (initData) => (\r\n            <EnhancedTable\r\n              title=''\r\n              tableHead={untreated_project_requests_schema}\r\n              tableData={initData.results}\r\n              rowsPerPage={config.rowsPerPage}\r\n              pushpinTop={common.getHeaderHeight()}\r\n              allowCsv={true}\r\n              showTitle={true}\r\n            />\r\n          ) }\r\n        />\r\n      </Paper>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UntreatedProjectRequestTab;\r\n","import React from 'react';\r\nimport { Paper } from '@material-ui/core';\r\nimport {\r\n  untreated_partner_orders_schema,\r\n} from './schema';\r\nimport { EnhancedTable } from '../../datatable';\r\nimport { DataSource } from '../../components';\r\nimport { config, common } from '../../utils';\r\nimport { useStyles } from './style';\r\n\r\nfunction UntreatedPartnerOrderTab(props) {\r\n  const { member_id } = props.match.params;\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div className={classes.tabWrapper}>\r\n      <Paper className={classes.tabPaper}>\r\n        <DataSource\r\n          endpoint={ common.formatStr(config.api.member.untreated_partner_orders, member_id) }\r\n          render={ (initData) => (\r\n            <EnhancedTable\r\n              title=''\r\n              tableHead={untreated_partner_orders_schema}\r\n              tableData={initData.results}\r\n              rowsPerPage={config.rowsPerPage}\r\n              pushpinTop={common.getHeaderHeight()}\r\n              allowCsv={true}\r\n              showTitle={true}\r\n            />\r\n          ) }\r\n        />\r\n      </Paper>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UntreatedPartnerOrderTab;\r\n","import React from 'react';\r\nimport { Paper } from '@material-ui/core';\r\nimport {\r\n  untreated_payment_notices_schema,\r\n} from './schema';\r\nimport { EnhancedTable } from '../../datatable';\r\nimport { DataSource } from '../../components';\r\nimport { config, common } from '../../utils';\r\nimport { useStyles } from './style';\r\n\r\nfunction UntreatedPaymentNoticeTab(props) {\r\n  const { member_id } = props.match.params;\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div className={classes.tabWrapper}>\r\n      <Paper className={classes.tabPaper}>\r\n        <DataSource\r\n          endpoint={ common.formatStr(config.api.member.untreated_payment_notices, member_id) }\r\n          render={ (initData) => (\r\n            <EnhancedTable\r\n              title=''\r\n              tableHead={untreated_payment_notices_schema}\r\n              tableData={initData.results}\r\n              rowsPerPage={config.rowsPerPage}\r\n              pushpinTop={common.getHeaderHeight()}\r\n              allowCsv={true}\r\n              showTitle={true}\r\n            />\r\n          ) }\r\n        />\r\n      </Paper>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UntreatedPaymentNoticeTab;\r\n","import React from 'react';\r\nimport { Route, Switch, Link } from 'react-router-dom';\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport {\r\n  Container,\r\n  Avatar,\r\n  Typography,\r\n  Tabs,\r\n  Tab,\r\n} from '@material-ui/core';\r\nimport AccountCircle from '@material-ui/icons/AccountCircle';\r\nimport { HttpNotFound } from '../../components';\r\nimport WorkingStatusTab from './working_status_tab';\r\nimport UntreatedProjectRequestTab from './project_request_tab';\r\nimport { common } from '../../utils';\r\n\r\nimport defaultCover from \"../../assets/img/cover.jpg\";\r\nimport UntreatedPartnerOrderTab from './partner_order_tab';\r\nimport UntreatedPaymentNoticeTab from './payment_notice_tab';\r\n\r\nconst styles = (theme) => ({\r\n  cover: {\r\n    height: 180,\r\n    position: 'relative',\r\n    backgroundSize: 'cover',\r\n    backgroundRepeat: 'no-repeat',\r\n    backgroundPosition: 'center',\r\n    backgroundImage: `url(${defaultCover})`,\r\n  },\r\n  container: {\r\n    maxWidth: '100%',\r\n  },\r\n  avatarWrapper: {\r\n    position: 'relative',\r\n    paddingTop: theme.spacing(1),\r\n    paddingBottom: theme.spacing(1),\r\n  },\r\n  avatar: {\r\n    width: 120,\r\n    height: 120,\r\n    position: 'absolute',\r\n    top: -60,\r\n  },\r\n  avatarImage: {\r\n    maxHeight: 120,\r\n    maxWidth: 120,\r\n    verticalAlign: 'middle',\r\n  },\r\n});\r\n\r\nclass MyPage extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      activeIndex: 0,\r\n    };\r\n  }\r\n\r\n  componentDidUpdate = () => {\r\n    const { user } = this.props;\r\n    document.title = `${user.me.full_name || ''} | `;\r\n  };\r\n\r\n  componentDidMount = () => {\r\n    const { pathname } = this.props.location;\r\n    if (pathname.indexOf('working-status') > 0) {\r\n      this.setState({ activeIndex: 0 });\r\n    } else if (pathname.indexOf('project-request') > 0) {\r\n      this.setState({ activeIndex: 1 });\r\n    } else if (pathname.indexOf('partner-order') > 0) {\r\n      this.setState({ activeIndex: 2 });\r\n    } else if (pathname.indexOf('payment-notice') > 0) {\r\n      this.setState({ activeIndex: 3 });\r\n    }\r\n  };\r\n\r\n  handleChangeTab = (event, newIndex) => {\r\n    this.setState({ activeIndex: newIndex });\r\n  };\r\n\r\n  render() {\r\n    const { classes, user } = this.props;\r\n    const { activeIndex } = this.state;\r\n\r\n    return (\r\n      <div>\r\n        <div>\r\n          <div className={classes.cover}>\r\n          </div>\r\n          <Container className={classes.container + ' ' + classes.avatarWrapper}>\r\n            <Avatar aria-label=\"Recipe\" className={classes.avatar}>\r\n              {user.me.avatar ? (\r\n                <img src={user.me.avatar} alt='Avatar' className={classes.avatarImage} />\r\n              ) : <AccountCircle style={{fontSize: 145}} />}\r\n            </Avatar>\r\n            <div style={{marginLeft: 136}}>\r\n              <Typography variant=\"caption\" gutterBottom>\r\n                {common.isEmpty(user.me.positions)\r\n                  ? user.me.email\r\n                  : user.me.positions.map(x => `${x['position']}(${x['org_name']})${x['is_part_time'] === true ? '()' : ''}`).join()}\r\n              </Typography>\r\n              <Typography variant=\"subtitle1\" gutterBottom>{user.me.full_name}</Typography>\r\n            </div>\r\n          </Container>\r\n        </div>\r\n        <Container className={classes.container}>\r\n          <Tabs value={activeIndex} onChange={this.handleChangeTab}>\r\n            <Tab label=\"\" component={Link} to={`/account/mypage/${user.me.member}/working-status`} />\r\n            <Tab label=\"\" component={Link} to={`/account/mypage/${user.me.member}/project-request`} />\r\n            <Tab label=\"\" component={Link} to={`/account/mypage/${user.me.member}/partner-order`} />\r\n            <Tab label=\"\" component={Link} to={`/account/mypage/${user.me.member}/payment-notice`} />\r\n          </Tabs>\r\n        </Container>\r\n        <Switch>\r\n          <Route exact path='/account/mypage/:member_id/working-status' component={WorkingStatusTab} />\r\n          <Route exact path='/account/mypage/:member_id/project-request' component={UntreatedProjectRequestTab} />\r\n          <Route exact path='/account/mypage/:member_id/partner-order' component={UntreatedPartnerOrderTab} />\r\n          <Route exact path='/account/mypage/:member_id/payment-notice' component={UntreatedPaymentNoticeTab} />\r\n          <Route component={HttpNotFound} />\r\n        </Switch>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles)(MyPage);\r\n","import { connect } from 'react-redux';\r\nimport MyPage from '../pages/account/my_page';\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n  user: state.user,\r\n});\r\n\r\nexport default connect(mapStateToProps, null)(MyPage);\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { SnackbarProvider, withSnackbar } from 'notistack';\r\n\r\nconst mountPoint = document.createElement('div');\r\ndocument.body.appendChild(mountPoint);\r\n\r\nexport default {\r\n  success: function (msg) {\r\n    this.toast(msg, 'success');\r\n  },\r\n\r\n  error: function (msg) {\r\n    this.toast(msg, 'error');\r\n  },\r\n\r\n  warning: function (msg) {\r\n    this.toast(msg, 'warning');\r\n  },\r\n\r\n  info: function (msg) {\r\n    this.toast(msg, 'info');\r\n  },\r\n\r\n  toast: function (msg, variant) {\r\n    const Display = withSnackbar(({ message, enqueueSnackbar}) => {\r\n      enqueueSnackbar(message, { variant });\r\n      return null;\r\n    });\r\n    ReactDOM.render(\r\n      <SnackbarProvider maxSnack={3} anchorOrigin={{horizontal: 'right', vertical: 'top'}}>\r\n        <Display message={msg} variant={variant} />\r\n      </SnackbarProvider>,\r\n      mountPoint\r\n    );\r\n  },\r\n}","import React from 'react';\r\nimport {\r\n  withStyles,\r\n  List,\r\n  ListItem,\r\n  Drawer,\r\n  Divider,\r\n  AppBar,\r\n  Toolbar,\r\n  Typography,\r\n  IconButton,\r\n  Badge,\r\n  Tooltip,\r\n  Switch,\r\n} from '@material-ui/core';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport Toast from './Toast';\r\nimport { common, ajax, config, constant } from '../utils';\r\n\r\nconst styles = theme => ({\r\n  title: {\r\n    flexGrow: 1,\r\n  },\r\n  listRoot: {\r\n    width: theme.spacing(45),\r\n    '& table': {\r\n      borderSpacing: 0,\r\n      width: '100%',\r\n    },\r\n    '& table thead': {\r\n      fontSize: 13,\r\n    },\r\n    '& table tbody': {\r\n      fontSize: 11,\r\n      lineHeight: '14px',\r\n    },\r\n    '& table tfoot td': {\r\n      fontSize: 11,\r\n      textAlign: 'right',\r\n    },\r\n  },\r\n  badge: {\r\n    cursor: 'pointer',\r\n    '& span': {\r\n      width: 35,\r\n      fontSize: 11,\r\n    },\r\n  },\r\n  noData: {\r\n    margin: theme.spacing(2),\r\n  },\r\n});\r\n\r\nclass Notifications extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      open: false,\r\n      read: false,  // \r\n    };\r\n  }\r\n\r\n  handleOpen = () => {\r\n    this.setState({open: true});\r\n  };\r\n\r\n  handleClose = () => {\r\n    this.setState({open: false});\r\n  };\r\n\r\n  handleRead = () => {\r\n    this.setState(state => ({ read: !state.read }));\r\n  };\r\n\r\n  toggleDrawer = () => {\r\n    this.setState({\r\n      open: !this.state.open\r\n    });\r\n  };\r\n\r\n  toggleNotificationRead = (pk) => {\r\n    const { changeNotification } = this.props;\r\n    ajax.fetchPut(common.formatStr(config.api.account.notification_read, pk)).then((data) => {\r\n      changeNotification(data);\r\n    }).catch(errors => {\r\n      Toast.error(errors.detail);\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { classes, notifications } = this.props;\r\n    const { open, read } = this.state;\r\n    const unread_count = notifications ? notifications.filter(i => i['is_read'] === false).length : 0;\r\n    const results = notifications ? notifications.filter(i => i['is_read'] === read) : [];\r\n\r\n    return (\r\n      <Drawer anchor='right' open={open} onClose={this.handleClose}>\r\n        <AppBar position=\"static\" color=\"default\">\r\n          <Toolbar>\r\n            <Typography variant=\"h6\" className={classes.title}>\r\n              {unread_count > 0 ? (\r\n                <Badge badgeContent={unread_count} color=\"secondary\">\r\n                  \r\n                </Badge>\r\n              ) : ''}\r\n            </Typography>\r\n            <span style={{marginRight: 16}}>\r\n              <Switch checked={!read} onChange={this.handleRead} />\r\n            </span>\r\n            <IconButton edge=\"start\" color=\"inherit\" onClick={this.handleClose}>\r\n              <CloseIcon />\r\n            </IconButton>\r\n          </Toolbar>\r\n        </AppBar>\r\n        <List className={classes.listRoot}>\r\n          {results.length > 0 ? (\r\n            <>\r\n              {results.map((item, key) => (\r\n                <React.Fragment key={key}>\r\n                  <ListItem>\r\n                    <table>\r\n                      <thead>\r\n                        <tr>\r\n                          <th>{item.title}</th>\r\n                          <td style={{width: 18}}>\r\n                            {item.is_read ? (\r\n                              <Tooltip title=\"\" placement='bottom' enterDelay={300}>\r\n                                <Badge\r\n                                  badgeContent={''}\r\n                                  color=\"primary\"\r\n                                  className={classes.badge}\r\n                                  onClick={() => this.toggleNotificationRead(item.id)}\r\n                                />\r\n                              </Tooltip>\r\n                            ) : (\r\n                              <Tooltip title=\"\" placement='bottom' enterDelay={300}>\r\n                                <Badge\r\n                                  badgeContent={''}\r\n                                  color=\"secondary\"\r\n                                  className={classes.badge}\r\n                                  onClick={() => this.toggleNotificationRead(item.id)}\r\n                                />\r\n                              </Tooltip>\r\n                            )}\r\n                          </td>\r\n                        </tr>\r\n                      </thead>\r\n                      <tbody>\r\n                        <tr>\r\n                          <td colSpan={2}>{item.content}</td>\r\n                        </tr>\r\n                      </tbody>\r\n                      <tfoot>\r\n                        <tr>\r\n                          <td colSpan={2}>{common.formatDate(item.created_dt, 'YYYY/MM/DD hh:mm')}</td>\r\n                        </tr>\r\n                      </tfoot>\r\n                    </table>\r\n                  </ListItem>\r\n                  <Divider />\r\n                </React.Fragment>\r\n              ))}\r\n            </>\r\n          ) : (\r\n            <Typography className={classes.noData}>{constant.INFO.NO_NOTIFICATIONS}</Typography>\r\n          )}\r\n        </List>\r\n      </Drawer>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withStyles(styles)(Notifications);\r\n","import { connect } from 'react-redux';\r\nimport Notifications from '../components/Notifications';\r\nimport { addNotification, changeNotification } from '../features/actions/index';\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n  loggedIn: state.auth.loggedIn,\r\n  user: state.user,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    addNotification(notification) {\r\n      dispatch(addNotification(notification));\r\n    },\r\n    changeNotification(notification) {\r\n      dispatch(changeNotification(notification));\r\n    },\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Notifications);\r\n","import React from 'react';\r\nimport classNames from 'classnames';\r\nimport PropTypes from 'prop-types';\r\nimport { Link } from 'react-router-dom'\r\nimport {\r\n  AppBar,\r\n  Toolbar,\r\n  IconButton,\r\n  Typography,\r\n  Button,\r\n  Badge,\r\n  ClickAwayListener,\r\n  Avatar,\r\n} from '@material-ui/core';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport NotificationsIcon from '@material-ui/icons/Notifications';\r\nimport AccountCircle from '@material-ui/icons/AccountCircle';\r\nimport AccountInfo from '../containers/AccountInfo';\r\nimport { Notifications } from '../containers';\r\n\r\nclass TopBar extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.handleMenuClick = this.handleMenuClick.bind(this);\r\n  }\r\n\r\n  componentDidMount = () => {\r\n    window.appName = this.props.appName;\r\n    document.title = this.props.appName;\r\n  };\r\n\r\n  handleMenuClick = () => {\r\n    this.props.handleDrawerOpen();\r\n  };\r\n\r\n  handleShowNotifications = (event) => {\r\n    if (this._openNotifications) {\r\n      this._openNotifications(this.toobarEl);\r\n    }\r\n  };\r\n\r\n  handleShowAccountInfo = (event) => {\r\n    if (this._openAccountInfo) {\r\n      this._openAccountInfo(this.toobarEl);\r\n    }\r\n  };\r\n\r\n  handleAwayFromAccountInfo = () => {\r\n    if (this._closeAccountInfo) {\r\n      this._closeAccountInfo();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { classes, loggedIn, user, appName, open } = this.props;\r\n\r\n    return (\r\n      <AppBar\r\n        position=\"fixed\"\r\n        className={classNames(classes.appBar, open && classes.appBarShift)}\r\n      >\r\n        <Toolbar disableGutters={!open} style={{paddingRight: 24}} ref={bar => (this.toobarEl = bar)}>\r\n          <IconButton\r\n            color=\"inherit\"\r\n            aria-label=\"open drawer\"\r\n            onClick={this.handleMenuClick}\r\n            className={classNames(classes.menuButton, open && classes.hide)}\r\n          >\r\n            <MenuIcon />\r\n          </IconButton>\r\n          <Typography variant=\"h6\" color=\"inherit\" noWrap className={classes.grow}>\r\n            {appName}\r\n          </Typography>\r\n          { loggedIn ? (\r\n            <div style={{ whiteSpace: 'nowrap' }}>\r\n              <span style={{float: 'left'}}>\r\n                <IconButton color=\"inherit\" onClick={this.handleShowNotifications}>\r\n                  {user.notifications && user.notifications.filter(i => i['is_read'] === false).length > 0 ? (\r\n                    <Badge badgeContent={user.notifications.filter(i => i['is_read'] === false).length} color=\"secondary\">\r\n                      <NotificationsIcon />\r\n                    </Badge>\r\n                  ) : (\r\n                    <NotificationsIcon />\r\n                  )}\r\n                </IconButton>\r\n                <Notifications\r\n                  notifications={user.notifications}\r\n                  innerRef={popper => {\r\n                    this._openNotifications = popper && popper.handleOpen;\r\n                  }}\r\n                />\r\n              </span>\r\n              <ClickAwayListener onClickAway={this.handleAwayFromAccountInfo}>\r\n                <span>\r\n                  {user.me.avatar ? (\r\n                    <IconButton color=\"inherit\" style={{padding: 9}} onClick={this.handleShowAccountInfo}>\r\n                      <Avatar aria-label=\"Recipe\" className={classes.avatar} style={{width: 30, height: 30}}>\r\n                        <img src={user.me.avatar} alt='Avatar' width={30} />\r\n                      </Avatar>\r\n                    </IconButton>\r\n                  ) : (\r\n                    <IconButton color=\"inherit\" onClick={this.handleShowAccountInfo}>\r\n                      <AccountCircle />\r\n                    </IconButton>\r\n                  )}\r\n                  <AccountInfo\r\n                    innerRef={popper => {\r\n                      this._openAccountInfo = popper && popper.handleOpen;\r\n                      this._closeAccountInfo = popper && popper.handleClose;\r\n                    }}\r\n                  />\r\n                </span>\r\n              </ClickAwayListener>\r\n            </div>\r\n          ) : (\r\n            <Button component={Link} color=\"inherit\" to=\"/login\">Login</Button>\r\n          )}\r\n        </Toolbar>\r\n      </AppBar>\r\n    );\r\n  }\r\n}\r\n\r\nTopBar.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  appName: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default TopBar;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom'\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport {\r\n  Typography, Paper, Breadcrumbs,\r\n} from '@material-ui/core';\r\nimport { common } from '../utils/common';\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    justifyContent: 'center',\r\n    flexWrap: 'wrap',\r\n  },\r\n  paper: {\r\n    padding: `${theme.spacing(1)}px ${theme.spacing(1) * 2}px`,\r\n  },\r\n  breadcrumbs: {\r\n    fontSize: '13px',\r\n    '& p': {\r\n      fontSize: '13px',\r\n    },\r\n  },\r\n});\r\n\r\nfunction TopBreadcrumbs(props) {\r\n  const { classes, breadcrumbs } = props;\r\n\r\n  if (common.isEmpty(breadcrumbs)) {\r\n    return null;\r\n  } else {\r\n    return (\r\n      <div className={classes.root}>\r\n        <Paper className={classes.paper}>\r\n          <Breadcrumbs separator=\"\" arial-label=\"Breadcrumb\" className={classes.breadcrumbs}>\r\n            { breadcrumbs.map((bread, key) => {\r\n              return (\r\n                bread.link ? (\r\n                  <Link key={key} to={bread.link}>{bread.name}</Link>\r\n                ) : (\r\n                  <Typography key={key} color=\"textPrimary\">{bread.name}</Typography>\r\n                )\r\n              )\r\n            }) }\r\n          </Breadcrumbs>\r\n        </Paper>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nTopBreadcrumbs.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  breadcrumbs: PropTypes.arrayOf(PropTypes.shape({link: PropTypes.string, name: PropTypes.string})),\r\n};\r\n\r\nexport default withStyles(styles)(TopBreadcrumbs);","import React from 'react';\r\nimport { common } from '../utils/common';\r\nimport HttpStatus from './HttpStatus';\r\nimport { constant } from '../utils/constants';\r\n\r\nexport default function withPermissions(WrappedComponent, permission) {\r\n  return class extends React.Component {\r\n\r\n    constructor(props) {\r\n      super(props);\r\n\r\n      this.state = {\r\n        error: false,\r\n        error_message: constant.ERROR.HTTP_NOT_ALLOWED,\r\n      };\r\n    }\r\n\r\n    forbidden = (message) => {\r\n      this.setState({ error: true, error_message: message });\r\n    };\r\n\r\n    render() {\r\n      const { error, error_message } = this.state;\r\n\r\n      let hasPerm = false;\r\n      if (error === true) {\r\n        hasPerm = false;\r\n      } else if (Array.isArray(permission)) {\r\n        // 1\r\n        hasPerm = (permission.filter(perm => common.hasPerm(perm) === true).length > 0);\r\n      } else {\r\n        hasPerm = common.hasPerm(permission);\r\n      }\r\n      if (hasPerm) {\r\n        return <WrappedComponent {...this.props} forbidden={this.forbidden} />;\r\n      } else {\r\n        return (\r\n          <HttpStatus\r\n            statusCode={403}\r\n            message={error_message}\r\n          />\r\n        );\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport function HasPerm(props) {\r\n  const { permission, children } = props;\r\n  if (Array.isArray(permission)) {\r\n    const hasPerm = (permission.filter(perm => common.hasPerm(perm) === true).length > 0);\r\n    return hasPerm ? (\r\n      <React.Fragment>\r\n        {children}\r\n      </React.Fragment>\r\n    ) : null;\r\n  } else if (common.hasPerm(permission)) {\r\n    return (\r\n      <React.Fragment>\r\n        {children}\r\n      </React.Fragment>\r\n    );\r\n  } else {\r\n    return null;\r\n  }\r\n};\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\n/**\r\n * @usage\r\n * <TimelineItem time={time} text={text} />\r\n */\r\nfunction TimelineItem({ time, text, link, ...rest }) {\r\n  return (\r\n    <li>\r\n      <i className=\"fa\" />\r\n      <div className=\"time-line-item\">\r\n        <span className=\"time\">\r\n          <i className=\"fa fa-clock-o\" />\r\n          {rest.showTime === true ? time : null}\r\n        </span>\r\n        <div className=\"time-line-header\">\r\n          {link ? (\r\n            <Link to={link}>{text}</Link>\r\n          ) : text }\r\n        </div>\r\n      </div>\r\n    </li>\r\n  );\r\n}\r\n\r\nTimelineItem.defaultProps = {};\r\n\r\nTimelineItem.propTypes = {\r\n  time: PropTypes.string.isRequired,\r\n  text: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default TimelineItem;\r\n","import { makeStyles } from '@material-ui/core/styles';\r\n\r\nexport const useStyles = makeStyles({\r\n  timeLineCtnr: {\r\n    textAlign: 'left',\r\n    position: 'relative',\r\n    '& .time-line-before': {\r\n      position: 'absolute',\r\n      top: 0,\r\n      bottom: '-10px',\r\n      width: '2px',\r\n      background: '#3498db',\r\n      left: '32px',\r\n      borderRadius: '2px',\r\n    },\r\n    '& .time-line': {\r\n      margin: '0 0 0px 0',\r\n      padding: 0,\r\n      listStyle: 'none',\r\n      '& > .time-label': {\r\n        '& > span': {\r\n          fontWeight: 600,\r\n          padding: '2px 10px',\r\n          display: 'inline-block',\r\n          backgroundImage: 'linear-gradient(180deg, #1976d2 0%, #0d47a1 100%)',\r\n          color: '#fff',\r\n          borderRadius: '2px',\r\n          fontSize: '14px',\r\n        },\r\n      },\r\n      '& > li': {\r\n        position: 'relative',\r\n        marginBottom: '10px',\r\n        marginRight: 0,\r\n        zIndex: 1,\r\n        '& > .time-line-item': {\r\n          '-webkit-box-shadow': '0 1px 1px rgba(0, 0, 0, 0.1)',\r\n          boxShadow: '0 1px 1px rgba(0, 0, 0, 0.1)',\r\n          borderRadius: '3px',\r\n          background: '#fff',\r\n          color: '#444',\r\n          marginRight: '15px',\r\n          position: 'relative',\r\n          marginLeft: '50px',\r\n          '& > .time-line-header': {\r\n            fontSize: '14px',\r\n            padding: '6px 10px',\r\n          },\r\n          // '& .time': {\r\n          //   fontSize: '14px',\r\n          //   padding: '6px 10px',\r\n          // },\r\n          '& .time': {\r\n            fontSize: '12px',\r\n            padding: '6px 10px',\r\n            color: '#999',\r\n            float: 'right',\r\n          },\r\n          '& .time-line-header': {\r\n            margin: 0,\r\n            color: '#555',\r\n            borderBottom: '1px solid #f4f4f4',\r\n            lineHeight: '1.1',\r\n          }\r\n        },\r\n        '& > .fa': {\r\n          position: 'absolute',\r\n          borderRadius: '50%',\r\n          width: '10px',\r\n          height: '10px',\r\n          color: '#666',\r\n          background: '#ecf0f1',\r\n          left: '28px',\r\n          top: '9px',\r\n          border: '2px solid #3498db',\r\n          display: 'inline-block',\r\n          boxSizing: 'border-box',\r\n        }\r\n      }\r\n    }\r\n  },\r\n});","import React from \"react\";\r\nimport moment from \"moment\";\r\nimport PropTypes from \"prop-types\";\r\nimport TimelineItem from \"./TimelineItem\";\r\nimport { useStyles } from './style';\r\n\r\n/**\r\n * Converts array of events in to object having date as the key and list of\r\n * event for that date as the value\r\n *\r\n * @param {Array} items Array of events in the form of ts and text\r\n * @returns {Object} return object with key as date and values array in events for that date\r\n */\r\nfunction getFormattedData(items, showEnd) {\r\n  const activities = {};\r\n  items.forEach(({ start, end, text, link }, index) => {\r\n    const start_date = moment(start);\r\n    let dateStr = start_date.format(\"YYYY-MM-DD\");\r\n    if (showEnd === true && end) {\r\n      const end_date = moment(end);\r\n      dateStr = `${dateStr}${end_date.format(\"YYYY-MM-DD\")}`\r\n    }\r\n    const list = activities[dateStr] || [];\r\n    list.push({\r\n      time: start_date.format(\"hh:mm\"),\r\n      text,\r\n      link,\r\n      key: index,\r\n    });\r\n    activities[dateStr] = list;\r\n  });\r\n  return activities;\r\n}\r\n\r\nfunction Timeline({ items, showEnd, ...rest }) {\r\n  const classes = useStyles();\r\n  const activities = getFormattedData(items, showEnd);\r\n  const dates = Object.keys(activities);\r\n\r\n  return (\r\n    <div className={classes.timeLineCtnr}>\r\n      {dates.map(d => (\r\n        <React.Fragment key={d}>\r\n          <div className='time-line-before' />\r\n          <ul className=\"time-line\">\r\n            <li className=\"time-label\">\r\n              <span>{d}</span>\r\n            </li>\r\n            {activities[d].map(({ time, text, link, key }) => (\r\n              <TimelineItem time={time} text={text} key={key} link={link} {...rest} />\r\n            ))}\r\n          </ul>\r\n        </React.Fragment>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\nTimeline.propTypes = {\r\n  items: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      start: PropTypes.string.isRequired,\r\n      end: PropTypes.string,\r\n      text: PropTypes.string.isRequired,\r\n    })\r\n  ).isRequired,\r\n  showTime: PropTypes.bool,\r\n  showEnd: PropTypes.bool,\r\n};\r\n\r\nTimeline.defaultProps = {\r\n  showTime: true,\r\n  showEnd: false,\r\n}\r\n\r\nexport default Timeline;\r\n","import Timeline from './Timeline';\r\n\r\nexport default Timeline;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport {\r\n  Card,\r\n  CardHeader,\r\n  CardContent,\r\n  CardActions,\r\n  Typography,\r\n} from '@material-ui/core';\r\n\r\nconst styles = (theme) => ({\r\n  cardHeader: {\r\n    backgroundColor: theme.palette.grey[200],\r\n  },\r\n  cardPricing: {\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    alignItems: 'baseline',\r\n    marginBottom: theme.spacing(2),\r\n  },\r\n});\r\n\r\nclass SimpleCard extends React.Component {\r\n\r\n  render() {\r\n    const { classes, title, subheader, data, secondaryList, actions } = this.props;\r\n\r\n    return (\r\n      <Card>\r\n        <CardHeader\r\n          title={title}\r\n          subheader={subheader}\r\n          titleTypographyProps={{ align: 'center' }}\r\n          className={classes.cardHeader}\r\n        />\r\n        <CardContent>\r\n          <div className={classes.cardPricing}>\r\n            <Typography component=\"h2\" variant=\"h3\" color=\"textPrimary\">\r\n              {data.count}\r\n            </Typography>\r\n            <Typography variant=\"h6\" color=\"textSecondary\">\r\n              {data.message}\r\n            </Typography>\r\n          </div>\r\n          <ul>\r\n            {secondaryList.map((item, key) => (\r\n              <Typography key={key} component=\"li\" variant=\"subtitle1\" align=\"center\">\r\n                {item.count}{item.message}\r\n              </Typography>\r\n            ))}\r\n          </ul>\r\n        </CardContent>\r\n        <CardActions disableSpacing>\r\n          {actions}\r\n        </CardActions>\r\n      </Card>\r\n    );\r\n  }\r\n}\r\n\r\nSimpleCard.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  title: PropTypes.string.isRequired,\r\n  subheader: PropTypes.string,\r\n  data: PropTypes.shape({\r\n    count: PropTypes.number.isRequired,\r\n    message: PropTypes.string.isRequired,\r\n  }).isRequired,\r\n  secondaryList: PropTypes.array,\r\n  actions: PropTypes.object,\r\n};\r\n\r\nSimpleCard.defaultProps = {\r\n  secondaryList: [],\r\n}\r\n\r\nexport default withStyles(styles)(SimpleCard);\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Modal, makeStyles } from '@material-ui/core';\r\n\r\nconst mountPoint = document.createElement('div');\r\ndocument.body.appendChild(mountPoint);\r\n\r\nconst getModalStyle = () => {\r\n  const top = 50;\r\n  const left = 50;\r\n\r\n  return {\r\n    top: `${top}%`,\r\n    left: `${left}%`,\r\n    transform: `translate(-${top}%, -${left}%)`,\r\n    maxHeight: `${window.innerHeight}px`,\r\n    overflow: 'scroll',\r\n  };\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    position: 'absolute',\r\n    backgroundColor: theme.palette.background.paper,\r\n    border: '2px solid #000',\r\n    boxShadow: theme.shadows[5],\r\n    padding: theme.spacing(2, 4, 3),\r\n    '& img': {\r\n      maxWidth: 650,\r\n    }\r\n  },\r\n}));\r\n\r\nlet handleOpen = null;\r\n\r\nconst ImageModal = (props) => {\r\n  const classes = useStyles();\r\n  const [modalStyle] = React.useState(getModalStyle);\r\n  const [open, setOpen] = React.useState(true);\r\n\r\n  handleOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      open={open}\r\n      onClose={handleClose}\r\n    >\r\n      <div style={modalStyle} className={classes.paper}>\r\n        <img alt={props.name} src={'data:image/png;base64,' + props.blob}/>\r\n      </div>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default function ShowImage(data) {\r\n  if (handleOpen) {\r\n    handleOpen();\r\n  }\r\n  ReactDOM.render(\r\n    <ImageModal {...data}/>,\r\n    mountPoint\r\n  );\r\n}\r\n","const cardStyle = {\r\n  card: {\r\n    border: \"0\",\r\n    marginBottom: \"30px\",\r\n    marginTop: \"30px\",\r\n    borderRadius: \"6px\",\r\n    color: \"rgba(0, 0, 0, 0.87)\",\r\n    background: \"#fff\",\r\n    width: \"100%\",\r\n    boxShadow: \"0 1px 4px 0 rgba(0, 0, 0, 0.14)\",\r\n    position: \"relative\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    minWidth: \"0\",\r\n    wordWrap: \"break-word\",\r\n    fontSize: \".875rem\"\r\n  },\r\n  cardPlain: {\r\n    background: \"transparent\",\r\n    boxShadow: \"none\"\r\n  },\r\n  cardProfile: {\r\n    marginTop: \"30px\",\r\n    textAlign: \"center\"\r\n  },\r\n  cardChart: {\r\n    \"& p\": {\r\n      marginTop: \"0px\",\r\n      paddingTop: \"0px\"\r\n    }\r\n  }\r\n};\r\n\r\nexport default cardStyle;\r\n","import React from \"react\";\r\n// nodejs library that concatenates classes\r\nimport classNames from \"classnames\";\r\n// nodejs library to set properties for components\r\nimport PropTypes from \"prop-types\";\r\n// @material-ui/core components\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\n// @material-ui/icons\r\n\r\n// core components\r\nimport cardStyle from \"../../assets/jss/components/cardStyle\";\r\n\r\nfunction Card({ ...props }) {\r\n  const {\r\n    classes,\r\n    className,\r\n    children,\r\n    plain,\r\n    profile,\r\n    chart,\r\n    ...rest\r\n  } = props;\r\n  const cardClasses = classNames({\r\n    [classes.card]: true,\r\n    [classes.cardPlain]: plain,\r\n    [classes.cardProfile]: profile,\r\n    [classes.cardChart]: chart,\r\n    [className]: className !== undefined\r\n  });\r\n  return (\r\n    <div className={cardClasses} {...rest}>\r\n      {children}\r\n    </div>\r\n  );\r\n}\r\n\r\nCard.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  className: PropTypes.string,\r\n  plain: PropTypes.bool,\r\n  profile: PropTypes.bool,\r\n  chart: PropTypes.bool\r\n};\r\n\r\nexport default withStyles(cardStyle)(Card);\r\n","const cardAvatarStyle = {\r\n  cardAvatar: {\r\n    \"&$cardAvatarProfile img\": {\r\n      width: \"100%\",\r\n      height: \"auto\"\r\n    }\r\n  },\r\n  cardAvatarProfile: {\r\n    maxWidth: \"130px\",\r\n    maxHeight: \"130px\",\r\n    margin: \"-50px auto 0\",\r\n    borderRadius: \"50%\",\r\n    overflow: \"hidden\",\r\n    padding: \"0\",\r\n    boxShadow:\r\n      \"0 16px 38px -12px rgba(0, 0, 0, 0.56), 0 4px 25px 0px rgba(0, 0, 0, 0.12), 0 8px 10px -5px rgba(0, 0, 0, 0.2)\",\r\n    \"&$cardAvatarPlain\": {\r\n      marginTop: \"0\"\r\n    }\r\n  },\r\n  cardAvatarPlain: {}\r\n};\r\n\r\nexport default cardAvatarStyle;\r\n","import React from \"react\";\r\n// nodejs library that concatenates classes\r\nimport classNames from \"classnames\";\r\n// nodejs library to set properties for components\r\nimport PropTypes from \"prop-types\";\r\n// @material-ui/core components\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\n// @material-ui/icons\r\n// core components\r\n\r\nimport cardAvatarStyle from \"../../assets/jss/components/cardAvatarStyle\";\r\n\r\nfunction CardAvatar({ ...props }) {\r\n  const { classes, children, className, plain, profile, ...rest } = props;\r\n  const cardAvatarClasses = classNames({\r\n    [classes.cardAvatar]: true,\r\n    [classes.cardAvatarProfile]: profile,\r\n    [classes.cardAvatarPlain]: plain,\r\n    [className]: className !== undefined\r\n  });\r\n  return (\r\n    <div className={cardAvatarClasses} {...rest}>\r\n      {children}\r\n    </div>\r\n  );\r\n}\r\n\r\nCardAvatar.propTypes = {\r\n  children: PropTypes.node.isRequired,\r\n  className: PropTypes.string,\r\n  profile: PropTypes.bool,\r\n  plain: PropTypes.bool\r\n};\r\n\r\nexport default withStyles(cardAvatarStyle)(CardAvatar);\r\n","const cardBodyStyle = {\r\n  cardBody: {\r\n    padding: \"0.9375rem 20px\",\r\n    flex: \"1 1 auto\",\r\n    WebkitBoxFlex: \"1\",\r\n    position: \"relative\",\r\n  },\r\n  cardBodyPlain: {\r\n    paddingLeft: \"5px\",\r\n    paddingRight: \"5px\"\r\n  },\r\n  cardBodyProfile: {\r\n    marginTop: \"15px\"\r\n  }\r\n};\r\n\r\nexport default cardBodyStyle;\r\n","import React from \"react\";\r\n// nodejs library that concatenates classes\r\nimport classNames from \"classnames\";\r\n// nodejs library to set properties for components\r\nimport PropTypes from \"prop-types\";\r\n// @material-ui/core components\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\n// @material-ui/icons\r\n\r\n// core components\r\nimport cardBodyStyle from \"../../assets/jss/components/cardBodyStyle.jsx\";\r\n\r\nfunction CardBody({ ...props }) {\r\n  const { classes, className, children, plain, profile, ...rest } = props;\r\n  const cardBodyClasses = classNames({\r\n    [classes.cardBody]: true,\r\n    [classes.cardBodyPlain]: plain,\r\n    [classes.cardBodyProfile]: profile,\r\n    [className]: className !== undefined\r\n  });\r\n  return (\r\n    <div className={cardBodyClasses} {...rest}>\r\n      {children}\r\n    </div>\r\n  );\r\n}\r\n\r\nCardBody.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  className: PropTypes.string,\r\n  plain: PropTypes.bool,\r\n  profile: PropTypes.bool\r\n};\r\n\r\nexport default withStyles(cardBodyStyle)(CardBody);\r\n","const cardFooterStyle = {\r\n  cardFooter: {\r\n    padding: \"0\",\r\n    paddingTop: \"10px\",\r\n    margin: \"0 15px 10px\",\r\n    borderRadius: \"0\",\r\n    justifyContent: \"space-between\",\r\n    alignItems: \"center\",\r\n    display: \"flex\",\r\n    backgroundColor: \"transparent\",\r\n    border: \"0\"\r\n  },\r\n  cardFooterProfile: {\r\n    marginTop: \"-15px\"\r\n  },\r\n  cardFooterPlain: {\r\n    paddingLeft: \"5px\",\r\n    paddingRight: \"5px\",\r\n    backgroundColor: \"transparent\"\r\n  },\r\n  cardFooterStats: {\r\n    borderTop: \"1px solid #eee\",\r\n    marginTop: \"20px\",\r\n    \"& svg\": {\r\n      position: \"relative\",\r\n      top: \"4px\",\r\n      marginRight: \"3px\",\r\n      marginLeft: \"3px\",\r\n      width: \"16px\",\r\n      height: \"16px\"\r\n    },\r\n    \"& .fab,& .fas,& .far,& .fal,& .material-icons\": {\r\n      fontSize: \"16px\",\r\n      position: \"relative\",\r\n      top: \"4px\",\r\n      marginRight: \"3px\",\r\n      marginLeft: \"3px\"\r\n    }\r\n  },\r\n  cardFooterChart: {\r\n    borderTop: \"1px solid #eee\"\r\n  }\r\n};\r\n\r\nexport default cardFooterStyle;\r\n","import React from \"react\";\r\n// nodejs library that concatenates classes\r\nimport classNames from \"classnames\";\r\n// nodejs library to set properties for components\r\nimport PropTypes from \"prop-types\";\r\n// @material-ui/core components\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\n// @material-ui/icons\r\n\r\n// core components\r\nimport cardFooterStyle from \"../../assets/jss/components/cardFooterStyle.jsx\";\r\n\r\nfunction CardFooter({ ...props }) {\r\n  const {\r\n    classes,\r\n    className,\r\n    children,\r\n    plain,\r\n    profile,\r\n    stats,\r\n    chart,\r\n    ...rest\r\n  } = props;\r\n  const cardFooterClasses = classNames({\r\n    [classes.cardFooter]: true,\r\n    [classes.cardFooterPlain]: plain,\r\n    [classes.cardFooterProfile]: profile,\r\n    [classes.cardFooterStats]: stats,\r\n    [classes.cardFooterChart]: chart,\r\n    [className]: className !== undefined\r\n  });\r\n  return (\r\n    <div className={cardFooterClasses} {...rest}>\r\n      {children}\r\n    </div>\r\n  );\r\n}\r\n\r\nCardFooter.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  className: PropTypes.string,\r\n  plain: PropTypes.bool,\r\n  profile: PropTypes.bool,\r\n  stats: PropTypes.bool,\r\n  chart: PropTypes.bool\r\n};\r\n\r\nexport default withStyles(cardFooterStyle)(CardFooter);\r\n","/*!\r\n\r\n =========================================================\r\n * Material Dashboard React - v1.5.0 based on Material Dashboard - v1.2.0\r\n =========================================================\r\n\r\n * Product Page: http://www.creative-tim.com/product/material-dashboard-react\r\n * Copyright 2018 Creative Tim (http://www.creative-tim.com)\r\n * Licensed under MIT (https://github.com/creativetimofficial/material-dashboard-react/blob/master/LICENSE.md)\r\n\r\n =========================================================\r\n\r\n * The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\r\n\r\n */\r\n\r\n// ##############################\r\n// // // Variables - Styles that are used on more than one component\r\n// #############################\r\n\r\nconst drawerWidth = 260;\r\n\r\nconst transition = {\r\n  transition: \"all 0.33s cubic-bezier(0.685, 0.0473, 0.346, 1)\"\r\n};\r\n\r\nconst container = {\r\n  paddingRight: \"15px\",\r\n  paddingLeft: \"15px\",\r\n  marginRight: \"auto\",\r\n  marginLeft: \"auto\"\r\n};\r\n\r\nconst boxShadow = {\r\n  boxShadow:\r\n    \"0 10px 30px -12px rgba(0, 0, 0, 0.42), 0 4px 25px 0px rgba(0, 0, 0, 0.12), 0 8px 10px -5px rgba(0, 0, 0, 0.2)\"\r\n};\r\n\r\nconst card = {\r\n  display: \"inline-block\",\r\n  position: \"relative\",\r\n  width: \"100%\",\r\n  margin: \"25px 0\",\r\n  boxShadow: \"0 1px 4px 0 rgba(0, 0, 0, 0.14)\",\r\n  borderRadius: \"3px\",\r\n  color: \"rgba(0, 0, 0, 0.87)\",\r\n  background: \"#fff\"\r\n};\r\n\r\nconst defaultFont = {\r\n  fontFamily: '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif',\r\n  fontWeight: \"300\",\r\n  lineHeight: \"1.5em\"\r\n};\r\n\r\nconst primaryColor = \"#9c27b0\";\r\nconst warningColor = \"#ff9800\";\r\nconst dangerColor = \"#f44336\";\r\nconst successColor = \"#4caf50\";\r\nconst infoColor = \"#00acc1\";\r\nconst roseColor = \"#e91e63\";\r\nconst grayColor = \"#999999\";\r\nconst plainColor = \"#ffffff\";\r\n\r\nconst primaryBoxShadow = {\r\n  boxShadow:\r\n    \"0 12px 20px -10px rgba(156, 39, 176, 0.28), 0 4px 20px 0px rgba(0, 0, 0, 0.12), 0 7px 8px -5px rgba(156, 39, 176, 0.2)\"\r\n};\r\nconst infoBoxShadow = {\r\n  boxShadow:\r\n    \"0 12px 20px -10px rgba(0, 188, 212, 0.28), 0 4px 20px 0px rgba(0, 0, 0, 0.12), 0 7px 8px -5px rgba(0, 188, 212, 0.2)\"\r\n};\r\nconst successBoxShadow = {\r\n  boxShadow:\r\n    \"0 12px 20px -10px rgba(76, 175, 80, 0.28), 0 4px 20px 0px rgba(0, 0, 0, 0.12), 0 7px 8px -5px rgba(76, 175, 80, 0.2)\"\r\n};\r\nconst warningBoxShadow = {\r\n  boxShadow:\r\n    \"0 12px 20px -10px rgba(255, 152, 0, 0.28), 0 4px 20px 0px rgba(0, 0, 0, 0.12), 0 7px 8px -5px rgba(255, 152, 0, 0.2)\"\r\n};\r\nconst dangerBoxShadow = {\r\n  boxShadow:\r\n    \"0 12px 20px -10px rgba(244, 67, 54, 0.28), 0 4px 20px 0px rgba(0, 0, 0, 0.12), 0 7px 8px -5px rgba(244, 67, 54, 0.2)\"\r\n};\r\nconst roseBoxShadow = {\r\n  boxShadow:\r\n    \"0 4px 20px 0px rgba(0, 0, 0, 0.14), 0 7px 10px -5px rgba(233, 30, 99, 0.4)\"\r\n};\r\nconst plainBoxShadow = {\r\n  boxShadow:\r\n  \"0 4px 20px 0px rgba(0, 0, 0, 0.14), 0 7px 10px -5px rgba(0, 30, 99, 0.4)\"\r\n};\r\n\r\nconst warningCardHeader = {\r\n  background: \"linear-gradient(60deg, #ffa726, #fb8c00)\",\r\n  ...warningBoxShadow\r\n};\r\nconst successCardHeader = {\r\n  background: \"linear-gradient(60deg, #66bb6a, #43a047)\",\r\n  ...successBoxShadow\r\n};\r\nconst dangerCardHeader = {\r\n  background: \"linear-gradient(60deg, #ef5350, #e53935)\",\r\n  ...dangerBoxShadow\r\n};\r\nconst infoCardHeader = {\r\n  background: \"linear-gradient(60deg, #26c6da, #00acc1)\",\r\n  ...infoBoxShadow\r\n};\r\nconst primaryCardHeader = {\r\n  background: \"linear-gradient(60deg, #ab47bc, #8e24aa)\",\r\n  ...primaryBoxShadow\r\n};\r\nconst roseCardHeader = {\r\n  background: \"linear-gradient(60deg, #ec407a, #d81b60)\",\r\n  ...roseBoxShadow\r\n};\r\nconst plainCardHeader = {\r\n  background: \"linear-gradient(60deg, #ffffff, #ffffff)\",\r\n  ...plainBoxShadow\r\n};\r\n\r\nconst cardActions = {\r\n  margin: \"0 20px 10px\",\r\n  paddingTop: \"10px\",\r\n  borderTop: \"1px solid #eeeeee\",\r\n  height: \"auto\",\r\n  ...defaultFont\r\n};\r\n\r\nconst cardHeader = {\r\n  margin: \"-20px 15px 0\",\r\n  borderRadius: \"3px\",\r\n  padding: \"15px\"\r\n};\r\n\r\nconst defaultBoxShadow = {\r\n  border: \"0\",\r\n  borderRadius: \"3px\",\r\n  boxShadow:\r\n    \"0 10px 20px -12px rgba(0, 0, 0, 0.42), 0 3px 20px 0px rgba(0, 0, 0, 0.12), 0 8px 10px -5px rgba(0, 0, 0, 0.2)\",\r\n  padding: \"10px 0\",\r\n  transition: \"all 150ms ease 0s\"\r\n};\r\n\r\nconst title = {\r\n  color: \"#3C4858\",\r\n  textDecoration: \"none\",\r\n  fontWeight: \"300\",\r\n  marginTop: \"30px\",\r\n  marginBottom: \"25px\",\r\n  minHeight: \"32px\",\r\n  fontFamily: \"'Roboto', 'Helvetica', 'Arial', sans-serif\",\r\n  \"& small\": {\r\n    color: \"#777\",\r\n    fontWeight: \"400\",\r\n    lineHeight: \"1\"\r\n  }\r\n};\r\n\r\nconst cardTitle = {\r\n  ...title,\r\n  marginTop: \"0\",\r\n  marginBottom: \"3px\",\r\n  minHeight: \"auto\",\r\n  \"& a\": {\r\n    ...title,\r\n    marginTop: \".625rem\",\r\n    marginBottom: \"0.75rem\",\r\n    minHeight: \"auto\"\r\n  }\r\n};\r\n\r\nconst cardSubtitle = {\r\n  marginTop: \"-.375rem\"\r\n};\r\n\r\nconst cardLink = {\r\n  \"& + $cardLink\": {\r\n    marginLeft: \"1.25rem\"\r\n  }\r\n};\r\n\r\nconst paperSpacing = {\r\n  marginTop: 16,\r\n  padding: 16,\r\n};\r\n\r\nexport {\r\n  //variables\r\n  drawerWidth,\r\n  transition,\r\n  container,\r\n  boxShadow,\r\n  card,\r\n  defaultFont,\r\n  primaryColor,\r\n  warningColor,\r\n  dangerColor,\r\n  successColor,\r\n  infoColor,\r\n  roseColor,\r\n  grayColor,\r\n  plainColor,\r\n  primaryBoxShadow,\r\n  infoBoxShadow,\r\n  successBoxShadow,\r\n  warningBoxShadow,\r\n  dangerBoxShadow,\r\n  roseBoxShadow,\r\n  plainBoxShadow,\r\n  warningCardHeader,\r\n  successCardHeader,\r\n  dangerCardHeader,\r\n  infoCardHeader,\r\n  primaryCardHeader,\r\n  roseCardHeader,\r\n  plainCardHeader,\r\n  cardActions,\r\n  cardHeader,\r\n  defaultBoxShadow,\r\n  title,\r\n  cardTitle,\r\n  cardSubtitle,\r\n  cardLink,\r\n  paperSpacing,\r\n};\r\n","import {\r\n  warningCardHeader,\r\n  successCardHeader,\r\n  dangerCardHeader,\r\n  infoCardHeader,\r\n  primaryCardHeader,\r\n  roseCardHeader,\r\n  plainCardHeader,\r\n} from \"../material-dashboard-react.jsx\";\r\nconst cardHeaderStyle = {\r\n  cardHeader: {\r\n    padding: \"0.75rem 1.25rem\",\r\n    marginBottom: \"0\",\r\n    borderBottom: \"none\",\r\n    background: \"transparent\",\r\n    zIndex: \"3 !important\",\r\n    \"&$cardHeaderPlain,&$cardHeaderIcon,&$cardHeaderStats,&$warningCardHeader,&$successCardHeader,&$dangerCardHeader,&$infoCardHeader,&$primaryCardHeader,&$roseCardHeader,&$plainCardHeader\": {\r\n      margin: \"0 15px\",\r\n      padding: \"0\",\r\n      position: \"relative\",\r\n      color: \"#FFFFFF\"\r\n    },\r\n    \"&:first-child\": {\r\n      borderRadius: \"calc(.25rem - 1px) calc(.25rem - 1px) 0 0\"\r\n    },\r\n    \"&$warningCardHeader,&$successCardHeader,&$dangerCardHeader,&$infoCardHeader,&$primaryCardHeader,&$roseCardHeader,&$plainCardHeader\": {\r\n      \"&:not($cardHeaderIcon)\": {\r\n        borderRadius: \"3px\",\r\n        marginTop: \"-20px\",\r\n        padding: \"15px\"\r\n      }\r\n    },\r\n    \"&$cardHeaderStats svg\": {\r\n      fontSize: \"36px\",\r\n      lineHeight: \"56px\",\r\n      textAlign: \"center\",\r\n      width: \"36px\",\r\n      height: \"36px\",\r\n      margin: \"10px 10px 4px\"\r\n    },\r\n    \"&$cardHeaderStats i,&$cardHeaderStats .material-icons\": {\r\n      fontSize: \"36px\",\r\n      lineHeight: \"56px\",\r\n      width: \"56px\",\r\n      height: \"56px\",\r\n      textAlign: \"center\",\r\n      overflow: \"unset\",\r\n      marginBottom: \"1px\"\r\n    },\r\n    \"&$cardHeaderStats$cardHeaderIcon\": {\r\n      textAlign: \"right\"\r\n    }\r\n  },\r\n  cardHeaderPlain: {\r\n    marginLeft: \"0px !important\",\r\n    marginRight: \"0px !important\"\r\n  },\r\n  cardHeaderStats: {\r\n    \"& $cardHeaderIcon\": {\r\n      textAlign: \"right\"\r\n    },\r\n    \"& h1,& h2,& h3,& h4,& h5,& h6\": {\r\n      margin: \"0 !important\"\r\n    }\r\n  },\r\n  cardHeaderIcon: {\r\n    \"&$warningCardHeader,&$successCardHeader,&$dangerCardHeader,&$infoCardHeader,&$primaryCardHeader,&$roseCardHeader,&$plainCardHeader\": {\r\n      background: \"transparent\",\r\n      boxShadow: \"none\"\r\n    },\r\n    \"& i,& .material-icons\": {\r\n      width: \"33px\",\r\n      height: \"33px\",\r\n      textAlign: \"center\",\r\n      lineHeight: \"33px\"\r\n    },\r\n    \"& svg\": {\r\n      width: \"24px\",\r\n      height: \"24px\",\r\n      textAlign: \"center\",\r\n      lineHeight: \"33px\",\r\n      margin: \"5px 4px 0px\"\r\n    }\r\n  },\r\n  warningCardHeader: {\r\n    color: \"#FFFFFF\",\r\n    \"&:not($cardHeaderIcon)\": {\r\n      ...warningCardHeader\r\n    }\r\n  },\r\n  successCardHeader: {\r\n    color: \"#FFFFFF\",\r\n    \"&:not($cardHeaderIcon)\": {\r\n      ...successCardHeader\r\n    }\r\n  },\r\n  dangerCardHeader: {\r\n    color: \"#FFFFFF\",\r\n    \"&:not($cardHeaderIcon)\": {\r\n      ...dangerCardHeader\r\n    }\r\n  },\r\n  infoCardHeader: {\r\n    color: \"#FFFFFF\",\r\n    \"&:not($cardHeaderIcon)\": {\r\n      ...infoCardHeader\r\n    }\r\n  },\r\n  primaryCardHeader: {\r\n    color: \"#FFFFFF\",\r\n    \"&:not($cardHeaderIcon)\": {\r\n      ...primaryCardHeader\r\n    }\r\n  },\r\n  roseCardHeader: {\r\n    color: \"#FFFFFF\",\r\n    \"&:not($cardHeaderIcon)\": {\r\n      ...roseCardHeader\r\n    }\r\n  },\r\n  plainCardHeader: {\r\n    color: \"#FFFFFF\",\r\n    \"&:not($cardHeaderIcon)\": {\r\n      ...plainCardHeader\r\n    }\r\n  }\r\n};\r\n\r\nexport default cardHeaderStyle;\r\n","import React from \"react\";\r\n// nodejs library that concatenates classes\r\nimport classNames from \"classnames\";\r\n// nodejs library to set properties for components\r\nimport PropTypes from \"prop-types\";\r\n// @material-ui/core components\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\n// @material-ui/icons\r\n\r\n// core components\r\nimport cardHeaderStyle from \"../../assets/jss/components/cardHeaderStyle.jsx\";\r\n\r\nfunction CardHeader({ ...props }) {\r\n  const {\r\n    classes,\r\n    className,\r\n    children,\r\n    color,\r\n    plain,\r\n    stats,\r\n    icon,\r\n    ...rest\r\n  } = props;\r\n  const cardHeaderClasses = classNames({\r\n    [classes.cardHeader]: true,\r\n    [classes[color + \"CardHeader\"]]: color,\r\n    [classes.cardHeaderPlain]: plain,\r\n    [classes.cardHeaderStats]: stats,\r\n    [classes.cardHeaderIcon]: icon,\r\n    [className]: className !== undefined\r\n  });\r\n  return (\r\n    <div className={cardHeaderClasses} {...rest}>\r\n      {children}\r\n    </div>\r\n  );\r\n}\r\n\r\nCardHeader.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  className: PropTypes.string,\r\n  color: PropTypes.oneOf([\r\n    \"warning\",\r\n    \"success\",\r\n    \"danger\",\r\n    \"info\",\r\n    \"primary\",\r\n    \"rose\",\r\n    \"plain\",\r\n  ]),\r\n  plain: PropTypes.bool,\r\n  stats: PropTypes.bool,\r\n  icon: PropTypes.bool\r\n};\r\n\r\nexport default withStyles(cardHeaderStyle)(CardHeader);\r\n","import {\r\n  warningCardHeader,\r\n  successCardHeader,\r\n  dangerCardHeader,\r\n  infoCardHeader,\r\n  primaryCardHeader,\r\n  roseCardHeader\r\n} from \"../material-dashboard-react.jsx\";\r\nconst cardIconStyle = {\r\n  cardIcon: {\r\n    \"&$warningCardHeader,&$successCardHeader,&$dangerCardHeader,&$infoCardHeader,&$primaryCardHeader,&$roseCardHeader\": {\r\n      borderRadius: \"3px\",\r\n      backgroundColor: \"#999\",\r\n      padding: \"15px\",\r\n      marginTop: \"-20px\",\r\n      marginRight: \"15px\",\r\n      float: \"left\"\r\n    }\r\n  },\r\n  warningCardHeader,\r\n  successCardHeader,\r\n  dangerCardHeader,\r\n  infoCardHeader,\r\n  primaryCardHeader,\r\n  roseCardHeader\r\n};\r\n\r\nexport default cardIconStyle;\r\n","import React from \"react\";\r\n// nodejs library that concatenates classes\r\nimport classNames from \"classnames\";\r\n// nodejs library to set properties for components\r\nimport PropTypes from \"prop-types\";\r\n// @material-ui/core components\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\n// @material-ui/icons\r\n\r\n// core components\r\nimport cardIconStyle from \"../../assets/jss/components/cardIconStyle.jsx\";\r\n\r\nfunction CardIcon({ ...props }) {\r\n  const { classes, className, children, color, ...rest } = props;\r\n  const cardIconClasses = classNames({\r\n    [classes.cardIcon]: true,\r\n    [classes[color + \"CardHeader\"]]: color,\r\n    [className]: className !== undefined\r\n  });\r\n  return (\r\n    <div className={cardIconClasses} {...rest}>\r\n      {children}\r\n    </div>\r\n  );\r\n}\r\n\r\nCardIcon.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  className: PropTypes.string,\r\n  color: PropTypes.oneOf([\r\n    \"warning\",\r\n    \"success\",\r\n    \"danger\",\r\n    \"info\",\r\n    \"primary\",\r\n    \"rose\"\r\n  ])\r\n};\r\n\r\nexport default withStyles(cardIconStyle)(CardIcon);\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom'\r\nimport {\r\n  ListItem,\r\n  ListItemIcon,\r\n  ListItemText\r\n} from '@material-ui/core';\r\nimport {\r\n  People,\r\n  GroupWork,\r\n  Business,\r\n  RecentActors,\r\n  AccountBox,\r\n  FolderShared,\r\n  PieChart,\r\n  Dashboard,\r\n  ShoppingCart,\r\n  HowToReg,\r\n  NewReleases,\r\n  Settings,\r\n  Commute,\r\n  AttachMoney,\r\n  Euro,\r\n  AirplanemodeActive\r\n} from '@material-ui/icons';\r\nimport HomeIcon from '@material-ui/icons/Home';\r\nimport { HasPerm } from '../components';\r\nimport { hostApi } from '../utils';\r\n\r\nexport const HomeListItems = () => (\r\n  <div>\r\n    <ListItem button component={Link} to=\"/\">\r\n      <ListItemIcon>\r\n        <HomeIcon />\r\n      </ListItemIcon>\r\n      <ListItemText primary=\"\" />\r\n    </ListItem>\r\n  </div>\r\n);\r\n\r\nexport const MemberListItems = () => (\r\n  <div>\r\n    <HasPerm permission='member.view_dashboard'>\r\n      <ListItem button component={Link} to='/member'>\r\n        <ListItemIcon>\r\n          <Dashboard />\r\n        </ListItemIcon>\r\n        <ListItemText primary=\"\" />\r\n      </ListItem>\r\n    </HasPerm>\r\n    <HasPerm permission='member.view_member'>\r\n      <ListItem button component={Link} to='/member/members?is_retired=false&is_on_sales=true'>\r\n        <ListItemIcon>\r\n          <People />\r\n        </ListItemIcon>\r\n        <ListItemText primary=\"\" />\r\n      </ListItem>\r\n    </HasPerm>\r\n    <HasPerm permission='member.view_salesperson'>\r\n      <ListItem button component={Link} to='/member/salesperson'>\r\n        <ListItemIcon>\r\n          <HowToReg />\r\n        </ListItemIcon>\r\n        <ListItemText primary=\"\" />\r\n      </ListItem>\r\n    </HasPerm>\r\n    <HasPerm permission='org.view_organization'>\r\n      <ListItem button component={Link} to='/organization'>\r\n        <ListItemIcon>\r\n          <FolderShared />\r\n        </ListItemIcon>\r\n        <ListItemText primary=\"\" />\r\n      </ListItem>\r\n    </HasPerm>\r\n    <HasPerm permission='org.view_member'>\r\n      <ListItem button component={Link} to='/member/releases/'>\r\n        <ListItemIcon>\r\n          <NewReleases />\r\n        </ListItemIcon>\r\n        <ListItemText primary=\"\" />\r\n      </ListItem>\r\n    </HasPerm>\r\n    <HasPerm permission='attendance.view_expense'>\r\n      <ListItem button component={Link} to='/member/expenses'>\r\n        <ListItemIcon>\r\n          <Euro />\r\n        </ListItemIcon>\r\n        <ListItemText primary=\"\" />\r\n      </ListItem>\r\n    </HasPerm>\r\n  </div>\r\n);\r\n\r\nexport const PartnerListItems = () => (\r\n  <div>\r\n    <HasPerm permission='partner.view_partnercompany'>\r\n      <ListItem button component={Link} to='/partner/companies?is_retired=false'>\r\n        <ListItemIcon>\r\n          <RecentActors />\r\n        </ListItemIcon>\r\n        <ListItemText primary=\"\" />\r\n      </ListItem>\r\n    </HasPerm>\r\n    <HasPerm permission='partner.view_partnermember'>\r\n      <ListItem button component={Link} to='/partner/individual'>\r\n        <ListItemIcon>\r\n          <AccountBox />\r\n        </ListItemIcon>\r\n        <ListItemText primary=\"\" />\r\n      </ListItem>\r\n    </HasPerm>\r\n    <HasPerm permission='partner.view_partnerorder'>\r\n      <ListItem button component={Link} to='/partner/monthly-orders'>\r\n        <ListItemIcon>\r\n            <ShoppingCart />\r\n        </ListItemIcon>\r\n        <ListItemText primary=\"BP\" />\r\n      </ListItem>\r\n    </HasPerm>\r\n    <HasPerm permission='partner.view_partnerrequest'>\r\n      <ListItem button component={Link} to='/partner/partner-requests'>\r\n        <ListItemIcon>\r\n            <AttachMoney />\r\n        </ListItemIcon>\r\n        <ListItemText primary=\"\" />\r\n      </ListItem>\r\n    </HasPerm>\r\n  </div>\r\n);\r\n\r\nexport const ProjectListItems = () => (\r\n  <div>\r\n    <HasPerm permission='project.view_project'>\r\n      <ListItem button component={Link} to='/project/projects?is_finished=false'>\r\n        <ListItemIcon>\r\n          <GroupWork />\r\n        </ListItemIcon>\r\n        <ListItemText primary=\"\" />\r\n      </ListItem>\r\n    </HasPerm>\r\n    <HasPerm permission='client.view_clientcompany'>\r\n      <ListItem button component={Link} to='/client/companies'>\r\n        <ListItemIcon>\r\n          <Business />\r\n        </ListItemIcon>\r\n        <ListItemText primary=\"\" />\r\n      </ListItem>\r\n    </HasPerm>\r\n  </div>\r\n);\r\n\r\nexport const ContractListItems = () => {\r\n  return (\r\n    <div>\r\n      <HasPerm permission='contract.view_contract'>\r\n        <ListItem button component={Link} to='/contract'>\r\n          <ListItemIcon>\r\n            <Dashboard />\r\n          </ListItemIcon>\r\n          <ListItemText primary=\"\" />\r\n        </ListItem>\r\n      </HasPerm>\r\n      <HasPerm permission='contract.view_member'>\r\n        <ListItem button component={Link} to='/contract/members?is_retired=false'>\r\n          <ListItemIcon>\r\n            <People />\r\n          </ListItemIcon>\r\n          <ListItemText primary=\"\" />\r\n        </ListItem>\r\n      </HasPerm>\r\n      <HasPerm permission='contract.view_member'>\r\n        <ListItem button component={Link} to='/contract/commutations'>\r\n          <ListItemIcon>\r\n            <Commute />\r\n          </ListItemIcon>\r\n          <ListItemText primary=\"\" />\r\n        </ListItem>\r\n      </HasPerm>\r\n      <HasPerm permission='member.view_paidvacation'>\r\n        <ListItem button component={Link} to='/contract/paid-vacations'>\r\n          <ListItemIcon>\r\n            <AirplanemodeActive />\r\n          </ListItemIcon>\r\n          <ListItemText primary=\"\" />\r\n        </ListItem>\r\n      </HasPerm>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const TurnoverListItems = () => (\r\n  <div>\r\n    <ListItem button component={Link} to='/turnover'>\r\n      <ListItemIcon>\r\n        <PieChart />\r\n      </ListItemIcon>\r\n      <ListItemText primary=\"\" />\r\n    </ListItem>\r\n    <ListItem button component={Link} to='/turnover/members/monthly'>\r\n      <ListItemIcon>\r\n        <People />\r\n      </ListItemIcon>\r\n      <ListItemText primary=\"\" />\r\n    </ListItem>\r\n  </div>\r\n);\r\n\r\nexport const SettingListItems = () => (\r\n  <div>\r\n    <ListItem button component={Link} to={`${hostApi}/admin`} target='_blank' rel='noopener'>\r\n      <ListItemIcon>\r\n        <Settings />\r\n      </ListItemIcon>\r\n      <ListItemText primary=\"\" />\r\n    </ListItem>\r\n  </div>\r\n);\r\n","import { connect } from 'react-redux';\r\nimport TopBar from '../components/TopBar';\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n  loggedIn: state.auth.loggedIn,\r\n  user: state.user,\r\n});\r\n\r\nexport default connect(mapStateToProps, null)(TopBar);\r\n","const drawerWidth = 240;\r\n\r\nconst mainStyles = theme => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    zIndex: 1,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n    display: 'flex',\r\n    '-ms-overflow-style': 'none',  /* Edge */\r\n  },\r\n  grow: {\r\n    flexGrow: 1,\r\n  },\r\n  appBar: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    transition: theme.transitions.create(['width', 'margin'], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n  },\r\n  appBarShift: {\r\n    marginLeft: drawerWidth,\r\n    [theme.breakpoints.up('sm')]: {\r\n      width: `calc(100% - ${drawerWidth}px)`,\r\n    },\r\n    transition: theme.transitions.create(['width', 'margin'], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n  },\r\n  menuButton: {\r\n    marginLeft: 12,\r\n    marginRight: 36,\r\n  },\r\n  hide: {\r\n    display: 'none',\r\n  },\r\n  drawer: {\r\n    width: drawerWidth,\r\n    flexShrink: 0,\r\n    whiteSpace: 'nowrap',\r\n  },\r\n  drawerOpen: {\r\n    width: drawerWidth,\r\n    transition: theme.transitions.create('width', {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n  },\r\n  drawerClose: {\r\n    transition: theme.transitions.create('width', {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n    overflowX: 'hidden',\r\n    width: theme.spacing(7) + 1,\r\n    [theme.breakpoints.up('sm')]: {\r\n      width: theme.spacing(9) + 1,\r\n    },\r\n  },\r\n  toolbar: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'flex-end',\r\n    padding: '0 8px',\r\n    ...theme.mixins.toolbar,\r\n  },\r\n  content: {\r\n    flexGrow: 1,\r\n    backgroundColor: theme.palette.background.default,\r\n    padding: theme.spacing(1),\r\n    width: '100%',\r\n    minHeight: 600,\r\n    [theme.breakpoints.down('xs')]: {\r\n      padding: 0,\r\n    },\r\n  },\r\n  withoutMobile: {\r\n    [theme.breakpoints.down('xs')]: {\r\n      display: 'none',\r\n    },\r\n  },\r\n  '@global': {\r\n    '*::-webkit-scrollbar': {\r\n      width: '0.4em',\r\n    },\r\n    '*:hover::-webkit-scrollbar': {\r\n    },\r\n    '*::-webkit-scrollbar-track': {\r\n      '-webkit-box-shadow': 'inset 0 0 6px rgba(0,0,0,0.00)',\r\n    },\r\n    '*::-webkit-scrollbar-thumb': {\r\n      backgroundColor: 'rgba(0,0,0,.1)',\r\n      outline: '1px solid slategrey',\r\n    },\r\n  },\r\n});\r\n\r\nexport default mainStyles;","import React from 'react';\r\nimport classNames from 'classnames';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport {\r\n  Drawer,\r\n  IconButton,\r\n  Divider,\r\n  withWidth,\r\n  isWidthDown,\r\n} from '@material-ui/core';\r\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\r\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\r\nimport TopBar from '../containers/TopBar';\r\nimport styles from '../assets/jss/views/mainStyle';\r\n\r\nclass MainFrame extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      open: false,\r\n      showMessage: false,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.onMount();\r\n  }\r\n\r\n  handleDrawerOpen = () => {\r\n    this.setState({ open: true });\r\n  };\r\n\r\n  handleDrawerClose = () => {\r\n    this.setState({ open: false });\r\n  };\r\n\r\n  render() {\r\n    const { classes, theme, appName, sideMenu, children, width } = this.props;\r\n    const { open } = this.state;\r\n\r\n    return (\r\n      <div className={classes.root}>\r\n        <TopBar \r\n          classes={classes} \r\n          open={open} \r\n          handleDrawerOpen={this.handleDrawerOpen}\r\n          appName={appName}\r\n        />\r\n        <Drawer\r\n          variant={isWidthDown('xs', width) ? 'temporary' : 'permanent'}\r\n          className={classNames(classes.drawer, {\r\n            [classes.drawerOpen]: open,\r\n            [classes.drawerClose]: !open,\r\n          })}\r\n          classes={{\r\n            paper: classNames({\r\n              [classes.drawerOpen]: open,\r\n              [classes.drawerClose]: !open,\r\n            }),\r\n          }}\r\n          open={open}\r\n          PaperProps={{style: {overflowX: 'hidden'}}}\r\n          onClick={this.handleDrawerClose}\r\n        >\r\n          <div className={classes.toolbar}>\r\n            <IconButton onClick={this.handleDrawerClose}>\r\n              {theme.direction === 'rtl' ? <ChevronRightIcon /> : <ChevronLeftIcon />}\r\n            </IconButton>\r\n          </div>\r\n          <Divider/>\r\n          {sideMenu}\r\n        </Drawer>\r\n        <main className={classes.content}>\r\n          <div className={classes.toolbar} />\r\n          {children}\r\n        </main>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nMainFrame.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  theme: PropTypes.object.isRequired,\r\n  appName: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default withStyles(styles, { withTheme: true })(withWidth()(MainFrame));\r\n","import { connect } from 'react-redux';\r\nimport MainFrame from '../layout/MainFrame';\r\nimport { logoutAndRedirect, getMe, clearMe } from '../features/actions/index';\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return {\r\n    loggedIn: state.auth.loggedIn,\r\n    user: state.user.me,\r\n    perms: state.user.perms,\r\n  }\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    logout() {\r\n      dispatch(logoutAndRedirect());\r\n      dispatch(clearMe());\r\n    },\r\n    onMount() {\r\n      dispatch(getMe());\r\n    }\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(MainFrame);\r\n","import { successColor } from \"../material-dashboard-react\";\r\n\r\nconst dashboardStyle = {\r\n  successText: {\r\n    color: successColor\r\n  },\r\n  upArrowCardCategory: {\r\n    width: \"16px\",\r\n    height: \"16px\"\r\n  },\r\n  stats: {\r\n    color: \"#999999\",\r\n    display: \"inline-flex\",\r\n    fontSize: \"12px\",\r\n    lineHeight: \"22px\",\r\n    \"& svg\": {\r\n      top: \"4px\",\r\n      width: \"16px\",\r\n      height: \"16px\",\r\n      position: \"relative\",\r\n      marginRight: \"3px\",\r\n      marginLeft: \"3px\"\r\n    },\r\n    \"& .fab,& .fas,& .far,& .fal,& .material-icons\": {\r\n      top: \"4px\",\r\n      fontSize: \"16px\",\r\n      position: \"relative\",\r\n      marginRight: \"3px\",\r\n      marginLeft: \"3px\"\r\n    }\r\n  },\r\n  cardCategory: {\r\n    color: \"#999999\",\r\n    margin: \"0\",\r\n    fontSize: \"14px\",\r\n    marginTop: \"0\",\r\n    paddingTop: \"10px\",\r\n    marginBottom: \"0\"\r\n  },\r\n  cardCategoryWhite: {\r\n    color: \"rgba(255,255,255,.62)\",\r\n    margin: \"0\",\r\n    fontSize: \"14px\",\r\n    marginTop: \"0\",\r\n    marginBottom: \"0\"\r\n  },\r\n  cardTitle: {\r\n    color: \"#3C4858\",\r\n    marginTop: \"0px\",\r\n    minHeight: \"auto\",\r\n    fontWeight: \"300\",\r\n    fontFamily: \"'Roboto', 'Helvetica', 'Arial', sans-serif\",\r\n    marginBottom: \"3px\",\r\n    textDecoration: \"none\",\r\n    \"& small\": {\r\n      color: \"#777\",\r\n      fontWeight: \"400\",\r\n      lineHeight: \"1\"\r\n    }\r\n  },\r\n  cardTitleWhite: {\r\n    color: \"#FFFFFF\",\r\n    marginTop: \"0px\",\r\n    minHeight: \"auto\",\r\n    fontWeight: \"300\",\r\n    fontFamily: \"'Roboto', 'Helvetica', 'Arial', sans-serif\",\r\n    marginBottom: \"3px\",\r\n    textDecoration: \"none\",\r\n    \"& small\": {\r\n      color: \"#777\",\r\n      fontWeight: \"400\",\r\n      lineHeight: \"1\"\r\n    }\r\n  }\r\n};\r\n\r\nexport default dashboardStyle;\r\n","import {\r\n  defaultFont,\r\n  primaryColor,\r\n  infoColor,\r\n  successColor,\r\n  warningColor,\r\n  dangerColor\r\n} from \"../material-dashboard-react.jsx\";\r\n\r\nconst typographyStyle = {\r\n  defaultFontStyle: {\r\n    ...defaultFont,\r\n    fontSize: \"14px\"\r\n  },\r\n  defaultHeaderMargins: {\r\n    marginTop: \"20px\",\r\n    marginBottom: \"10px\"\r\n  },\r\n  quote: {\r\n    padding: \"10px 20px\",\r\n    margin: \"0 0 20px\",\r\n    fontSize: \"17.5px\",\r\n    borderLeft: \"5px solid #eee\"\r\n  },\r\n  quoteText: {\r\n    margin: \"0 0 10px\",\r\n    fontStyle: \"italic\"\r\n  },\r\n  quoteAuthor: {\r\n    display: \"block\",\r\n    fontSize: \"80%\",\r\n    lineHeight: \"1.42857143\",\r\n    color: \"#777\"\r\n  },\r\n  mutedText: {\r\n    color: \"#777\"\r\n  },\r\n  primaryText: {\r\n    color: primaryColor\r\n  },\r\n  infoText: {\r\n    color: infoColor\r\n  },\r\n  successText: {\r\n    color: successColor\r\n  },\r\n  warningText: {\r\n    color: warningColor\r\n  },\r\n  dangerText: {\r\n    color: dangerColor\r\n  }\r\n};\r\n\r\nexport default typographyStyle;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n// @material-ui/core components\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\n// core components\r\nimport typographyStyle from \"../../assets/jss/components/typographyStyle.jsx\";\r\n\r\nfunction Danger({ ...props }) {\r\n  const { classes, children } = props;\r\n  return (\r\n    <div className={classes.defaultFontStyle + \" \" + classes.dangerText}>\r\n      {children}\r\n    </div>\r\n  );\r\n}\r\n\r\nDanger.propTypes = {\r\n  classes: PropTypes.object.isRequired\r\n};\r\n\r\nexport default withStyles(typographyStyle)(Danger);\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n// @material-ui/core components\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\n// core components\r\nimport typographyStyle from \"../../assets/jss/components/typographyStyle.jsx\";\r\n\r\nfunction Warning({ ...props }) {\r\n  const { classes, children } = props;\r\n  return (\r\n    <div className={classes.defaultFontStyle + \" \" + classes.warningText}>\r\n      {children}\r\n    </div>\r\n  );\r\n}\r\n\r\nWarning.propTypes = {\r\n  classes: PropTypes.object.isRequired\r\n};\r\n\r\nexport default withStyles(typographyStyle)(Warning);\r\n","import request from 'sync-request';\r\nimport { Toast, ShowImage } from '../../components';\r\nimport { ajax, common } from \"../../utils/common\";\r\nimport { config, constant, authHeader } from \"../../utils\";\r\n\r\nexport function getMemberDashboard() {\r\n  return ajax.fetchGet(config.api.member.dashboard);\r\n};\r\n\r\nexport function getOrganizationChoices() {\r\n  // \r\n  return ajax.fetchGet(config.api.organization.list).then(data => {\r\n    let organizations = [];\r\n    data.results.map(row => (\r\n      organizations.push({value: row.id, display_name: row.name, parent: row.parent})\r\n    ));\r\n    return organizations;\r\n  });\r\n};\r\n\r\n/**\r\n * \r\n * @param {Integer} ct \r\n * @param {Integer} pk ID\r\n */\r\nexport function getMemberProjectTimeline(ct, pk) {\r\n  return ajax.fetchGet(common.formatStr(config.api.member.member_projects, ct, pk)).then(data => {\r\n    const timelines = [];\r\n    data.map(row => (\r\n      timelines.push({\r\n        start: row.start_date,\r\n        end: row.end_date,\r\n        text: row.project_name,\r\n        link: `/project/projects/${row.project_id}`,\r\n      })\r\n    ));\r\n    return timelines;\r\n  });\r\n};\r\n\r\nexport function getPartnerMemberContractTimeline(company_id, member_id) {\r\n  return ajax.fetchGet(common.formatStr(config.api.partner.member_contracts, company_id, member_id)).then(data => {\r\n    const timelines = [];\r\n    data.map(row => (\r\n      timelines.push({\r\n        start: row.start_date,\r\n        end: row.end_date,\r\n        text: `:${common.toNumComma(row.basic_price)}${row.is_hourly_pay === 1 ? '' : ''}${row.is_fixed_pay === 1 ? '' : ''}`,\r\n        link: `/partner/companies/${row.company_object_id}/members/${row.object_id}/contracts/${row.id}/detail`,\r\n      })\r\n    ));\r\n    return timelines;\r\n  });\r\n};\r\n\r\n/**\r\n * \r\n * @param {Integer} ct \r\n * @param {Integer} pk ID\r\n */\r\nexport function getPartnerMemberProjectTimeline(partner_member_id) {\r\n  return ajax.fetchGet(common.formatStr(config.api.partner.member_projects, partner_member_id)).then(data => {\r\n    const timelines = [];\r\n    data.map(row => (\r\n      timelines.push({\r\n        start: row.start_date,\r\n        end: row.end_date,\r\n        text: row.project_name,\r\n        link: `/project/projects/${row.project_id}`,\r\n      })\r\n    ));\r\n    return timelines;\r\n  });\r\n};\r\n\r\n/**\r\n * \r\n */\r\nexport function getSalespersonChoice() {\r\n  return ajax.fetchGet(config.api.salesperson.salesperson_list).then(data => {\r\n    let companies = [];\r\n    data.results.map(row => (\r\n      companies.push({value: row.id, display_name: row.full_name})\r\n    ));\r\n    return companies;\r\n  });\r\n\r\n};\r\n\r\n/**\r\n * \r\n * @param {Integer} org_id ID\r\n */\r\nexport function getOrganization(org_id) {\r\n  return ajax.fetchGet(common.formatStr(config.api.organization.detail, org_id));\r\n};\r\n\r\n/**\r\n * \r\n * @param {Integer} org_id \r\n */\r\nexport function getOrganizationPositionTimelines(org_id) {\r\n  return ajax.fetchGet(common.formatStr(config.api.organization.position_list, org_id)).then(data => {\r\n    const timelines = [];\r\n    data.results.map(row => (\r\n      timelines.push({start: row.start_date, text: `${row.full_name}  ${row.position_name} `})\r\n    ));\r\n    return timelines;\r\n  });\r\n};\r\n\r\n/**\r\n * \r\n * @param {Integer} member_id ID\r\n */\r\nexport function getMemberInfo(member_id) {\r\n  return ajax.fetchGet(common.formatStr(config.api.member.detail, member_id));\r\n};\r\n\r\n/**\r\n * \r\n * @param {Integer} contract_id ID\r\n */\r\nexport function getContractItems(contract_id) {\r\n  if (contract_id) {\r\n    return ajax.fetchGet(common.formatStr(config.api.contract.contract_items, contract_id));\r\n  } else {\r\n    return ajax.fetchGet(config.api.master.contract_items);\r\n  }\r\n};\r\n\r\n/**\r\n * \r\n * @param {Integer} contract_id ID\r\n */\r\nexport function getContractAllownaces(contract_id) {\r\n  if (contract_id) {\r\n    return ajax.fetchGet(common.formatStr(config.api.contract.contract_allowances, contract_id));\r\n  } else {\r\n    return ajax.fetchGet(config.api.master.contract_allowances);\r\n  }\r\n};\r\n\r\nexport function getContractTimeline(member_id) {\r\n  return ajax.fetchGet(common.formatStr(config.api.contract.member_timeline, member_id));\r\n};\r\n\r\nexport function getContract(pk) {\r\n  return ajax.fetchGet(common.formatStr(config.api.contract.detail, pk))\r\n};\r\n\r\nexport function getReportContractEmployment(contract_id) {\r\n  return ajax.fetchGet(common.formatStr(config.api.contract.report_employment, contract_id));\r\n};\r\n\r\nexport function getReportContractIncumbency(contract_id) {\r\n  return ajax.fetchGet(common.formatStr(config.api.contract.report_incumbency, contract_id));\r\n};\r\n\r\nexport function getReportContractIncome(contract_id) {\r\n  return ajax.fetchGet(common.formatStr(config.api.contract.report_income, contract_id));\r\n};\r\n\r\nexport function getContractDashboard() {\r\n  return ajax.fetchGet(config.api.contract.dashboard);\r\n};\r\n\r\nexport function getPartnerCompanyChoices() {\r\n  return ajax.fetchGet(config.api.partner.list).then(data => {\r\n    let companies = [];\r\n    data.map(row => (\r\n      companies.push({value: row.id, display_name: row.name})\r\n    ));\r\n    return companies;\r\n  });\r\n};\r\n\r\nexport function getPartnerCompany(pk) {\r\n  return ajax.fetchGet(common.formatStr(config.api.partner.detail, pk));\r\n};\r\n\r\nexport function getPartnerMember(company_id, member_id) {\r\n  return ajax.fetchGet(common.formatStr(config.api.partner.company_member, company_id, member_id));\r\n};\r\n\r\nexport function getIndividualMember(member_id) {\r\n  return ajax.fetchGet(common.formatStr(config.api.partner.individual_member_detail, member_id));\r\n};\r\n\r\nexport function getPartnerMemberChoice(company_id, exlude_id) {\r\n  return ajax.fetchGet(common.formatStr(config.api.partner.company_members, company_id)).then(data => {\r\n    let members = [];\r\n    data.results.filter(item => (item.id + '') !== (exlude_id + '')).map(row => (\r\n      members.push({value: row.id, display_name: row.full_name})\r\n    ));\r\n    return members;\r\n  });\r\n};\r\n\r\nexport function getPartnerMemberContract(member_id, contract_id) {\r\n  return ajax.fetchGet(common.formatStr(config.api.partner.member_contract, member_id, contract_id));\r\n};\r\n\r\nexport function getPartnerMemberContractTotal(member_id, contract_id) {\r\n  return ajax.fetchGet(common.formatStr(config.api.partner.member_contract_total, member_id, contract_id));\r\n};\r\n\r\nexport function getProjectMemberContractTotal(project_id, member_id, contract_id) {\r\n  return ajax.fetchGet(common.formatStr(config.api.project.member_contract_total, project_id, member_id, contract_id));\r\n};\r\n\r\nexport function getProjectContractTotal(project_id, contract_id) {\r\n  return ajax.fetchGet(common.formatStr(config.api.project.blanket_contract_total, project_id, contract_id));\r\n};\r\n\r\nexport function getClientCompany(pk) {\r\n  return ajax.fetchGet(common.formatStr(config.api.client.detail, pk));\r\n};\r\n\r\nexport function getProjectBusinessTypeChoice() {\r\n  return ajax.fetchGet(config.api.master.project_business_type).then(data => {\r\n    let choices = [];\r\n    data.results.map(row => (\r\n      choices.push({value: row.code, display_name: row.name})\r\n    ));\r\n    return choices;\r\n  });\r\n};\r\n\r\nexport function getCompanyCategory() {\r\n  return ajax.fetchGet(config.api.master.company_category).then(data => {\r\n    let choices = [];\r\n    data.map(row => (\r\n      choices.push({value: row.id, display_name: row.name})\r\n    ));\r\n    return choices;\r\n  });\r\n};\r\n\r\nexport function getMemberCategory() {\r\n  return ajax.fetchGet(config.api.master.member_category).then(data => {\r\n    let choices = [];\r\n    data.map(row => (\r\n      choices.push({value: row.id, display_name: row.name})\r\n    ));\r\n    return choices;\r\n  });\r\n};\r\n\r\nexport function getMemberChoices() {\r\n  return ajax.fetchGet(config.api.member.choices).then(data => {\r\n    let choices = [];\r\n    data.map(row => (\r\n      choices.push({value: row.id, display_name: row.last_name + row.first_name})\r\n    ));\r\n    return choices;\r\n  });\r\n};\r\n\r\nexport function getContentObjects(content_type) {\r\n  return ajax.fetchGet(common.formatStr(config.api.master.content_objects, content_type));\r\n};\r\n\r\n/**\r\n * \r\n * @param {String} current_name \r\n * @param {String} content_type_name \r\n * @param {Any} content_type_value \r\n * @param {Object} schema \r\n */\r\nexport function getCascadeObjects(current_name, content_type_name, content_type_value, schema) {\r\n  if (current_name === content_type_name) {\r\n    return getContentObjects(content_type_value).then(object_list => {\r\n      common.cascade_reflect(object_list, schema, content_type_name);\r\n    });\r\n  } else {\r\n    return null;\r\n  }\r\n};\r\n\r\nexport function getProjectDetail(pk) {\r\n  return ajax.fetchGet(common.formatStr(config.api.project.detail, pk));\r\n};\r\n\r\nexport function getProjectRequestProfile(project_id) {\r\n  return ajax.fetchGet(common.formatStr(config.api.project.request_profile, project_id));\r\n};\r\n\r\nexport function changeProjectRequestProfile(project_id, data) {\r\n  return ajax.fetchPut(common.formatStr(config.api.project.request_profile_change, project_id), data);\r\n};\r\n\r\nexport function getProjectMemberChoices(project_id) {\r\n  return ajax.fetchGet(common.formatStr(config.api.project.member_list, project_id)).then(data => {\r\n    let choices = [];\r\n    data.results.map(row => (\r\n      choices.push({value: row.id, display_name: row.full_name})\r\n    ));\r\n    return choices;\r\n  });\r\n};\r\n\r\nexport function getProjectMemberDetial(project_id, member_id) {\r\n  return ajax.fetchGet(common.formatStr(config.api.project.member_detail, project_id, member_id));\r\n};\r\n\r\nexport function getProjectOrderDetail(project_id, order_id) {\r\n  return ajax.fetchGet(common.formatStr(config.api.project.project_order_detail, project_id, order_id));\r\n};\r\n\r\nexport function getProjectSubcontractorDetail(project_id, subcontractor_id) {\r\n  return ajax.fetchGet(common.formatStr(config.api.project.subcontractor_detail, project_id, subcontractor_id));\r\n};\r\n\r\nexport function getProjectSubcontractorContractTotal(project_id, subcontractors_id, contract_id) {\r\n  return ajax.fetchGet(common.formatStr(\r\n    config.api.project.subcontractor_contract_total, project_id, subcontractors_id, contract_id\r\n  ));\r\n};\r\n\r\nexport function onDeleteObject(delete_api, success_url) {\r\n  ajax.fetchDelete(delete_api).then(() => {\r\n    Toast.success(constant.SUCCESS.DELETED);\r\n    common.redirect(success_url);\r\n  }).catch(errors => {\r\n    Toast.error(errors.detail);\r\n  });\r\n};\r\n\r\nexport function onSaveProjectAttendance(project_id, pk, data) {\r\n  if (pk) {\r\n    return ajax.fetchPut(common.formatStr(config.api.project.project_attendance_detail, project_id, pk), data);\r\n  } else {\r\n    return ajax.fetchPost(common.formatStr(config.api.project.project_attendance_add, project_id), data);\r\n  }\r\n};\r\n\r\nexport function getBankChoices() {\r\n  return ajax.fetchGet(config.api.master.bank_list).then(data => {\r\n    let choices = [];\r\n    data.results.map(row => (\r\n      choices.push({value: row.code, display_name: `${row.code}:${row.name}`})\r\n    ));\r\n    return choices;\r\n  });\r\n};\r\n\r\nexport function getBankBranchChoices(bank_id) {\r\n  if (bank_id) {\r\n    return ajax.fetchGet(common.formatStr(config.api.master.bank_branch_list, bank_id)).then(data => {\r\n      let choices = [];\r\n      data.results.map(row => (\r\n        choices.push({value: row.id, display_name: `${row.branch_no}:${row.branch_name}`})\r\n      ));\r\n      return choices;\r\n    });\r\n  } else {\r\n    return new Promise((resolve, reject) => resolve([]));\r\n  }\r\n};\r\n\r\nexport function getBankAccountList(content_type, object_id) {\r\n  return ajax.fetchGet(common.formatStr(config.api.master.bank_account_by_ct, content_type, object_id)).then(data => {\r\n    let choices = [];\r\n    data.results.map(row => (\r\n      choices.push({value: row.id, display_name: `${row.bank_name}:${row.branch_name}:${row.account_number}`})\r\n    ));\r\n    return choices;\r\n  });\r\n};\r\n\r\nexport function getExpenseCategoryChoices() {\r\n  return ajax.fetchGet(common.formatStr(config.api.master.expense_category_list)).then(data => {\r\n    let choices = [];\r\n    data.results.map(row => (\r\n      choices.push({value: row.code, display_name: row.name})\r\n    ));\r\n    return choices;\r\n  });\r\n};\r\n\r\nexport function downloadAttachment(file_id) {\r\n  return ajax.fetchGet(common.formatStr(config.api.master.attachment_download, file_id)).then(data => {\r\n    const blob = common.toBlob(data.blob);\r\n    common.downloadBlog(blob, data.name);\r\n  }).catch(errors => {\r\n    Toast.error(errors.detail);\r\n    return Promise.reject(errors);\r\n  });\r\n};\r\n\r\nexport function viewAttachment(file_id) {\r\n  return ajax.fetchGet(common.formatStr(config.api.master.attachment_download, file_id)).then(data => {\r\n    // const blob = common.toBlob(data.blob);\r\n    ShowImage(data);\r\n  }).catch(errors => {\r\n    Toast.error(errors.detail);\r\n    return Promise.reject(errors);\r\n  });\r\n};\r\n\r\nexport function createProjectRequest(project_id, data) {\r\n  return ajax.fetchPost(common.formatStr(config.api.project.project_request_create, project_id), data);\r\n};\r\n\r\nexport function getProjectRequestHtml(project_id, request_id) {\r\n  return ajax.fetchGet(common.formatStr(config.api.project.project_request_html, project_id, request_id));\r\n};\r\n\r\nexport function createPartnerOrder(monthly_request_id, data) {\r\n  return ajax.fetchPost(common.formatStr(config.api.partner.order_add, monthly_request_id), data);\r\n};\r\n\r\nexport function getPartnerOrderHtml(order_id) {\r\n  return ajax.fetchGet(common.formatStr(config.api.partner.order_html, order_id));\r\n};\r\n\r\nexport function getPartnerOrderRequestHtml(order_id) {\r\n  return ajax.fetchGet(common.formatStr(config.api.partner.order_request_html, order_id));\r\n};\r\n\r\nexport function getPartnerOrderEmailData(order_id) {\r\n  return ajax.fetchGet(common.formatStr(config.api.partner.order_email_data, order_id));\r\n};\r\n\r\nexport function getPartnerPaymentNoticeEmailData(order_id) {\r\n  return ajax.fetchGet(common.formatStr(config.api.partner.payment_notice_email_data, order_id));\r\n};\r\n\r\nexport function createPartnerPaymentNotice(data) {\r\n  return ajax.fetchPost(config.api.partner.create_payment_notice, data);\r\n};\r\n\r\nexport function sendContentObjectEmail(content_type, object_id, data) {\r\n  return ajax.fetchPost(common.formatStr(config.api.master.send_email_for_content_type, content_type, object_id), data);\r\n};\r\n\r\nexport function getNextMemberCode(data) {\r\n  return ajax.fetchPost(config.api.member.next_code, data);\r\n};\r\n\r\nexport function getNextPartnerMemberCode(company_id, data) {\r\n  return ajax.fetchPost(common.formatStr(config.api.partner.next_partner_member_code, company_id), data);\r\n};\r\n\r\nexport function getNextSelfEmployeeCode(data) {\r\n  return ajax.fetchPost(config.api.partner.next_self_employee_code, data);\r\n};\r\n\r\n/**\r\n * HttpApi\r\n * @param {function} callback \r\n * @param {String} url Http Api\r\n */\r\nexport function handleAddObject(callback, url) {\r\n  const params = Array.from(arguments).slice(2);\r\n  return function(data, handleClose) {\r\n    if (typeof url === 'function') {\r\n      url = url(data);\r\n    }\r\n    return ajax.fetchPost(common.formatStr(url, ...params), data).then((added_data) => {\r\n      if (handleClose) {\r\n        handleClose();\r\n      }\r\n      Toast.success(constant.SUCCESS.SAVED);\r\n      if (callback) {\r\n        callback(added_data);\r\n      }\r\n    }).catch(errors => {\r\n      if (errors.detail) {\r\n        Toast.error(errors.detail);\r\n      } else {\r\n        Toast.error(constant.ERROR.FORM_CHECK_ERROR);\r\n      }\r\n      return Promise.reject(errors);\r\n    });\r\n  };\r\n};\r\n\r\n/**\r\n * HttpApi\r\n * @param {function} callback \r\n * @param {String} url Http Api\r\n */\r\nexport function handleEditObject(callback, url) {\r\n  const params = Array.from(arguments).slice(2);\r\n  return function(data, handleClose) {\r\n    if (typeof url === 'function') {\r\n      url = url(data);\r\n    }\r\n    return ajax.fetchPut(common.formatStr(url, ...params, data.id), data).then(() => {\r\n      if (handleClose) {\r\n        handleClose();\r\n      }\r\n      Toast.success(constant.SUCCESS.SAVED);\r\n      if (callback) {\r\n        callback(data);\r\n      }\r\n    }).catch(errors => {\r\n      if (errors.detail) {\r\n        Toast.error(errors.detail);\r\n      } else {\r\n        Toast.error(constant.ERROR.FORM_CHECK_ERROR);\r\n      }\r\n      return Promise.reject(errors);\r\n    });\r\n  };\r\n};\r\n\r\n/**\r\n * HttpApi\r\n * @param {function} callback \r\n * @param {String} url Http Api\r\n */\r\nexport function handleDeleteObject(callback, url) {\r\n  const params = Array.from(arguments).slice(2);\r\n  return async function(data, handleClose) {\r\n    let success = false;\r\n    if (typeof url === 'function') {\r\n      url = url(data);\r\n    }\r\n    await ajax.fetchDelete(common.formatStr(url, ...params, (data && data.id)), data).then(() => {\r\n      if (handleClose) {\r\n        handleClose();\r\n      }\r\n      Toast.success(constant.SUCCESS.DELETED);\r\n      if (callback) {\r\n        callback();\r\n      }\r\n      success = true;\r\n    }).catch(errors => {\r\n      if (errors.detail) {\r\n        Toast.error(errors.detail);\r\n      } else {\r\n        Toast.error(constant.ERROR.FORM_CHECK_ERROR);\r\n      }\r\n      success = false;\r\n      return Promise.reject(errors);\r\n    });\r\n    return success;\r\n  };\r\n};\r\n\r\nexport function getDuplicatedProjectMemberSync(project_id, member_content_type, member_id, start_date, end_date) {\r\n  const res = request('POST', common.formatStr(config.api.project.duplicated_project_members_for_add, project_id), {\r\n    headers: authHeader(),\r\n    json: {\r\n      member_content_type_id: member_content_type,\r\n      member_id,\r\n      start_date,\r\n      end_date,\r\n    },\r\n  });\r\n  const data = JSON.parse(res.getBody('utf8'));\r\n  if (res.statusCode === 200) {\r\n    return data;\r\n  } else {\r\n    Toast.error(data.detail);\r\n    return false;\r\n  }\r\n};\r\n\r\nexport function getAddressByPostcodeSync(postcode) {\r\n  const res = request('GET', common.formatStr(config.api.third_part.get_address_by_postcode, postcode), {\r\n    headers: authHeader(),\r\n  });\r\n  const data = JSON.parse(res.getBody('utf8'));\r\n  if (res.statusCode === 200) {\r\n    return data.length > 0 ? data[0] : null;\r\n  } else {\r\n    Toast.error(data.detail);\r\n    return false;\r\n  }\r\n};\r\n\r\n/**\r\n * \r\n * @param {Integer} project_id \r\n * @param {Integer} project_member_id \r\n */\r\nexport function getDuplicatedProjectMember(project_id, project_member_id) {\r\n  return ajax.fetchGet(common.formatStr(config.api.project.project_members_duplications, project_id, project_member_id));\r\n};\r\n\r\nexport function saveProjectMemberCostPercentage(project_id, project_member_id, data) {\r\n  return ajax.fetchPost(common.formatStr(config.api.project.project_members_duplications, project_id, project_member_id), data);\r\n};\r\n\r\nexport function checkMemberDuplications(first_name, last_name) {\r\n  return ajax.fetchGet(common.formatStr(config.api.member.check_duplications, first_name, last_name));\r\n};\r\n\r\n/**\r\n * \r\n * contract\r\n * @param {Integer} member_id \r\n * @param {JSON} data \r\n */\r\nexport function partnerMemberRetire(member_id, data) {\r\n  return ajax.fetchPost(common.formatStr(config.api.partner.member_retire, member_id), data);\r\n};\r\n\r\nexport function export_attendances_by_month(org_id, year, month) {\r\n  return ajax.fetchGet(common.formatStr(config.api.organization.export_attendance_excel, org_id, year, month));\r\n};\r\n\r\nexport function projectFinish(project_id, data) {\r\n  return ajax.fetchPut(common.formatStr(config.api.project.finish, project_id), data);\r\n};\r\n\r\nexport function getCompanyMonthlyTurnover() {\r\n  return ajax.fetchGet(config.api.turnover.company_monthly);\r\n};\r\n\r\n/**\r\n * \r\n * \r\n * @param {Integer} user ID\r\n * @param {String} signature \r\n */\r\nexport function initPasswordReset(user, signature) {\r\n  return ajax.fetchGet(config.api.account.password_reset, { user, signature });\r\n};\r\n\r\n/**\r\n * \r\n * @param {String} password \r\n * @param {Integer} user ID\r\n * @param {String} signature \r\n * @param {String} security_code 4\r\n */\r\nexport function sendPasswordReset(password, user, signature, security_code) {\r\n  return ajax.fetchPost(config.api.account.password_reset, { password, user, signature, security_code });\r\n}\r\n\r\nexport function getClientsMonthlyTurnover() {\r\n  return ajax.fetchGet(config.api.turnover.clients_monthly);\r\n};\r\n\r\n/**\r\n * \r\n * @param {String} email \r\n * @param {String} security_code \r\n */\r\nexport function sendPasswordForgetEmail(email, security_code) {\r\n  return ajax.fetchPost(config.api.account.password_forget, { email, security_code });\r\n}\r\n\r\n/**\r\n * \r\n * @param {Integer} member_id \r\n */\r\nexport function downloadWorkerRoster(member_id) {\r\n  return ajax.fetchGet(common.formatStr(config.api.member.worker_roster_by_member, member_id));\r\n};\r\n\r\nexport function downloadWorkerRosterList(pk_list) {\r\n  return ajax.fetchPost(config.api.member.worker_roster_list, pk_list);\r\n};\r\n\r\nexport function downloadMemberExpense(year, month, ct, pk) {\r\n  return ajax.fetchGet(common.formatStr(config.api.attendance.expense_by_object_download, year, month, ct, pk));\r\n};\r\n\r\nexport function onDeletePartnerOrder(order_id) {\r\n  return ajax.fetchDelete(common.formatStr(config.api.partner.order_detail, order_id));\r\n};\r\n\r\nexport function onDeletePartnerRequset(request_id) {\r\n  return ajax.fetchDelete(common.formatStr(config.api.partner.partner_request_detail, request_id));\r\n};\r\n\r\nexport function onDeleteProjectRequset(project_id, request_id) {\r\n  return ajax.fetchDelete(common.formatStr(config.api.project.project_request_delete, project_id, request_id));\r\n};\r\n\r\n/**\r\n * \r\n * @param {Integer} order_id \r\n * @param {Boolean} is_received True:False:\r\n */\r\nexport function receivePartnerOrderRequest(order_id, is_received) {\r\n  return ajax.fetchPatch(common.formatStr(config.api.partner.order_detail, order_id), {is_received: is_received});\r\n};\r\n\r\n/**\r\n * \r\n * @param {Integer} order_id \r\n * @param {Boolean} is_received True:False:\r\n */\r\nexport function receivePartnerRequest(request_id, is_received) {\r\n  return ajax.fetchPatch(common.formatStr(config.api.partner.partner_request_detail, request_id), {is_received: is_received});\r\n};\r\n\r\n/**\r\n * \r\n * @param {Integer} contract_id \r\n */\r\nexport function getContractCommentsForAdd(contract_id) {\r\n  return ajax.fetchGet(common.formatStr(config.api.contract.contract_comments_for_add, contract_id));\r\n};\r\n\r\n\r\nexport function getSalaryCSVPreview(data) {\r\n  return ajax.fetchPost(config.api.contract.member_salary_csv_preview, data);\r\n};\r\n\r\nexport function previewSalaryStatement(data) {\r\n  return ajax.fetchPost(config.api.contract.member_salary_pdf_preview, data);\r\n}\r\n\r\nexport function getProjectChoices() {\r\n  return ajax.fetchGet(config.api.project.list).then(data => {\r\n    const projects = [];\r\n    data.results.map(row => (\r\n      projects.push({value: row.id, display_name: row.name})\r\n    ));\r\n    return projects;\r\n  });\r\n};\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n// @material-ui/core components\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\n// core components\r\nimport typographyStyle from \"../../assets/jss/components/typographyStyle.jsx\";\r\n\r\nfunction Info({ ...props }) {\r\n  const { classes, children } = props;\r\n  return (\r\n    <div className={classes.defaultFontStyle + \" \" + classes.infoText}>\r\n      {children}\r\n    </div>\r\n  );\r\n}\r\n\r\nInfo.propTypes = {\r\n  classes: PropTypes.object.isRequired\r\n};\r\n\r\nexport default withStyles(typographyStyle)(Info);\r\n","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom'\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport AccessibilityIcon from \"@material-ui/icons/Accessibility\";\r\nimport PeopleIcon from \"@material-ui/icons/People\";\r\nimport WarningIcon from \"@material-ui/icons/Warning\";\r\nimport InfoIcon from \"@material-ui/icons/Info\";\r\nimport InfoOutlinedIcon from \"@material-ui/icons/InfoOutlined\";\r\nimport GridContainer from '../../components/Grid/GridContainer';\r\nimport GridItem from '../../components/Grid/GridItem';\r\nimport {\r\n  Card,\r\n  CardIcon,\r\n  CardHeader,\r\n  CardFooter,\r\n  withPermissions,\r\n} from \"../../components\";\r\nimport dashboardStyle from \"../../assets/jss/views/dashboardStyle.jsx\";\r\nimport Danger from \"../../components/Typography/Danger\";\r\nimport Warning from \"../../components/Typography/Warning\";\r\nimport { common } from '../../utils/common';\r\nimport { getMemberDashboard } from '../utils/api';\r\nimport Info from '../../components/Typography/Info';\r\n\r\nclass MemberDashboard extends Component {\r\n  title = ''\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      dashboard: {},\r\n    };\r\n    this.initialize();\r\n  }\r\n\r\n  initialize = () => {\r\n    getMemberDashboard().then(dashboard => this.setState({dashboard}));\r\n  };\r\n\r\n  componentDidMount = () => {\r\n    document.title = this.title;\r\n  };\r\n\r\n  render() {\r\n    const { classes } = this.props;\r\n    const { dashboard } = this.state;\r\n\r\n    return(\r\n      <div>\r\n        <GridContainer>\r\n          <GridItem xs={12} sm={12} md={6} lg={4}>\r\n            <Card>\r\n              <CardHeader color=\"danger\" stats icon>\r\n                <CardIcon color=\"danger\">\r\n                  <PeopleIcon/>\r\n                </CardIcon>\r\n                <p className={classes.cardCategory}></p>\r\n                <h3 className={classes.cardTitle}>\r\n                  {!common.isEmpty(dashboard) ? (\r\n                    <React.Fragment>\r\n                      <Link to={{pathname: '/member/members/', search: 'is_working=false&is_retired=false&is_on_sales=true'}}>\r\n                        {dashboard.total_status.waiting_count}\r\n                      </Link> / \r\n                      <Link to={{pathname: '/member/members/', search: 'is_retired=false&is_on_sales=true'}}>\r\n                        {dashboard.total_status.member_count}\r\n                      </Link>&nbsp;\r\n                      <small></small>\r\n                    </React.Fragment>\r\n                  ) : null}\r\n                </h3>\r\n              </CardHeader>\r\n              <CardFooter stats>\r\n                <div className={classes.stats}>\r\n                  <Danger>\r\n                    <WarningIcon/>\r\n                  </Danger>\r\n                  {!common.isEmpty(dashboard) ? (\r\n                    <React.Fragment>\r\n                      &nbsp;{dashboard.total_status.waiting_rate}&nbsp;\r\n                    </React.Fragment>\r\n                  ) : null}\r\n                </div>\r\n              </CardFooter>\r\n            </Card>\r\n          </GridItem>\r\n          <GridItem xs={12} sm={12} md={6} lg={4}>\r\n            <Card>\r\n              <CardHeader color=\"warning\" stats icon>\r\n                <CardIcon color=\"warning\">\r\n                  <AccessibilityIcon/>\r\n                </CardIcon>\r\n                <p className={classes.cardCategory}> /  / </p>\r\n                <h3 className={classes.cardTitle}>\r\n                  {!common.isEmpty(dashboard) ? (\r\n                    <React.Fragment>\r\n                      <Link to={'/member/releases'}>\r\n                        {dashboard.release_status.curr_month_cnt}\r\n                      </Link> / \r\n                      <Link to={`/member/releases/${dashboard.next_year}/${dashboard.next_month}/`}>\r\n                        {dashboard.release_status.next_month_cnt}\r\n                      </Link> /\r\n                      <Link to={`/member/releases/${dashboard.next_2_year}/${dashboard.next_2_month}/`}>\r\n                        {dashboard.release_status.next_2_month_cnt}&nbsp;\r\n                      </Link>\r\n                      <small></small>\r\n                    </React.Fragment>\r\n                  ) : null}\r\n                </h3>\r\n              </CardHeader>\r\n              <CardFooter stats>\r\n                <div className={classes.stats}>\r\n                  <Warning>\r\n                    <WarningIcon/>\r\n                  </Warning>\r\n                  \r\n                </div>\r\n              </CardFooter>\r\n            </Card>\r\n          </GridItem>\r\n          <GridItem xs={12} sm={12} md={6} lg={4}>\r\n            <Card>\r\n              <CardHeader color=\"info\" stats icon>\r\n                <CardIcon color=\"info\">\r\n                  <InfoOutlinedIcon/>\r\n                </CardIcon>\r\n                <p className={classes.cardCategory}> /  / </p>\r\n                <h3 className={classes.cardTitle}>\r\n                  {!common.isEmpty(dashboard) ? (\r\n                    <React.Fragment>\r\n                      <Link to={{pathname: '/member/members/', search: 'is_retired=false&member_type=01'}}>\r\n                        {dashboard.member_count_status.employee_count}\r\n                      </Link> / \r\n                      <Link to={{pathname: '/member/members/', search: 'is_retired=false&member_type=02'}}>\r\n                        {dashboard.member_count_status.bp_member_count}\r\n                      </Link> / \r\n                      <Link to={{pathname: '/member/members/', search: 'is_retired=false&member_type=03'}}>\r\n                        {dashboard.member_count_status.individual_count}\r\n                      </Link>&nbsp;\r\n                      <small></small>\r\n                    </React.Fragment>\r\n                  ) : null}\r\n                </h3>\r\n              </CardHeader>\r\n              <CardFooter stats>\r\n                <div className={classes.stats}>\r\n                  <Info>\r\n                    <InfoIcon/>\r\n                  </Info>\r\n                  {!common.isEmpty(dashboard) ? (\r\n                    <React.Fragment>\r\n                      &nbsp;{dashboard.member_count_status.bp_member_rate}&nbsp;\r\n                      &nbsp;{dashboard.member_count_status.individual_rate}&nbsp;\r\n                    </React.Fragment>\r\n                  ) : null}\r\n                </div>\r\n              </CardFooter>\r\n            </Card>\r\n          </GridItem>\r\n        </GridContainer>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withPermissions(\r\n  withStyles(dashboardStyle)(MemberDashboard),\r\n  'member.view_dashboard'\r\n);\r\n","import { common } from \"../../utils\";\r\nimport {\r\n  getAddressByPostcodeSync,\r\n} from \"./api\";\r\n\r\nexport function calcMinusOrPlusPerHour(amount, hours) {\r\n  if (hours === 0) {\r\n    return 0;\r\n  } else {\r\n    return parseInt(amount / hours);\r\n  }\r\n};\r\n\r\nexport function onChangeMinHours(name, data) {\r\n  if (name === 'min_hours') {\r\n    return {minus_per_hour: calcMinusOrPlusPerHour(data['price'], data['min_hours'])};\r\n  } else {\r\n    return null;\r\n  }\r\n};\r\n\r\nexport function onChangeMaxHours(name, data) {\r\n  if (name === 'max_hours') {\r\n    return {plus_per_hour: calcMinusOrPlusPerHour(data['price'], data['max_hours'])};\r\n  } else {\r\n    return null;\r\n  }\r\n};\r\n\r\nexport function onChangePrice(name, data) {\r\n  if (name === 'price') {\r\n    return {\r\n      plus_per_hour: calcMinusOrPlusPerHour(data['price'], data['min_hours']),\r\n      minus_per_hour: calcMinusOrPlusPerHour(data['price'], data['max_hours'])\r\n    };\r\n  } else {\r\n    return null;\r\n  }\r\n};\r\n\r\nexport function onChangeCalculateType(name, data) {\r\n  if (name === 'member_calculate_type') {\r\n    const value = data[name];\r\n    const item_min_hours = common.getFromJsonList(data.calculate_hours, 'code', '0000');\r\n    switch (value) {\r\n      case \"01\":  // \r\n        item_min_hours['hours'] = 160;\r\n        break;\r\n      case \"02\":  //   \r\n        item_min_hours['hours'] = 160;\r\n        break;\r\n      case \"03\":  //   .\r\n        item_min_hours['hours'] = 160;\r\n        break;\r\n      case \"04\":  //   .\r\n        item_min_hours['hours'] = 160;\r\n        break;\r\n      case \"10\":\r\n      case \"11\":\r\n        item_min_hours['hours'] = 0;\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n};\r\n\r\nexport function onChangeAutoUpdatePeriod(name, data) {\r\n};\r\n\r\n/**\r\n * \r\n * @param {String} name \r\n * @param {*} data \r\n */\r\nexport function onChangeContractBasicInfo(name, data) {\r\n  if (name === 'contract_type') {\r\n    if (data[name] === '0001') {\r\n      // \r\n      data['end_date'] = '9999-12-31';\r\n      data['is_auto_update'] = false;\r\n      data['auto_update_period'] = null;\r\n    } else if (data[name] === '0010' && data['start_date']) {\r\n      // \r\n      const end_date = common.getOneYearEndDate(data['start_date']);\r\n      data['end_date'] = common.formatDate(end_date, 'YYYY-MM-DD');\r\n      data['is_auto_update'] = true;\r\n    } else {\r\n      data['end_date'] = null;\r\n      data['is_auto_update'] = false;\r\n      data['auto_update_period'] = null;\r\n    }\r\n  } else if (name === 'start_date') {\r\n    if (data['contract_type'] === '0001') {\r\n      data['end_date'] = '9999-12-31';\r\n    } else if (data['contract_type'] === '0010') {\r\n      const end_date = common.getOneYearEndDate(data['start_date']);\r\n      data['end_date'] = common.formatDate(end_date, 'YYYY-MM-DD');\r\n    }\r\n  }\r\n  // \r\n  if (['start_date', 'end_date', 'contract_type'].indexOf(name) >= 0 && data['contract_type'] !== '0001') {\r\n    // \r\n    const start_date = data['start_date'];\r\n    const end_date = data['end_date'];\r\n    const cnt = common.getMonthDiff(start_date, end_date);\r\n    data['auto_update_period'] = cnt ? cnt + 1 : null;\r\n  }\r\n};\r\n\r\nexport function onBlurPostcode(name, data) {\r\n  if (name === 'post_code') {\r\n    const json = getAddressByPostcodeSync(data[name]);\r\n    if (json) {\r\n      data['address1'] = json.address\r\n    }\r\n  }\r\n  return data;\r\n};\r\n\r\nexport function onChangeProjectBlanketContract(name, data, prefix, inlineIndex) {\r\n  if (prefix === 'allowances') {\r\n    const value = data[prefix][inlineIndex][name];\r\n    if (name === 'unit' && ['0001', '0002'].indexOf(data[prefix][inlineIndex].code) >= 0) {\r\n      common.getFromJsonList(data[prefix], 'code', '0001').unit = value;\r\n      common.getFromJsonList(data[prefix], 'code', '0002').unit = value;\r\n    } else if (name === 'amount' && data[prefix][inlineIndex].code === '0001') {\r\n      // \r\n      common.getFromJsonList(data[prefix], 'code', '0002').amount = Math.round(value * 0.1);\r\n    }\r\n  }\r\n  return data;\r\n};\r\n\r\nexport function onChangeProjectBlanketContractInStep(name, data, steps, prefix, inlineIndex) {\r\n  if (prefix === 'allowances') {\r\n    const value = data[prefix][inlineIndex][name];\r\n    if (name === 'unit' && ['0001', '0002'].indexOf(data[prefix][inlineIndex].code) >= 0) {\r\n      common.getFromJsonList(data[prefix], 'code', '0001').unit = value;\r\n      common.getFromJsonList(data[prefix], 'code', '0002').unit = value;\r\n    } else if (name === 'amount' && data[prefix][inlineIndex].code === '0001') {\r\n      // \r\n      common.getFromJsonList(data[prefix], 'code', '0002').amount = Math.round(value * 0.1);\r\n    }\r\n  }\r\n  return data;\r\n};\r\n\r\nexport function onChangeMinusAndPlus(name, data, steps, prefix, inlineIndex) {\r\n  if (name === 'amount' && prefix === 'allowances') {\r\n    const value = data[prefix][inlineIndex][name];\r\n    const member_calculate_type = data['member_calculate_type'];\r\n    const min_hours = getMinHours(data['calculate_hours']);\r\n    const item_minus_per_hours = common.getFromJsonList(data[prefix], 'code', '1007');\r\n    const max_hours = getMaxHours(data['calculate_hours']);\r\n    const item_plus_per_hours = common.getFromJsonList(data[prefix], 'code', '1008');\r\n    if (data[prefix][inlineIndex].code === '0001' && ['10', '11'].indexOf(member_calculate_type) < 0) {\r\n      if (min_hours && item_minus_per_hours) {\r\n        item_minus_per_hours['amount'] = calcMinusOrPlusPerHour(value, min_hours);\r\n      }\r\n      if (max_hours && item_plus_per_hours) {\r\n        item_plus_per_hours['amount'] = calcMinusOrPlusPerHour(value, max_hours);\r\n      }\r\n    }\r\n  }\r\n  return data;\r\n};\r\n\r\nfunction getMinHours(dataList) {\r\n  const item_min_hours = common.getFromJsonList(dataList, 'code', '0000');\r\n  const item_calc_min_hours = common.getFromJsonList(dataList, 'code', '0010');\r\n  if (item_calc_min_hours && item_calc_min_hours.hours > 0) {\r\n    return item_calc_min_hours.hours;\r\n  } else {\r\n    return item_min_hours.hours;\r\n  }\r\n}\r\n\r\nfunction getMaxHours(dataList) {\r\n  const item_max_hours = common.getFromJsonList(dataList, 'code', '0001');\r\n  const item_calc_max_hours = common.getFromJsonList(dataList, 'code', '0011');\r\n  if (item_calc_max_hours && item_calc_max_hours.hours > 0) {\r\n    return item_calc_max_hours.hours;\r\n  } else {\r\n    return item_max_hours.hours;\r\n  }\r\n}\r\n\r\n/**\r\n * \r\n * @param {String} name \r\n * @param {Object} data InlineFormArray\r\n * @param {Array} steps Array\r\n * @param {String} prefix InlineFormnull\r\n * @param {Integer} inlineIndex Array\r\n * @param {Object} default_data \r\n */\r\nexport function onChangeContractAllowance(name, data, steps, prefix, inlineIndex, default_data) {\r\n  if (name === 'amount') {\r\n    const value = data[inlineIndex][name];\r\n    const code = data[inlineIndex]['code'];\r\n    if (value > 0) {\r\n      const default_value = common.getFromJsonList(default_data, 'code', code);\r\n      data[inlineIndex]['comment'] = default_value.comment;\r\n    } else {\r\n      data[inlineIndex]['comment'] = null;\r\n    }\r\n  }\r\n  return data;\r\n};\r\n","import { choice_bank_account_type, choice_years, choice_months, choice_expense_cost_type, config } from \"../../utils\";\r\nimport { viewAttachment } from \"./api\";\r\n\r\nexport const send_email_form_schema = [\r\n  {\r\n    \"name\": \"mail_sender\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"required\": true,\r\n    \"read_only\": true,\r\n  },\r\n  {\r\n    \"name\": \"mail_to\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"required\": true,\r\n    \"help_text\": \";\"\r\n  },\r\n  {\r\n    \"name\": \"mail_cc\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"help_text\": \";\"\r\n  },\r\n  {\r\n    \"name\": \"mail_bcc\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"help_text\": \";\"\r\n  },\r\n  {\r\n    \"name\": \"mail_title\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"required\": true,\r\n    \"max_length\": 100,\r\n  },\r\n  {\r\n    \"name\": \"attachments\",\r\n    \"type\": \"choices\",\r\n    \"label\": \"\",\r\n    \"choices\": [],\r\n  },\r\n  {\r\n    \"name\": \"mail_body\",\r\n    \"type\": \"text\",\r\n    \"label\": \"\",\r\n    \"required\": true,\r\n    \"colStyles\": { 'fontSize': '13px' },\r\n  },\r\n  {\r\n    \"name\": \"pwd_title\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"max_length\": 100,\r\n  },\r\n  {\r\n    \"name\": \"pwd_body\",\r\n    \"type\": \"text\",\r\n    \"label\": \"\",\r\n    \"colStyles\": { 'fontSize': '13px' },\r\n  },\r\n];\r\n\r\nexport const send_email_form_layout = [\r\n  ['mail_sender', 'mail_to'],\r\n  ['mail_cc', 'mail_bcc'],\r\n  'mail_title',\r\n  'attachments',\r\n  'mail_body',\r\n  'pwd_title',\r\n  'pwd_body',\r\n];\r\n\r\nexport const bank_account_list_schema = [\r\n  {\r\n    \"name\": \"account_number\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"bank_name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"branch_no\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"branch_name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"account_type\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"choices\": choice_bank_account_type,\r\n    \"required\": true,\r\n  },\r\n  {\r\n    \"name\": \"account_holder\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n  },\r\n];\r\n\r\nexport const bank_account_form_schema = [\r\n  {\r\n    \"name\": \"bank\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"variant\": \"autocomplete\",\r\n    \"choices\": [],\r\n    \"required\": true,\r\n    \"cascade_to\": \"branch\",\r\n  },\r\n  {\r\n    \"name\": \"branch\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"variant\": \"autocomplete\",\r\n    \"choices\": [],\r\n    \"required\": true,\r\n    \"cascade_from\": \"bank\",\r\n  },\r\n  {\r\n    \"name\": \"account_type\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"choices\": choice_bank_account_type,\r\n    \"required\": true,\r\n  },\r\n  {\r\n    \"name\": \"account_number\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"max_length\": 7,\r\n    \"required\": true,\r\n  },\r\n  {\r\n    \"name\": \"account_holder\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"max_length\": 30,\r\n  },\r\n  {\r\n    \"name\": \"image_file\",\r\n    \"type\": \"file\",\r\n    \"label\": \"\",\r\n    \"verbose_name\": \"image_file_name\",\r\n    \"handle_download\": (file_id) => viewAttachment(file_id),\r\n    \"limit\": config.fileSizeLimit,\r\n  },\r\n];\r\n\r\nexport const expense_list_schema = [\r\n  {\r\n    \"name\": \"ym\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"sortable\": true,\r\n  },\r\n  {\r\n    \"name\": \"category\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"choices\": [],\r\n    \"sortable\": true,\r\n  },\r\n  {\r\n    \"name\": \"amount\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"\",\r\n    \"sortable\": true,\r\n  },\r\n  {\r\n    \"name\": \"cost_type\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"choices\": choice_expense_cost_type,\r\n    \"sortable\": true,\r\n  },\r\n  {\r\n    \"name\": \"project_name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"sortable\": true,\r\n  },\r\n];\r\n\r\nexport const expense_form_schema = [\r\n  {\r\n    \"name\": \"year\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"choices\": choice_years,\r\n    \"required\": true,\r\n  },\r\n  {\r\n    \"name\": \"month\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"choices\": choice_months,\r\n    \"required\": true,\r\n  },\r\n  {\r\n    \"name\": \"category\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"choices\": [],\r\n    \"required\": true,\r\n  },\r\n  {\r\n    \"name\": \"amount\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"()\",\r\n    \"required\": true,\r\n    \"min_value\": 0,\r\n  },\r\n  {\r\n    \"name\": \"amount_no_tax\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"()\",\r\n    \"required\": true,\r\n    \"min_value\": 0,\r\n  },\r\n  {\r\n    \"name\": \"tax_amount\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"\",\r\n    \"required\": true,\r\n    \"min_value\": 0,\r\n  },\r\n  {\r\n    \"name\": \"tax_rate\",\r\n    \"type\": \"decimal\",\r\n    \"label\": \"\",\r\n    \"required\": true,\r\n    \"min_value\": 0,\r\n    \"max_value\": 1,\r\n    \"step\": 0.01,\r\n  },\r\n  {\r\n    \"name\": \"cost_type\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"choices\": choice_expense_cost_type,\r\n    \"required\": true,\r\n  },\r\n  {\r\n    \"name\": \"project\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"choices\": [],\r\n  },\r\n  {\r\n    \"name\": \"organization\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"choices\": [],\r\n  },\r\n  {\r\n    \"name\": \"date\",\r\n    \"type\": \"date\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"payment_destination\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"max_length\": 50,\r\n  },\r\n  {\r\n    \"name\": \"receipt_image\",\r\n    \"type\": \"file\",\r\n    \"label\": \"\",\r\n    \"verbose_name\": \"receipt_image_name\",\r\n    \"handle_download\": (file_id) => viewAttachment(file_id),\r\n    \"limit\": config.fileSizeLimit,\r\n  },\r\n  {\r\n    \"name\": \"content\",\r\n    \"type\": \"text\",\r\n    \"label\": \"\",\r\n    \"max_length\": 255,\r\n  },\r\n  {\r\n    \"name\": \"comment\",\r\n    \"type\": \"text\",\r\n    \"label\": \"\",\r\n    \"max_length\": 255,\r\n  },\r\n];\r\n\r\nexport const expense_form_layout = [\r\n  ['year', 'month'],\r\n  ['category', 'cost_type'],\r\n  ['amount', 'amount_no_tax'],\r\n  ['tax_amount', 'tax_rate'],\r\n  'project',\r\n  'organization',\r\n  ['date', 'payment_destination'],\r\n  'receipt_image',\r\n  'content',\r\n  'comment',\r\n];\r\n","import { \r\n  choice_simple_member_type,\r\n  choice_expense_cost_type,\r\n} from \"../../utils\";\r\nimport { viewAttachment } from \"../utils\";\r\n\r\nexport const list_member_schema = [\r\n  {\r\n    \"name\": \"code\",\r\n    \"type\": \"string\",\r\n    \"label\": \"ID\",\r\n    'searchable': true,\r\n    \"link\": \"/member/members/%(id)s/ct/%(content_type)s\",\r\n    \"sortable\": true,\r\n  },\r\n  {\r\n    \"name\": \"name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    'searchable': true,\r\n    \"link\": \"/member/members/%(id)s/ct/%(content_type)s\",\r\n    \"sortable\": true,\r\n  },\r\n  {\r\n    \"name\": \"division_name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"sortable\": true,\r\n  },\r\n  {\r\n    \"name\": \"department_name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"sortable\": true,\r\n  },\r\n  {\r\n    \"name\": \"section_name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"sortable\": true,\r\n  },\r\n  {\r\n    \"name\": \"company_name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"link\": \"/partner/companies/%(company_id)s\",\r\n    'searchable': true,\r\n    \"sortable\": true,\r\n  },\r\n  {\r\n    \"name\": \"is_working\",\r\n    \"type\": \"boolean\",\r\n    \"label\": \"\",\r\n    'searchable': true,\r\n    \"sortable\": true,\r\n    'variant': 'select',\r\n    \"native\": true,\r\n  },\r\n  {\r\n    \"name\": \"release_date\",\r\n    \"type\": \"date\",\r\n    \"label\": \"\",\r\n    \"sortable\": true,\r\n  },\r\n  {\r\n    \"name\": \"salesperson_id\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    'searchable': true,\r\n    \"sortable\": true,\r\n    \"choices\": [],\r\n    \"native\": true,\r\n  },\r\n  {\r\n    \"name\": \"is_on_sales\",\r\n    \"type\": \"boolean\",\r\n    \"label\": \"\",\r\n    \"sortable\": true,\r\n    'searchable': true,\r\n    'variant': 'select',\r\n    \"native\": true,\r\n  },\r\n  {\r\n    \"name\": \"member_type\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    'searchable': true,\r\n    \"visible\": false,\r\n    \"choices\": choice_simple_member_type,\r\n    \"native\": true,\r\n  },\r\n  {\r\n    \"name\": \"is_retired\",\r\n    \"type\": \"boolean\",\r\n    \"label\": \"\",\r\n    \"visible\": false,\r\n    \"rowStyles\": {\r\n      1: {'backgroundColor': 'lightgray'}\r\n    },\r\n    'searchable': true,\r\n    'variant': 'select',\r\n    \"native\": true,\r\n  },\r\n];\r\n\r\nexport const member_list_search_layout = [\r\n  ['name', 'code'],\r\n  'company_name',\r\n  ['is_working', 'is_on_sales'],\r\n  ['salesperson_id', 'member_type'],\r\n  'is_retired',\r\n];\r\n\r\nexport const member_detail_schema = [\r\n  {\r\n    \"name\": \"code\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"company_name\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"link\": (data) => {\r\n      if (data.member_type === '02') {\r\n        // \r\n        return `/partner/companies/${data.company}/`;\r\n      } else {\r\n        return null;\r\n      }\r\n    },\r\n  },\r\n  {\r\n    \"name\": \"full_name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"full_kana\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"gender\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"choices\": [\r\n      {\r\n        \"value\": \"1\",\r\n        \"display_name\": \"\",\r\n      },\r\n      {\r\n        \"value\": \"2\",\r\n        \"display_name\": \"\",\r\n      }\r\n    ],\r\n  },\r\n  {\r\n    \"name\": \"email\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"post_code\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"address\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"nearest_station\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"phone\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"marriage\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"choices\": [\r\n      {\r\n        \"value\": \"0\",\r\n        \"display_name\": \"\",\r\n      },\r\n      {\r\n        \"value\": \"1\",\r\n        \"display_name\": \"\",\r\n      }\r\n    ],\r\n  },\r\n  {\r\n    \"name\": \"is_on_sales\",\r\n    \"type\": \"boolean\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"comment\",\r\n    \"type\": \"text\",\r\n    \"label\": \"\",\r\n  },\r\n];\r\n\r\nexport const member_form_basic_schema = [\r\n  {\r\n    \"name\": \"full_name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"read_only\": true,\r\n  },\r\n  {\r\n    \"name\": \"is_on_sales\",\r\n    \"type\": \"boolean\",\r\n    \"label\": \"\",\r\n  },\r\n];\r\n\r\nexport const member_form_basic_layout = [\r\n  'full_name',\r\n  'is_on_sales',\r\n];\r\n\r\nexport const list_salesperson_schema = [\r\n  {\r\n    \"name\": \"full_name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"sortable\": true,\r\n  },\r\n  {\r\n    \"name\": \"member_count\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"\",\r\n    \"link\": \"/member/members/?is_retired=false&salesperson_id=%(id)s\"\r\n  },\r\n  {\r\n    \"name\": \"working_count\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"\",\r\n    \"link\": \"/member/members/?is_retired=false&salesperson_id=%(id)s&is_working=true\"\r\n  },\r\n  {\r\n    \"name\": \"waiting_count\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"\",\r\n    \"link\": \"/member/members/?is_retired=false&salesperson_id=%(id)s&is_working=false&is_on_sales=true\"\r\n  },\r\n  {\r\n    \"name\": \"curr_release_count\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"\",\r\n    \"link\": \"/member/releases/%(curr_year)s/%(curr_month)s/?salesperson=%(id)s\"\r\n  },\r\n  {\r\n    \"name\": \"next_release_count\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"\",\r\n    \"link\": \"/member/releases/%(next_year)s/%(next_month)s/?salesperson=%(id)s\"\r\n  },\r\n  {\r\n    \"name\": \"next_2_release_count\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"\",\r\n    \"link\": \"/member/releases/%(next_2_year)s/%(next_2_month)s/?salesperson=%(id)s\"\r\n  },\r\n];\r\n\r\nexport const release_list_schema = [\r\n  {\r\n    \"name\": \"full_name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"sortable\": true,\r\n    \"searchable\": true,\r\n    \"link\": \"/member/members/%(object_id)s/ct/%(content_type)s\"\r\n  },\r\n  {\r\n    \"name\": \"project_name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"sortable\": true,\r\n    \"searchable\": true,\r\n    \"link\": \"/project/projects/%(project)s/\"\r\n  },\r\n  {\r\n    \"name\": \"salesperson\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"sortable\": true,\r\n    \"searchable\": true,\r\n    \"choices\": [],\r\n    \"native\": true,\r\n  },\r\n  {\r\n    \"name\": \"release_date\",\r\n    \"type\": \"date\",\r\n    \"label\": \"\",\r\n  },\r\n]\r\n\r\nexport const expense_month_list_schema = [\r\n  {\r\n    \"name\": \"ym\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"sortable\": true,\r\n    \"link\": \"/member/expenses/%(year)s/%(month)s\",\r\n  },\r\n  {\r\n    \"name\": \"amount\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"\",\r\n    \"sortable\": true,\r\n  },\r\n];\r\n\r\nexport const expense_by_month_list_schema = [\r\n  {\r\n    \"name\": \"full_name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"sortable\": true,\r\n    \"searchable\": true,\r\n    \"link\": (data) => {\r\n      if (data.member_id) {\r\n        return \"/member/expenses/%(year)s/%(month)s/ct/%(content_type_id)s/pk/%(object_id)s\";\r\n      } else {\r\n        return null;\r\n      }\r\n    },\r\n  },\r\n  {\r\n    \"name\": \"category_name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"sortable\": true,\r\n  },\r\n  {\r\n    \"name\": \"cost_objects_name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"sortable\": true,\r\n    \"searchable\": true,\r\n    \"max_width\": 300,\r\n  },\r\n  {\r\n    \"name\": \"amount\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"\",\r\n    \"sortable\": true,\r\n  },\r\n];\r\n\r\nexport const expense_by_object_list_schema = [\r\n  {\r\n    \"name\": \"date\",\r\n    \"type\": \"date\",\r\n    \"label\": \"\",\r\n    \"sortable\": true,\r\n  },\r\n  {\r\n    \"name\": \"content\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"category_id\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"choices\": [],\r\n  },\r\n  {\r\n    \"name\": \"cost_type\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"choices\": choice_expense_cost_type,\r\n    \"csv\": false,\r\n  },\r\n  {\r\n    \"name\": \"payment_destination\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"max_width\": 120,\r\n  },\r\n  {\r\n    \"name\": \"receipt_image\",\r\n    \"type\": \"file\",\r\n    \"label\": \"\",\r\n    \"handle_download\": (file_id) => viewAttachment(file_id),\r\n    \"csv\": false,\r\n  },\r\n  {\r\n    \"name\": \"amount\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"tax_rate\",\r\n    \"type\": \"decimal\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"amount_no_tax\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"tax_amount\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"comment\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"max_width\": 120,\r\n  },\r\n];\r\n","import React from 'react';\r\nimport { EnhancedTable } from '../../datatable/index';\r\nimport Card from \"../../components/Card/Card\";\r\nimport CardHeader from \"../../components/Card/CardHeader.jsx\";\r\nimport CardBody from \"../../components/Card/CardBody\";\r\nimport DataSource from '../../components/DataSource';\r\nimport {\r\n  list_member_schema,\r\n  member_list_search_layout,\r\n} from './schema';\r\nimport { config } from '../../utils/config';\r\nimport { withPermissions } from '../../components';\r\nimport { getSalespersonChoice } from '../utils/api';\r\nimport { common } from '../../utils';\r\n\r\nclass MemberList extends React.Component {\r\n  title = '';\r\n  my_list_member_schema = common.clone(list_member_schema);\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      salesperson_choice: [],\r\n      loaded: false,\r\n    };\r\n    \r\n    this.initialize();\r\n  }\r\n\r\n  initialize = () => {\r\n    getSalespersonChoice().then(salesperson_choice => {\r\n      this.setState({salesperson_choice, loaded: true});\r\n    });\r\n  };\r\n\r\n  componentDidMount = () => {\r\n    document.title = this.title;\r\n  };\r\n\r\n  render () {\r\n    const { salesperson_choice, loaded } = this.state;\r\n    // \r\n    common.getFromJsonList(this.my_list_member_schema, 'name', 'salesperson_id')['choices'] = salesperson_choice;\r\n\r\n    if (loaded) {\r\n      return (\r\n        <div>\r\n          <Card>\r\n            <CardHeader color=\"info\">\r\n              {this.title}\r\n            </CardHeader>\r\n            <CardBody>\r\n              <DataSource\r\n                endpoint={ config.api.member.portal_list }\r\n                render={ (initData) => (\r\n                  <EnhancedTable\r\n                    title=''\r\n                    storageKey='member.members'\r\n                    tableHead={this.my_list_member_schema}\r\n                    tableData={initData.results}\r\n                    rowsPerPage={config.rowsPerPage}\r\n                    pushpinTop={common.getHeaderHeight()}\r\n                    allowCsv={true}\r\n                    urlReflect={false}\r\n                    filterLayout={member_list_search_layout}\r\n                    tableStyles={{ minWidth: 1050 }}\r\n                  />\r\n                ) }\r\n              />\r\n            </CardBody>\r\n          </Card>\r\n        </div>\r\n      );\r\n    } else {\r\n      return null\r\n    }\r\n  }\r\n}\r\n\r\nexport default withPermissions(MemberList, 'member.view_member');\r\n","import React from 'react';\r\nimport PropTypes from \"prop-types\";\r\nimport {\r\n  Tooltip,\r\n  Button,\r\n} from '@material-ui/core';\r\nimport { FormDialog } from '../../datatable';\r\nimport { partnerMemberRetire } from '../utils/api';\r\nimport { Toast } from '../../components';\r\nimport { constant } from '../../utils';\r\n\r\nclass MemberRetire extends React.Component {\r\n\r\n  handleOpenDialog = () => {\r\n    if (this._openDialog) {\r\n      this._openDialog();\r\n    }\r\n  };\r\n\r\n  handleRetire = (data) => {\r\n    const { member_id, callback } = this.props;\r\n    return partnerMemberRetire(member_id, data).then(() => {\r\n      Toast.success(constant.SUCCESS.RETIRED);\r\n      if(this._closeDialog) {\r\n        this._closeDialog();\r\n      }\r\n      if (callback) {\r\n        callback();\r\n      }\r\n    }).catch(errors => {\r\n      Toast.error(errors.detail);\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { full_name } = this.props;\r\n\r\n    return (\r\n      <div>\r\n        <Tooltip\r\n          title=''\r\n          placement='bottom'\r\n          enterDelay={300}\r\n        >\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"secondary\"\r\n            onClick={this.handleOpenDialog}\r\n          >\r\n            \r\n          </Button>\r\n        </Tooltip>\r\n        <FormDialog\r\n          title={`${full_name}`}\r\n          description={'\\n\\n\\n'}\r\n          schema={[{\r\n            \"name\": \"retire_date\",\r\n            \"type\": \"date\",\r\n            \"label\": \"\",\r\n            \"required\": true,\r\n          }]}\r\n          handleOk={this.handleRetire}\r\n          innerRef={dlg => {\r\n            this._openDialog = dlg && dlg.handleOpen;\r\n            this._closeDialog = dlg && dlg.handleClose;\r\n          }}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nMemberRetire.propTypes = {\r\n  full_name: PropTypes.string.isRequired,\r\n  member_id: PropTypes.oneOfType([\r\n    PropTypes.string,\r\n    PropTypes.number,\r\n  ]).isRequired,\r\n  callback: PropTypes.func,\r\n};\r\n\r\nexport default MemberRetire;\r\n","import React from 'react';\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport TopBreadcrumbs from '../../components/TopBreadcrumbs';\r\nimport GridContainer from '../../components/Grid/GridContainer';\r\nimport GridItem from '../../components/Grid/GridItem';\r\nimport { common, config, ajax, constant } from '../../utils';\r\nimport { TableDetail } from '../../datatable';\r\nimport {\r\n  member_detail_schema,\r\n  member_form_basic_schema,\r\n  member_form_basic_layout,\r\n} from './schema';\r\nimport {\r\n  withPermissions,\r\n  HasPerm,\r\n  Card,\r\n  CardBody,\r\n  CardAvatar,\r\n  Timeline,\r\n  CardFooter,\r\n  CardHeader,\r\n  Toast,\r\n} from '../../components';\r\nimport {\r\n  getMemberProjectTimeline, getPartnerMemberContractTimeline,\r\n} from '../utils/api';\r\nimport defaultAvatar from \"../../assets/img/avatar.png\";\r\nimport MemberRetire from '../common/member_retire';\r\n\r\nconst styles = (theme) => ({\r\n  cardProfile: {\r\n    marginTop: 60,\r\n  },\r\n  cardAvatar: {\r\n    width: 110,\r\n    height: 110,\r\n    position: 'relative',\r\n  },\r\n  cardAvatarSpan: {\r\n    display: 'inline-block',\r\n    height: '100%',\r\n    verticalAlign: 'middle',\r\n  },\r\n  cardImage: {\r\n    maxHeight: 110,\r\n    maxWidth: 110,\r\n    verticalAlign: 'middle'\r\n  },\r\n  button: {\r\n    marginRight: theme.spacing(1),\r\n  },\r\n});\r\n\r\nclass MemberDetail extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      member: {},\r\n      org_reload: false,\r\n      member_projects: [],\r\n      member_contracts: [],\r\n    };\r\n    this.portal_detail_api = common.formatStr(\r\n      config.api.member.portal_detail,\r\n      props.match.params.content_type_id,\r\n      props.match.params.member_id,\r\n    );\r\n    this.initialize(props);\r\n  }\r\n\r\n  initialize = (props) => {\r\n    const { content_type_id, member_id } = props.match.params;\r\n    ajax.fetchGet(this.portal_detail_api).then(member => {\r\n      this.setState({ member });\r\n      if (member.company) {\r\n        // memmber.company\r\n        getPartnerMemberContractTimeline(member.company, member_id).then(data => (\r\n          this.setState({ member_contracts: data })\r\n        ));\r\n      }\r\n    });\r\n    getMemberProjectTimeline(content_type_id, member_id).then(member_projects => {\r\n      this.setState({ member_projects });\r\n    });\r\n  };\r\n\r\n  componentDidUpdate = () => {\r\n    const { member } = this.state;\r\n    document.title = `${member.full_name || ''} | `;\r\n  };\r\n\r\n  onEditMember = (data, handleClose) => {\r\n    return ajax.fetchPut(this.portal_detail_api, data).then(member => {\r\n      this.setState({ member });\r\n      if (handleClose) {\r\n        handleClose();\r\n      }\r\n      Toast.success(constant.SUCCESS.SAVED);\r\n    }).catch(errors => {\r\n      Toast.error(constant.ERROR.FORM_CHECK_ERROR);\r\n      return Promise.reject(errors);\r\n    });\r\n  };\r\n\r\n  handleRetired = () => {\r\n    const { org_reload, member } = this.state;\r\n    member.is_on_sales = false;\r\n    this.setState({org_reload: !org_reload, member});\r\n  }\r\n\r\n  render() {\r\n    const { member_id } = this.props.match.params;\r\n    const { classes } = this.props;\r\n    const { member, member_projects, member_contracts } = this.state;\r\n    const avatar = member.avatar || defaultAvatar;\r\n\r\n    return (\r\n      <div>\r\n        <TopBreadcrumbs\r\n          breadcrumbs={[\r\n            { link: '/member/members?is_retired=false&is_on_sales=true', name: '' },\r\n            { name: member.full_name },\r\n          ]}\r\n        />\r\n        <div style={{ marginTop: 16 }}>\r\n          <GridContainer>\r\n            <GridItem xs={12} sm={12} md={9} lg={9}>\r\n              <TableDetail\r\n                data={member}\r\n                schema={member_detail_schema}\r\n                editProps={{\r\n                  title: '',\r\n                  schema: member_form_basic_schema,\r\n                  layout: member_form_basic_layout,\r\n                  handleEdit: this.onEditMember,\r\n                }}\r\n              />\r\n            </GridItem>\r\n            <GridItem xs={12} sm={12} md={3} lg={3}>\r\n              <Card profile className={classes.cardProfile}>\r\n                <CardAvatar profile className={classes.cardAvatar}>\r\n                  <span className={classes.cardAvatarSpan}></span>\r\n                  <a href='#img' onClick={e => e.preventDefault()}>\r\n                    <img src={avatar} alt=\"...\" className={classes.cardImage} />\r\n                  </a>\r\n                </CardAvatar>\r\n                <CardBody>\r\n                  { !common.isEmpty(member_projects) ? (\r\n                    <Timeline items={member_projects} showTime={false} showEnd={true} />\r\n                  ) : null }\r\n                </CardBody>\r\n                <CardFooter>\r\n                  {member.member_type === '02' ? (\r\n                    <HasPerm permission='partner.change_partnermember'>\r\n                      <MemberRetire\r\n                        member_id={member_id}\r\n                        full_name={member.full_name}\r\n                        callback={this.handleRetired}\r\n                      />\r\n                    </HasPerm>\r\n                  ) : null }\r\n                </CardFooter>\r\n              </Card>\r\n              {member.member_type === '02' ? (\r\n                <Card>\r\n                <CardHeader>\r\n                  \r\n                </CardHeader>\r\n                <CardBody>\r\n                  { !common.isEmpty(member_contracts) ? (\r\n                    <Timeline items={member_contracts} showTime={false} showEnd={true} />\r\n                  ) : null }\r\n                </CardBody>\r\n              </Card>\r\n            ) : null}\r\n            </GridItem>\r\n          </GridContainer>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withPermissions(withStyles(styles)(MemberDetail), 'member.view_member');\r\n","import React from 'react';\r\nimport { EnhancedTable } from '../../datatable/index';\r\nimport Card from \"../../components/Card/Card\";\r\nimport CardHeader from \"../../components/Card/CardHeader.jsx\";\r\nimport CardBody from \"../../components/Card/CardBody\";\r\nimport DataSource from '../../components/DataSource';\r\nimport { list_salesperson_schema } from './schema';\r\nimport { common } from '../../utils';\r\nimport { config } from '../../utils/config';\r\nimport { withPermissions } from '../../components';\r\n\r\nclass SalespersonList extends React.Component {\r\n  title = '';\r\n\r\n  componentDidMount = () => {\r\n    document.title = this.title;\r\n  };\r\n\r\n  render () {\r\n\r\n    return (\r\n      <div>\r\n        <Card>\r\n          <CardHeader color=\"info\">\r\n            {this.title}\r\n          </CardHeader>\r\n          <CardBody>\r\n            <DataSource\r\n              endpoint={ config.api.salesperson.salesperson_portal_list }\r\n              render={ (initData) => (\r\n                <EnhancedTable\r\n                  title={this.title}\r\n                  tableHead={list_salesperson_schema}\r\n                  tableData={initData.results}\r\n                  rowsPerPage={config.rowsPerPage}\r\n                  toolbar={false}\r\n                  pushpinTop={common.getHeaderHeight()}\r\n                  allowCsv={true}\r\n                  urlReflect={false}\r\n                />\r\n              )}\r\n            />\r\n          </CardBody>\r\n        </Card>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withPermissions(SalespersonList, 'member.view_salesperson');\r\n","import React from 'react';\r\nimport { EnhancedTable } from '../../datatable/index';\r\nimport NavigateBeforeIcon from '@material-ui/icons/NavigateBefore';\r\nimport NavigateNextIcon from '@material-ui/icons/NavigateNext';\r\nimport Card from \"../../components/Card/Card\";\r\nimport CardHeader from \"../../components/Card/CardHeader.jsx\";\r\nimport CardBody from \"../../components/Card/CardBody\";\r\nimport DataSource from '../../components/DataSource';\r\nimport { release_list_schema } from './schema';\r\nimport { config } from '../../utils/config';\r\nimport { withPermissions } from '../../components';\r\nimport { getSalespersonChoice } from '../utils/api';\r\nimport { common } from '../../utils';\r\n\r\nclass ReleaseList extends React.Component {\r\n  title = '';\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      reload: false,\r\n      salesperson_choice: [],\r\n      ...this.getYm(),\r\n    };\r\n    \r\n    this.initialize(props);\r\n  }\r\n\r\n  initialize = (props) => {\r\n    getSalespersonChoice().then(salesperson_choice => this.setState({salesperson_choice}));\r\n  };\r\n\r\n  componentDidUpdate = () => {\r\n    const { year, month } = this.state;\r\n    document.title = `${year}${month} | ${this.title}`;\r\n  };\r\n\r\n  prevMonthRelease = () => {\r\n    const { year, month } = this.state;\r\n    const date = common.getPrevMonthDictByYm(year, month)\r\n    common.redirect(`/member/releases/${date.year}/${date.month}/`);\r\n    this.setState(state => ({ ...date, reload: !state.reload }));\r\n  };\r\n\r\n  nextMonthRelease = () => {\r\n    const { year, month } = this.state;\r\n    const date = common.getNextMonthDictByYm(year, month)\r\n    common.redirect(`/member/releases/${date.year}/${date.month}/`);\r\n    this.setState(state => ({ ...date, reload: !state.reload }));\r\n  };\r\n\r\n  getYm = () => {\r\n    let { year, month } = this.props.match.params;\r\n    if (!year || !month) {\r\n      year = common.getCurrentYear();\r\n      month = common.getCurrentMonth();\r\n    }\r\n    return { year, month };\r\n  };\r\n\r\n  render() {\r\n    const { salesperson_choice, year, month, reload } = this.state;\r\n    // \r\n    const my_release_list_schema = common.clone(release_list_schema);\r\n    common.getFromJsonList(my_release_list_schema, 'name', 'salesperson')['choices'] = salesperson_choice;\r\n    console.log(common.formatStr(config.api.member.release_list, year, month))\r\n\r\n    return (\r\n      <div>\r\n        <Card>\r\n          <CardHeader color=\"info\">\r\n            {`${year}${month}`}\r\n          </CardHeader>\r\n          <CardBody>\r\n            <DataSource\r\n              reload={reload}\r\n              endpoint={ common.formatStr(config.api.member.release_list, year, month) }\r\n              render={ (initData) => (\r\n                <EnhancedTable\r\n                  title={this.title}\r\n                  storageKey='member.release.list'\r\n                  tableHead={my_release_list_schema}\r\n                  tableData={initData}\r\n                  rowsPerPage={config.rowsPerPage}\r\n                  pushpinTop={common.getHeaderHeight()}\r\n                  allowCsv={true}\r\n                  urlReflect={false}\r\n                  tableActions={[\r\n                    {\r\n                      \"tooltip\": \"\",\r\n                      \"icon\": <NavigateBeforeIcon />,\r\n                      \"handleClick\": this.prevMonthRelease,\r\n                    },\r\n                    {\r\n                      \"tooltip\": \"\",\r\n                      \"icon\": <NavigateNextIcon />,\r\n                      \"handleClick\": this.nextMonthRelease,\r\n                    },\r\n                  ]}\r\n                />\r\n              ) }\r\n            />\r\n          </CardBody>\r\n        </Card>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withPermissions(ReleaseList, 'member.view_member');","import React from 'react';\r\nimport { EnhancedTable } from '../../datatable/index';\r\nimport DataSource from '../../components/DataSource';\r\nimport { expense_month_list_schema } from './schema';\r\nimport { common } from '../../utils';\r\nimport { config } from '../../utils/config';\r\nimport { withPermissions } from '../../components';\r\nimport { Paper } from '@material-ui/core';\r\nimport { paperSpacing } from '../../assets/jss/material-dashboard-react';\r\n\r\nclass ExpenseMonths extends React.Component {\r\n  title = '';\r\n\r\n  componentDidMount = () => {\r\n    document.title = this.title;\r\n  };\r\n\r\n  render () {\r\n\r\n    return (\r\n      <div>\r\n        <Paper style={paperSpacing}>\r\n          <DataSource\r\n            endpoint={ config.api.attendance.expense_months }\r\n            render={ (initData) => (\r\n              <EnhancedTable\r\n                title={this.title}\r\n                showTitle={true}\r\n                tableHead={expense_month_list_schema}\r\n                tableData={initData}\r\n                rowsPerPage={config.rowsPerPage}\r\n                pushpinTop={common.getHeaderHeight()}\r\n                allowCsv={true}\r\n                urlReflect={false}\r\n                tableStyles={{ minWidth: 250 }}\r\n              />\r\n            )}\r\n          />\r\n        </Paper>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withPermissions(ExpenseMonths, 'attendance.view_expense');\r\n","import React from 'react';\r\nimport { EnhancedTable } from '../../datatable/index';\r\nimport DataSource from '../../components/DataSource';\r\nimport { expense_by_month_list_schema } from './schema';\r\nimport { common } from '../../utils';\r\nimport { config } from '../../utils/config';\r\nimport { withPermissions, TopBreadcrumbs } from '../../components';\r\nimport { Paper } from '@material-ui/core';\r\nimport { paperSpacing } from '../../assets/jss/material-dashboard-react';\r\n\r\nclass ExpenseByMonthList extends React.Component {\r\n  title = '';\r\n\r\n  componentDidMount = () => {\r\n    const { year, month } = this.props.match.params;\r\n    document.title = `${year}${month} | ${this.title}`;\r\n  };\r\n\r\n  render () {\r\n    const { year, month } = this.props.match.params;\r\n\r\n    return (\r\n      <div>\r\n        <TopBreadcrumbs\r\n          breadcrumbs={[\r\n            { link: '/member/expenses', name: '' },\r\n            { name: `${year}${month}${this.title}` },\r\n          ]}\r\n        />\r\n        <Paper style={paperSpacing}>\r\n          <DataSource\r\n            endpoint={ common.formatStr(config.api.attendance.expense_by_month, year, month) }\r\n            render={ (initData) => (\r\n              <EnhancedTable\r\n                title={`${year}${month}${this.title}`}\r\n                showTitle={true}\r\n                tableHead={expense_by_month_list_schema}\r\n                tableData={initData}\r\n                rowsPerPage={config.rowsPerPage}\r\n                pushpinTop={common.getHeaderHeight()}\r\n                allowCsv={true}\r\n                urlReflect={false}\r\n                tableStyles={{ minWidth: 500 }}\r\n              />\r\n            )}\r\n          />\r\n        </Paper>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withPermissions(ExpenseByMonthList, 'attendance.view_expense');\r\n","import React from 'react';\r\nimport { Paper } from '@material-ui/core';\r\nimport CloudDownloadIcon from \"@material-ui/icons/CloudDownload\";\r\nimport { EnhancedTable } from '../../datatable/index';\r\nimport DataSource from '../../components/DataSource';\r\nimport { expense_by_object_list_schema } from './schema';\r\nimport { common, ajax } from '../../utils';\r\nimport { config } from '../../utils/config';\r\nimport { withPermissions, TopBreadcrumbs, Toast } from '../../components';\r\nimport {\r\n  getExpenseCategoryChoices,\r\n  downloadMemberExpense,\r\n  handleEditObject,\r\n  expense_form_schema,\r\n  expense_form_layout,\r\n  handleAddObject,\r\n  handleDeleteObject,\r\n  getProjectChoices,\r\n  getOrganizationChoices,\r\n} from '../utils';\r\nimport { paperSpacing } from '../../assets/jss/material-dashboard-react';\r\n\r\nclass ExpenseByObjectList extends React.Component {\r\n  title = '';\r\n  expense_by_object_list_schema = common.clone(expense_by_object_list_schema);\r\n  expense_form_schema = common.clone(expense_form_schema);\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      reload: false,\r\n      member: {},\r\n      expense_category_list: [],\r\n      project_choices: [],\r\n      org_choices: [],\r\n    };\r\n    this.initialize(props);\r\n  }\r\n  \r\n  initialize = (props) => {\r\n    const { content_type_id, member_id } = props.match.params;\r\n    ajax.fetchGet(common.formatStr(\r\n      config.api.member.portal_detail, content_type_id, member_id\r\n    )).then(member => {\r\n      this.setState({ member });\r\n    });\r\n    getExpenseCategoryChoices().then(data => (\r\n      this.setState({expense_category_list: data})\r\n    ));\r\n    getProjectChoices().then(data => this.setState({ project_choices: data }));\r\n    getOrganizationChoices().then(data => this.setState({ org_choices: data }));\r\n  };\r\n\r\n  componentDidUpdate = () => {\r\n    const { year, month } = this.props.match.params;\r\n    const { member } = this.state;\r\n    document.title = `${member.full_name} | ${year}${month} | ${this.title}`;\r\n  };\r\n\r\n  handleDownloadMemberExpenses = (data) => {\r\n    if (Array.isArray(data) && data.length > 0) {\r\n      const { year, month, content_type_id, member_id } = this.props.match.params;\r\n      return downloadMemberExpense(year, month, content_type_id, member_id).then(json => {\r\n        const blob = common.toBlob(json.blob);\r\n        common.downloadBlog(blob, json.name);\r\n      }).catch(errors => {\r\n        Toast.error(errors.detail);\r\n      });\r\n    }\r\n  };\r\n\r\n  render () {\r\n    const { year, month, content_type_id, member_id } = this.props.match.params;\r\n    const { reload, member, expense_category_list, project_choices, org_choices } = this.state;\r\n    common.getFromJsonList(this.expense_by_object_list_schema, 'name', 'category_id').choices = expense_category_list;\r\n    common.getFromJsonList(this.expense_form_schema, 'name', 'category').choices = expense_category_list;\r\n    common.getFromJsonList(this.expense_form_schema, 'name', 'project').choices = project_choices;\r\n    common.getFromJsonList(this.expense_form_schema, 'name', 'organization').choices = org_choices;\r\n\r\n    return (\r\n      <div>\r\n        <TopBreadcrumbs\r\n          breadcrumbs={[\r\n            { link: '/member/expenses', name: '' },\r\n            { link: `/member/expenses/${year}/${month}`, name: `${year}${month}${this.title}` },\r\n            { name: member.full_name },\r\n          ]}\r\n        />\r\n        <Paper style={paperSpacing}>\r\n          <DataSource\r\n            reload={reload}\r\n            endpoint={ common.formatStr(config.api.attendance.expense_by_object, year, month, content_type_id, member_id) }\r\n            render={ (initData) => (\r\n              <EnhancedTable\r\n                title={`${member.full_name}: ${year}${month}${this.title}`}\r\n                showTitle={true}\r\n                tableHead={this.expense_by_object_list_schema}\r\n                tableData={initData}\r\n                rowsPerPage={config.rowsPerPage}\r\n                pushpinTop={common.getHeaderHeight()}\r\n                urlReflect={false}\r\n                tableStyles={{ minWidth: 900 }}\r\n                selectable='single'\r\n                tableActions={[\r\n                  {\r\n                    'tooltip': '',\r\n                    'icon': <CloudDownloadIcon />,\r\n                    'handleClick': this.handleDownloadMemberExpenses,\r\n                    'showLoading': true,\r\n                  },\r\n                ]}\r\n                addProps={{\r\n                  \"title\": `${member.full_name}`,\r\n                  \"schema\": this.expense_form_schema,\r\n                  \"layout\": expense_form_layout,\r\n                  \"data\": {\r\n                    'content_type': content_type_id,\r\n                    'object_id': member_id,\r\n                    'year': year,\r\n                    'month': month,\r\n                  },\r\n                  \"handleOk\": handleAddObject(\r\n                    () => this.setState({reload: !reload}),\r\n                    config.api.attendance.expense_add,\r\n                  ),\r\n                  \"visible\": common.hasPerm('attendance.add_expense'),\r\n                }}\r\n                editProps={{\r\n                  \"title\": `${member.full_name}`,\r\n                  \"schema\": this.expense_form_schema,\r\n                  \"layout\": expense_form_layout,\r\n                  \"handleOk\": handleEditObject(\r\n                    () => this.setState({reload: !reload}),\r\n                    config.api.attendance.expense_detail,\r\n                  ),\r\n                  \"visible\": common.hasPerm('attendance.edit_expense'),\r\n                }}\r\n                deleteProps={{\r\n                  \"handleDelete\": handleDeleteObject(\r\n                    () => this.setState({reload: !reload}),\r\n                    config.api.attendance.expense_detail,\r\n                  ),\r\n                  \"visible\": common.hasPerm('attendance.delete_expense'),\r\n                }}\r\n              />\r\n            )}\r\n          />\r\n        </Paper>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withPermissions(ExpenseByObjectList, 'attendance.view_expense');\r\n","import {\r\n  choice_bank_account_type,\r\n  choice_project_status,\r\n} from \"../../utils\";\r\n\r\nexport const list_company_schema = [\r\n  {\r\n    \"name\": \"name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"link\": \"/client/companies/%(id)s/\",\r\n    \"searchable\": true,\r\n  },\r\n  {\r\n    \"name\": \"president\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"tel\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"address1\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"searchable\": true,\r\n  },\r\n];\r\n\r\nexport const company_bank_account_list_schema = [\r\n  {\r\n    \"name\": \"bank_name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"branch_name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"account_type\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"choices\": choice_bank_account_type,\r\n  },\r\n  {\r\n    \"name\": \"account_number\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"account_holder\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n  },\r\n];\r\n\r\nexport const client_project_list_schema = [\r\n  {\r\n    \"name\": \"name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"link\": \"/project/projects/%(id)s/\",\r\n  },\r\n  {\r\n    \"name\": \"start_date\",\r\n    \"type\": \"date\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"end_date\",\r\n    \"type\": \"date\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"salesperson_name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"status\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"choices\": choice_project_status,\r\n    \"visible\": false,\r\n    \"searchable\": true,\r\n    \"rowStyles\": {\r\n      '90': {'backgroundColor': 'lightgray'}\r\n    },\r\n    \"native\": true,\r\n  },\r\n];\r\n","import React from 'react';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport { EnhancedTable } from '../../datatable/index';\r\nimport Card from \"../../components/Card/Card\";\r\nimport CardHeader from \"../../components/Card/CardHeader.jsx\";\r\nimport CardBody from \"../../components/Card/CardBody\";\r\nimport DataSource from '../../components/DataSource';\r\nimport { list_company_schema } from './schema';\r\nimport { config } from '../../utils/config';\r\nimport { common } from '../../utils/common';\r\nimport { withPermissions } from '../../components';\r\n\r\nclass ClientCompanyList extends React.Component {\r\n  title = '';\r\n\r\n  componentDidMount = () => {\r\n    document.title = this.title;\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Card>\r\n          <CardHeader color=\"info\">\r\n            {this.title}\r\n          </CardHeader>\r\n          <CardBody>\r\n            <DataSource\r\n              endpoint={ config.api.client.list }\r\n              render={ (initData) => (\r\n                <EnhancedTable\r\n                  storageKey='client.companies'\r\n                  title={this.title}\r\n                  tableHead={list_company_schema}\r\n                  tableData={initData.results}\r\n                  rowsPerPage={config.rowsPerPage}\r\n                  tableActions={[\r\n                    {\r\n                      'tooltip': '',\r\n                      'icon': <AddIcon color=\"secondary\"/>,\r\n                      'handleClick': () => (common.redirect('/client/companies/add')),\r\n                      'visible': common.hasPerm('client.add_clientcompany'),\r\n                    }\r\n                  ]}\r\n                  allowCsv={true}\r\n                  urlReflect={false}\r\n                  pushpinTop={common.getHeaderHeight()}\r\n                  tableStyles={{ minWidth: 1000 }}\r\n                />\r\n              ) } \r\n            />\r\n          </CardBody>\r\n        </Card>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withPermissions(ClientCompanyList, 'client.view_clientcompany');\r\n","import { downloadAttachment } from '../utils';\r\nimport {\r\n  common,\r\n  choice_months,\r\n  choice_years_from_prev,\r\n  choice_years,\r\n  choice_contract_type_partner,\r\n  choice_contract_type_bp,\r\n  choice_payment_month,\r\n  choice_payment_day,\r\n  choice_decimal_type,\r\n  choice_attendance_type,\r\n  choice_contract_type_all_member,\r\n} from \"../../utils\";\r\n\r\nexport const list_company_schema = [\r\n  {\r\n    \"name\": \"code\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"link\": \"/partner/companies/%(id)s/\",\r\n    \"searchable\": true,\r\n    \"sortable\": true,\r\n  },\r\n  {\r\n    \"name\": \"name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"link\": \"/partner/companies/%(id)s/\",\r\n    \"searchable\": true,\r\n    \"sortable\": true,\r\n  },\r\n  {\r\n    \"name\": \"member_count\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"president\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"searchable\": true,\r\n  },\r\n  {\r\n    \"name\": \"tel\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"sortable\": true,\r\n  },\r\n  {\r\n    \"name\": \"address1\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"searchable\": true,\r\n    \"sortable\": true,\r\n  },\r\n  {\r\n    \"name\": \"is_retired\",\r\n    \"type\": \"boolean\",\r\n    \"label\": \"\",\r\n    \"visible\": false,\r\n    \"searchable\": true,\r\n    \"sortable\": true,\r\n    \"rowStyles\": {\r\n      1: {'backgroundColor': 'lightgray'}\r\n    },\r\n    'variant': 'select',\r\n    \"native\": true,\r\n  },\r\n];\r\n\r\nexport const company_list_search_layout = [\r\n  ['code', 'name'],\r\n  'president',\r\n  'address1',\r\n  'is_retired',\r\n];\r\n\r\nexport const company_form_schema = [\r\n  {\r\n    \"name\": \"code\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"max_length\": 4\r\n  },\r\n  {\r\n    \"name\": \"name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"required\": true,\r\n    \"max_length\": 30\r\n  },\r\n  {\r\n    \"name\": \"kana\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"max_length\": 30,\r\n  },\r\n  {\r\n    \"name\": \"president\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"max_length\": 30,\r\n  },\r\n  {\r\n    \"name\": \"found_date\",\r\n    \"type\": \"date\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"capital\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"post_code\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"max_length\": 7,\r\n  },\r\n  {\r\n    \"name\": \"address1\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"max_length\": 100,\r\n  },\r\n  {\r\n    \"name\": \"address2\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"max_length\": 100,\r\n  },\r\n  {\r\n    \"name\": \"tel\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"max_length\": 11,\r\n  },\r\n  {\r\n    \"name\": \"fax\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"max_length\": 11,\r\n  },\r\n  {\r\n    \"name\": \"payment_month\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"choices\": choice_payment_month,\r\n  },\r\n  {\r\n    \"name\": \"payment_day\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"choices\": choice_payment_day,\r\n  },\r\n  {\r\n    \"name\": \"decimal_type\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"choices\": choice_decimal_type,\r\n  },\r\n  {\r\n    \"name\": \"attendance_type\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"choices\": choice_attendance_type,\r\n  },\r\n];\r\n\r\nexport const company_form_layout = [\r\n  'code',\r\n  ['name', 'kana'],\r\n  ['president', 'found_date', 'capital'],\r\n  'post_code',\r\n  ['address1', 'address2'],\r\n  ['tel', 'fax'],\r\n  ['payment_month', 'payment_day'],\r\n  ['decimal_type', 'attendance_type'],\r\n];\r\n\r\nexport const company_member_list_schema = [\r\n  {\r\n    \"name\": \"code\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"sortable\": true,\r\n    \"link\": '/partner/companies/%(company)s/members/%(id)s',\r\n  },\r\n  {\r\n    \"name\": \"full_name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"sortable\": true,\r\n    \"link\": '/partner/companies/%(company)s/members/%(id)s',\r\n  },\r\n];\r\n\r\nexport const member_detail_schema = [\r\n  {\r\n    \"name\": \"code\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"company\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"choices\": [],\r\n  },\r\n  {\r\n    \"name\": \"full_name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"gender\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"choices\": [\r\n      {\r\n        \"value\": \"1\",\r\n        \"display_name\": \"\",\r\n      },\r\n      {\r\n        \"value\": \"2\",\r\n        \"display_name\": \"\",\r\n      }\r\n    ],\r\n  },\r\n  {\r\n    \"name\": \"birthday\",\r\n    \"type\": \"date\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"email\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"private_email\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"post_code\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"address\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"nearest_station\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"phone\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"marriage\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"choices\": [\r\n      {\r\n        \"value\": \"0\",\r\n        \"display_name\": \"\",\r\n      },\r\n      {\r\n        \"value\": \"1\",\r\n        \"display_name\": \"\",\r\n      }\r\n    ],\r\n  },\r\n  {\r\n    \"name\": \"middleman_name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"comment\",\r\n    \"type\": \"text\",\r\n    \"label\": \"\",\r\n  },\r\n];\r\n\r\nexport const member_form_basic_schema = [\r\n  {\r\n    \"name\": \"code\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"required\": true,\r\n    \"max_length\": 6,\r\n  },\r\n  {\r\n    \"name\": \"company\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"choices\": [],\r\n    \"help_text\": \"\"\r\n  },\r\n  {\r\n    \"name\": \"last_name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"required\": true,\r\n    \"max_length\": 10,\r\n  },\r\n  {\r\n    \"name\": \"first_name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"required\": true,\r\n    \"max_length\": 10,\r\n  },\r\n  {\r\n    \"name\": \"last_name_ja\",\r\n    \"type\": \"string\",\r\n    \"label\": \"()\",\r\n    \"max_length\": 30,\r\n  },\r\n  {\r\n    \"name\": \"first_name_ja\",\r\n    \"type\": \"string\",\r\n    \"label\": \"()\",\r\n    \"max_length\": 30,\r\n  },\r\n  {\r\n    \"name\": \"gender\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"choices\": [\r\n      {\r\n        \"value\": \"1\",\r\n        \"display_name\": \"\",\r\n      },\r\n      {\r\n        \"value\": \"2\",\r\n        \"display_name\": \"\",\r\n      }\r\n    ],\r\n  },\r\n  {\r\n    \"name\": \"birthday\",\r\n    \"type\": \"date\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"email\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"private_email\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"post_code\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"max_length\": 7,\r\n  },\r\n  {\r\n    \"name\": \"address1\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"max_length\": 100,\r\n  },\r\n  {\r\n    \"name\": \"address2\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"max_length\": 100,\r\n  },\r\n  {\r\n    \"name\": \"nearest_station\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"max_length\": 15,\r\n  },\r\n  {\r\n    \"name\": \"phone\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"max_length\": 11,\r\n  },\r\n  {\r\n    \"name\": \"marriage\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"choices\": [\r\n      {\r\n        \"value\": \"0\",\r\n        \"display_name\": \"\",\r\n      },\r\n      {\r\n        \"value\": \"1\",\r\n        \"display_name\": \"\",\r\n      }\r\n    ],\r\n  },\r\n  {\r\n    \"name\": \"middleman\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"choices\": [],\r\n  },\r\n  {\r\n    \"name\": \"comment\",\r\n    \"type\": \"text\",\r\n    \"label\": \"\",\r\n    \"max_length\": 250,\r\n  },\r\n];\r\n\r\nexport const member_form_basic_layout = [\r\n  'company',\r\n  'code',\r\n  ['last_name', 'first_name'],\r\n  ['last_name_ja', 'first_name_ja'],\r\n  ['gender', 'birthday',],\r\n  ['email', 'private_email'],\r\n  ['post_code'],\r\n  ['address1', 'address2'],\r\n  'nearest_station',\r\n  ['phone', 'marriage'],\r\n  'middleman',\r\n  'comment',\r\n];\r\n\r\nexport const member_contract_form_schema = [\r\n  {\r\n    \"name\": \"contract_type\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"required\": true,\r\n    \"choices\": choice_contract_type_partner,\r\n  },\r\n  {\r\n    \"name\": \"start_date\",\r\n    \"type\": \"date\",\r\n    \"label\": \"\",\r\n    \"required\": true,\r\n  },\r\n  {\r\n    \"name\": \"end_date\",\r\n    \"type\": \"date\",\r\n    \"label\": \"\",\r\n    \"required\": true,\r\n  },\r\n  {\r\n    \"name\": \"member_calculate_type\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"required\": true,\r\n    \"choices\": [\r\n      { \"value\": \"01\", \"display_name\": \"\" },\r\n      { \"value\": \"02\", \"display_name\": \"  \" },\r\n      { \"value\": \"03\", \"display_name\": \"  .\" },\r\n      { \"value\": \"04\", \"display_name\": \"  .\" },\r\n      { \"value\": \"10\", \"display_name\": \"\" },\r\n      { \"value\": \"11\", \"display_name\": \"\" },\r\n      { \"value\": \"90\", \"display_name\": \"\" },\r\n    ]\r\n  },\r\n];\r\n\r\nexport const contract_allowance_schema = [\r\n  {\r\n    \"name\": \"code\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"required\": true,\r\n    \"read_only\": true,\r\n    \"max_length\": 4,\r\n  },\r\n  {\r\n    \"name\": \"name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"required\": true,\r\n    \"max_length\": 50,\r\n  },\r\n  {\r\n    \"name\": \"amount\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"\",\r\n    \"required\": true,\r\n    \"min_value\": 0,\r\n    \"step\": 1000,\r\n    \"default\": 0,\r\n  },\r\n  {\r\n    \"name\": \"unit\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"choices\": [\r\n      { \"value\": \"01\", \"display_name\": \"/\", },\r\n      { \"value\": \"02\", \"display_name\": \"/\", },\r\n      { \"value\": \"03\", \"display_name\": \"/\", },\r\n      { \"value\": \"04\", \"display_name\": \"/\", },\r\n      { \"value\": \"10\", \"display_name\": \"\", },\r\n    ],\r\n    \"default\": '01',\r\n  },\r\n  {\r\n    \"name\": \"comment\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n  },\r\n];\r\n\r\nexport const contract_calculate_hours_schema = [\r\n  {\r\n    \"name\": \"code\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"required\": true,\r\n    \"read_only\": true,\r\n    \"max_length\": 4,\r\n  },\r\n  {\r\n    \"name\": \"name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"required\": true,\r\n    \"max_length\": 50,\r\n  },\r\n  {\r\n    \"name\": \"hours\",\r\n    \"type\": \"decimal\",\r\n    \"label\": \"\",\r\n    \"min_value\": 0,\r\n    \"step\": 0.25,\r\n  },\r\n];\r\n\r\nexport const bp_contract_item_schema = [\r\n  {\r\n    \"name\": \"code\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"read_only\": true,\r\n    \"required\": true,\r\n    \"max_length\": 4,\r\n  },\r\n  {\r\n    \"name\": \"name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"read_only\": true,\r\n    \"required\": true,\r\n    \"max_length\": 50,\r\n  },\r\n  {\r\n    \"name\": \"content\",\r\n    \"type\": \"text\",\r\n    \"label\": \"\",\r\n    \"max_length\": 2000,\r\n  },\r\n];\r\n\r\nexport const bp_contract_item_layout = [\r\n  ['code', 'name'],\r\n  'content',\r\n];\r\n\r\nexport const bp_member_contract_list_schema = [\r\n  {\r\n    \"name\": \"contract_no\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"link\": (data) => {\r\n      if (data.has_permission !== false) {\r\n        return \"/partner/companies/%(company_object_id)s/members/%(object_id)s/contracts/%(id)s/detail\";\r\n      } else {\r\n        return null;\r\n      }\r\n    }\r\n  },\r\n  {\r\n    \"name\": \"contract_type\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"choices\": choice_contract_type_bp,\r\n  },\r\n  {\r\n    \"name\": \"start_date\",\r\n    \"type\": \"date\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"end_date\",\r\n    \"type\": \"date\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"member_calculate_type\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"required\": true,\r\n    \"choices\": [\r\n      { \"value\": \"01\", \"display_name\": \"\" },\r\n      { \"value\": \"02\", \"display_name\": \"  \" },\r\n      { \"value\": \"03\", \"display_name\": \"  .\" },\r\n      { \"value\": \"04\", \"display_name\": \"  .\" },\r\n      { \"value\": \"10\", \"display_name\": \"\" },\r\n      { \"value\": \"11\", \"display_name\": \"\" },\r\n      { \"value\": \"90\", \"display_name\": \"\" },\r\n    ]\r\n  },\r\n  {\r\n    \"name\": \"is_hourly_pay\",\r\n    \"type\": \"boolean\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"is_fixed_pay\",\r\n    \"type\": \"boolean\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"basic_price\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"\",\r\n  },\r\n];\r\n\r\nexport const partner_contract_detail_schema = [\r\n  {\r\n    \"name\": \"contract_no\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"contract_type\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"choices\": choice_contract_type_all_member,\r\n  },\r\n  {\r\n    \"name\": \"start_date\",\r\n    \"type\": \"date\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"end_date\",\r\n    \"type\": \"date\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"member_calculate_type\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"required\": true,\r\n    \"choices\": [\r\n      { \"value\": \"01\", \"display_name\": \"\" },\r\n      { \"value\": \"02\", \"display_name\": \"  \" },\r\n      { \"value\": \"03\", \"display_name\": \"  .\" },\r\n      { \"value\": \"04\", \"display_name\": \"  .\" },\r\n      { \"value\": \"10\", \"display_name\": \"\" },\r\n      { \"value\": \"11\", \"display_name\": \"\" },\r\n      { \"value\": \"90\", \"display_name\": \"\" },\r\n    ]\r\n  },\r\n];\r\n\r\nexport const member_monthly_request_list_schema = [\r\n  {\r\n    \"name\": \"ym\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"sortable\": true,\r\n  },\r\n  {\r\n    \"name\": \"price\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"\",\r\n    \"sortable\": true,\r\n  },\r\n  {\r\n    \"name\": \"is_fixed_pay\",\r\n    \"type\": \"boolean\",\r\n    \"label\": \"\",\r\n    \"sortable\": true,\r\n  },\r\n  {\r\n    \"name\": \"is_hourly_pay\",\r\n    \"type\": \"boolean\",\r\n    \"label\": \"\",\r\n    \"sortable\": true,\r\n  },\r\n  {\r\n    \"name\": \"min_hours\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"\",\r\n    \"sortable\": true,\r\n  },\r\n  {\r\n    \"name\": \"max_hours\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"\",\r\n    \"sortable\": true,\r\n  },\r\n  {\r\n    \"name\": \"minus_per_hour\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"\",\r\n    \"sortable\": true,\r\n  },\r\n  {\r\n    \"name\": \"plus_per_hour\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"\",\r\n    \"sortable\": true,\r\n  },\r\n  {\r\n    \"name\": \"is_submitted\",\r\n    \"type\": \"boolean\",\r\n    \"label\": \"\",\r\n    \"sortable\": true,\r\n  },\r\n];\r\n\r\nexport const member_monthly_request_form_schema = [\r\n  {\r\n    \"name\": \"ym\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"read_only\": true,\r\n  },\r\n  {\r\n    \"name\": \"price\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"\",\r\n    \"read_only\": true,\r\n  },\r\n  {\r\n    \"name\": \"base_amount_memo\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"max_length\": 100,\r\n  },\r\n  {\r\n    \"name\": \"min_hours\",\r\n    \"type\": \"decimal\",\r\n    \"label\": \"\",\r\n    \"required\": true,\r\n    \"read_only\": true,\r\n    \"min_value\": 0,\r\n    \"step\": 0.25,\r\n  },\r\n  {\r\n    \"name\": \"max_hours\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"\",\r\n    \"required\": true,\r\n    \"read_only\": true,\r\n    \"min_value\": 0,\r\n    \"step\": 0.25,\r\n  },\r\n  {\r\n    \"name\": \"hours_memo\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"max_length\": 100,\r\n  },\r\n  {\r\n    \"name\": \"minus_per_hour\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"\",\r\n    \"required\": true,\r\n    \"min_value\": 0,\r\n  },\r\n  {\r\n    \"name\": \"plus_per_hour\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"\",\r\n    \"required\": true,\r\n    \"min_value\": 0,\r\n  },\r\n  {\r\n    \"name\": \"is_show_formula\",\r\n    \"type\": \"boolean\",\r\n    \"label\": \"\"\r\n  },\r\n  {\r\n    \"name\": \"minus_per_hour_memo\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"max_length\": 100,\r\n  },\r\n  {\r\n    \"name\": \"plus_per_hour_memo\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"max_length\": 100,\r\n  },\r\n  {\r\n    \"name\": \"is_fixed_pay\",\r\n    \"type\": \"boolean\",\r\n    \"label\": \"\",\r\n    \"read_only\": true,\r\n  },\r\n  {\r\n    \"name\": \"is_hourly_pay\",\r\n    \"type\": \"boolean\",\r\n    \"label\": \"\",\r\n    \"read_only\": true,\r\n  },\r\n  {\r\n    \"name\": \"hourly_pay_amount\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"\",\r\n    \"required\": true,\r\n    \"read_only\": true,\r\n    \"min_value\": 0,\r\n  },\r\n];\r\n\r\nexport const member_monthly_request_form_layout = [\r\n  ['ym', 'price', 'is_fixed_pay'],\r\n  'base_amount_memo',\r\n  ['min_hours', 'max_hours'],\r\n  'hours_memo',\r\n  ['minus_per_hour', 'plus_per_hour', 'is_show_formula'],\r\n  'minus_per_hour_memo',\r\n  'plus_per_hour_memo',\r\n  ['is_hourly_pay', 'hourly_pay_amount'],\r\n];\r\n\r\nexport const partner_orders_status_list_schema = [\r\n  {\r\n    \"name\": \"ym\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"sortable\": true,\r\n  },\r\n  {\r\n    \"name\": \"year\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"choices\": choice_years,\r\n    \"visible\": false,\r\n    \"searchable\": true,\r\n    \"native\": true,\r\n  },\r\n  {\r\n    \"name\": \"month\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"choices\": choice_months,\r\n    \"visible\": false,\r\n    \"searchable\": true,\r\n    \"native\": true,\r\n  },\r\n  {\r\n    \"name\": \"company_name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"link\": \"/partner/companies/%(company_id)s\",\r\n    \"searchable\": true,\r\n    \"sortable\": true,\r\n    \"max_width\": 110,\r\n  },\r\n  {\r\n    \"name\": \"full_name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"link\": \"/partner/companies/%(company_id)s/members/%(member_id)s\",\r\n    \"searchable\": true,\r\n    \"sortable\": true,\r\n  },\r\n  {\r\n    \"name\": \"project_name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"link\": \"/project/projects/%(project_id)s\",\r\n    \"searchable\": true,\r\n    \"sortable\": true,\r\n    \"max_width\": 130,\r\n  },\r\n  {\r\n    \"name\": \"salesperson_id\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"choices\": [],\r\n    \"searchable\": true,\r\n    \"sortable\": true,\r\n    \"native\": true,\r\n  },\r\n  {\r\n    \"name\": \"base_amount\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"\",\r\n    \"sortable\": true,\r\n  },\r\n  {\r\n    \"name\": \"min_max\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"sortable\": true,\r\n  },\r\n  {\r\n    \"name\": \"order_no\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"link\": (data) => {\r\n      if (data.has_permission === false) {\r\n        return null;\r\n      } else if (data.is_blanket_contract) {\r\n        return \"/partner/companies/%(company_id)s/orders/%(order_id)s/\";\r\n      } else {\r\n        return \"/partner/companies/%(company_id)s/members/%(member_id)s/orders/%(order_id)s/\";\r\n      }\r\n    },\r\n    \"sortable\": true,\r\n  },\r\n  {\r\n    \"name\": \"filename_order\",\r\n    \"type\": \"file\",\r\n    \"label\": \"\",\r\n    \"handle_download\": (file_id, data) => data.has_permission !== false && downloadAttachment(file_id),\r\n    \"sortable\": true,\r\n  },\r\n  {\r\n    \"name\": \"filename_request\",\r\n    \"type\": \"file\",\r\n    \"label\": \"\",\r\n    \"handle_download\": (file_id, data) => data.has_permission !== false && downloadAttachment(file_id),\r\n    \"sortable\": true,\r\n  },\r\n  {\r\n    \"name\": \"is_sent\",\r\n    \"type\": \"boolean\",\r\n    \"label\": \"\",\r\n    \"searchable\": true,\r\n    \"sortable\": true,\r\n  },\r\n  {\r\n    \"name\": \"is_received\",\r\n    \"type\": \"boolean\",\r\n    \"label\": \"\",\r\n    \"searchable\": true,\r\n    \"sortable\": true,\r\n  },\r\n];\r\n\r\nexport const partner_orders_status_filter_layout = [\r\n  ['year', 'month'],\r\n  ['company_name', 'full_name'],\r\n  'project_name',\r\n  'salesperson_id',\r\n  ['is_sent', 'is_received'],\r\n];\r\n\r\nexport const create_partner_order_form_schema = [\r\n  {\r\n    \"name\": \"publish_date\",\r\n    \"type\": \"date\",\r\n    \"label\": \"\",\r\n    \"required\": true,\r\n  },\r\n  {\r\n    \"name\": \"year\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"required\": true,\r\n    \"read_only\": true,\r\n  },\r\n  {\r\n    \"name\": \"month\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"required\": true,\r\n    \"read_only\": true,\r\n  },\r\n  {\r\n    \"name\": \"end_year\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"required\": true,\r\n    \"choices\": choice_years_from_prev(),\r\n  },\r\n  {\r\n    \"name\": \"end_month\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"required\": true,\r\n    \"choices\": choice_months,\r\n  },\r\n];\r\n\r\nexport const create_partner_order_form_layout = [\r\n  'publish_date',\r\n  ['year', 'month'],\r\n  ['end_year', 'end_month'],\r\n];\r\n\r\nexport const monthly_orders_list_schema = [\r\n  {\r\n    \"name\": \"ym\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"link\": \"/partner/orders-status/year/%(year)s/month/%(month)s\"\r\n  },\r\n  {\r\n    \"name\": \"company_count\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"member_count\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"is_order_created\",\r\n    \"type\": \"boolean\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"is_order_sent\",\r\n    \"type\": \"boolean\",\r\n    \"label\": \"\",\r\n  },\r\n];\r\n\r\nexport const monthly_requests_list_schema = [\r\n  {\r\n    \"name\": \"ym\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"link\": \"/partner/requests/year/%(year)s/month/%(month)s\"\r\n  },\r\n  {\r\n    \"name\": \"tax_amount\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"amount\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"\",\r\n  },\r\n];\r\n\r\nexport const blanket_contract_list_schema = [\r\n  {\r\n    \"name\": \"contract_no\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"contract_name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"start_date\",\r\n    \"type\": \"date\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"end_date\",\r\n    \"type\": \"date\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"basic_amount\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"tax_amount\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"\",\r\n  },\r\n];\r\n\r\nexport const blanket_contract_form_schema = [\r\n  {\r\n    \"name\": \"contract_type\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"required\": true,\r\n    \"choices\": [\r\n      { \"value\": \"0104\", \"display_name\": \"\" },\r\n    ],\r\n    \"read_only\": true,\r\n  },\r\n  {\r\n    \"name\": \"contract_date\",\r\n    \"type\": \"date\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"start_date\",\r\n    \"type\": \"date\",\r\n    \"label\": \"\",\r\n    \"required\": true,\r\n  },\r\n  {\r\n    \"name\": \"end_date\",\r\n    \"type\": \"date\",\r\n    \"label\": \"\",\r\n    \"required\": true,\r\n  },\r\n];\r\n\r\nexport const blanket_contract_form_layout = [\r\n  ['contract_type', 'contract_date'],\r\n  ['start_date', 'end_date'],\r\n];\r\n\r\nexport const partner_payment_notice_status_list_schema = [\r\n  {\r\n    \"name\": \"ym\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"link\": (data) => {\r\n      if (data.has_permission === false) {\r\n        return null;\r\n      } else if (data.company_id) {\r\n        return \"/partner/companies/%(company_id)s/payment-notice/%(year)s/%(month)s/divisions/%(division_id)s\";\r\n      } else {\r\n        return \"/partner/individual/%(member_id)s/payment-notice/%(year)s/%(month)s/divisions/%(division_id)s\";\r\n      }\r\n    },\r\n    \"sortable\": true,\r\n  },\r\n  {\r\n    \"name\": \"year\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"choices\": choice_years,\r\n    \"visible\": false,\r\n    \"searchable\": true,\r\n    \"native\": true,\r\n  },\r\n  {\r\n    \"name\": \"month\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"choices\": choice_months,\r\n    \"visible\": false,\r\n    \"searchable\": true,\r\n    \"native\": true,\r\n  },\r\n  {\r\n    \"name\": \"name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"searchable\": true,\r\n    \"sortable\": true,\r\n  },\r\n  {\r\n    \"name\": \"organization_name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"sortable\": true,\r\n  },\r\n  {\r\n    \"name\": \"payment_notice_no\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"searchable\": true,\r\n    \"sortable\": true,\r\n  },\r\n  {\r\n    \"name\": \"request_no\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"searchable\": true,\r\n    \"sortable\": true,\r\n  },\r\n  {\r\n    \"name\": \"filename_payment\",\r\n    \"type\": \"file\",\r\n    \"label\": \"\",\r\n    \"handle_download\": (file_id, data) => data.has_permission !== false && downloadAttachment(file_id),\r\n  },\r\n  {\r\n    \"name\": \"filename_request\",\r\n    \"type\": \"file\",\r\n    \"label\": \"\",\r\n    \"handle_download\": (file_id, data) => data.has_permission !== false && downloadAttachment(file_id),\r\n  },\r\n  {\r\n    \"name\": \"is_sent\",\r\n    \"type\": \"boolean\",\r\n    \"label\": \"\",\r\n    \"searchable\": true,\r\n    \"sortable\": true,\r\n  },\r\n  {\r\n    \"name\": \"is_received\",\r\n    \"type\": \"boolean\",\r\n    \"label\": \"\",\r\n    \"searchable\": true,\r\n    \"sortable\": true,\r\n  },\r\n];\r\n\r\nexport const partner_payment_notice_status_filter_layout = [\r\n  ['year', 'month'],\r\n  'name',\r\n  ['payment_notice_no', 'request_no'],\r\n  ['is_sent', 'is_received'],\r\n];\r\n\r\nexport const create_partner_payment_notice_form_schema = [\r\n  {\r\n    \"name\": \"year\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"required\": true,\r\n    \"read_only\": true,\r\n  },\r\n  {\r\n    \"name\": \"month\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"required\": true,\r\n    \"read_only\": true,\r\n  },\r\n  {\r\n    \"name\": \"bank_account_id\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"required\": true,\r\n    \"choices\": [],\r\n  },\r\n];\r\n\r\nexport const create_partner_payment_notice_form_layout = [\r\n  ['year', 'month'],\r\n  'bank_account_id',\r\n];\r\n\r\nexport const individual_member_list_schema = [\r\n  {\r\n    \"name\": \"code\",\r\n    \"type\": \"string\",\r\n    \"label\": '',\r\n    \"searchable\": true,\r\n    \"sortable\": true,\r\n    \"link\": \"/partner/individual/%(id)s\",\r\n  },\r\n  {\r\n    \"name\": \"full_name\",\r\n    \"type\": \"string\",\r\n    \"label\": '',\r\n    \"searchable\": true,\r\n    \"sortable\": true,\r\n    \"link\": \"/partner/individual/%(id)s\",\r\n  },\r\n  {\r\n    \"name\": \"address\",\r\n    \"type\": \"string\",\r\n    \"label\": '',\r\n    \"sortable\": true,\r\n  },\r\n  {\r\n    \"name\": \"phone\",\r\n    \"type\": \"string\",\r\n    \"label\": '',\r\n    \"sortable\": true,\r\n  },\r\n  {\r\n    \"name\": \"salesperson_id\",\r\n    \"type\": \"choice\",\r\n    \"label\": '',\r\n    \"searchable\": true,\r\n    \"sortable\": true,\r\n    \"choices\": [],\r\n    \"native\": true,\r\n  },\r\n];\r\n\r\nexport const default_contract_data = {\r\n  contract_date: common.formatDate(new Date(), 'YYYY-MM-DD'),\r\n  // end_date: \"9999-12-31\",\r\n  calculate_hours: [\r\n    { \"code\": \"0000\", \"name\": \"\", \"hours\": 0 },\r\n    { \"code\": \"0001\", \"name\": \"\", \"hours\": 0 },\r\n    { \"code\": \"0010\", \"name\": \"\", \"hours\": 0 },\r\n    { \"code\": \"0011\", \"name\": \"\", \"hours\": 0 },\r\n  ],\r\n  allowances: [\r\n    { \"code\": \"0001\", \"name\": \"\", \"unit\": \"01\", \"comment\": \"\" },\r\n    { \"code\": \"1007\", \"name\": \"\", \"amount\": 0, \"unit\": \"03\", \"comment\": \"\" },\r\n    { \"code\": \"1008\", \"name\": \"\", \"amount\": 0, \"unit\": \"03\", \"comment\": \"\" },\r\n    { \"code\": \"9900\", \"name\": \"\", \"amount\": 0, \"unit\": \"01\", \"comment\": \"\" },\r\n  ],\r\n  contract_items: [\r\n    { \"code\": \"9900\", \"name\": \"\" },\r\n  ],\r\n};\r\n\r\nexport const default_blanket_contract_data = {\r\n  contract_type: '0104',\r\n  contract_date: common.getCurrentDateStr(),\r\n  allowances: [\r\n    { \"code\": \"0001\", \"name\": \"\", \"unit\": \"10\", \"comment\": \"\" },\r\n    { \"code\": \"0002\", \"name\": \"\", \"amount\": 0, \"unit\": \"10\", \"comment\": \"\" },\r\n  ],\r\n  contract_items: [\r\n    { \"code\": \"1000\", \"name\": \"\" },\r\n    { \"code\": \"1010\", \"name\": \"\" },\r\n    { \"code\": \"1020\", \"name\": \"\" },\r\n    { \"code\": \"1021\", \"name\": \"\" },\r\n    { \"code\": \"1030\", \"name\": \"\" },\r\n    { \"code\": \"9900\", \"name\": \"\" },\r\n  ],\r\n};\r\n\r\n\r\nexport const partner_payment_notice_by_month_list_schema = [\r\n  {\r\n    \"name\": \"full_name\",\r\n    \"type\": \"string\",\r\n    \"label\": '',\r\n    \"link\": \"/project/projects/%(project_id)s/attendance/%(year)s/%(month)s/\"\r\n  },\r\n  {\r\n    \"name\": \"base_amount\",\r\n    \"type\": \"integer\",\r\n    \"label\": '',\r\n  },\r\n  {\r\n    \"name\": \"min_max\",\r\n    \"type\": \"string\",\r\n    \"label\": '',\r\n  },\r\n  {\r\n    \"name\": \"minus_per_hour\",\r\n    \"type\": \"integer\",\r\n    \"label\": '',\r\n  },\r\n  {\r\n    \"name\": \"plus_per_hour\",\r\n    \"type\": \"integer\",\r\n    \"label\": '',\r\n  },\r\n  {\r\n    \"name\": \"total_hours\",\r\n    \"type\": \"decimal\",\r\n    \"label\": '',\r\n  },\r\n  {\r\n    \"name\": \"minus_or_plus\",\r\n    \"type\": \"decimal\",\r\n    \"label\": '',\r\n  },\r\n  {\r\n    \"name\": \"expense_amount\",\r\n    \"type\": \"integer\",\r\n    \"label\": '',\r\n  },\r\n  {\r\n    \"name\": \"cost\",\r\n    \"type\": \"integer\",\r\n    \"label\": '',\r\n  },\r\n  {\r\n    \"name\": \"is_sent\",\r\n    \"type\": \"boolean\",\r\n    \"label\": '',\r\n  },\r\n];\r\n","import React from 'react';\r\nimport TopBreadcrumbs from '../../components/TopBreadcrumbs';\r\nimport GridContainer from '../../components/Grid/GridContainer';\r\nimport GridItem from '../../components/Grid/GridItem';\r\nimport { company_form_schema, company_form_layout } from '../partner/schema';\r\nimport ActionForm from '../../components/ActionForm';\r\nimport { config } from '../../utils/config';\r\nimport { common } from '../../utils/common';\r\nimport { withPermissions } from '../../components';\r\n\r\nclass ClientCompanyForm extends React.Component {\r\n  title = '';\r\n\r\n  componentDidMount = () => {\r\n    document.title = `${this.title}`;\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <TopBreadcrumbs\r\n          breadcrumbs={[\r\n            { link: '/client/companies', name: '' },\r\n            { name: this.title },\r\n          ]}\r\n        />\r\n        <div style={{marginTop: 16}}>\r\n          <GridContainer>\r\n            <GridItem xs={12} sm={12} md={9} lg={9}>\r\n              <ActionForm\r\n                title={this.title}\r\n                schema={company_form_schema}\r\n                layout={company_form_layout}\r\n                methodName={'POST'}\r\n                saveEndpoint={config.api.client.add}\r\n                saveCallback={() => common.redirect('/client/companies')}\r\n              />\r\n            </GridItem>\r\n          </GridContainer>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withPermissions(ClientCompanyForm, 'client.add_clientcompany')\r\n","import React from 'react';\r\nimport TopBreadcrumbs from '../../components/TopBreadcrumbs';\r\nimport GridContainer from '../../components/Grid/GridContainer';\r\nimport GridItem from '../../components/Grid/GridItem';\r\nimport { getClientCompany } from '../utils/api';\r\nimport { TableDetail, EnhancedTable } from '../../datatable';\r\nimport { company_form_schema, company_form_layout } from '../partner/schema';\r\nimport { config } from '../../utils/config';\r\nimport { ajax, common } from '../../utils/common';\r\nimport { constant } from '../../utils/constants';\r\nimport {\r\n  withPermissions,\r\n  DataSource,\r\n  HasPerm,\r\n  Toast,\r\n} from '../../components';\r\nimport { Paper } from '@material-ui/core';\r\nimport { client_project_list_schema } from './schema';\r\nimport { paperSpacing } from '../../assets/jss/material-dashboard-react';\r\n\r\nclass ClientCompanyDetail extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      company: {},\r\n    };\r\n    this.initialize(props);\r\n    this.detail_api = common.formatStr(\r\n      config.api.client.detail,\r\n      props.match.params.company_id\r\n    );\r\n  }\r\n\r\n  initialize = (props) => {\r\n    const { company_id } = props.match.params;\r\n    getClientCompany(company_id).then(company => {\r\n      this.setState({company});\r\n    });\r\n  };\r\n\r\n  componentDidUpdate = () => {\r\n    document.title = `${this.state.company.name || ''} | `;\r\n  };\r\n\r\n  onEditCompany = (data, handleClose) => {\r\n    return ajax.fetchPut(this.detail_api, data).then(company => {\r\n      this.setState({company});\r\n      if (handleClose) {\r\n        handleClose();\r\n      }\r\n      Toast.success(constant.SUCCESS.SAVED);\r\n    }).catch(errors => {\r\n      Toast.error(constant.ERROR.FORM_CHECK_ERROR);\r\n      return Promise.reject(errors);\r\n    });\r\n  };\r\n\r\n  onDeleteCompany = (data) => {\r\n    ajax.fetchDelete(this.detail_api).then(() => {\r\n      Toast.success(constant.SUCCESS.DELETED);\r\n      common.redirect('/client/companies')\r\n    }).catch(errors => {\r\n      Toast.error(errors.detail);\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { company_id } = this.props.match.params;\r\n    const { company } = this.state;\r\n\r\n    return (\r\n      <div>\r\n        <TopBreadcrumbs\r\n          breadcrumbs={[\r\n            { link: '/client/companies', name: '' },\r\n            { name: company.name },\r\n          ]}\r\n        />\r\n        <div style={{marginTop: 16}}>\r\n          <GridContainer>\r\n            <GridItem xs={12} sm={12} md={9} lg={9}>\r\n              <TableDetail\r\n                data={company}\r\n                schema={company_form_schema}\r\n                editProps={{\r\n                  title: '',\r\n                  schema: company_form_schema,\r\n                  layout: company_form_layout,\r\n                  handleEdit: this.onEditCompany,\r\n                  visible: common.hasPerm('client.change_clientcompany'),\r\n                }}\r\n                deleteProps={{\r\n                  handleDelete: this.onDeleteCompany,\r\n                  visible: common.hasPerm('client.delete_clientcompany'),\r\n                }}\r\n              />\r\n            </GridItem>\r\n          </GridContainer>\r\n          <HasPerm permission='project.view_project'>\r\n            <Paper style={paperSpacing}>\r\n              <DataSource\r\n                endpoint={ common.formatStr(config.api.client.project_list, company_id) }\r\n                render={ (initData) => (\r\n                  <EnhancedTable\r\n                    title={`${company.name}`}\r\n                    showTitle={true}\r\n                    tableHead={client_project_list_schema}\r\n                    tableData={initData}\r\n                    rowsPerPage={config.rowsPerPage}\r\n                    pushpinTop={common.getHeaderHeight()}\r\n                  />\r\n                ) } \r\n              />\r\n            </Paper>\r\n          </HasPerm>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withPermissions(ClientCompanyDetail, 'client.view_clientcompany');\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom'\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport {\r\n  Tooltip,\r\n  IconButton,\r\n  Grid,\r\n  Typography,\r\n  Container,\r\n} from '@material-ui/core';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport ListIcon from '@material-ui/icons/List';\r\nimport AccountBalanceWalletIcon from '@material-ui/icons/AccountBalanceWallet';\r\nimport { getContractDashboard } from '../utils/api';\r\nimport { HasPerm, SimpleCard } from '../../components';\r\n\r\nconst styles = (theme) => ({\r\n  '@global': {\r\n    body: {\r\n      backgroundColor: theme.palette.common.white,\r\n    },\r\n    ul: {\r\n      margin: 0,\r\n      padding: 0,\r\n    },\r\n    li: {\r\n      listStyle: 'none',\r\n    },\r\n  },\r\n  flex: {\r\n    flex: 1,\r\n  },\r\n  heroContent: {\r\n    padding: theme.spacing(8, 0, 6),\r\n  },\r\n  footer: {\r\n    borderTop: `1px solid ${theme.palette.divider}`,\r\n    marginTop: theme.spacing(8),\r\n    paddingTop: theme.spacing(3),\r\n    paddingBottom: theme.spacing(3),\r\n    [theme.breakpoints.up('sm')]: {\r\n      paddingTop: theme.spacing(6),\r\n      paddingBottom: theme.spacing(6),\r\n    },\r\n  },\r\n});\r\n\r\nclass ContractDashboard extends React.Component {\r\n  title = ''\r\n  \r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      status: {\r\n        member_count: 0,\r\n        no_contract_count: 0,\r\n        auto_updating_count: 0,\r\n        auto_updated_count: 0,\r\n        will_expire_count: 0,\r\n        did_expired_count: 0,\r\n      },\r\n    };\r\n    this.initialize();\r\n  }\r\n\r\n  initialize = () => {\r\n    getContractDashboard().then(data => {\r\n      this.setState({ status: data });\r\n    });\r\n  };\r\n\r\n  componentDidMount = () => {\r\n    document.title = this.title;\r\n  };\r\n\r\n  render () {\r\n    const { classes } = this.props;\r\n    const { status } = this.state;\r\n\r\n    return (\r\n      <div>\r\n        <Container maxWidth=\"sm\" component=\"main\" className={classes.heroContent}>\r\n          <Typography component=\"h2\" variant=\"h4\" align=\"center\" color=\"textPrimary\" gutterBottom>\r\n            \r\n          </Typography>\r\n          <Typography variant=\"h5\" align=\"center\" color=\"textSecondary\" component=\"p\">\r\n            \r\n            \r\n          </Typography>\r\n        </Container>\r\n        <Container maxWidth=\"md\" component=\"main\">\r\n          <Grid container spacing={5} alignItems=\"flex-end\">\r\n            <Grid item xs={12} sm={6} md={4}>\r\n              <SimpleCard\r\n                title=''\r\n                subheader=''\r\n                data={{ count: status.member_count, message: '/'}}\r\n                secondaryList={[\r\n                  {\r\n                    count: (\r\n                      <Link to={{pathname: '/contract/members/', search: 'has_no_contract=true'}}>\r\n                        {status.no_contract_count}\r\n                      </Link>\r\n                    ),\r\n                    message: '' \r\n                  },\r\n                ]}\r\n                actions={\r\n                  <>\r\n                    <HasPerm permission='contract.add_member'>\r\n                      <Tooltip title=\"\">\r\n                        <IconButton\r\n                          color=\"secondary\" \r\n                          component={Link} \r\n                          aria-label=\"add\" \r\n                          to='/contract/members/add'\r\n                        >\r\n                          <AddIcon />\r\n                        </IconButton>\r\n                      </Tooltip>\r\n                    </HasPerm>\r\n                    <div className={classes.flex}></div>\r\n                    <HasPerm permission='contract.view_member'>\r\n                      <Tooltip title=\"\">\r\n                        <IconButton\r\n                          color=\"primary\"\r\n                          aria-label=\"list\"\r\n                          component={Link} \r\n                          to='/contract/members/salary/upload/'\r\n                        >\r\n                          <AccountBalanceWalletIcon />\r\n                        </IconButton>\r\n                      </Tooltip>\r\n                      <Tooltip title=\"\">\r\n                        <IconButton\r\n                          color=\"primary\"\r\n                          aria-label=\"list\"\r\n                          component={Link} \r\n                          to='/contract/members?is_retired=false'\r\n                        >\r\n                          <ListIcon />\r\n                        </IconButton>\r\n                      </Tooltip>\r\n                    </HasPerm>\r\n                  </>\r\n                }\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12} sm={6} md={4}>\r\n              <SimpleCard\r\n                title=''\r\n                subheader=''\r\n                data={{ count: status.auto_updating_count, message: '/'}}\r\n                secondaryList={[\r\n                  { count: status.auto_updated_count, message: '' },\r\n                ]}\r\n                actions={\r\n                  <>\r\n                    <div className={classes.flex}></div>\r\n                    <HasPerm permission='contract.view_contract'>\r\n                      <Tooltip title=\"\">\r\n                        <IconButton\r\n                          color=\"primary\"\r\n                          aria-label=\"list\"\r\n                          component={Link}\r\n                          to='/contract/contracts/auto-update-list'\r\n                        >\r\n                          <ListIcon />\r\n                        </IconButton>\r\n                      </Tooltip>\r\n                    </HasPerm>\r\n                  </>\r\n                }\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12} sm={6} md={4}>\r\n              <SimpleCard\r\n                title=''\r\n                subheader=''\r\n                data={{ count: status.will_expire_count, message: '/'}}\r\n                secondaryList={[\r\n                  { count: status.did_expired_count, message: '' },\r\n                ]}\r\n                actions={\r\n                  <>\r\n                    <div className={classes.flex}></div>\r\n                    <HasPerm permission='contract.view_contract'>\r\n                      <Tooltip title=\"\">\r\n                        <IconButton\r\n                          color=\"primary\"\r\n                          aria-label=\"list\"\r\n                          component={Link}\r\n                          to='/contract/contracts/expire-list'\r\n                        >\r\n                          <ListIcon />\r\n                        </IconButton>\r\n                      </Tooltip>\r\n                    </HasPerm>\r\n                  </>\r\n                }\r\n              />\r\n            </Grid>\r\n          </Grid>\r\n        </Container>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles)(ContractDashboard);\r\n","import React from 'react';\r\nimport PropTypes from \"prop-types\";\r\nimport {\r\n  Dialog,\r\n  withStyles,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n  Button,\r\n  Table,\r\n  TableHead,\r\n  TableRow,\r\n  TableCell,\r\n  TableBody,\r\n  Radio,\r\n  Typography,\r\n} from '@material-ui/core';\r\nimport { Toast } from '../../components';\r\nimport { constant, common } from '../../utils';\r\n\r\nconst styles = theme => ({\r\n  fullScreen: {\r\n    [theme.breakpoints.down('xs')]: {\r\n      width: '100%',\r\n      height: '100%',\r\n      margin: 0,\r\n      maxWidth: '100%',\r\n      maxHeight: 'none',\r\n      borderRadius: 0,\r\n    },\r\n  },\r\n  dialogContent: {\r\n    paddingLeft: theme.spacing(0.5),\r\n    paddingRight: theme.spacing(0.5),\r\n  },\r\n  table: {\r\n    '& th, & td': {\r\n      paddingLeft: 0,\r\n      paddingRight: theme.spacing(0.5),\r\n    },\r\n  },\r\n  description: {\r\n    margin: '16px 16px 0',\r\n  },\r\n});\r\n\r\nclass DuplicatedMemberDialog extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      open: false,\r\n      full_name: null,\r\n      data: [],\r\n      selected: null,\r\n    };\r\n  }\r\n\r\n  handleOpen = (full_name, data) => (this.setState({open: true, full_name, data}));\r\n\r\n  handleClose = () => (this.setState({open: false}));\r\n\r\n  handleChange = (event) => this.setState({selected: event.target.value});\r\n\r\n  handleSelect = (value) => this.setState({selected: value});\r\n\r\n  handleSame = () => {\r\n    const { handleSelected } = this.props;\r\n    const { data, selected } = this.state;\r\n    if (selected) {\r\n      if (handleSelected) {\r\n        const retVal = common.clone(common.getFromJsonList(data, 'id', selected));\r\n        const duplication = {\r\n          content_type_id: retVal.content_type_id,\r\n          object_id: retVal.object_id,\r\n        }\r\n        delete retVal.id;\r\n        delete retVal.code;\r\n        delete retVal.object_id;\r\n        delete retVal.content_type_id;\r\n        delete retVal.company_id;\r\n        delete retVal.company_name;\r\n        delete retVal.project_id;\r\n        delete retVal.project_name;\r\n        delete retVal.organization_id;\r\n        delete retVal.organization_name;\r\n        delete retVal.member_type;\r\n        retVal.duplication = duplication;\r\n        handleSelected(retVal);\r\n        this.handleClose();\r\n      } else {\r\n        Toast.error(constant.ERROR.NO_CALLBANK);\r\n      }\r\n    } else {\r\n      Toast.error(constant.ERROR.REQUIRE_SELECTED);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { classes } = this.props;\r\n    const { open, full_name, data, selected } = this.state;\r\n\r\n    return (\r\n      <Dialog\r\n        open={open}\r\n        onClose={this.handleClose}\r\n        PaperProps={{className: classes.fullScreen}}\r\n      >\r\n        <DialogTitle>\r\n          {`${full_name} `}\r\n        </DialogTitle>\r\n        <DialogContent dividers className={classes.dialogContent}>\r\n          <Table size=\"small\" className={classes.table}>\r\n            <TableHead>\r\n              <TableRow>\r\n                <TableCell></TableCell>\r\n                <TableCell></TableCell>\r\n                <TableCell></TableCell>\r\n                <TableCell></TableCell>\r\n                <TableCell></TableCell>\r\n              </TableRow>\r\n            </TableHead>\r\n            <TableBody>\r\n              {data.map((row, key) => (\r\n                <TableRow hover key={key} onClick={() => this.handleSelect(row.id)}>\r\n                  <TableCell padding=\"none\">\r\n                    <Radio\r\n                      checked={selected === row.id}\r\n                      value={row.id}\r\n                      size=\"small\"\r\n                      // onChange={this.handleChange}\r\n                    />\r\n                  </TableCell>\r\n                  <TableCell>{row.code}</TableCell>\r\n                  <TableCell>{row.company_name}</TableCell>\r\n                  <TableCell>{row.project_name}</TableCell>\r\n                  <TableCell>{row.organization_name}</TableCell>\r\n                </TableRow>\r\n              ))}\r\n            </TableBody>\r\n          </Table>\r\n          <Typography variant=\"body2\" className={classes.description}>\r\n             <br/>\r\n             \r\n          </Typography>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={this.handleClose} color='secondary'></Button>\r\n          <Button onClick={this.handleSame} color='primary'></Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    );\r\n  }\r\n}\r\n\r\nDuplicatedMemberDialog.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  handleSelected: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(DuplicatedMemberDialog);\r\n","import { viewAttachment } from '../utils/api';\r\nimport {\r\n  config,\r\n  choice_residence_type,\r\n  choice_gender,\r\n  choice_marriage,\r\n  choice_dependant_type,\r\n  choice_relation_ship,\r\n  choice_business_type,\r\n  choice_country,\r\n  choice_contract_type_all_member,\r\n  choice_has_income,\r\n  choice_years,\r\n  choice_months,\r\n  choice_degree,\r\n} from '../../utils';\r\n\r\nexport const member_form_basic_schema = [\r\n  {\r\n    \"name\": \"code\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"read_only\": true,\r\n    \"max_length\": 7,\r\n  },\r\n  {\r\n    \"name\": \"last_name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"required\": true,\r\n    \"max_length\": 10,\r\n  },\r\n  {\r\n    \"name\": \"first_name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"required\": true,\r\n    \"max_length\": 10,\r\n  },\r\n  {\r\n    \"name\": \"last_name_ja\",\r\n    \"type\": \"string\",\r\n    \"label\": \"()\",\r\n    \"max_length\": 30,\r\n  },\r\n  {\r\n    \"name\": \"first_name_ja\",\r\n    \"type\": \"string\",\r\n    \"label\": \"()\",\r\n    \"max_length\": 30,\r\n  },\r\n  {\r\n    \"name\": \"last_name_en\",\r\n    \"type\": \"string\",\r\n    \"label\": \"()\",\r\n    \"max_length\": 30,\r\n    \"regex\": '^[a-zA-Z ]*$',\r\n  },\r\n  {\r\n    \"name\": \"first_name_en\",\r\n    \"type\": \"string\",\r\n    \"label\": \"()\",\r\n    \"max_length\": 30,\r\n    \"regex\": '^[a-zA-Z ]*$',\r\n  },\r\n  {\r\n    \"name\": \"common_last_name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"max_length\": 30,\r\n  },\r\n  {\r\n    \"name\": \"common_first_name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"max_length\": 30,\r\n  },\r\n  {\r\n    \"name\": \"common_last_name_ja\",\r\n    \"type\": \"string\",\r\n    \"label\": \"()\",\r\n    \"max_length\": 30,\r\n  },\r\n  {\r\n    \"name\": \"common_first_name_ja\",\r\n    \"type\": \"string\",\r\n    \"label\": \"()\",\r\n    \"max_length\": 30,\r\n  },\r\n  {\r\n    \"name\": \"gender\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"choices\": choice_gender,\r\n  },\r\n  {\r\n    \"name\": \"country\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"choices\": choice_country,\r\n  },\r\n  {\r\n    \"name\": \"birthday\",\r\n    \"type\": \"date\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"join_date\",\r\n    \"type\": \"date\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"japan_start_date\",\r\n    \"type\": \"date\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"it_start_date\",\r\n    \"type\": \"date\",\r\n    \"label\": \"IT\",\r\n  },\r\n  {\r\n    \"name\": \"email\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"required\": true,\r\n  },\r\n  {\r\n    \"name\": \"private_email\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"post_code\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"max_length\": 7,\r\n  },\r\n  {\r\n    \"name\": \"address1\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"max_length\": 100,\r\n  },\r\n  {\r\n    \"name\": \"address2\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"max_length\": 100,\r\n  },\r\n  {\r\n    \"name\": \"nearest_station\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"max_length\": 15,\r\n  },\r\n  {\r\n    \"name\": \"phone\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"max_length\": 11,\r\n  },\r\n  {\r\n    \"name\": \"marriage\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"choices\": [\r\n      {\r\n        \"value\": \"0\",\r\n        \"display_name\": \"\",\r\n      },\r\n      {\r\n        \"value\": \"1\",\r\n        \"display_name\": \"\",\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    \"name\": \"passport_number\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"max_length\": 20,\r\n  },\r\n  {\r\n    \"name\": \"passport_expired_date\",\r\n    \"type\": \"date\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"passport_image\",\r\n    \"type\": \"file\",\r\n    \"label\": \"\",\r\n    \"verbose_name\": \"passport_image_name\",\r\n    \"handle_download\": (file_id) => viewAttachment(file_id),\r\n    \"limit\": config.fileSizeLimit,\r\n  },\r\n  {\r\n    \"name\": \"personal_number\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"max_length\": 12,\r\n  },\r\n  {\r\n    \"name\": \"personal_number_image\",\r\n    \"type\": \"file\",\r\n    \"label\": \"\",\r\n    \"verbose_name\": \"personal_number_image_name\",\r\n    \"handle_download\": (file_id) => viewAttachment(file_id),\r\n    \"limit\": config.fileSizeLimit,\r\n  },\r\n  {\r\n    \"name\": \"personal_number_image_back\",\r\n    \"type\": \"file\",\r\n    \"label\": \"\",\r\n    \"verbose_name\": \"personal_number_image_back_name\",\r\n    \"handle_download\": (file_id) => viewAttachment(file_id),\r\n    \"limit\": config.fileSizeLimit,\r\n  },\r\n  {\r\n    \"name\": \"basic_pension_no\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"max_length\": 10,\r\n  },\r\n  {\r\n    \"name\": \"basic_pension_image\",\r\n    \"type\": \"file\",\r\n    \"label\": \"\",\r\n    \"verbose_name\": \"basic_pension_image_name\",\r\n    \"handle_download\": (file_id) => viewAttachment(file_id),\r\n    \"limit\": config.fileSizeLimit,\r\n  },\r\n  {\r\n    \"name\": \"employment_insurance_no\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"max_length\": 11,\r\n  },\r\n  {\r\n    \"name\": \"prev_employment_insurance_image\",\r\n    \"type\": \"file\",\r\n    \"label\": \"\",\r\n    \"verbose_name\": \"prev_employment_insurance_image_name\",\r\n    \"handle_download\": (file_id) => viewAttachment(file_id),\r\n    \"limit\": config.fileSizeLimit,\r\n  },\r\n  {\r\n    \"name\": \"comment\",\r\n    \"type\": \"text\",\r\n    \"label\": \"\",\r\n    \"max_length\": 250,\r\n  },\r\n  {\r\n    \"name\": \"healthy_insurance_no\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"max_length\": 10,\r\n  },\r\n  {\r\n    \"name\": \"healthy_insurance_sub_no\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"max_length\": 10,\r\n  },\r\n  {\r\n    \"name\": \"healthy_insurance_image\",\r\n    \"type\": \"file\",\r\n    \"label\": \"\",\r\n    \"verbose_name\": \"healthy_insurance_image_name\",\r\n    \"handle_download\": (file_id) => viewAttachment(file_id),\r\n    \"limit\": config.fileSizeLimit,\r\n  },\r\n];\r\n\r\nexport const member_form_basic_layout = [\r\n  'code',\r\n  ['last_name', 'first_name'],\r\n  ['last_name_ja', 'first_name_ja', 'last_name_en', 'first_name_en'],\r\n  ['common_last_name', 'common_first_name', 'common_last_name_ja', 'common_first_name_ja'],\r\n  ['gender', 'country'],\r\n  ['birthday', 'join_date'],\r\n  ['email', 'private_email'],\r\n  ['post_code',],\r\n  ['address1', 'address2'],\r\n  'nearest_station',\r\n  ['phone', 'marriage'],\r\n  ['passport_number', 'passport_expired_date'],\r\n  ['personal_number', 'basic_pension_no', 'employment_insurance_no',],\r\n  'comment',\r\n];\r\n\r\nexport const member_code_form_schema = [\r\n  {\r\n    \"name\": \"code\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"required\": true,\r\n    \"max_length\": 7,\r\n  },\r\n];\r\n\r\nexport const member_add_org_schema = [\r\n  {\r\n    \"name\": \"organization\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"required\": true,\r\n    \"choices\": [],\r\n  },\r\n  {\r\n    \"name\": \"start_date\",\r\n    \"type\": \"date\",\r\n    \"label\": \"\",\r\n    \"required\": true,\r\n  },\r\n  {\r\n    \"name\": \"end_date\",\r\n    \"type\": \"date\",\r\n    \"label\": \"\",\r\n    \"required\": true,\r\n    \"default\": '9999-12-31',\r\n  },\r\n];\r\n\r\nexport const list_member_schema = [\r\n  {\r\n    \"name\": \"code\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    'searchable': true,\r\n    \"link\": \"/contract/members/%(id)s/\",\r\n    \"sortable\": true,\r\n  },\r\n  {\r\n    \"name\": \"name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"link\": \"/contract/members/%(id)s/\",\r\n    \"searchable\": true,\r\n    \"sortable\": true,\r\n  },\r\n  {\r\n    \"name\": \"organization_id\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"choices\": [],\r\n    \"visible\": false,\r\n    \"searchable\": true,\r\n    \"sortable\": true,\r\n    \"native\": true,\r\n  },\r\n  {\r\n    \"name\": \"organization_name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"sortable\": true,\r\n  },\r\n  {\r\n    \"name\": \"birthday\",\r\n    \"type\": \"date\",\r\n    \"label\": \"\",\r\n    \"sortable\": true,\r\n  },\r\n  {\r\n    \"name\": \"birth_month\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"choices\": choice_months,\r\n    \"visible\": false,\r\n    \"searchable\": true,\r\n    \"native\": true,\r\n  },\r\n  {\r\n    \"name\": \"join_date\",\r\n    \"type\": \"date\",\r\n    \"label\": \"\",\r\n    \"sortable\": true,\r\n    \"searchable\": true,\r\n  },\r\n  {\r\n    \"name\": \"join_year\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"choices\": choice_years,\r\n    \"visible\": false,\r\n    \"searchable\": true,\r\n    \"native\": true,\r\n  },\r\n  {\r\n    \"name\": \"join_month\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"choices\": choice_months,\r\n    \"visible\": false,\r\n    \"searchable\": true,\r\n    \"native\": true,\r\n  },\r\n  {\r\n    \"name\": \"contract_type\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"choices\": choice_contract_type_all_member,\r\n    \"searchable\": true,\r\n    \"native\": true,\r\n  },\r\n  {\r\n    \"name\": \"contract_no\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    'searchable': true,\r\n    \"sortable\": true,\r\n    \"link\": '/contract/members/%(id)s/contracts/%(contract_id)s',\r\n  },\r\n  {\r\n    \"name\": \"start_date\",\r\n    \"type\": \"date\",\r\n    \"label\": \"\",\r\n    \"sortable\": true,\r\n  },\r\n  {\r\n    \"name\": \"is_retired\",\r\n    \"type\": \"boolean\",\r\n    \"label\": \"\",\r\n    \"visible\": false,\r\n    \"searchable\": true,\r\n    \"rowStyles\": {\r\n      1: {'backgroundColor': 'lightgray'}\r\n    },\r\n  },\r\n  {\r\n    \"name\": \"has_no_contract\",\r\n    \"type\": \"boolean\",\r\n    \"label\": \"\",\r\n    \"visible\": false,\r\n    \"searchable\": true,\r\n    \"rowStyles\": {\r\n      true: {'backgroundColor': 'lightgray'}\r\n    },\r\n  },\r\n  {\r\n    \"name\": \"has_no_contract\",\r\n    \"type\": \"boolean\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"gender\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"choices\": choice_gender,\r\n    \"visible\": false,\r\n    \"csv\": true,\r\n  },\r\n  {\r\n    \"name\": \"birthday\",\r\n    \"type\": \"date\",\r\n    \"label\": \"\",\r\n    \"visible\": false,\r\n    \"csv\": true,\r\n  },\r\n  {\r\n    \"name\": \"join_date\",\r\n    \"type\": \"date\",\r\n    \"label\": \"\",\r\n    \"visible\": false,\r\n    \"csv\": true,\r\n  },\r\n  {\r\n    \"name\": \"email\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"visible\": false,\r\n    \"csv\": true,\r\n  },\r\n  {\r\n    \"name\": \"post_code\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"visible\": false,\r\n    \"csv\": true,\r\n  },\r\n  {\r\n    \"name\": \"address\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"visible\": false,\r\n    \"csv\": true,\r\n  },\r\n  {\r\n    \"name\": \"nearest_station\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"visible\": false,\r\n    \"csv\": true,\r\n  },\r\n  {\r\n    \"name\": \"phone\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"visible\": false,\r\n    \"csv\": true,\r\n  },\r\n  {\r\n    \"name\": \"marriage\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"choices\": choice_marriage,\r\n    \"visible\": false,\r\n    \"csv\": true,\r\n  },\r\n  {\r\n    \"name\": \"passport_number\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"visible\": false,\r\n    \"csv\": true,\r\n  },\r\n  {\r\n    \"name\": \"passport_expired_date\",\r\n    \"type\": \"date\",\r\n    \"label\": \"\",\r\n    \"visible\": false,\r\n    \"csv\": true,\r\n  },\r\n  {\r\n    \"name\": \"personal_number\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"visible\": false,\r\n    \"csv\": true,\r\n  },\r\n  {\r\n    \"name\": \"basic_pension_no\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"visible\": false,\r\n    \"csv\": true,\r\n  },\r\n  {\r\n    \"name\": \"employment_insurance_no\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"visible\": false,\r\n    \"csv\": true,\r\n  },\r\n  {\r\n    \"name\": \"healthy_insurance_no\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"visible\": false,\r\n    \"csv\": true,\r\n  },\r\n  {\r\n    \"name\": \"healthy_insurance_sub_no\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"visible\": false,\r\n    \"csv\": true,\r\n  },\r\n];\r\n\r\nexport const member_list_filter_layout = [\r\n  ['code', 'name'],\r\n  ['organization_id', 'birth_month'],\r\n  ['join_year', 'join_month'],\r\n  ['contract_type', 'contract_no'],\r\n  ['has_no_contract', 'is_retired'],\r\n];\r\n\r\nexport const member_detail_schema = [\r\n  {\r\n    \"name\": \"code\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"full_name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"full_kana\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"gender\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"choices\": choice_gender,\r\n  },\r\n  {\r\n    \"name\": \"country\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"choices\": choice_country,\r\n  },\r\n  {\r\n    \"name\": \"birthday\",\r\n    \"type\": \"date\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"join_date\",\r\n    \"type\": \"date\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"email\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"required\": true,\r\n  },\r\n  {\r\n    \"name\": \"private_email\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"post_code\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"max_length\": 7,\r\n  },\r\n  {\r\n    \"name\": \"address\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"nearest_station\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"max_length\": 15,\r\n  },\r\n  {\r\n    \"name\": \"phone\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"max_length\": 11,\r\n  },\r\n  {\r\n    \"name\": \"marriage\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"choices\": choice_marriage,\r\n  },\r\n  {\r\n    \"name\": \"passport_number\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"max_length\": 20,\r\n  },\r\n  {\r\n    \"name\": \"passport_expired_date\",\r\n    \"type\": \"date\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"passport_image\",\r\n    \"type\": \"file\",\r\n    \"label\": \"\",\r\n    \"verbose_name\": \"passport_image_name\",\r\n    \"handle_download\": (file_id) => viewAttachment(file_id),\r\n    \"limit\": config.fileSizeLimit,\r\n  },\r\n  {\r\n    \"name\": \"personal_number\",\r\n    \"type\": \"date\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"personal_number_image\",\r\n    \"type\": \"file\",\r\n    \"label\": \"\",\r\n    \"verbose_name\": \"personal_number_image_name\",\r\n    \"handle_download\": (file_id) => viewAttachment(file_id),\r\n    \"limit\": config.fileSizeLimit,\r\n  },\r\n  {\r\n    \"name\": \"personal_number_image_back\",\r\n    \"type\": \"file\",\r\n    \"label\": \"\",\r\n    \"verbose_name\": \"personal_number_image_back_name\",\r\n    \"handle_download\": (file_id) => viewAttachment(file_id),\r\n    \"limit\": config.fileSizeLimit,\r\n  },\r\n  {\r\n    \"name\": \"basic_pension_no\",\r\n    \"type\": \"date\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"basic_pension_image\",\r\n    \"type\": \"file\",\r\n    \"label\": \"\",\r\n    \"verbose_name\": \"basic_pension_image_name\",\r\n    \"handle_download\": (file_id) => viewAttachment(file_id),\r\n    \"limit\": config.fileSizeLimit,\r\n  },\r\n  {\r\n    \"name\": \"employment_insurance_no\",\r\n    \"type\": \"date\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"prev_employment_insurance_image\",\r\n    \"type\": \"file\",\r\n    \"label\": \"\",\r\n    \"verbose_name\": \"prev_employment_insurance_image_name\",\r\n    \"handle_download\": (file_id) => viewAttachment(file_id),\r\n    \"limit\": config.fileSizeLimit,\r\n  },\r\n  {\r\n    \"name\": \"healthy_insurance_no\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"max_length\": 10,\r\n  },\r\n  {\r\n    \"name\": \"healthy_insurance_sub_no\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"max_length\": 10,\r\n  },\r\n  {\r\n    \"name\": \"healthy_insurance_image\",\r\n    \"type\": \"file\",\r\n    \"label\": \"\",\r\n    \"verbose_name\": \"healthy_insurance_image_name\",\r\n    \"handle_download\": (file_id) => viewAttachment(file_id),\r\n    \"limit\": config.fileSizeLimit,\r\n  },\r\n  {\r\n    \"name\": \"comment\",\r\n    \"type\": \"text\",\r\n    \"label\": \"\",\r\n    \"max_length\": 250,\r\n  },\r\n];\r\n\r\nexport const member_edit_layout = [\r\n  'code',\r\n  ['last_name', 'first_name'],\r\n  ['last_name_ja', 'first_name_ja'], \r\n  ['last_name_en', 'first_name_en'],\r\n  ['common_last_name', 'common_first_name'],\r\n  ['common_last_name_ja', 'common_first_name_ja'],\r\n  ['gender', 'country'],\r\n  ['birthday', 'join_date'],\r\n  ['japan_start_date', 'it_start_date'],\r\n  ['email', 'private_email'],\r\n  ['post_code'],\r\n  ['address1', 'address2'],\r\n  'nearest_station',\r\n  ['phone', 'marriage'],\r\n  ['passport_number', 'passport_expired_date'],\r\n  'passport_image',\r\n  'personal_number',\r\n  'personal_number_image',\r\n  'personal_number_image_back',\r\n  ['basic_pension_no', 'employment_insurance_no',],\r\n  'basic_pension_image',\r\n  'prev_employment_insurance_image',\r\n  ['healthy_insurance_no', 'healthy_insurance_sub_no'],\r\n  'healthy_insurance_image',\r\n  'comment',\r\n];\r\n\r\nexport const contract_detail_schema = [\r\n  {\r\n    \"name\": \"contract_date\",\r\n    \"type\": \"date\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"contract_type\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"choices\": [\r\n      { \"value\": \"0001\", \"display_name\": \"\", },\r\n      { \"value\": \"0002\", \"display_name\": \"\", },\r\n      { \"value\": \"0010\", \"display_name\": \"\", },\r\n      { \"value\": \"0011\", \"display_name\": \"\", },\r\n      { \"value\": \"0012\", \"display_name\": \"\", },\r\n      // { \"value\": \"0020\", \"display_name\": \"\", },\r\n      // { \"value\": \"0021\", \"display_name\": \"\", },\r\n    ],\r\n  },\r\n  {\r\n    \"name\": \"start_date\",\r\n    \"type\": \"date\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"end_date\",\r\n    \"type\": \"date\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"organization_name\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"choices\": [],\r\n  },\r\n  {\r\n    \"name\": \"is_auto_update\",\r\n    \"type\": \"boolean\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"auto_update_period\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"()\",\r\n  },\r\n  {\r\n    \"name\": \"member_is_loan\",\r\n    \"type\": \"boolean\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"has_employment_insurance\",\r\n    \"type\": \"boolean\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"has_health_insurance\",\r\n    \"type\": \"boolean\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"has_employee_pension\",\r\n    \"type\": \"boolean\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"has_injury_insurance\",\r\n    \"type\": \"boolean\",\r\n    \"label\": \"\",\r\n  },\r\n];\r\n\r\nexport const contract_form_basic_schema = [\r\n  {\r\n    \"name\": \"contract_date\",\r\n    \"type\": \"date\",\r\n    \"label\": \"\",\r\n    \"required\": true,\r\n  },\r\n  {\r\n    \"name\": \"contract_type\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"required\": true,\r\n    \"choices\": [\r\n      { \"value\": \"0001\", \"display_name\": \"\", },\r\n      { \"value\": \"0002\", \"display_name\": \"\", },\r\n      { \"value\": \"0010\", \"display_name\": \"\", },\r\n      { \"value\": \"0011\", \"display_name\": \"\", },\r\n      { \"value\": \"0012\", \"display_name\": \"\", },\r\n      // { \"value\": \"0020\", \"display_name\": \"\", },\r\n      // { \"value\": \"0021\", \"display_name\": \"\", },\r\n    ],\r\n  },\r\n  {\r\n    \"name\": \"start_date\",\r\n    \"type\": \"date\",\r\n    \"label\": \"\",\r\n    \"required\": true,\r\n  },\r\n  {\r\n    \"name\": \"end_date\",\r\n    \"type\": \"date\",\r\n    \"label\": \"\",\r\n    \"required\": true,\r\n  },\r\n  {\r\n    \"name\": \"organization\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"choices\": [],\r\n    \"help_text\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"is_auto_update\",\r\n    \"type\": \"boolean\",\r\n    \"label\": \"\",\r\n    \"default\": true,\r\n    \"help_text\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"auto_update_period\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"(:)\",\r\n    \"help_text\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"member_is_loan\",\r\n    \"type\": \"boolean\",\r\n    \"label\": \"\",\r\n    \"default\": false,\r\n    \"help_text\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"has_employment_insurance\",\r\n    \"type\": \"boolean\",\r\n    \"label\": \"\",\r\n    \"default\": false,\r\n  },\r\n  {\r\n    \"name\": \"has_health_insurance\",\r\n    \"type\": \"boolean\",\r\n    \"label\": \"\",\r\n    \"default\": false,\r\n  },\r\n  {\r\n    \"name\": \"has_employee_pension\",\r\n    \"type\": \"boolean\",\r\n    \"label\": \"\",\r\n    \"default\": false,\r\n  },\r\n  {\r\n    \"name\": \"has_injury_insurance\",\r\n    \"type\": \"boolean\",\r\n    \"label\": \"\",\r\n    \"default\": false,\r\n  },\r\n];\r\n\r\nexport const contract_form_basic_layout = [\r\n  'contract_date',\r\n  'contract_type',\r\n  ['start_date', 'end_date'],\r\n  'organization',\r\n  ['member_is_loan', 'is_auto_update', 'auto_update_period'],\r\n  ['has_employment_insurance', 'has_health_insurance', 'has_employee_pension', 'has_injury_insurance'],\r\n];\r\n\r\nexport const contract_item_schema = [\r\n  {\r\n    \"name\": \"code\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"read_only\": true,\r\n    \"required\": true,\r\n    \"max_length\": 4,\r\n  },\r\n  {\r\n    \"name\": \"name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"required\": true,\r\n    \"max_length\": 50,\r\n  },\r\n  {\r\n    \"name\": \"content\",\r\n    \"type\": \"text\",\r\n    \"label\": \"\",\r\n    \"required\": true,\r\n    \"max_length\": 2000,\r\n    \"get_props\": (data, inlines) => (data[\"code\"] === '0004' ? (\r\n      {\r\n        \"type\": \"choice\",\r\n        \"choices\": choice_business_type\r\n      }\r\n    ) : null),\r\n  },\r\n];\r\n\r\nexport const contract_item_layout = [\r\n  ['code', 'name'],\r\n  'content',\r\n];\r\n\r\nexport const contract_allowance_schema = [\r\n  {\r\n    \"name\": \"code\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"required\": true,\r\n    \"read_only\": true,\r\n    \"max_length\": 4,\r\n  },\r\n  {\r\n    \"name\": \"name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"required\": true,\r\n    \"max_length\": 50,\r\n  },\r\n  {\r\n    \"name\": \"amount\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"\",\r\n    \"required\": true,\r\n    \"default\": 0,\r\n  },\r\n  {\r\n    \"name\": \"unit\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"choices\": [\r\n      { \"value\": \"01\", \"display_name\": \"/\", },\r\n      { \"value\": \"02\", \"display_name\": \"/\", },\r\n      { \"value\": \"03\", \"display_name\": \"/\", },\r\n      { \"value\": \"04\", \"display_name\": \"/\", },\r\n    ],\r\n    \"default\": '01',\r\n  },\r\n  {\r\n    \"name\": \"comment\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n  },\r\n];\r\n\r\nexport const contract_item_list_schema = [\r\n  {\r\n    \"name\": \"name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"content\",\r\n    \"type\": \"text\",\r\n    \"label\": \"\",\r\n    \"max_width\": 550,\r\n  },\r\n];\r\n\r\nexport const contract_allowance_list_schema = [\r\n  {\r\n    \"name\": \"name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"amount\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"unit\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"choices\": [\r\n      { \"value\": \"01\", \"display_name\": \"/\", },\r\n      { \"value\": \"02\", \"display_name\": \"/\", },\r\n      { \"value\": \"03\", \"display_name\": \"/\", },\r\n      { \"value\": \"04\", \"display_name\": \"/\", },\r\n    ],\r\n  },\r\n  {\r\n    \"name\": \"comment\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n  },\r\n];\r\n\r\nexport const member_emergency_contact_list_schema = [\r\n  {\r\n    \"name\": \"name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"phone\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"post_code\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"address\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"relationship\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n  },\r\n];\r\n\r\nexport const member_emergency_contact_form_schema = [\r\n  {\r\n    \"name\": \"name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"required\": true,\r\n    \"max_length\": 20,\r\n  },\r\n  {\r\n    \"name\": \"phone\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"required\": true,\r\n    \"max_length\": 11,\r\n  },\r\n  {\r\n    \"name\": \"post_code\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"max_length\": 7,\r\n  },\r\n  {\r\n    \"name\": \"address1\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"max_length\": 100,\r\n  },\r\n  {\r\n    \"name\": \"address2\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"max_length\": 100,\r\n  },\r\n  {\r\n    \"name\": \"relationship\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"max_length\": 10,\r\n  },\r\n];\r\n\r\nexport const member_family_list_schema = [\r\n  {\r\n    \"name\": \"name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"relationship\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"choices\": choice_relation_ship,\r\n  },\r\n  {\r\n    \"name\": \"gender\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"choices\": choice_gender,\r\n  },\r\n  {\r\n    \"name\": \"occupation\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"is_living_together\",\r\n    \"type\": \"boolean\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"residence_no\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"personal_number\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"dependant_type\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"choices\": choice_dependant_type\r\n  },\r\n];\r\n\r\nexport const member_family_form_schema = [\r\n  {\r\n    \"name\": \"name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"required\": true,\r\n    \"max_length\": 20,\r\n  },\r\n  {\r\n    \"name\": \"kana\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"max_length\": 20,\r\n  },\r\n  {\r\n    \"name\": \"relationship\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"max_length\": 10,\r\n    \"choices\": choice_relation_ship,\r\n  },\r\n  {\r\n    \"name\": \"gender\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"choices\": choice_gender,\r\n  },\r\n  {\r\n    \"name\": \"birthday\",\r\n    \"type\": \"date\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"occupation\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"max_length\": 10,\r\n  },\r\n  {\r\n    \"name\": \"is_living_together\",\r\n    \"type\": \"boolean\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"has_income\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"choices\": choice_has_income,\r\n  },\r\n  {\r\n    \"name\": \"annual_income\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"residence_no\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"max_length\": 20,\r\n  },\r\n  {\r\n    \"name\": \"residence_image\",\r\n    \"type\": \"file\",\r\n    \"label\": \"\",\r\n    \"verbose_name\": \"residence_image_name\",\r\n    \"handle_download\": (file_id) => viewAttachment(file_id),\r\n    \"limit\": config.fileSizeLimit,\r\n  },\r\n  {\r\n    \"name\": \"residence_image_back\",\r\n    \"type\": \"file\",\r\n    \"label\": \"\",\r\n    \"verbose_name\": \"residence_image_back_name\",\r\n    \"handle_download\": (file_id) => viewAttachment(file_id),\r\n    \"limit\": config.fileSizeLimit,\r\n  },\r\n  {\r\n    \"name\": \"personal_number\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"max_length\": 12,\r\n  },\r\n  {\r\n    \"name\": \"personal_number_image\",\r\n    \"type\": \"file\",\r\n    \"label\": \"\",\r\n    \"verbose_name\": \"personal_number_image_name\",\r\n    \"handle_download\": (file_id) => viewAttachment(file_id),\r\n    \"limit\": config.fileSizeLimit,\r\n  },\r\n  {\r\n    \"name\": \"personal_number_image_back\",\r\n    \"type\": \"file\",\r\n    \"label\": \"\",\r\n    \"verbose_name\": \"personal_number_image_back_name\",\r\n    \"handle_download\": (file_id) => viewAttachment(file_id),\r\n    \"limit\": config.fileSizeLimit,\r\n  },\r\n  {\r\n    \"name\": \"dependant_type\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"choices\": choice_dependant_type\r\n  },\r\n  {\r\n    \"name\": \"basic_pension_no\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"max_length\": 10,\r\n  },\r\n  {\r\n    \"name\": \"basic_pension_image\",\r\n    \"type\": \"file\",\r\n    \"label\": \"\",\r\n    \"verbose_name\": \"basic_pension_image_name\",\r\n    \"handle_download\": (file_id) => viewAttachment(file_id),\r\n    \"limit\": config.fileSizeLimit,\r\n  },\r\n  {\r\n    \"name\": \"healthy_insurance_no\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"max_length\": 10,\r\n  },\r\n  {\r\n    \"name\": \"healthy_insurance_sub_no\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"max_length\": 10,\r\n  },\r\n  {\r\n    \"name\": \"healthy_insurance_image\",\r\n    \"type\": \"file\",\r\n    \"label\": \"\",\r\n    \"verbose_name\": \"healthy_insurance_image_name\",\r\n    \"handle_download\": (file_id) => viewAttachment(file_id),\r\n    \"limit\": config.fileSizeLimit,\r\n  },\r\n];\r\n\r\nexport const member_family_form_layout = [\r\n  ['name', 'kana'],\r\n  ['relationship', 'gender'],\r\n  ['birthday', 'occupation', 'is_living_together'],\r\n  ['has_income', 'annual_income'],\r\n  'residence_no',\r\n  'residence_image',\r\n  'residence_image_back',\r\n  'personal_number',\r\n  'personal_number_image',\r\n  'personal_number_image_back',\r\n  'dependant_type',\r\n  'basic_pension_no',\r\n  'basic_pension_image',\r\n  ['healthy_insurance_no', 'healthy_insurance_sub_no'],\r\n  'healthy_insurance_image',\r\n];\r\n\r\nexport const member_residence_list_schema = [\r\n  {\r\n    \"name\": \"residence_no\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"residence_type\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"choices\": choice_residence_type,\r\n  },\r\n  {\r\n    \"name\": \"expired_date\",\r\n    \"type\": \"date\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"visa_start_date\",\r\n    \"type\": \"date\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"visa_expire_date\",\r\n    \"type\": \"date\",\r\n    \"label\": \"\",\r\n  },\r\n];\r\n\r\nexport const member_residence_form_schema = [\r\n  {\r\n    \"name\": \"residence_no\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"max_length\": 20,\r\n  },\r\n  {\r\n    \"name\": \"residence_type\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"choices\": choice_residence_type,\r\n  },\r\n  {\r\n    \"name\": \"expired_date\",\r\n    \"type\": \"date\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"residence_image\",\r\n    \"type\": \"file\",\r\n    \"label\": \"\",\r\n    \"verbose_name\": \"residence_image_name\",\r\n    \"handle_download\": (file_id) => viewAttachment(file_id),\r\n    \"limit\": config.fileSizeLimit,\r\n  },\r\n  {\r\n    \"name\": \"residence_image_back\",\r\n    \"type\": \"file\",\r\n    \"label\": \"\",\r\n    \"verbose_name\": \"residence_image_back_name\",\r\n    \"handle_download\": (file_id) => viewAttachment(file_id),\r\n    \"limit\": config.fileSizeLimit,\r\n  },\r\n  {\r\n    \"name\": \"visa_start_date\",\r\n    \"type\": \"date\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"visa_expire_date\",\r\n    \"type\": \"date\",\r\n    \"label\": \"\",\r\n  },\r\n];\r\n\r\nexport const member_residence_form_layout = [\r\n  ['residence_no'],\r\n  ['residence_type', 'expired_date'],\r\n  'residence_image',\r\n  'residence_image_back',\r\n  ['visa_start_date', 'visa_expire_date'],\r\n];\r\n\r\nexport const contract_auto_update_list_schema = [\r\n  {\r\n    \"name\": \"full_name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"contract_no\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"link\": '/contract/members/%(member_id)s/contracts/%(contract_id)s',\r\n  },\r\n  {\r\n    \"name\": \"start_date\",\r\n    \"type\": \"date\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"end_date\",\r\n    \"type\": \"date\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"is_updated\",\r\n    \"type\": \"boolean\",\r\n    \"label\": \"\",\r\n  },\r\n];\r\n\r\nexport const contract_expire_list_schema = [\r\n  {\r\n    \"name\": \"full_name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"contract_no\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"link\": '/contract/members/%(member_id)s/contracts/%(contract_id)s',\r\n  },\r\n  {\r\n    \"name\": \"start_date\",\r\n    \"type\": \"date\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"end_date\",\r\n    \"type\": \"date\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"is_expired\",\r\n    \"type\": \"boolean\",\r\n    \"label\": \"\",\r\n  },\r\n];\r\n\r\nexport const list_member_organization_schema = [\r\n  {\r\n    \"name\": \"division_name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"department_name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"section_name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"start_date\",\r\n    \"type\": \"date\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"end_date\",\r\n    \"type\": \"date\",\r\n    \"label\": \"\",\r\n  },\r\n];\r\n\r\nexport const member_organization_form_schema = [\r\n  {\r\n    \"name\": \"organization\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"required\": true,\r\n    \"choices\": [],\r\n  },\r\n  {\r\n    \"name\": \"start_date\",\r\n    \"type\": \"date\",\r\n    \"label\": \"\",\r\n    \"required\": true,\r\n  },\r\n  {\r\n    \"name\": \"end_date\",\r\n    \"type\": \"date\",\r\n    \"label\": \"\",\r\n    \"required\": true,\r\n    \"default\": '9999-12-31',\r\n  },\r\n];\r\n\r\nexport const commutation_list_schema = [\r\n  {\r\n    \"name\": \"code\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"sortable\": true,\r\n  },\r\n  {\r\n    \"name\": \"full_name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"sortable\": true,\r\n    \"link\": \"/contract/members/%(id)s/\",\r\n  },\r\n  {\r\n    \"name\": \"home_station\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"sortable\": true,\r\n  },\r\n  {\r\n    \"name\": \"work_station\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"sortable\": true,\r\n  },\r\n  {\r\n    \"name\": \"amount\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"\",\r\n    \"sortable\": true,\r\n  },\r\n  {\r\n    \"name\": \"prev_amount\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"\",\r\n    \"sortable\": true,\r\n  },\r\n  {\r\n    \"name\": \"is_station_changed\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"sortable\": true,\r\n    \"csv\": false,\r\n  },\r\n  {\r\n    \"name\": \"is_new\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"sortable\": true,\r\n  },\r\n  {\r\n    \"name\": \"is_dirty\",\r\n    \"type\": \"boolean\",\r\n    \"label\": \"\",\r\n    \"searchable\": true,\r\n    \"variant\": \"select\",\r\n    \"native\": true,\r\n    \"visible\": false,\r\n    \"rowStyles\": {\r\n      1: {'backgroundColor': 'rgba(255, 217, 102, 0.5)'}\r\n    },\r\n  },\r\n];\r\n\r\nexport const commutation_add_schema = [\r\n  {\r\n    \"name\": \"id\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"required\": true,\r\n    \"variant\": \"autocomplete\",\r\n  },\r\n  {\r\n    \"name\": \"start_date\",\r\n    \"type\": \"date\",\r\n    \"label\": \"\",\r\n    \"required\": true,\r\n  },\r\n  {\r\n    \"name\": \"home_station\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"required\": true,\r\n  },\r\n  {\r\n    \"name\": \"work_station\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"required\": true,\r\n  },\r\n  {\r\n    \"name\": \"amount\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"\",\r\n    \"required\": true,\r\n  },\r\n];\r\n\r\nexport const commutation_edit_schema = [\r\n  {\r\n    \"name\": \"full_name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"read_only\": true,\r\n  },\r\n  {\r\n    \"name\": \"start_date\",\r\n    \"type\": \"date\",\r\n    \"label\": \"\",\r\n    \"required\": true,\r\n  },\r\n  {\r\n    \"name\": \"home_station\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"required\": true,\r\n  },\r\n  {\r\n    \"name\": \"work_station\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"required\": true,\r\n  },\r\n  {\r\n    \"name\": \"amount\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"\",\r\n    \"required\": true,\r\n  },\r\n];\r\n\r\nexport const member_education_list_schema = [\r\n  {\r\n    \"name\": \"start_date\",\r\n    \"type\": \"date\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"end_date\",\r\n    \"type\": \"date\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"school\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"major\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"degree\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"choices\": choice_degree,\r\n  },\r\n];\r\n\r\nexport const member_education_form_schema = [\r\n  {\r\n    \"name\": \"start_date\",\r\n    \"type\": \"date\",\r\n    \"label\": \"\",\r\n    \"required\": true,\r\n  },\r\n  {\r\n    \"name\": \"end_date\",\r\n    \"type\": \"date\",\r\n    \"label\": \"\",\r\n    \"required\": true,\r\n  },\r\n  {\r\n    \"name\": \"school\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"required\": true,\r\n    \"max_length\": 30,\r\n  },\r\n  {\r\n    \"name\": \"major\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"max_length\": 30,\r\n  },\r\n  {\r\n    \"name\": \"degree\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"choices\": choice_degree,\r\n  },\r\n];\r\n\r\nexport const member_salary_preview_list_schema = [\r\n  {\r\n    \"name\": \"code\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"sortable\": true,\r\n  },\r\n  {\r\n    \"name\": \"name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"sortable\": true,\r\n  },\r\n  {\r\n    \"name\": \"officer_allowance\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"\",\r\n    \"sortable\": true,\r\n  },\r\n  {\r\n    \"name\": \"base_allowance\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"\",\r\n    \"sortable\": true,\r\n  },\r\n  {\r\n    \"name\": \"position_allowance\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"\",\r\n    \"sortable\": true,\r\n  },\r\n  {\r\n    \"name\": \"house_allowance\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"\",\r\n    \"sortable\": true,\r\n  },\r\n  {\r\n    \"name\": \"region_allowance\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"\",\r\n    \"sortable\": true,\r\n  },\r\n  {\r\n    \"name\": \"traffic_allowance\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"\",\r\n    \"sortable\": true,\r\n  },\r\n  {\r\n    \"name\": \"salary\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"\",\r\n    \"sortable\": true,\r\n  },\r\n  {\r\n    \"name\": \"injury_insurance_coverage\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"\",\r\n    \"sortable\": true,\r\n  },\r\n  {\r\n    \"name\": \"employment_insurance_coverage\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"\",\r\n    \"sortable\": true,\r\n  },\r\n  {\r\n    \"name\": \"no_tax_coverage\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"\",\r\n    \"sortable\": true,\r\n  },\r\n  {\r\n    \"name\": \"salary_tax_coverage\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"\",\r\n    \"sortable\": true,\r\n  },\r\n  {\r\n    \"name\": \"tax_coverage\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"\",\r\n    \"sortable\": true,\r\n  },\r\n  {\r\n    \"name\": \"health_insurance\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"\",\r\n    \"sortable\": true,\r\n  },\r\n  {\r\n    \"name\": \"care_insurance\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"\",\r\n    \"sortable\": true,\r\n  },\r\n  {\r\n    \"name\": \"employee_pension\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"\",\r\n    \"sortable\": true,\r\n  },\r\n  {\r\n    \"name\": \"employment_insurance\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"\",\r\n    \"sortable\": true,\r\n  },\r\n  {\r\n    \"name\": \"corporate_insurance_total\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"\",\r\n    \"sortable\": true,\r\n  },\r\n  {\r\n    \"name\": \"income_tax\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"\",\r\n    \"sortable\": true,\r\n  },\r\n  {\r\n    \"name\": \"expense_amount\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"\",\r\n    \"sortable\": true,\r\n  },\r\n  {\r\n    \"name\": \"deduction_total\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"\",\r\n    \"sortable\": true,\r\n  },\r\n  {\r\n    \"name\": \"deduction_amount\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"\",\r\n    \"sortable\": true,\r\n  },\r\n  {\r\n    \"name\": \"cash_payment\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"\",\r\n    \"sortable\": true,\r\n  },\r\n];\r\n\r\nexport const import_salary_csv_form_schema = [\r\n  {\r\n    \"name\": \"salary_csv_file\",\r\n    \"type\": \"file\",\r\n    \"label\": \"\",\r\n    \"limit\": config.fileSizeLimit,\r\n  },\r\n];\r\n\r\nexport const paid_vacation_list_schema = [\r\n  {\r\n    \"name\": \"code\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"sortable\": true,\r\n  },\r\n  {\r\n    \"name\": \"full_name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"sortable\": true,\r\n  },\r\n  {\r\n    \"name\": \"total_days\",\r\n    \"type\": \"decimal\",\r\n    \"label\": \"\",\r\n    \"sortable\": true,\r\n  },\r\n  {\r\n    \"name\": \"carryover_days\",\r\n    \"type\": \"decimal\",\r\n    \"label\": \"\",\r\n    \"sortable\": true,\r\n  },\r\n  {\r\n    \"name\": \"used_days\",\r\n    \"type\": \"decimal\",\r\n    \"label\": \"\",\r\n    \"sortable\": true,\r\n  },\r\n  {\r\n    \"name\": \"left_days\",\r\n    \"type\": \"decimal\",\r\n    \"label\": \"\",\r\n    \"sortable\": true,\r\n  },\r\n];\r\n\r\nexport const paid_vacation_edit_schema = [\r\n  {\r\n    \"name\": \"code\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"read_only\": true,\r\n  },\r\n  {\r\n    \"name\": \"full_name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"read_only\": true,\r\n  },\r\n  {\r\n    \"name\": \"start_date\",\r\n    \"type\": \"date\",\r\n    \"label\": \"\",\r\n    \"read_only\": true,\r\n  },\r\n  {\r\n    \"name\": \"end_date\",\r\n    \"type\": \"date\",\r\n    \"label\": \"\",\r\n    \"read_only\": true,\r\n  },\r\n  {\r\n    \"name\": \"days\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"()\",\r\n  },\r\n  {\r\n    \"name\": \"carryover_days\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"\",\r\n  },\r\n];\r\n\r\nexport const paid_vacation_edit_layout = [\r\n  ['code', 'full_name'],\r\n  ['start_date', 'end_date'],\r\n  'days',\r\n  'carryover_days',\r\n];\r\n","import React from 'react';\r\nimport { StepForm, TopBreadcrumbs, withPermissions } from '../../components';\r\nimport GridContainer from '../../components/Grid/GridContainer';\r\nimport GridItem from '../../components/Grid/GridItem';\r\nimport DuplicatedMemberDialog from '../common/duplicated_member_dialog';\r\nimport {\r\n  member_form_basic_schema,\r\n  member_form_basic_layout,\r\n  member_add_org_schema,\r\n  member_code_form_schema,\r\n} from './schema';\r\nimport {\r\n  getOrganizationChoices,\r\n  getNextMemberCode,\r\n  checkMemberDuplications,\r\n} from '../utils/api';\r\nimport { common } from '../../utils/common';\r\nimport { config } from '../../utils/config';\r\nimport { onBlurPostcode } from '../utils/common';\r\n\r\nclass MemberAdd extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      organizations: [],\r\n      duplicated_member_data: {},\r\n    };\r\n    this.initialize();\r\n  }\r\n\r\n  initialize = () => {\r\n    getOrganizationChoices().then(organizations => {\r\n      this.setState({organizations});\r\n    });\r\n  };\r\n\r\n  componentDidMount = () => {\r\n    document.title = ' | '\r\n  };\r\n\r\n  onBlurMemberDuplicate = (name, data) => {\r\n    if (['first_name', 'last_name'].indexOf(name) >= 0) {\r\n      const { first_name, last_name } = data;\r\n      if (first_name && last_name) {\r\n        checkMemberDuplications(first_name, last_name).then(json => {\r\n          if (this._openDuplicatedDlg && json.length > 0) {\r\n            this._openDuplicatedDlg(`${last_name} ${first_name}`, json);\r\n          }\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n  onDuplicatedMemberSelect = (data) => {\r\n    this.setState({duplicated_member_data: data});\r\n  };\r\n\r\n  getSteps = () => {\r\n    const { organizations, duplicated_member_data } = this.state;\r\n\r\n    // \r\n    let colOrg = common.getFromJsonList(member_add_org_schema, 'name', 'organization');\r\n    colOrg['choices'] = organizations;\r\n\r\n    return [\r\n      {\r\n        name: '',\r\n        formProps: {\r\n          name: 'basic_info',\r\n          schema: member_form_basic_schema,\r\n          layout: member_form_basic_layout,\r\n          onBlurs: [onBlurPostcode, this.onBlurMemberDuplicate],\r\n          data: duplicated_member_data,\r\n        }\r\n      },\r\n      {\r\n        name: '',\r\n        formProps: {\r\n          name: 'organization',\r\n          schema: member_add_org_schema,\r\n        }\r\n      },\r\n      {\r\n        name: '',\r\n        formProps: {\r\n          name: 'basic_info',\r\n          schema: member_code_form_schema,\r\n        },\r\n        actions: [\r\n          {\r\n            'tooltip': '',\r\n            'title': '',\r\n            'handleClick': (stepsData) => {return getNextMemberCode(stepsData)},\r\n          },\r\n        ]\r\n      },\r\n    ];\r\n  };\r\n\r\n  render() {\r\n    const steps = this.getSteps();\r\n\r\n    return (\r\n      <div>\r\n        <TopBreadcrumbs\r\n          breadcrumbs={[\r\n            { link: '/contract', name: ''},\r\n            { link: '/contract/members', name: ''},\r\n            { name: '' },\r\n          ]}\r\n        />\r\n        <GridContainer>\r\n          <GridItem xs={12} sm={12} md={9} lg={9}>\r\n            <StepForm\r\n              title=''\r\n              steps={steps}\r\n              methodName='POST'\r\n              saveEndpoint={config.api.member.add_from_contract}\r\n              saveCallback={(data) => common.redirect(`/contract/members/${data.id}/`)}\r\n            />\r\n          </GridItem>\r\n        </GridContainer>\r\n        <DuplicatedMemberDialog\r\n          innerRef={dlg => this._openDuplicatedDlg = dlg && dlg.handleOpen}\r\n          handleSelected={this.onDuplicatedMemberSelect}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withPermissions(MemberAdd, 'contract.add_member');\r\n","import React from 'react';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport AssignmentIndIcon from '@material-ui/icons/AssignmentInd';\r\nimport { EnhancedTable } from '../../datatable/index';\r\nimport {\r\n  TopBreadcrumbs,\r\n  DataSource,\r\n  Card,\r\n  CardHeader,\r\n  CardBody,\r\n  withPermissions,\r\n  Toast,\r\n} from '../../components';\r\nimport { config } from '../../utils/config';\r\nimport {\r\n  list_member_schema,\r\n  member_list_filter_layout,\r\n} from './schema';\r\nimport { common } from '../../utils';\r\nimport {\r\n  getOrganizationChoices,\r\n  downloadWorkerRosterList,\r\n} from '../utils';\r\n\r\nclass ContractMemberList extends React.Component {\r\n  title = ''\r\n  member_list_schema = list_member_schema;\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      org_choices: [],\r\n    };\r\n    this.initialize();\r\n  }\r\n\r\n  initialize = () => {\r\n    getOrganizationChoices().then(org_choices => {\r\n      this.setState({org_choices});\r\n    });\r\n  };\r\n\r\n  componentDidMount = () => {\r\n    document.title = `${this.title} | `;\r\n  };\r\n\r\n  handleDownloadWorkerRoster = (data) => {\r\n    if (Array.isArray(data) && data.length > 0) {\r\n      const member_id_list = [];\r\n      data.map(item => member_id_list.push(item.id));\r\n      return downloadWorkerRosterList(member_id_list).then(json => {\r\n        const blob = common.toBlob(json.blob);\r\n        common.downloadBlog(blob, json.name);\r\n      }).catch(errors => {\r\n        Toast.error(errors.detail);\r\n      });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { org_choices } = this.state;\r\n    common.getFromJsonList(this.member_list_schema, 'name', 'organization_id')['choices'] = org_choices;\r\n\r\n    return (\r\n      <div>\r\n        <TopBreadcrumbs\r\n          breadcrumbs={[\r\n            {link: '/contract', name: ''},\r\n            { name: this.title },\r\n          ]}\r\n        />\r\n        <Card>\r\n          <CardHeader color=\"info\">\r\n            {this.title}\r\n          </CardHeader>\r\n          <CardBody>\r\n            <DataSource\r\n              endpoint={ config.api.contract.member_list }\r\n              render={ (initData) => (\r\n                <EnhancedTable\r\n                  title={this.title}\r\n                  storageKey='contract_members'\r\n                  tableHead={this.member_list_schema}\r\n                  tableData={initData.results}\r\n                  rowsPerPage={config.rowsPerPage}\r\n                  allowCsv={true}\r\n                  urlReflect={false}\r\n                  tableActions={[\r\n                    {\r\n                      'tooltip': '',\r\n                      'icon': <AddIcon color=\"secondary\"/>,\r\n                      'handleClick': () => (common.redirect('/contract/members/add')),\r\n                      'visible': common.hasPerm('contract.add_member'),\r\n                    },\r\n                    // {\r\n                    //   'tooltip': '',\r\n                    //   'icon': <AssignmentIndIcon />,\r\n                    //   'handleClick': this.handleDownloadWorkerRoster,\r\n                    //   \"showLoading\": true,\r\n                    // },\r\n                    {\r\n                      'tooltip': '',\r\n                      'icon': <AssignmentIndIcon />,\r\n                      'handleClick': this.handleDownloadWorkerRoster,\r\n                      \"showLoading\": true,\r\n                    },\r\n                  ]}\r\n                  pushpinTop={common.getHeaderHeight()}\r\n                  filterLayout={member_list_filter_layout}\r\n                  tableStyles={{ minWidth: 1000 }}\r\n                />\r\n              ) } \r\n            />\r\n          </CardBody>\r\n        </Card>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withPermissions(ContractMemberList, 'contract.view_member');\r\n","import React from 'react';\r\nimport PropTypes from \"prop-types\";\r\nimport { withSnackbar } from 'notistack';\r\nimport {\r\n  DataSource,\r\n  Card,\r\n  CardHeader,\r\n  CardBody,\r\n} from '../../components';\r\nimport { EnhancedTable } from '../../datatable';\r\nimport {\r\n  getBankChoices,\r\n  getBankBranchChoices,\r\n  bank_account_list_schema,\r\n  bank_account_form_schema,\r\n  handleAddObject,\r\n  handleEditObject,\r\n  handleDeleteObject,\r\n} from '../utils';\r\nimport { config, common } from '../../utils';\r\n\r\nclass BankAccountList extends React.Component {\r\n  bank_account_form = bank_account_form_schema;\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      reload: false,\r\n      bank_list: [],\r\n    };\r\n    this.initialize(props);\r\n  }\r\n\r\n  initialize = (props) => {\r\n    getBankChoices().then(bank_list => this.setState({bank_list}));\r\n  };\r\n\r\n  resetBranchList = (name, data) => {\r\n    if (name === 'bank') {\r\n      return getBankBranchChoices(data[name]).then(object_list => {\r\n        common.cascade_reflect(object_list, this.bank_account_form, 'bank');\r\n      });\r\n    }\r\n  };\r\n\r\n  handleBeforeShowEditDialog = (data) => {\r\n    this.resetBranchList('bank', data);\r\n  };\r\n\r\n  render() {\r\n    const { content_type, object_id, title } = this.props;\r\n    const { reload, bank_list } = this.state;\r\n    common.getFromJsonList(this.bank_account_form, 'name', 'bank')[\"choices\"] = bank_list;\r\n\r\n    return (\r\n      <div>\r\n        <Card>\r\n          <CardHeader color=\"info\">\r\n            {title}\r\n          </CardHeader>\r\n          <CardBody>\r\n            <DataSource\r\n              reload={reload}\r\n              endpoint={common.formatStr(config.api.master.bank_account_by_ct, content_type, object_id)}\r\n              render={(initData) => (\r\n                <EnhancedTable\r\n                  tableHead={bank_account_list_schema}\r\n                  tableData={initData.results}\r\n                  rowsPerPage={config.rowsPerPage}\r\n                  selectable=\"single\"\r\n                  allowCsv={true}\r\n                  addProps={{\r\n                    title: '',\r\n                    schema: this.bank_account_form,\r\n                    handleOk: handleAddObject(\r\n                      () => this.setState({reload: !reload}),\r\n                      config.api.master.bank_account_add,\r\n                    ),\r\n                    onChanges: [this.resetBranchList],\r\n                    data: {\r\n                      'content_type': content_type,\r\n                      'object_id': object_id,\r\n                    },\r\n                    visible: common.hasPerm('master.add_bankaccount'),\r\n                  }}\r\n                  editProps={{\r\n                    title: '',\r\n                    schema: this.bank_account_form,\r\n                    handleBeforeShowup: this.handleBeforeShowEditDialog,\r\n                    handleOk: handleEditObject(\r\n                      () => this.setState({reload: !reload}),\r\n                      config.api.master.bank_account_detail,\r\n                    ),\r\n                    onChanges: [this.resetBranchList],\r\n                    visible: common.hasPerm('master.change_bankaccount'),\r\n                  }}\r\n                  deleteProps={{\r\n                    handleDelete: handleDeleteObject(\r\n                      () => this.setState({reload: !reload}),\r\n                      config.api.master.bank_account_detail,\r\n                    ),\r\n                    visible: common.hasPerm('master.delete_bankaccount'),\r\n                  }}\r\n                  pushpinTop={common.getHeaderHeight()}\r\n                />\r\n              )}\r\n            />\r\n          </CardBody>\r\n        </Card>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nBankAccountList.propTypes = {\r\n  title: PropTypes.string.isRequired,\r\n  content_type: PropTypes.oneOfType([\r\n    PropTypes.string,\r\n    PropTypes.number\r\n  ]),\r\n  object_id: PropTypes.oneOfType([\r\n    PropTypes.string,\r\n    PropTypes.number\r\n  ]),\r\n};\r\n\r\nexport default withSnackbar(BankAccountList);","import React from 'react';\r\nimport { Link } from 'react-router-dom'\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport {\r\n  Button, \r\n  Dialog, \r\n  DialogTitle, \r\n  DialogContent, \r\n  DialogActions, \r\n  List, \r\n  ListItem, \r\n  ListItemText, \r\n  Divider,\r\n  MenuItem,\r\n  CircularProgress, \r\n} from '@material-ui/core';\r\nimport { green } from '@material-ui/core/colors';\r\nimport { EnhancedTable } from '../../datatable/index';\r\nimport {\r\n  TopBreadcrumbs,\r\n  Card,\r\n  CardAvatar,\r\n  CardHeader,\r\n  CardBody,\r\n  DataSource,\r\n  Toast,\r\n} from '../../components';\r\nimport {\r\n  getMemberInfo,\r\n  getContractTimeline,\r\n  handleAddObject,\r\n  handleEditObject,\r\n  handleDeleteObject,\r\n  getOrganizationChoices,\r\n  downloadWorkerRoster,\r\n} from '../utils/api';\r\nimport { TableDetail } from '../../datatable';\r\nimport {\r\n  member_detail_schema,\r\n  member_form_basic_schema,\r\n  member_edit_layout,\r\n  member_emergency_contact_list_schema,\r\n  member_emergency_contact_form_schema,\r\n  member_family_list_schema,\r\n  member_family_form_schema,\r\n  member_family_form_layout,\r\n  member_residence_list_schema,\r\n  member_residence_form_schema,\r\n  member_residence_form_layout,\r\n  list_member_organization_schema,\r\n  member_organization_form_schema,\r\n  member_education_list_schema,\r\n  member_education_form_schema,\r\n} from './schema';\r\nimport GridContainer from '../../components/Grid/GridContainer';\r\nimport GridItem from '../../components/Grid/GridItem';\r\nimport { ajax, common } from '../../utils/common';\r\nimport { config } from '../../utils/config';\r\nimport { constant } from '../../utils/constants';\r\nimport AvatarEditor from '../../components/ImageEditor';\r\nimport BankAccountList from '../common/bank_account_list';\r\n\r\nimport defaultAvatar from \"../../assets/img/avatar.png\";\r\nimport { HasPerm } from '../../components';\r\nimport { onBlurPostcode } from '../utils';\r\n\r\nconst styles = (theme) => ({\r\n  cardProfile: {\r\n    marginTop: 60,\r\n  },\r\n  cardAvatar: {\r\n    width: 110,\r\n    height: 110,\r\n    position: 'relative',\r\n  },\r\n  cardAvatarSpan: {\r\n    display: 'inline-block',\r\n    height: '100%',\r\n    verticalAlign: 'middle',\r\n  },\r\n  cardImage: {\r\n    maxHeight: 110,\r\n    maxWidth: 110,\r\n    verticalAlign: 'middle'\r\n  },\r\n  button: {\r\n    marginRight: theme.spacing(1),\r\n  },\r\n  changeAvatar: {\r\n    position: 'absolute',\r\n    bottom: 0,\r\n    width: 110,\r\n    backgroundColor: 'rgba(255,255,255, 0.5)',\r\n  },\r\n  buttonProgress: {\r\n    color: green[500],\r\n    position: 'absolute',\r\n    top: '50%',\r\n    left: '50%',\r\n    marginTop: -12,\r\n    marginLeft: -12,\r\n  },\r\n  fullScreen: {\r\n    [theme.breakpoints.down('xs')]: {\r\n      width: '100%',\r\n      height: '100%',\r\n      margin: 0,\r\n      maxWidth: '100%',\r\n      maxHeight: 'none',\r\n      borderRadius: 0,\r\n    },\r\n  },\r\n});\r\n\r\nclass ContractMemberDetail extends React.Component {\r\n  member_form_basic = common.clone(member_form_basic_schema);\r\n  member_organization_form_schema = common.clone(member_organization_form_schema);\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.onSaveAvatar = this.onSaveAvatar.bind(this);\r\n    this.state = {\r\n      member: {},\r\n      open: false,\r\n      avatar_url: null,\r\n      timelines: [],\r\n      emergency_reload: false,\r\n      family_reload: false,\r\n      residence_reload: false,\r\n      education_reload: false,\r\n      organizations: [],\r\n      org_reload: false,\r\n      loading: false,\r\n    };\r\n    this.initialize(props.match.params);\r\n    this.detail_api = common.formatStr(\r\n      config.api.member.detail,\r\n      props.match.params.member_id\r\n    );\r\n  }\r\n\r\n  initialize = (params) => {\r\n    getMemberInfo(params.member_id).then(member => {\r\n      this.setState({member});\r\n    });\r\n    getContractTimeline(params.member_id).then(data => {\r\n      this.setState({timelines: data.results});\r\n    });\r\n    getOrganizationChoices().then(organizations => this.setState({ organizations }));\r\n  };\r\n\r\n  componentDidUpdate = () => {\r\n    document.title = `${this.state.member.full_name || ''} | `\r\n  };\r\n\r\n  onEditMember = (data, handleClose) => {\r\n    return ajax.fetchPut(this.detail_api, data).then(member => {\r\n      this.setState({member});\r\n      if (handleClose) {\r\n        handleClose();\r\n      }\r\n      Toast.success(constant.SUCCESS.SAVED);\r\n    }).catch(errors => {\r\n      Toast.error(constant.ERROR.FORM_CHECK_ERROR);\r\n      return Promise.reject(errors);\r\n    });\r\n  };\r\n\r\n  onDeleteMember = () => {\r\n    ajax.fetchDelete(this.detail_api).then(data => {\r\n      Toast.success(constant.SUCCESS.DELETED);\r\n      common.redirect('/contract/members')\r\n    }).catch(errors => {\r\n      Toast.error(errors.detail);\r\n    });\r\n  };\r\n\r\n  handleCloseAvatar = () => {\r\n    this.setState({open: false});\r\n  };\r\n\r\n  handleSaveAvatar = () => {\r\n    if (this.__getAvatarImage) {\r\n      const self = this;\r\n      const canvas = this.__getAvatarImage();\r\n      if (canvas) {\r\n        canvas.canvas.toBlob(function(blob) {\r\n          self.onSaveAvatar(blob, canvas.type);\r\n        }, canvas.type);\r\n      }\r\n    }\r\n  }\r\n\r\n  onSaveAvatar = (blob, content_type) => {\r\n    const { params } = this.props.match;\r\n    ajax.fetchPut(\r\n      common.formatStr(config.api.member.avatar, params.member_id),\r\n      {blob, type: content_type},\r\n    ).then(json => {\r\n      Toast.success(constant.SUCCESS.UPLOADED);\r\n      this.handleCloseAvatar();\r\n      this.setState({avatar_url: json.url});\r\n    }).catch(errors => {\r\n      Toast.error(errors.detail);\r\n    });\r\n  };\r\n\r\n  handleDownloadWorkerRoster = () => {\r\n    const { member_id } = this.props.match.params;\r\n    this.setState({loading: true});\r\n    return downloadWorkerRoster(member_id).then(json => {\r\n      const blob = common.toBlob(json.blob);\r\n      common.downloadBlog(blob, json.name);\r\n      if (this._closeMenu) {\r\n        this._closeMenu();\r\n      }\r\n    }).catch(errors => {\r\n      Toast.error(errors.detail);\r\n    }).finally(() => {\r\n      this.setState({loading: false});\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { classes } = this.props;\r\n    const { member_id } = this.props.match.params;\r\n    const {\r\n      open, member, avatar_url, timelines,\r\n      emergency_reload,\r\n      family_reload,\r\n      residence_reload,\r\n      education_reload,\r\n      organizations,\r\n      org_reload,\r\n      loading,\r\n    } = this.state;\r\n    common.getFromJsonList(this.member_form_basic, 'name', 'code').read_only = true;\r\n    const avatar = avatar_url || member.avatar || defaultAvatar;\r\n\r\n    // \r\n    common.getFromJsonList(this.member_organization_form_schema, 'name', 'organization').choices = organizations;\r\n\r\n    return (\r\n      <div>\r\n        <TopBreadcrumbs\r\n          breadcrumbs={[\r\n            { link: '/contract', name: '' },\r\n            { link: '/contract/members', name: '' },\r\n            { name: member.full_name },\r\n          ]}\r\n        />\r\n        <div style={{marginTop: 16}}>\r\n          <GridContainer>\r\n            <GridItem xs={12} sm={12} md={8} lg={8}>\r\n              <TableDetail\r\n                data={member}\r\n                schema={member_detail_schema}\r\n                editProps={{\r\n                  title: '',\r\n                  schema: this.member_form_basic,\r\n                  layout: member_edit_layout,\r\n                  handleEdit: this.onEditMember,\r\n                  visible: common.hasPerm('contract.change_member'),\r\n                  onBlurs: [onBlurPostcode],\r\n                }}\r\n                deleteProps={{\r\n                  handleDelete: this.onDeleteMember,\r\n                  visible: common.hasPerm('contract.delete_member'),\r\n                }}\r\n                cardMenuItems={[\r\n                  <MenuItem\r\n                    key='1'\r\n                    disabled={loading}\r\n                    onClick={this.handleDownloadWorkerRoster}\r\n                  >\r\n                    \r\n                    {loading && <CircularProgress size={24} className={classes.buttonProgress} />}\r\n                  </MenuItem>,\r\n                ]}\r\n                innerRef={(component => this._closeMenu = component && component.handleCloseMenu)}\r\n              />\r\n            </GridItem>\r\n            <GridItem xs={12} sm={12} md={4}>\r\n              <Card profile className={classes.cardProfile}>\r\n                <CardAvatar profile className={classes.cardAvatar}>\r\n                  <span className={classes.cardAvatarSpan}></span>\r\n                  <a href='#img' onClick={e => e.preventDefault()}>\r\n                    <img src={avatar} alt=\"...\" className={classes.cardImage} />\r\n                  </a>\r\n                  <HasPerm permission='contract.change_member'>\r\n                    <div className={classes.changeAvatar}>\r\n                      <Button\r\n                        fullWidth\r\n                        style={{padding: '0px 8px', fontSize: 12}}\r\n                        onClick={() => this.setState({open: true})}\r\n                      >\r\n                        \r\n                      </Button>\r\n                    </div>\r\n                  </HasPerm>\r\n                </CardAvatar>\r\n                <CardBody>\r\n                  <List>\r\n                    <ListItem>\r\n                      {timelines.length > 0 ? (\r\n                        <ListItemText>\r\n                          \r\n                        </ListItemText>\r\n                      ) : (\r\n                        <HasPerm permission='contract.add_contract'>\r\n                          <ListItemText\r\n                            primary=''\r\n                            secondary=''\r\n                          />\r\n                        </HasPerm>\r\n                      )}\r\n                    </ListItem>\r\n                    <HasPerm permission='contract.view_contract'>\r\n                      {timelines.map((c, key) => (\r\n                        <React.Fragment key={key}>\r\n                          <Divider variant=\"middle\" component=\"li\" />\r\n                          <ListItem\r\n                            button\r\n                            component={Link}\r\n                            to={`/contract/members/${member_id}/contracts/${c.id}`}\r\n                          >\r\n                            <ListItemText\r\n                              primary={c.contract_no}\r\n                              secondary={`${c.start_date}${c.end_date} :${common.toNumComma(c.amount)}`}\r\n                            />\r\n                          </ListItem>\r\n                        </React.Fragment>\r\n                      ))}\r\n                    </HasPerm>\r\n                    <HasPerm permission='contract.add_contract'>\r\n                      <ListItem>\r\n                        <Link to={`/contract/members/${member_id}/contracts/add`}>\r\n                          <Button variant=\"contained\" color=\"primary\"></Button>\r\n                        </Link>\r\n                      </ListItem>\r\n                    </HasPerm>\r\n                  </List>\r\n                </CardBody>\r\n              </Card>\r\n            </GridItem>\r\n          </GridContainer>\r\n        </div>\r\n        {member.content_type ? (\r\n          <HasPerm permission='org.view_organizationmember'>\r\n            <Card>\r\n              <CardHeader color='info'></CardHeader>\r\n              <CardBody>\r\n                <DataSource\r\n                  reload={org_reload}\r\n                  endpoint={common.formatStr(config.api.member.member_organizations, member.content_type, member_id)}\r\n                  render={(initData) => (\r\n                    <EnhancedTable\r\n                      title=''\r\n                      tableHead={list_member_organization_schema}\r\n                      tableData={initData}\r\n                      rowsPerPage={config.rowsPerPage}\r\n                      selectable='single'\r\n                      addProps={{\r\n                        title: '',\r\n                        schema: this.member_organization_form_schema,\r\n                        handleOk: handleAddObject(\r\n                          () => this.setState({ org_reload: !org_reload }),\r\n                          config.api.organization.member_organization_add,\r\n                        ),\r\n                        data: {\r\n                          content_type: member.content_type,\r\n                          object_id: member_id,\r\n                        },\r\n                        visible: common.hasPerm('org.add_organizationmember'),\r\n                      }}\r\n                      editProps={{\r\n                        title: '',\r\n                        schema: this.member_organization_form_schema,\r\n                        handleOk: handleEditObject(\r\n                          () => this.setState({ org_reload: !org_reload }),\r\n                          config.api.organization.member_organization_detail,\r\n                        ),\r\n                        visible: common.hasPerm('org.change_organizationmember'),\r\n                      }}\r\n                      deleteProps={{\r\n                        handleDelete: handleDeleteObject(\r\n                          () => this.setState({ org_reload: !org_reload }),\r\n                          config.api.organization.member_organization_detail,\r\n                        ),\r\n                        visible: common.hasPerm('org.delete_organizationmember'),\r\n                      }}\r\n                      pushpinTop={common.getHeaderHeight()}\r\n                    />\r\n                  )}\r\n                />\r\n              </CardBody>\r\n            </Card>\r\n          </HasPerm>\r\n        ) : null}\r\n        <Card>\r\n          <CardHeader color=\"info\">\r\n            \r\n          </CardHeader>\r\n          <CardBody>\r\n            <DataSource\r\n              reload={emergency_reload}\r\n              endpoint={ common.formatStr(config.api.contract.member_emergency_contact_list, member_id) }\r\n              render={ (initData) => (\r\n                <EnhancedTable\r\n                  title=''\r\n                  tableHead={member_emergency_contact_list_schema}\r\n                  tableData={initData.results}\r\n                  rowsPerPage={config.rowsPerPage}\r\n                  allowCsv={true}\r\n                  selectable='single'\r\n                  addProps={{\r\n                    title: '',\r\n                    schema: member_emergency_contact_form_schema,\r\n                    handleOk: handleAddObject(\r\n                      () => this.setState({emergency_reload: !emergency_reload}),\r\n                      config.api.contract.member_emergency_contact_list,\r\n                      member_id\r\n                    ),\r\n                    data: {\r\n                      'content_type': member.content_type,\r\n                      'object_id': member_id,\r\n                    },\r\n                  }}\r\n                  editProps={{\r\n                    title: '',\r\n                    schema: member_emergency_contact_form_schema,\r\n                    handleOk: handleEditObject(\r\n                      () => this.setState({emergency_reload: !emergency_reload}),\r\n                      config.api.contract.member_emergency_contact_detail,\r\n                      member_id\r\n                    ),\r\n                  }}\r\n                  deleteProps={{\r\n                    handleDelete: handleDeleteObject(\r\n                      () => this.setState({emergency_reload: !emergency_reload}),\r\n                      config.api.contract.member_emergency_contact_detail,\r\n                      member_id\r\n                    ),\r\n                  }}\r\n                  pushpinTop={common.getHeaderHeight()}\r\n                  tableStyles={{ minWidth: 800 }}\r\n                />\r\n              ) } \r\n            />\r\n          </CardBody>\r\n        </Card>\r\n        <Card>\r\n          <CardHeader color=\"info\">\r\n            \r\n          </CardHeader>\r\n          <CardBody>\r\n            <DataSource\r\n              reload={family_reload}\r\n              endpoint={ common.formatStr(config.api.contract.member_family_list, member_id) }\r\n              render={ (initData) => (\r\n                <EnhancedTable\r\n                  title=''\r\n                  tableHead={member_family_list_schema}\r\n                  tableData={initData.results}\r\n                  rowsPerPage={config.rowsPerPage}\r\n                  allowCsv={true}\r\n                  selectable='single'\r\n                  addProps={{\r\n                    title: '',\r\n                    schema: member_family_form_schema,\r\n                    layout: member_family_form_layout,\r\n                    handleOk: handleAddObject(\r\n                      () => this.setState({family_reload: !family_reload}),\r\n                      config.api.contract.member_family_list,\r\n                      member_id\r\n                    ),\r\n                    data: {\r\n                      'content_type': member.content_type,\r\n                      'object_id': member_id,\r\n                    },\r\n                  }}\r\n                  editProps={{\r\n                    title: '',\r\n                    schema: member_family_form_schema,\r\n                    layout: member_family_form_layout,\r\n                    handleOk: handleEditObject(\r\n                      () => this.setState({family_reload: !family_reload}),\r\n                      config.api.contract.member_family_detail,\r\n                      member_id\r\n                    ),\r\n                  }}\r\n                  deleteProps={{\r\n                    handleDelete: handleDeleteObject(\r\n                      () => this.setState({family_reload: !family_reload}),\r\n                      config.api.contract.member_family_detail,\r\n                      member_id\r\n                    ),\r\n                  }}\r\n                  pushpinTop={common.getHeaderHeight()}\r\n                  tableStyles={{ minWidth: 700 }}\r\n                />\r\n              ) } \r\n            />\r\n          </CardBody>\r\n        </Card>\r\n        <Card>\r\n          <CardHeader color=\"info\">\r\n            \r\n          </CardHeader>\r\n          <CardBody>\r\n            <DataSource\r\n              reload={residence_reload}\r\n              endpoint={ common.formatStr(config.api.contract.member_residence_list, member_id) }\r\n              render={ (initData) => (\r\n                <EnhancedTable\r\n                  title=''\r\n                  tableHead={member_residence_list_schema}\r\n                  tableData={initData.results}\r\n                  rowsPerPage={config.rowsPerPage}\r\n                  allowCsv={true}\r\n                  selectable='single'\r\n                  addProps={{\r\n                    title: '',\r\n                    schema: member_residence_form_schema,\r\n                    layout: member_residence_form_layout,\r\n                    handleOk: handleAddObject(\r\n                      () => this.setState({residence_reload: !residence_reload}),\r\n                      config.api.contract.member_residence_list,\r\n                      member_id\r\n                    ),\r\n                    data: {\r\n                      'content_type': member.content_type,\r\n                      'object_id': member_id,\r\n                    },\r\n                  }}\r\n                  editProps={{\r\n                    title: '',\r\n                    schema: member_residence_form_schema,\r\n                    layout: member_residence_form_layout,\r\n                    handleOk: handleEditObject(\r\n                      () => this.setState({residence_reload: !residence_reload}),\r\n                      config.api.contract.member_residence_detail,\r\n                      member_id\r\n                    ),\r\n                  }}\r\n                  deleteProps={{\r\n                    handleDelete: handleDeleteObject(\r\n                      () => this.setState({residence_reload: !residence_reload}),\r\n                      config.api.contract.member_residence_detail,\r\n                      member_id\r\n                    ),\r\n                  }}\r\n                  pushpinTop={common.getHeaderHeight()}\r\n                  tableStyles={{ minWidth: 750 }}\r\n                />\r\n              ) }\r\n            />\r\n          </CardBody>\r\n        </Card>\r\n        { member.content_type ? (\r\n          <BankAccountList\r\n            title={`${member.full_name} `}\r\n            content_type={member.content_type}\r\n            object_id={member_id}\r\n          />\r\n        ) : null}\r\n        <Card>\r\n          <CardHeader color=\"info\">\r\n            \r\n          </CardHeader>\r\n          <CardBody>\r\n            <DataSource\r\n              reload={education_reload}\r\n              endpoint={ common.formatStr(config.api.member.education_list, member_id) }\r\n              render={ (initData) => (\r\n                <EnhancedTable\r\n                  title=''\r\n                  tableHead={member_education_list_schema}\r\n                  tableData={initData.results}\r\n                  rowsPerPage={config.rowsPerPage}\r\n                  allowCsv={true}\r\n                  selectable='single'\r\n                  addProps={{\r\n                    title: '',\r\n                    schema: member_education_form_schema,\r\n                    handleOk: handleAddObject(\r\n                      () => this.setState({education_reload: !education_reload}),\r\n                      config.api.member.education_list,\r\n                      member_id\r\n                    ),\r\n                    data: {\r\n                      'content_type': member.content_type,\r\n                      'object_id': member_id,\r\n                    },\r\n                  }}\r\n                  editProps={{\r\n                    title: '',\r\n                    schema: member_education_form_schema,\r\n                    handleOk: handleEditObject(\r\n                      () => this.setState({education_reload: !education_reload}),\r\n                      config.api.member.education_detail,\r\n                      member_id\r\n                    ),\r\n                  }}\r\n                  deleteProps={{\r\n                    handleDelete: handleDeleteObject(\r\n                      () => this.setState({education_reload: !education_reload}),\r\n                      config.api.member.education_detail,\r\n                      member_id\r\n                    ),\r\n                  }}\r\n                  pushpinTop={common.getHeaderHeight()}\r\n                />\r\n              ) } \r\n            />\r\n          </CardBody>\r\n        </Card>\r\n        <Dialog\r\n          open={open}\r\n          onClose={this.handleCloseAvatar}\r\n          PaperProps={{className: classes.fullScreen}}\r\n        >\r\n          <DialogTitle>\r\n            \r\n          </DialogTitle>\r\n          <DialogContent>\r\n            <AvatarEditor\r\n              ref={editor => { this.__getAvatarImage = editor && editor.getImage }}\r\n            />\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button color=\"secondary\" onClick={this.handleCloseAvatar}></Button>\r\n            <Button color=\"primary\" onClick={this.handleSaveAvatar}></Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles)(ContractMemberDetail);\r\n","import React from 'react';\r\nimport { StepForm, TopBreadcrumbs, withPermissions } from '../../components';\r\nimport GridContainer from '../../components/Grid/GridContainer';\r\nimport GridItem from '../../components/Grid/GridItem';\r\nimport {\r\n  getMemberInfo,\r\n  getContractItems,\r\n  getContractAllownaces,\r\n  getContract,\r\n  getOrganizationChoices,\r\n} from '../utils/api';\r\nimport {\r\n  config,\r\n  common,\r\n  checkDateContradict,\r\n  checkUnique,\r\n  checkAllowanceAmount,\r\n  choice_contract_comment,\r\n} from '../../utils';\r\nimport {\r\n  onChangeContractBasicInfo,\r\n  onChangeContractAllowance,\r\n} from '../utils/common';\r\nimport { \r\n  contract_form_basic_schema, \r\n  contract_form_basic_layout, \r\n  contract_item_schema,\r\n  contract_item_layout,\r\n  contract_allowance_schema,\r\n} from './schema';\r\n\r\nclass ContractAdd extends React.Component {\r\n  basic_info_edit_schema = common.clone(contract_form_basic_schema);\r\n  new_contract_item_schema = common.clone(contract_item_schema);\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      member: {},\r\n      contract: {},\r\n      default_contract_items: [],\r\n      default_contract_allowances: [],\r\n      organizations: [],\r\n    };\r\n    this.initialize(props.match.params);\r\n  }\r\n\r\n  initialize = (params) => {\r\n    let contract_id = null;\r\n    if (this.props.location.search) {\r\n      const search = common.parseQueryString(this.props.location.search);\r\n      contract_id = search && search.contract_id;\r\n      getContract(contract_id).then(contract => {\r\n        this.setState({contract});\r\n      });\r\n    }\r\n    getMemberInfo(params.member_id).then(member => {\r\n      this.setState({member});\r\n    });\r\n    getContractItems(contract_id).then(data => {\r\n      this.setState({default_contract_items: data.results});\r\n    });\r\n    getContractAllownaces(contract_id).then(data => {\r\n      this.setState({default_contract_allowances: data.results});\r\n    });\r\n    getOrganizationChoices().then(organizations => {\r\n      this.setState({organizations});\r\n    });\r\n  };\r\n\r\n  componentDidUpdate = () => {\r\n    document.title = ` | ${this.state.member.full_name || ''} | `\r\n  };\r\n\r\n  getSteps = () => {\r\n    const { contract, default_contract_items, default_contract_allowances, organizations } = this.state;\r\n    common.getFromJsonList(this.basic_info_edit_schema, 'name', 'organization').choices = organizations;\r\n    let contract_item_choices = [];\r\n    common.getFromJsonList(this.new_contract_item_schema, \"name\", \"name\").get_props = (data, inlines) => {\r\n      const exists = [];\r\n      inlines.map(d => !d.is_new && exists.push(d.code));\r\n      contract_item_choices = [];\r\n      const choices = [];\r\n      choice_contract_comment.map(item => {\r\n        if (exists.indexOf(item.value) < 0) {\r\n          contract_item_choices.push(item);\r\n          choices.push({\r\n            \"value\": item.display_name,\r\n            \"display_name\": item.display_name,\r\n          });\r\n        }\r\n        return true;\r\n      });\r\n      return {\r\n        \"type\": \"choice\",\r\n        \"read_only\": false,\r\n        \"choices\": choices,\r\n      }\r\n    }\r\n\r\n    if (common.isEmpty(default_contract_items) || common.isEmpty(default_contract_allowances)) {\r\n      return null;\r\n    } else {\r\n      const default_contract_allowances_empty_comment = common.clone(default_contract_allowances)\r\n      default_contract_allowances_empty_comment.map(item => item.comment = null);\r\n      return [\r\n        {\r\n          name: '',\r\n          formProps: {\r\n            name: 'basic_info',\r\n            schema: this.basic_info_edit_schema,\r\n            layout: contract_form_basic_layout,\r\n            data: contract,\r\n            checkList: [checkDateContradict],\r\n            onChanges: [\r\n              onChangeContractBasicInfo,\r\n            ],\r\n          },\r\n        },\r\n        {\r\n          name: '',\r\n          formProps: {\r\n            name: 'contract_items',\r\n            inline: true,\r\n            schema: contract_item_schema,\r\n            new_line_schema: this.new_contract_item_schema,\r\n            layout: contract_item_layout,\r\n            data: default_contract_items,\r\n            onChanges: [\r\n              (name, data, steps, prefix, inlineIndex) => {\r\n                if (name === 'name') {\r\n                  const choice = common.getFromJsonList(contract_item_choices, \"display_name\", data[inlineIndex][\"name\"])\r\n                  data[inlineIndex][\"code\"] = choice ? choice.value : null;\r\n                }\r\n              },\r\n            ],\r\n            checkList: [\r\n              checkUnique(['code']),\r\n              checkUnique(['name']),\r\n            ],\r\n          },\r\n        },\r\n        {\r\n          name: '',\r\n          formProps: {\r\n            name: 'allowances',\r\n            inline: true,\r\n            schema: contract_allowance_schema,\r\n            data: default_contract_allowances_empty_comment,\r\n            checkList: [\r\n              checkUnique(['code']),\r\n              checkUnique(['name']),\r\n              checkAllowanceAmount,\r\n            ],\r\n            onChanges: [(n, d, s, p, i) => onChangeContractAllowance(n, d, s, p, i, default_contract_allowances)],\r\n            allowAdd: false,\r\n            allowDelete: false,\r\n          },\r\n        },\r\n      ];\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { params } = this.props.match;\r\n    const { member } = this.state;\r\n    const steps = this.getSteps();\r\n\r\n    return (\r\n      <div>\r\n        <TopBreadcrumbs\r\n          breadcrumbs={[\r\n            { link: '/contract', name: '' },\r\n            { link: '/contract/members', name: '' },\r\n            { link: `/contract/members/${params.member_id}/`, name: member.full_name },\r\n            { name: '' },\r\n          ]}\r\n        />\r\n        <GridContainer>\r\n          <GridItem xs={12} sm={12} md={9} lg={9}>\r\n            { steps ? (\r\n              <StepForm\r\n                title=''\r\n                steps={steps}\r\n                methodName='POST'\r\n                saveEndpoint={common.formatStr(config.api.contract.add_member_contract, params.member_id)}\r\n                saveCallback={() => common.redirect(`/contract/members/${params.member_id}`)}\r\n              />\r\n            ) : null}\r\n          </GridItem>\r\n        </GridContainer>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default withPermissions(ContractAdd, 'contract.add_contract');\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport {\r\n  Tooltip, Button, MenuItem, Paper,\r\n} from '@material-ui/core';\r\nimport TopBreadcrumbs from '../../components/TopBreadcrumbs';\r\nimport {\r\n  getMemberInfo,\r\n  getContract,\r\n  getOrganizationChoices,\r\n  handleAddObject,\r\n  handleEditObject,\r\n  getContractCommentsForAdd,\r\n  handleDeleteObject,\r\n} from '../utils/api';\r\nimport GridContainer from '../../components/Grid/GridContainer';\r\nimport GridItem from '../../components/Grid/GridItem';\r\nimport DataSource from '../../components/DataSource';\r\nimport { TableDetail, EnhancedTable } from '../../datatable';\r\nimport { \r\n  contract_form_basic_schema, \r\n  contract_form_basic_layout, \r\n  contract_item_list_schema, \r\n  contract_allowance_list_schema,\r\n  contract_allowance_schema,\r\n  contract_item_schema,\r\n  contract_detail_schema\r\n} from './schema';\r\nimport { ajax, common } from '../../utils/common';\r\nimport { config, constant } from '../../utils';\r\nimport { withPermissions, HasPerm, Toast } from '../../components';\r\nimport { paperSpacing } from '../../assets/jss/material-dashboard-react';\r\n\r\nclass ContractDetail extends React.Component {\r\n  basic_info_edit_schema = common.clone(contract_form_basic_schema);\r\n  add_contract_item_schema = common.clone(contract_item_schema);\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      member: {},\r\n      contract: {},\r\n      organizations: [],\r\n      allowance_reload: false,\r\n      comment_reload: false,\r\n      comments_for_add: [],\r\n    };\r\n    this.initialize(props.match.params);\r\n    this.detail_api = common.formatStr(\r\n      config.api.contract.detail,\r\n      props.match.params.contract_id,\r\n    );\r\n  }\r\n\r\n  initialize = (params) => {\r\n    const { member_id, contract_id } = params;\r\n    getMemberInfo(member_id).then(member => {\r\n      this.setState({member});\r\n    });\r\n    getContract(contract_id).then(contract => {\r\n      this.setState({contract});\r\n    });\r\n    getOrganizationChoices().then(organizations => {\r\n      this.setState({organizations});\r\n    });\r\n    this.initCommentsForAdd(contract_id);\r\n  };\r\n\r\n  initCommentsForAdd = (contract_id) => {\r\n    getContractCommentsForAdd(contract_id).then(data => {\r\n      const comments = [];\r\n      data.map(row => (\r\n        comments.push({value: row.name, display_name: row.name})\r\n      ));\r\n      common.getFromJsonList(this.add_contract_item_schema, 'name', 'name').type = 'choice';\r\n      common.getFromJsonList(this.add_contract_item_schema, 'name', 'name').choices = comments;\r\n      this.setState({comments_for_add: data});\r\n    });\r\n  };\r\n\r\n  componentDidUpdate = () => {\r\n    const { member } = this.state;\r\n    document.title = ` | ${member.full_name} | `;\r\n  };\r\n\r\n  onEditContract = (data, handleClose) => {\r\n    return ajax.fetchPut(this.detail_api, data).then(contract => {\r\n      this.setState({contract});\r\n      if (handleClose) {\r\n        handleClose();\r\n      }\r\n      Toast.success(constant.SUCCESS.SAVED);\r\n    }).catch(errors => {\r\n      Toast.error(constant.ERROR.FORM_CHECK_ERROR);\r\n      return Promise.reject(errors);\r\n    });\r\n  };\r\n\r\n  onDeleteContract = () => {\r\n    const { params } = this.props.match;\r\n    ajax.fetchDelete(this.detail_api).then(() => {\r\n      Toast.success(constant.SUCCESS.DELETED);\r\n      common.redirect(`/contract/members/${params.member_id}`);\r\n    }).catch((errors) => {\r\n      const msg = errors.detail || constant.ERROR.DELETED_FAILURE;\r\n      Toast.error(msg);\r\n    });\r\n  };\r\n\r\n  onContractCommentChange = (name, data) => {\r\n    const { comments_for_add } = this.state;\r\n    if (name === 'name') {\r\n      const item = common.getFromJsonList(comments_for_add, 'name', data[name]);\r\n      if (item) {\r\n        data.code = item.code;\r\n        data.content = item.content;\r\n      }\r\n      return data;\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { member_id, contract_id } = this.props.match.params;\r\n    const { member, contract, organizations, allowance_reload, comment_reload } = this.state;\r\n    // \r\n    this.basic_info_edit_schema[4].choices = organizations;\r\n    this.basic_info_edit_schema[1].read_only = true;\r\n    this.basic_info_edit_schema[2].read_only = true;\r\n    this.basic_info_edit_schema[3].read_only = true;\r\n\r\n    return (\r\n      <div>\r\n        <TopBreadcrumbs\r\n          breadcrumbs={[\r\n            {link: '/contract', name: ''},\r\n            {link: '/contract/members', name: ''},\r\n            {link: `/contract/members/${member_id}`, name: member.full_name },\r\n            {name: contract.contract_no },\r\n          ]}\r\n        />\r\n        <div style={{marginTop: 16}}>\r\n          <GridContainer>\r\n            <GridItem xs={12} sm={12} md={12} lg={12}>\r\n              <TableDetail\r\n                title=''\r\n                data={contract}\r\n                schema={contract_detail_schema}\r\n                editProps={{\r\n                  title: '',\r\n                  schema: this.basic_info_edit_schema,\r\n                  layout: contract_form_basic_layout,\r\n                  handleEdit: this.onEditContract,\r\n                  visible: common.hasPerm('contract.change_contract'),\r\n                }}\r\n                deleteProps={{\r\n                  handleDelete: this.onDeleteContract,\r\n                  visible: common.hasPerm('contract.delete_contract'),\r\n                }}\r\n                actions={[\r\n                  <HasPerm key={1} permission='contract.add_contract'>\r\n                    <Tooltip title=\"\">\r\n                      <Button\r\n                        variant=\"contained\"\r\n                        color=\"primary\"\r\n                        onClick={() => common.redirect(\r\n                          `/contract/members/${member_id}/contracts/add`,\r\n                          `?contract_id=${contract_id}`,\r\n                        )}\r\n                      >\r\n                        \r\n                      </Button>\r\n                    </Tooltip>\r\n                  </HasPerm>\r\n                ]}\r\n                cardMenuItems={[\r\n                    <MenuItem\r\n                      key='1'\r\n                      component={Link}\r\n                      to={`/contract/members/${member_id}/contracts/${contract_id}/employment`}\r\n                    >\r\n                      \r\n                    </MenuItem>,\r\n                    <MenuItem\r\n                      key='2'\r\n                      component={Link}\r\n                      to={`/contract/members/${member_id}/contracts/${contract_id}/incumbency`}\r\n                    >\r\n                      \r\n                    </MenuItem>,\r\n                    <MenuItem\r\n                      key='3'\r\n                      component={Link}\r\n                      to={`/contract/members/${member_id}/contracts/${contract_id}/income`}\r\n                    >\r\n                      \r\n                    </MenuItem>,\r\n                ]}\r\n              />\r\n            </GridItem>\r\n            <GridItem xs={12} sm={12} md={12} lg={12}>\r\n              <Paper style={paperSpacing}>\r\n                <DataSource\r\n                  reload={allowance_reload}\r\n                  endpoint={common.formatStr(config.api.contract.contract_allowances, contract_id)}\r\n                  render={(initData) => (\r\n                    <EnhancedTable\r\n                      title=\"\"\r\n                      showTitle={true}\r\n                      tableHead={contract_allowance_list_schema}\r\n                      tableData={initData.results}\r\n                      rowsPerPage={config.rowsPerPage}\r\n                      pushpinTop={common.getHeaderHeight()}\r\n                      selectable='single'\r\n                      editProps={{\r\n                        \"schema\": contract_allowance_schema,\r\n                        \"handleOk\": handleEditObject(\r\n                          () => this.setState({allowance_reload: !allowance_reload}),\r\n                          config.api.contract.contract_allowances_detail,\r\n                          contract_id\r\n                        ),\r\n                        \"visible\": common.hasPerm('contract.change_contract'),\r\n                      }}\r\n                    />\r\n                  )}\r\n                />\r\n              </Paper>\r\n            </GridItem>\r\n            <GridItem xs={12} sm={12} md={12} lg={12}>\r\n              <Paper style={paperSpacing}>\r\n                <DataSource\r\n                  reload={comment_reload}\r\n                  endpoint={common.formatStr(config.api.contract.contract_items, contract_id)}\r\n                  render={(initData) => (\r\n                    <EnhancedTable\r\n                      title=\"\"\r\n                      showTitle={true}\r\n                      tableHead={contract_item_list_schema}\r\n                      tableData={initData.results}\r\n                      rowsPerPage={config.rowsPerPage}\r\n                      pushpinTop={common.getHeaderHeight()}\r\n                      selectable='single'\r\n                      addProps={{\r\n                        \"schema\": this.add_contract_item_schema,\r\n                        \"data\": { contract: contract_id },\r\n                        \"handleOk\": handleAddObject(\r\n                          () => {\r\n                            this.setState({comment_reload: !comment_reload});\r\n                            this.initCommentsForAdd(contract_id);\r\n                          },\r\n                          config.api.contract.contract_comment_list,\r\n                          contract_id\r\n                        ),\r\n                        \"onChanges\": [this.onContractCommentChange],\r\n                        \"visible\": common.hasPerm('contract.add_contract'),\r\n                      }}\r\n                      editProps={{\r\n                        \"schema\": contract_item_schema,\r\n                        \"handleOk\": handleEditObject(\r\n                          () => this.setState({comment_reload: !comment_reload}),\r\n                          config.api.contract.contract_comment_detail,\r\n                          contract_id\r\n                        ),\r\n                        \"visible\": common.hasPerm('contract.change_contract'),\r\n                      }}\r\n                      deleteProps={{\r\n                        handleDelete: handleDeleteObject(\r\n                          () => {\r\n                            this.setState({comment_reload: !comment_reload});\r\n                            this.initCommentsForAdd(contract_id);\r\n                          },\r\n                          config.api.contract.contract_comment_detail,\r\n                          contract_id\r\n                        ),\r\n                      }}\r\n                    />\r\n                  )}\r\n                />\r\n              </Paper>\r\n            </GridItem>\r\n          </GridContainer>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withPermissions(ContractDetail, 'contract.view_contract');\r\n","import React from 'react';\r\nimport { Card, CardHeader, CardContent, IconButton } from '@material-ui/core';\r\nimport PrintIcon from '@material-ui/icons/Print';\r\nimport TopBreadcrumbs from '../../components/TopBreadcrumbs';\r\nimport { getMemberInfo, getContract, getReportContractEmployment } from '../utils/api';\r\nimport { common } from '../../utils/common';\r\nimport { withPermissions } from '../../components';\r\n\r\nclass ContractEmployment extends React.Component {\r\n  title = '';\r\n  reportId = 'printContractEmployment';\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      open: false,\r\n      member: {},\r\n      contract: {},\r\n      employment_html: null,\r\n    };\r\n    this.initialize(props.match.params);\r\n  }\r\n\r\n  initialize = (params) => {\r\n    getMemberInfo(params.member_id).then(member => {\r\n      this.setState({member});\r\n    });\r\n    getContract(params.contract_id).then(contract => {\r\n      this.setState({contract});\r\n    });\r\n    getReportContractEmployment(params.contract_id).then(json => {\r\n      this.setState({employment_html: json.html});\r\n    })\r\n  };\r\n\r\n  componentDidUpdate = () => {\r\n    const { member } = this.state;\r\n    document.title = `${this.title} | ${member.full_name} | `;\r\n  };\r\n\r\n  render() {\r\n    const { member_id, contract_id } = this.props.match.params;\r\n    const { member, contract, employment_html } = this.state;\r\n\r\n    return (\r\n      <div>\r\n        <TopBreadcrumbs\r\n          breadcrumbs={[\r\n            {link: '/contract', name: ''},\r\n            {link: '/contract/members', name: ''},\r\n            {link: `/contract/members/${member_id}`, name: member.full_name },\r\n            {link: `/contract/members/${member_id}/contracts/${contract_id}`, name: contract.contract_no },\r\n            {name: this.title },\r\n          ]}\r\n        />\r\n        <div style={{marginTop: 16}}>\r\n          <Card>\r\n            <CardHeader\r\n              title={this.title}\r\n              action={\r\n                <IconButton\r\n                  aria-haspopup=\"true\"\r\n                  onClick={() => {common.printIframeContent(this.reportId)}}\r\n                >\r\n                  <PrintIcon />\r\n                </IconButton>\r\n              }\r\n            />\r\n            <CardContent>\r\n              <iframe\r\n                title={this.title}\r\n                id={this.reportId}\r\n                srcDoc={employment_html}\r\n                frameBorder='0'\r\n                width='100%'\r\n                height='1100px'\r\n              >\r\n              </iframe>\r\n            </CardContent>\r\n          </Card>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withPermissions(ContractEmployment, 'contract.view_contract');\r\n","import React from 'react';\r\nimport { Card, CardHeader, CardContent, IconButton } from '@material-ui/core';\r\nimport PrintIcon from '@material-ui/icons/Print';\r\nimport TopBreadcrumbs from '../../components/TopBreadcrumbs';\r\nimport { getMemberInfo, getContract, getReportContractIncumbency } from '../utils/api';\r\nimport { common } from '../../utils/common';\r\nimport { withPermissions } from '../../components';\r\n\r\nclass ContractIncumbency extends React.Component {\r\n  title = '';\r\n  reportId = 'printContractIncumbency';\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      member: {},\r\n      contract: {},\r\n      incumbency_html: null,\r\n    };\r\n    this.initialize(props.match.params);\r\n  }\r\n\r\n  initialize = (params) => {\r\n    getMemberInfo(params.member_id).then(member => {\r\n      this.setState({member});\r\n    });\r\n    getContract(params.contract_id).then(contract => {\r\n      this.setState({contract});\r\n    });\r\n    getReportContractIncumbency(params.contract_id).then(json => {\r\n      this.setState({incumbency_html: json.html});\r\n    })\r\n  };\r\n\r\n  componentDidUpdate = () => {\r\n    const { member } = this.state;\r\n    document.title = `${this.title} | ${member.full_name} | `;\r\n  };\r\n\r\n  render() {\r\n    const { member_id, contract_id } = this.props.match.params;\r\n    const { member, contract, incumbency_html } = this.state;\r\n\r\n    return (\r\n      <div>\r\n        <TopBreadcrumbs\r\n          breadcrumbs={[\r\n            {link: '/contract', name: ''},\r\n            {link: '/contract/members', name: ''},\r\n            {link: `/contract/members/${member_id}`, name: member.full_name },\r\n            {link: `/contract/members/${member_id}/contracts/${contract_id}`, name: contract.contract_no },\r\n            {name: this.title },\r\n          ]}\r\n        />\r\n        <div style={{marginTop: 16}}>\r\n          <Card>\r\n            <CardHeader\r\n              title={this.title}\r\n              action={\r\n                <IconButton\r\n                  aria-haspopup=\"true\"\r\n                  onClick={() => {common.printIframeContent(this.reportId)}}\r\n                >\r\n                  <PrintIcon />\r\n                </IconButton>\r\n              }\r\n            />\r\n            <CardContent>\r\n              <iframe\r\n                title={this.title}\r\n                id={this.reportId}\r\n                srcDoc={incumbency_html}\r\n                frameBorder='0'\r\n                width='100%'\r\n                height='1100px'\r\n              >\r\n              </iframe>\r\n            </CardContent>\r\n          </Card>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withPermissions(ContractIncumbency, 'contract.view_contract');\r\n","import React from 'react';\r\nimport { Card, CardHeader, CardContent, IconButton } from '@material-ui/core';\r\nimport PrintIcon from '@material-ui/icons/Print';\r\nimport TopBreadcrumbs from '../../components/TopBreadcrumbs';\r\nimport { getMemberInfo, getContract, getReportContractIncome } from '../utils/api';\r\nimport { common } from '../../utils/common';\r\nimport { withPermissions } from '../../components';\r\n\r\nclass ContractIncome extends React.Component {\r\n  title = '';\r\n  reportId = 'printContractIncome';\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      member: {},\r\n      contract: {},\r\n      income_html: null,\r\n    };\r\n    this.initialize(props.match.params);\r\n  }\r\n\r\n  initialize = (params) => {\r\n    getMemberInfo(params.member_id).then(member => {\r\n      this.setState({member});\r\n    });\r\n    getContract(params.contract_id).then(contract => {\r\n      this.setState({contract});\r\n    });\r\n    getReportContractIncome(params.contract_id).then(json => {\r\n      this.setState({income_html: json.html});\r\n    })\r\n  };\r\n\r\n  componentDidUpdate = () => {\r\n    const { member } = this.state;\r\n    document.title = `${this.title} | ${member.full_name} | `;\r\n  };\r\n\r\n  render() {\r\n    const { member_id, contract_id } = this.props.match.params;\r\n    const { member, contract, income_html } = this.state;\r\n\r\n    return (\r\n      <div>\r\n        <TopBreadcrumbs\r\n          breadcrumbs={[\r\n            {link: '/contract', name: ''},\r\n            {link: '/contract/members', name: ''},\r\n            {link: `/contract/members/${member_id}`, name: member.full_name },\r\n            {link: `/contract/members/${member_id}/contracts/${contract_id}`, name: contract.contract_no },\r\n            {name: this.title },\r\n          ]}\r\n        />\r\n        <div style={{marginTop: 16}}>\r\n          <Card>\r\n            <CardHeader\r\n              title={this.title}\r\n              action={\r\n                <IconButton\r\n                  aria-haspopup=\"true\"\r\n                  onClick={() => {common.printIframeContent(this.reportId)}}\r\n                >\r\n                  <PrintIcon />\r\n                </IconButton>\r\n              }\r\n            />\r\n            <CardContent>\r\n              <iframe\r\n                title={this.title}\r\n                id={this.reportId}\r\n                srcDoc={income_html}\r\n                frameBorder='0'\r\n                width='100%'\r\n                height='1100px'\r\n              >\r\n              </iframe>\r\n            </CardContent>\r\n          </Card>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withPermissions(ContractIncome, 'contract.view_contract');\r\n","import React from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { Paper } from '@material-ui/core';\r\nimport { EnhancedTable } from '../../datatable/index';\r\nimport {\r\n  TopBreadcrumbs,\r\n  DataSource,\r\n  withPermissions,\r\n} from '../../components';\r\nimport { config } from '../../utils/config';\r\nimport { contract_auto_update_list_schema } from './schema';\r\nimport { common } from '../../utils';\r\nimport { paperSpacing } from '../../assets/jss/material-dashboard-react';\r\n\r\nconst styles = theme => ({\r\n  card: { ...paperSpacing },\r\n})\r\n\r\nclass AutoUpdateList extends React.Component {\r\n  title = '';\r\n\r\n  componentDidMount = () => {\r\n    document.title = `${this.title} | `\r\n  };\r\n\r\n  render() {\r\n    const { classes } = this.props;\r\n    const filters = {};\r\n\r\n    return (\r\n      <div>\r\n        <TopBreadcrumbs\r\n          breadcrumbs={[\r\n            {link: '/contract', name: ''},\r\n            { name: this.title },\r\n          ]}\r\n        />\r\n        <Paper className={classes.card}>\r\n          <DataSource\r\n            endpoint={ config.api.contract.auto_update_list }\r\n            render={ (initData) => (\r\n              <EnhancedTable\r\n                title={this.title}\r\n                showTitle={true}\r\n                tableHead={contract_auto_update_list_schema}\r\n                tableData={initData}\r\n                rowsPerPage={config.rowsPerPage}\r\n                filters={filters}\r\n                allowCsv={true}\r\n                urlReflect={false}\r\n                pushpinTop={common.getHeaderHeight()}\r\n                tableStyles={{ minWidth: 500 }}\r\n              />\r\n            ) } \r\n          />\r\n        </Paper>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withPermissions(withStyles(styles)(AutoUpdateList), 'contract.view_contract');\r\n","import React from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { Paper } from '@material-ui/core';\r\nimport { EnhancedTable } from '../../datatable/index';\r\nimport {\r\n  TopBreadcrumbs,\r\n  DataSource,\r\n  withPermissions,\r\n} from '../../components';\r\nimport { config } from '../../utils/config';\r\nimport { contract_expire_list_schema } from './schema';\r\nimport { common } from '../../utils';\r\nimport { paperSpacing } from '../../assets/jss/material-dashboard-react';\r\n\r\nconst styles = theme => ({\r\n  card: {\r\n    ...paperSpacing,\r\n  },\r\n})\r\n\r\nclass ContractExpireList extends React.Component {\r\n  title = '';\r\n\r\n  componentDidMount = () => {\r\n    document.title = `${this.title} | `\r\n  };\r\n\r\n  render() {\r\n    const { classes } = this.props;\r\n    const filters = {};\r\n\r\n    return (\r\n      <div>\r\n        <TopBreadcrumbs\r\n          breadcrumbs={[\r\n            {link: '/contract', name: ''},\r\n            { name: this.title },\r\n          ]}\r\n        />\r\n        <Paper className={classes.card}>\r\n          <DataSource\r\n            endpoint={ config.api.contract.expire_list }\r\n            render={ (initData) => (\r\n              <EnhancedTable\r\n                title={this.title}\r\n                showTitle={true}\r\n                tableHead={contract_expire_list_schema}\r\n                tableData={initData}\r\n                rowsPerPage={config.rowsPerPage}\r\n                filters={filters}\r\n                allowCsv={true}\r\n                urlReflect={false}\r\n                pushpinTop={common.getHeaderHeight()}\r\n                tableStyles={{ minWidth: 500 }}\r\n              />\r\n            ) } \r\n          />\r\n        </Paper>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withPermissions(withStyles(styles)(ContractExpireList), 'contract.view_contract');\r\n","import React from 'react';\r\nimport { Paper } from '@material-ui/core';\r\nimport NavigateBeforeIcon from '@material-ui/icons/NavigateBefore';\r\nimport NavigateNextIcon from '@material-ui/icons/NavigateNext';\r\nimport { DataSource } from '../../components';\r\nimport { EnhancedTable } from '../../datatable';\r\nimport { config, common } from '../../utils';\r\nimport {\r\n  commutation_list_schema,\r\n  commutation_add_schema,\r\n  commutation_edit_schema,\r\n} from './schema';\r\nimport {\r\n  handleAddObject,\r\n  getMemberChoices,\r\n  handleEditObject,\r\n  handleDeleteObject,\r\n} from '../utils/api';\r\nimport { paperSpacing } from '../../assets/jss/material-dashboard-react';\r\n\r\nclass CommutationList extends React.Component {\r\n  commutation_add_schema = common.clone(commutation_add_schema);\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      reload: false,\r\n      year: props.match.params.year || common.getCurrentYear(),\r\n      month: props.match.params.month || common.getCurrentMonth(),\r\n      members: [],\r\n    };\r\n    this.initialize();\r\n}\r\n\r\n  initialize = () => {\r\n    getMemberChoices().then(members => this.setState({ members }));\r\n  };\r\n\r\n  componentDidMount = () => {\r\n    const { year, month } = this.state;\r\n    document.title = `${year}${month} | `;\r\n  }\r\n\r\n  componentDidUpdate = () => {\r\n    const { year, month } = this.state;\r\n    document.title = `${year}${month} | `;\r\n  }\r\n\r\n  prevMonth = () => {\r\n    const { year, month } = this.state;\r\n    const date = common.getPrevMonthDictByYm(year, month)\r\n    common.redirect(`/contract/commutations/year/${date.year}/month/${date.month}/`);\r\n    this.setState(state => ({ ...date, reload: !state.reload }));\r\n  };\r\n\r\n  nextMonth = () => {\r\n    const { year, month } = this.state;\r\n    const date = common.getNextMonthDictByYm(year, month)\r\n    common.redirect(`/contract/commutations/year/${date.year}/month/${date.month}/`);\r\n    this.setState(state => ({ ...date, reload: !state.reload }));\r\n  };\r\n\r\n  render() {\r\n    const { year, month, reload, members } = this.state;\r\n    common.getFromJsonList(this.commutation_add_schema, 'name', 'id').choices = members;\r\n\r\n    return (\r\n      <div>\r\n        <Paper style={paperSpacing}>\r\n          <DataSource\r\n            reload={reload}\r\n            endpoint={ common.formatStr(config.api.contract.commutation_list, year, month) }\r\n            render={ (initData) => (\r\n              <EnhancedTable\r\n                title={`${year}/${month}`}\r\n                showTitle={true}\r\n                storageKey='member_commutation'\r\n                tableHead={commutation_list_schema}\r\n                tableData={initData}\r\n                rowsPerPage={config.rowsPerPage}\r\n                allowCsv={true}\r\n                pushpinTop={common.getHeaderHeight()}\r\n                tableStyles={{ minWidth: 800 }}\r\n                selectable='single'\r\n                tableActions={[\r\n                  {\r\n                    \"tooltip\": \"\",\r\n                    \"icon\": <NavigateBeforeIcon />,\r\n                    \"handleClick\": this.prevMonth,\r\n                  },\r\n                  {\r\n                    \"tooltip\": \"\",\r\n                    \"icon\": <NavigateNextIcon />,\r\n                    \"handleClick\": this.nextMonth,\r\n                  },\r\n                ]}\r\n                addProps={{\r\n                  \"title\": '',\r\n                  \"schema\": this.commutation_add_schema,\r\n                  \"handleOk\": handleAddObject(\r\n                    () => this.setState({reload: !reload}),\r\n                    (data) => common.formatStr(config.api.contract.commutation_add, data.id),\r\n                  ),\r\n                  \"visible\": (data) => {\r\n                    if (common.hasPerm('member.add_membercommutation') && data.commutation_id) {\r\n                      if (common.formatDate(new Date(data.start_date), 'YYYYMM') === `${year}${month}`) {\r\n                        return true;\r\n                      }\r\n                    }\r\n                    return false;\r\n                  },\r\n                }}\r\n                editProps={{\r\n                  \"schema\": commutation_edit_schema,\r\n                  \"handleOk\": handleEditObject(\r\n                    () => this.setState({reload: !reload}),\r\n                    (data) => common.formatStr(config.api.contract.commutation_detail, data.id, data.commutation_id),\r\n                  ),\r\n                  \"visible\": (data) => {\r\n                    if (common.hasPerm('member.edit_membercommutation') && data.commutation_id) {\r\n                      if (common.formatDate(new Date(data.start_date), 'YYYYMM') === `${year}${month}`) {\r\n                        return true;\r\n                      }\r\n                    }\r\n                    return false;\r\n                  },\r\n                }}\r\n                deleteProps={{\r\n                  \"handleDelete\": handleDeleteObject(\r\n                    () => this.setState({reload: !reload}),\r\n                    (data) => common.formatStr(config.api.contract.commutation_detail, data.id, data.commutation_id),\r\n                  ),\r\n                  \"visible\": (data) => {\r\n                    if (common.hasPerm('member.edit_membercommutation') && data.commutation_id) {\r\n                      if (common.formatDate(new Date(data.start_date), 'YYYYMM') === `${year}${month}`) {\r\n                        return true;\r\n                      }\r\n                    }\r\n                    return false;\r\n                  },\r\n                }}\r\n              />\r\n            )} \r\n          />\r\n        </Paper>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default CommutationList\r\n","import React from 'react';\r\nimport { Paper, Dialog, DialogTitle, DialogContent } from '@material-ui/core';\r\nimport CloudUploadIcon from '@material-ui/icons/CloudUpload';\r\nimport FindInPageIcon from '@material-ui/icons/FindInPage';\r\nimport { EnhancedTable, FormDialog } from '../../datatable';\r\nimport { TopBreadcrumbs, Toast } from '../../components';\r\nimport {\r\n  member_salary_preview_list_schema,\r\n  import_salary_csv_form_schema,\r\n} from './schema';\r\nimport { config, common, constant } from '../../utils';\r\nimport { getSalaryCSVPreview, previewSalaryStatement } from '../utils';\r\nimport { paperSpacing } from '../../assets/jss/material-dashboard-react';\r\n\r\nclass SalaryUpload extends React.Component {\r\n  title = '';\r\n  reportId = 'salary_statment';\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      openPreview: false,\r\n      salary_list: [],\r\n      salary_statment_html: null,\r\n    };\r\n  }\r\n\r\n  handleOpenPreview = () => {\r\n    this.setState({ openPreview: true });\r\n  }\r\n\r\n  handleClosePreview = () => {\r\n    this.setState({ openPreview: false });\r\n  }\r\n\r\n  showImportSalaryCSV = () => {\r\n    if (this._showImportDialog) {\r\n      this._showImportDialog();\r\n    }\r\n  };\r\n\r\n  previewSalaryCSV = (data) => {\r\n    return getSalaryCSVPreview(data).then((csv) => (\r\n      this.setState({ salary_list: csv })\r\n    )).catch(errors => (\r\n      Toast.error(errors.detail)\r\n    ));\r\n  };\r\n\r\n  handlePreviewSalaryStatement = (data) => {\r\n    if (Array.isArray(data) && data.length > 1) {\r\n      Toast.error(constant.ERROR.SELECT_SINGLE);\r\n    } else {\r\n      previewSalaryStatement(data).then(json => {\r\n        this.setState({ salary_statment_html: json.html });\r\n        this.handleOpenPreview();\r\n      }).catch(errors => (\r\n        Toast.error(errors.detail)\r\n      ))\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { openPreview, salary_list, salary_statment_html } = this.state;\r\n\r\n    return (\r\n      <div>\r\n        <TopBreadcrumbs\r\n          breadcrumbs={[\r\n            {link: '/contract', name: ''},\r\n            { name: this.title },\r\n          ]}\r\n        />\r\n        <Paper style={paperSpacing}>\r\n          <EnhancedTable\r\n            title={this.title}\r\n            showTitle={true}\r\n            tableHead={member_salary_preview_list_schema}\r\n            tableData={salary_list}\r\n            rowsPerPage={config.rowsPerPage}\r\n            tableActions={[\r\n              {\r\n                'tooltip': '',\r\n                'icon': <CloudUploadIcon />,\r\n                'handleClick': this.showImportSalaryCSV,\r\n              },\r\n            ]}\r\n            rowActions={[\r\n              {\r\n                'tooltip': '',\r\n                'icon': <FindInPageIcon />,\r\n                'handleClick': this.handlePreviewSalaryStatement,\r\n              },\r\n            ]}\r\n            tableStyles={{minWidth: 2440}}\r\n            pushpinTop={common.getHeaderHeight()}\r\n            selectable='multiple'\r\n          />\r\n        </Paper>\r\n        <FormDialog\r\n          title=''\r\n          schema={import_salary_csv_form_schema}\r\n          handleOk={this.previewSalaryCSV}\r\n          innerRef={(dlg) => { this._showImportDialog = dlg && dlg.handleOpen }}\r\n        />\r\n        <Dialog\r\n          open={openPreview}\r\n          onClose={this.handleClosePreview}\r\n          scroll='body'\r\n          maxWidth={false}\r\n        >\r\n          <DialogTitle></DialogTitle>\r\n          <DialogContent>\r\n            <iframe\r\n              title=''\r\n              id={this.reportId}\r\n              srcDoc={salary_statment_html}\r\n              frameBorder='0'\r\n              width='960px'\r\n              height='1400px'\r\n            >\r\n            </iframe>\r\n          </DialogContent>\r\n        </Dialog>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SalaryUpload;\r\n","import React from 'react';\r\nimport { Paper } from '@material-ui/core';\r\nimport {\r\n  DataSource,\r\n  withPermissions,\r\n} from '../../components';\r\nimport { EnhancedTable } from '../../datatable';\r\nimport { config, common } from '../../utils';\r\nimport {\r\n  paid_vacation_list_schema,\r\n  paid_vacation_edit_schema,\r\n  paid_vacation_edit_layout,\r\n} from './schema';\r\nimport { handleEditObject } from '../utils';\r\nimport { paperSpacing } from '../../assets/jss/material-dashboard-react';\r\n\r\nclass PaidVacationList extends React.Component {\r\n  title = '';\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      reload: false,\r\n    };\r\n  }\r\n\r\n  render() {\r\n    const { reload } = this.state;\r\n\r\n    return (\r\n      <div>\r\n        <Paper style={paperSpacing}>\r\n        <DataSource\r\n            reload={reload}\r\n            endpoint={ config.api.contract.paid_vacation_list }\r\n            render={ (initData) => (\r\n              <EnhancedTable\r\n                title={this.title}\r\n                showTitle={true}\r\n                storageKey='member_commutation'\r\n                tableHead={paid_vacation_list_schema}\r\n                tableData={initData}\r\n                rowsPerPage={config.rowsPerPage}\r\n                allowCsv={true}\r\n                pushpinTop={common.getHeaderHeight()}\r\n                selectable='single'\r\n                editProps={{\r\n                  \"schema\": paid_vacation_edit_schema,\r\n                  \"layout\": paid_vacation_edit_layout,\r\n                  \"handleOk\": handleEditObject(\r\n                    () => this.setState({reload: !reload}),\r\n                    (data) => common.formatStr(config.api.contract.paid_vacation_detail, data.id),\r\n                  ),\r\n                  \"visible\": common.hasPerm('member.edit_paidvacation'),\r\n                }}\r\n              />\r\n            )}\r\n          />\r\n        </Paper>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withPermissions(PaidVacationList, 'member.view_paidvacation');\r\n","import {\r\n  choice_simple_member_type,\r\n  choice_organization_position,\r\n  choice_contract_type_all_member,\r\n  config,\r\n} from \"../../utils\";\r\n\r\nexport const list_organization_schema = [\r\n  {\r\n    \"name\": \"name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"link\": '/organization/%(id)s/',\r\n  },\r\n  {\r\n    \"name\": \"member_count\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"leaders\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n  },\r\n];\r\n\r\nexport const organization_form_schema = [\r\n  {\r\n    \"name\": \"code\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"max_length\": 2,\r\n    \"help_text\": \"01:02:03:\",\r\n  },\r\n  {\r\n    \"name\": \"name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"required\": true,\r\n    \"max_length\": 30,\r\n  },\r\n  {\r\n    \"name\": \"description\",\r\n    \"type\": \"text\",\r\n    \"label\": \"\",\r\n    \"max_length\": 200,\r\n  },\r\n  {\r\n    \"name\": \"org_type\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"choices\": [\r\n      {\"value\": '01', 'display_name': ''},\r\n      {\"value\": '02', 'display_name': ''},\r\n      {\"value\": '03', 'display_name': ''},\r\n    ],\r\n    \"required\": true,\r\n  },\r\n  {\r\n    \"name\": \"parent\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"choices\": [],\r\n  },\r\n  {\r\n    \"name\": \"is_on_sales\",\r\n    \"type\": \"boolean\",\r\n    \"label\": \"\",\r\n    \"help_text\": \"\"\r\n  },\r\n];\r\n\r\nexport const organization_detail_schema = [\r\n  {\r\n    \"name\": \"code\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"description\",\r\n    \"type\": \"text\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"org_type\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"choices\": [\r\n      {\"value\": '01', 'display_name': ''},\r\n      {\"value\": '02', 'display_name': ''},\r\n      {\"value\": '03', 'display_name': ''},\r\n    ],\r\n  },\r\n  {\r\n    \"name\": \"parent_name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"is_on_sales\",\r\n    \"type\": \"boolean\",\r\n    \"label\": \"\",\r\n  },\r\n];\r\n\r\nexport const org_member_list_schema = [\r\n  {\r\n    \"name\": \"full_name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"sortable\": true,\r\n  },\r\n  {\r\n    \"name\": \"org_name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"sortable\": true,\r\n  },\r\n  {\r\n    \"name\": \"start_date\",\r\n    \"type\": \"date\",\r\n    \"label\": \"\",\r\n    \"sortable\": true,\r\n  },\r\n  {\r\n    \"name\": \"end_date\",\r\n    \"type\": \"date\",\r\n    \"label\": \"\",\r\n    \"sortable\": true,\r\n  },\r\n  {\r\n    \"name\": \"is_belong\",\r\n    \"type\": \"boolean\",\r\n    \"label\": \"\",\r\n    \"visible\": false,\r\n    \"searchable\": true,\r\n    \"rowStyles\": {\r\n      0: {'backgroundColor': 'lightgray'}\r\n    },\r\n    'variant': 'select',\r\n    \"native\": true,\r\n  },\r\n  {\r\n    \"name\": \"partner_company_name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"link\": \"/partner/companies/%(partner_company_id)s/\",\r\n    \"searchable\": true,\r\n    \"sortable\": true,\r\n  },\r\n  {\r\n    \"name\": \"member_type\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"choices\": choice_simple_member_type,\r\n    \"searchable\": true,\r\n    \"sortable\": true,\r\n    \"native\": true,\r\n  },\r\n];\r\n\r\nexport const positionship_form_schema = [\r\n  {\r\n    \"name\": \"position\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"choices\": choice_organization_position,\r\n    \"required\": true,\r\n  },\r\n  {\r\n    \"name\": \"member\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"choices\": [],\r\n    \"required\": true,\r\n    \"variant\": \"autocomplete\",\r\n  },\r\n  {\r\n    \"name\": \"is_part_time\",\r\n    \"type\": \"boolean\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"start_date\",\r\n    \"type\": \"date\",\r\n    \"label\": \"\",\r\n    \"required\": true,\r\n  },\r\n  {\r\n    \"name\": \"end_date\",\r\n    \"type\": \"date\",\r\n    \"label\": \"\",\r\n    \"required\": true,\r\n    \"default\": '9999-12-31',\r\n  },\r\n];\r\n\r\nexport const turnover_client_schema_by_month = [\r\n  {\r\n    \"name\": \"division_name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"sortable\": true,\r\n  },\r\n  {\r\n    \"name\": \"department_name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"sortable\": true,\r\n  },\r\n  {\r\n    \"name\": \"section_name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"sortable\": true,\r\n  },\r\n  {\r\n    \"name\": \"company_name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"sortable\": true,\r\n  },\r\n  {\r\n    \"name\": \"cost\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"()\",\r\n    \"sortable\": true,\r\n    \"aggregate\": \"sum\",\r\n  },\r\n  {\r\n    \"name\": \"turnover_amount\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"()\",\r\n    \"sortable\": true,\r\n    \"aggregate\": \"sum\",\r\n  },\r\n  {\r\n    \"name\": \"expense_amount\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"\",\r\n    \"sortable\": true,\r\n    \"aggregate\": \"sum\",\r\n  },\r\n  {\r\n    \"name\": \"amount\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"()\",\r\n    \"sortable\": true,\r\n    \"aggregate\": \"sum\",\r\n  },\r\n  {\r\n    \"name\": \"profit\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"\",\r\n    \"sortable\": true,\r\n    \"aggregate\": \"sum\",\r\n  },\r\n  {\r\n    \"name\": \"profit_rate\",\r\n    \"type\": \"percent\",\r\n    \"label\": \"\",\r\n    \"sortable\": true,\r\n    \"decimal_digits\": 1,\r\n    \"aggregate\": ({profit, amount}) => (profit / amount),\r\n  },\r\n];\r\n\r\nexport const org_positionship_list_schema = [\r\n  {\r\n    \"name\": \"full_name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"position_name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"is_part_time\",\r\n    \"type\": \"boolean\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"start_date\",\r\n    \"type\": \"date\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"end_date\",\r\n    \"type\": \"date\",\r\n    \"label\": \"\",\r\n  },\r\n];\r\n\r\nexport const org_attendance_by_month_schema = [\r\n  {\r\n    \"name\": \"code\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"full_name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"organization_name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"company_name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"max_width\": 150,\r\n  },\r\n  {\r\n    \"name\": \"contract_type\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"choices\": choice_contract_type_all_member,\r\n    \"max_width\": 70,\r\n  },\r\n  {\r\n    \"name\": \"project_name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"max_width\": 150,\r\n    \"link\": \"/project/projects/%(project_id)s\"\r\n  },\r\n  {\r\n    \"name\": \"nearest_station\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"client_name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"max_width\": 150,\r\n  },\r\n  {\r\n    \"name\": \"total_hours\",\r\n    \"type\": \"decimal\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"total_hours_bp\",\r\n    \"type\": \"decimal\",\r\n    \"label\": \"BP\",\r\n  },\r\n  {\r\n    \"name\": \"extra_hours\",\r\n    \"type\": \"decimal\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"total_days\",\r\n    \"type\": \"decimal\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"night_days\",\r\n    \"type\": \"decimal\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"is_submitted\",\r\n    \"type\": \"boolean\",\r\n    \"label\": \"\",\r\n    \"visible\": false,\r\n    \"rowStyles\": {\r\n      1: {'backgroundColor': 'lightgray'},\r\n    },\r\n  },\r\n];\r\n\r\nexport const import_attendance_form_schema = [\r\n  {\r\n    \"name\": \"attendance_file\",\r\n    \"type\": \"file\",\r\n    \"label\": \"\",\r\n    \"limit\": config.fileSizeLimit,\r\n  },\r\n];\r\n","import React from 'react';\r\nimport { Paper } from '@material-ui/core';\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport { HierarchyTable } from '../../datatable/index';\r\nimport DataSource from '../../components/DataSource';\r\nimport { list_organization_schema } from './schema';\r\nimport { config } from '../../utils/config';\r\nimport { common } from '../../utils/common';\r\nimport { withPermissions } from '../../components';\r\nimport { paperSpacing } from '../../assets/jss/material-dashboard-react';\r\n\r\nconst styles = (theme) => ({\r\n  paper: {\r\n    ...paperSpacing,\r\n  },\r\n});\r\n\r\nclass OrganizationList extends React.Component {\r\n  title = '';\r\n\r\n  componentDidMount = () => {\r\n    document.title = this.title;\r\n  };\r\n\r\n  render() {\r\n    const { classes } = this.props;\r\n\r\n    return (\r\n      <Paper className={classes.paper}>\r\n        <DataSource\r\n          endpoint={ config.api.organization.portal_list }\r\n          render={ (initData) => (\r\n            <HierarchyTable\r\n              title={this.title}\r\n              tableHead={list_organization_schema}\r\n              tableData={initData.results}\r\n              rowsPerPage={config.rowsPerPage}\r\n              pushpinTop={common.getHeaderHeight()}\r\n              allowCsv={true}\r\n              relatedName='parent_id'\r\n              tableActions={[\r\n                {\r\n                  'tooltip': '',\r\n                  'icon': <AddIcon color=\"secondary\"/>,\r\n                  'handleClick': () => (common.redirect('/organization/add/')),\r\n                  'visible': common.hasPerm('org.add_organization'),\r\n                },\r\n              ]}\r\n              rowActions={[\r\n                {\r\n                  'tooltip': '',\r\n                  'icon': <EditIcon color=\"primary\" />,\r\n                  'handleClick': (row) => (common.redirect(`/organization/${row.id}/edit/`)),\r\n                  'visible': common.hasPerm('org.change_organization'),\r\n                },\r\n              ]}\r\n              tableStyles={{ minWidth: 400 }}\r\n            />\r\n          ) } \r\n        />\r\n      </Paper>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withPermissions(withStyles(styles)(OrganizationList), 'org.view_organization');\r\n","import React from 'react';\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport TopBreadcrumbs from '../../components/TopBreadcrumbs';\r\nimport { organization_form_schema } from './schema';\r\nimport GridContainer from '../../components/Grid/GridContainer';\r\nimport GridItem from '../../components/Grid/GridItem';\r\nimport ActionForm from '../../components/ActionForm';\r\nimport { config } from '../../utils/config';\r\nimport { common } from '../../utils/common';\r\nimport { getOrganizationChoices, getOrganization } from '../utils/api';\r\n\r\nconst styles = (theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(2),\r\n  },\r\n});\r\n\r\nclass OrganizationForm extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = { \r\n      organization: null,\r\n      organizations: [],\r\n    };\r\n    this.initialize(props.match.params);\r\n}\r\n\r\n  initialize = (params) => {\r\n    getOrganizationChoices().then(organizations => {\r\n      this.setState({organizations});\r\n    });\r\n    if (params.org_id) {\r\n      getOrganization(params.org_id).then(organization => {\r\n        this.setState({organization});\r\n      });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { classes, match } = this.props;\r\n    const { organizations, organization } = this.state;\r\n    const title = organization ? '' : '';\r\n    const methodName = organization ? 'PUT' : 'POST';\r\n\r\n    // \r\n    let colOrg = common.getFromJsonList(organization_form_schema, 'name', 'parent');\r\n    colOrg['choices'] = organizations;\r\n\r\n    return (\r\n      <div>\r\n        <TopBreadcrumbs\r\n          breadcrumbs={[\r\n            { link: '/organization', name: '' },\r\n            { name: title },\r\n          ]}\r\n        />\r\n        <div className={classes.paper}>\r\n          <GridContainer>\r\n            <GridItem xs={12} sm={12} md={9} lg={9}>\r\n              <ActionForm\r\n                title={title}\r\n                schema={organization_form_schema}\r\n                data={organization}\r\n                methodName={methodName}\r\n                saveEndpoint={\r\n                  organization\r\n                    ? common.formatStr(config.api.organization.detail, match.params.org_id)\r\n                    : config.api.organization.add\r\n                }\r\n                saveCallback={(data) => common.redirect(`/organization/${data.id}/`)}\r\n                deleteEndpoint={\r\n                  organization && common.hasPerm('org.delete_organization')\r\n                    ? common.formatStr(config.api.organization.detail, match.params.org_id)\r\n                    : null\r\n                }\r\n                deleteCallback={() => common.redirect('/organization')}\r\n              />\r\n            </GridItem>\r\n          </GridContainer>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default withStyles(styles)(OrganizationForm);\r\n","import React from 'react';\r\nimport { withSnackbar } from 'notistack';\r\nimport clsx from 'clsx';\r\nimport {\r\n  Button,\r\n  Card,\r\n  CardContent,\r\n  CardHeader,\r\n  Avatar,\r\n  withStyles,\r\n  Typography,\r\n  CardActions,\r\n  Tooltip,\r\n  IconButton,\r\n  Collapse,\r\n  Paper,\r\n} from '@material-ui/core';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport NavigateBeforeIcon from '@material-ui/icons/NavigateBefore';\r\nimport NavigateNextIcon from '@material-ui/icons/NavigateNext';\r\nimport {\r\n  TableDetail, FormDialog, EnhancedTable,\r\n} from '../../datatable';\r\nimport {\r\n  withPermissions,\r\n  TopBreadcrumbs,\r\n  HasPerm,\r\n  Timeline,\r\n  DataSource,\r\n} from '../../components';\r\nimport GridContainer from '../../components/Grid/GridContainer';\r\nimport GridItem from '../../components/Grid/GridItem';\r\nimport {\r\n  getOrganizationChoices,\r\n  getOrganization,\r\n  handleEditObject,\r\n  handleDeleteObject,\r\n  handleAddObject,\r\n  getMemberChoices,\r\n  getOrganizationPositionTimelines,\r\n} from '../utils/api';\r\nimport {\r\n  organization_detail_schema,\r\n  organization_form_schema,\r\n  positionship_form_schema,\r\n  turnover_client_schema_by_month,\r\n} from './schema';\r\nimport { common, config } from '../../utils';\r\nimport { blue } from '@material-ui/core/colors';\r\nimport { paperSpacing } from '../../assets/jss/material-dashboard-react';\r\n\r\nconst styles = theme => ({\r\n  avatar: {\r\n    backgroundColor: blue[500],\r\n  },\r\n  expand: {\r\n    transform: 'rotate(0deg)',\r\n    marginLeft: 'auto',\r\n    transition: theme.transitions.create('transform', {\r\n      duration: theme.transitions.duration.shortest,\r\n    }),\r\n  },\r\n  expandOpen: {\r\n    transform: 'rotate(180deg)',\r\n  },\r\n  card: {\r\n    ...paperSpacing,\r\n  },\r\n});\r\n\r\nclass OrganizationDetail extends React.Component {\r\n  organization_form_schema = common.clone(organization_form_schema);\r\n  positionship_form_schema = common.clone(positionship_form_schema);\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = { \r\n      organization: {},\r\n      organizations: [],\r\n      members: [],\r\n      chief: {},\r\n      vice_chief: {},\r\n      position_timelines: [],\r\n      org_expanded: false,\r\n      year_turnover_clients: common.getPrevMonthDict().year,\r\n      month_turnover_clients: common.getPrevMonthDict().month,\r\n      turnover_clients_reload: false,\r\n    };\r\n    this.initialize(props);\r\n    this.detail_api = common.formatStr(\r\n      config.api.organization.detail,\r\n      props.match.params.org_id,\r\n    );\r\n}\r\n\r\n  initialize = (props) => {\r\n    const { org_id } = props.match.params;\r\n    getOrganizationChoices().then(organizations => {\r\n      this.setState({organizations});\r\n    });\r\n    getMemberChoices().then(members => this.setState({members}));\r\n    this.initializeOrganization(org_id);\r\n  };\r\n\r\n  initializeOrganization = (org_id) => {\r\n    getOrganization(org_id).then(organization => {\r\n      this.setState({\r\n        organization,\r\n        chief: organization.chief,\r\n        vice_chief: organization.vice_chief,\r\n      });\r\n    });\r\n    getOrganizationPositionTimelines(org_id).then(position_timelines => {\r\n      this.setState({ position_timelines });\r\n    });\r\n  };\r\n\r\n  componentDidUpdate = () => {\r\n    const { organization } = this.state;\r\n    document.title = `${organization.name}`;\r\n  };\r\n\r\n  handleOrgExpandClick = () => {\r\n    this.setState((state) => {\r\n      return { org_expanded: !state.org_expanded };\r\n    })\r\n  };\r\n\r\n  prevMonthTurnoverClients = () => {\r\n    const { year_turnover_clients, month_turnover_clients } = this.state;\r\n    const date = common.getPrevMonthDictByYm(year_turnover_clients, month_turnover_clients)\r\n    this.setState(state => ({\r\n      year_turnover_clients: date.year,\r\n      month_turnover_clients: date.month,\r\n      turnover_clients_reload: !state.turnover_clients_reload,\r\n    }));\r\n  };\r\n\r\n  nextMonthTurnoverClients = () => {\r\n    const { year_turnover_clients, month_turnover_clients } = this.state;\r\n    const date = common.getNextMonthDictByYm(year_turnover_clients, month_turnover_clients)\r\n    this.setState(state => ({\r\n      year_turnover_clients: date.year,\r\n      month_turnover_clients: date.month,\r\n      turnover_clients_reload: !state.turnover_clients_reload,\r\n    }));\r\n  };\r\n\r\n  render() {\r\n    const { org_id } = this.props.match.params;\r\n    const { classes } = this.props;\r\n    const {\r\n      organization, organizations, members, chief, vice_chief, position_timelines, org_expanded,\r\n      year_turnover_clients, month_turnover_clients, turnover_clients_reload,\r\n    } = this.state;\r\n    common.getFromJsonList(this.organization_form_schema, 'name', 'parent')['choices'] = organizations;\r\n    common.getFromJsonList(this.positionship_form_schema, 'name', 'member')['choices'] = members;\r\n\r\n    return (\r\n      <div>\r\n        <TopBreadcrumbs\r\n          breadcrumbs={[\r\n            { link: '/organization', name: '' },\r\n            { name: organization.name },\r\n          ]}\r\n        />\r\n        <div style={{marginTop: 16}}>\r\n          <GridContainer spacing={2}>\r\n            <GridItem xs={12} sm={12} md={9} lg={9}>\r\n              <TableDetail\r\n                data={organization}\r\n                schema={organization_detail_schema}\r\n                editProps={{\r\n                  title: '',\r\n                  schema: this.organization_form_schema,\r\n                  handleEdit: handleEditObject(\r\n                    (organization) => this.setState({organization}),\r\n                    this.detail_api\r\n                  ),\r\n                  visible: common.hasPerm('org.change_organization'),\r\n                }}\r\n                deleteProps={{\r\n                  handleDelete: handleDeleteObject(\r\n                    () => common.redirect('/organization'),\r\n                    this.detail_api,\r\n                  ),\r\n                  visible: common.hasPerm('org.delete_organization'),\r\n                }}\r\n                actions={[\r\n                  <HasPerm key={1} permission='member.view_member'>\r\n                    <Button\r\n                      variant=\"contained\"\r\n                      color=\"primary\"\r\n                      onClick={() => common.redirect(`/organization/${org_id}/members/`, 'is_belong=true')}\r\n                    >\r\n                      \r\n                    </Button>\r\n                  </HasPerm>,\r\n                  <HasPerm key={2} permission='org.view_positionship'>\r\n                    <Button\r\n                      variant=\"contained\"\r\n                      color=\"primary\"\r\n                      onClick={() => common.redirect(`/organization/${org_id}/positions/`)}\r\n                    >\r\n                      \r\n                    </Button>\r\n                  </HasPerm>,\r\n                  <HasPerm key={3} permission='attendance.view_attendance'>\r\n                    <Button\r\n                      variant=\"contained\"\r\n                      color=\"primary\"\r\n                      onClick={() => common.redirect(`/organization/${org_id}/attendances/${common.getPrevMonthDict().year}/${common.getPrevMonthDict().month}`)}\r\n                    >\r\n                      \r\n                    </Button>\r\n                  </HasPerm>,\r\n                ]}\r\n              />\r\n            </GridItem>\r\n            <GridItem xs={12} sm={12} md={3} lg={3}>\r\n              <Card style={{marginTop: 16}}>\r\n                <CardHeader\r\n                  avatar={\r\n                    <Avatar className={classes.avatar}>\r\n                      {organization.name ? organization.name.substring(0, 2) : ''}\r\n                    </Avatar>\r\n                  }\r\n                  title={organization.name}\r\n                />\r\n                <CardContent>\r\n                  <Typography gutterBottom>\r\n                    {organization && !common.isEmpty(chief) ? (\r\n                      `${chief.position_name}: ${chief.full_name}`\r\n                    ) : ''}\r\n                  </Typography>\r\n                  <Typography gutterBottom>\r\n                    {organization && !common.isEmpty(vice_chief) ? (\r\n                      `${vice_chief.position_name}: ${vice_chief.full_name}`\r\n                    ) : null}\r\n                  </Typography>\r\n                </CardContent>\r\n                <CardActions disableSpacing>\r\n                  <HasPerm permission='org.add_positionship'>\r\n                    <Tooltip title=\"\">\r\n                      <IconButton\r\n                        color=\"secondary\"\r\n                        aria-label=\"add\"\r\n                        onClick={() => {\r\n                          if (this._showAddPositionShip) {\r\n                            this._showAddPositionShip({ organization: org_id, end_date: '9999-12-31' });\r\n                          }\r\n                        }}\r\n                        to='/contract/members/add'\r\n                      >\r\n                        <AddIcon />\r\n                      </IconButton>\r\n                    </Tooltip>\r\n                  </HasPerm>\r\n                  { !common.isEmpty(position_timelines) ? (\r\n                    <IconButton\r\n                      className={clsx(classes.expand, {\r\n                        [classes.expandOpen]: org_expanded,\r\n                      })}\r\n                      onClick={this.handleOrgExpandClick}\r\n                      aria-expanded={org_expanded}\r\n                      aria-label=\"show more\"\r\n                    >\r\n                      <ExpandMoreIcon />\r\n                    </IconButton>\r\n                  ) : null }\r\n                </CardActions>\r\n                { !common.isEmpty(position_timelines) ? (\r\n                  <Collapse in={org_expanded} timeout='auto' unmountOnExit>\r\n                    <CardContent>\r\n                      <Timeline items={position_timelines} showTime={false} />\r\n                    </CardContent>\r\n                  </Collapse>\r\n                ) : null }\r\n              </Card>\r\n            </GridItem>\r\n          </GridContainer>\r\n          <Paper className={classes.card}>\r\n            <DataSource\r\n              reload={turnover_clients_reload}\r\n              endpoint={common.formatStr(\r\n                config.api.organization.turnover_for_clients_by_month,\r\n                org_id, year_turnover_clients, month_turnover_clients\r\n              )}\r\n              render={ (initData) => (\r\n                <EnhancedTable\r\n                  title={`${year_turnover_clients}${month_turnover_clients}`}\r\n                  showTitle={true}\r\n                  tableHead={turnover_client_schema_by_month}\r\n                  tableData={initData}\r\n                  rowsPerPage={config.rowsPerPage}\r\n                  allowCsv={true}\r\n                  pushpinTop={common.getHeaderHeight()}\r\n                  showAggregate={true}\r\n                  tableActions={[\r\n                    {\r\n                      \"tooltip\": \"\",\r\n                      \"icon\": <NavigateBeforeIcon />,\r\n                      \"handleClick\": this.prevMonthTurnoverClients,\r\n                    },\r\n                    {\r\n                      \"tooltip\": \"\",\r\n                      \"icon\": <NavigateNextIcon />,\r\n                      \"handleClick\": this.nextMonthTurnoverClients,\r\n                    },\r\n                  ]}\r\n                />\r\n              )}\r\n            />\r\n          </Paper>\r\n        </div>\r\n        <FormDialog\r\n          title=''\r\n          schema={this.positionship_form_schema}\r\n          handleOk={handleAddObject(\r\n            () => this.initializeOrganization(org_id),\r\n            config.api.organization.position_add,\r\n            org_id\r\n          )}\r\n          innerRef={(dlg) => { this._showAddPositionShip = dlg && dlg.handleOpen }}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withPermissions(\r\n  withSnackbar(withStyles(styles)(OrganizationDetail)), 'org.view_organization'\r\n);\r\n","import React from 'react';\r\nimport { EnhancedTable } from '../../datatable/index';\r\nimport {\r\n  TopBreadcrumbs,\r\n  Card,\r\n  CardHeader,\r\n  CardBody,\r\n  DataSource,\r\n} from '../../components';\r\nimport { getOrganization } from '../utils/api';\r\nimport { config, common } from '../../utils';\r\nimport { org_member_list_schema } from './schema';\r\n\r\nclass OrgMemberList extends React.Component {\r\n  title = '';\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = { \r\n      organization: {},\r\n    };\r\n    this.initialize(props);\r\n}\r\n\r\n  initialize = (props) => {\r\n    const { org_id } = props.match.params;\r\n    getOrganization(org_id).then(organization => {\r\n      this.setState({organization});\r\n    });\r\n  };\r\n\r\n  componentDidUpdate = () => {\r\n    const { organization } = this.state;\r\n    document.title = `${this.title} | ${organization.name}`;\r\n  };\r\n\r\n  render() {\r\n    const { org_id } = this.props.match.params;\r\n    const { organization } = this.state;\r\n\r\n    return (\r\n      <div>\r\n        <TopBreadcrumbs\r\n          breadcrumbs={[\r\n            { link: '/organization', name: '' },\r\n            { link: `/organization/${org_id}`, name: organization.name },\r\n            { name: this.title },\r\n          ]}\r\n        />\r\n        <Card>\r\n          <CardHeader color='info'>{this.title}</CardHeader>\r\n          <CardBody>\r\n            <DataSource\r\n              endpoint={common.formatStr(config.api.organization.members, org_id)}\r\n              render={ (initData) => (\r\n                <EnhancedTable\r\n                  title=''\r\n                  storageKey='org.members'\r\n                  tableHead={org_member_list_schema}\r\n                  tableData={initData.results}\r\n                  rowsPerPage={config.rowsPerPage}\r\n                  allowCsv={true}\r\n                  pushpinTop={common.getHeaderHeight()}\r\n                />\r\n              )}\r\n            />\r\n          </CardBody>\r\n        </Card>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default OrgMemberList;\r\n","import React from 'react';\r\nimport { EnhancedTable } from '../../datatable/index';\r\nimport { Paper, withStyles } from '@material-ui/core';\r\nimport {\r\n  TopBreadcrumbs,\r\n  DataSource,\r\n  withPermissions,\r\n} from '../../components';\r\nimport {\r\n  org_positionship_list_schema,\r\n  positionship_form_schema,\r\n} from './schema';\r\nimport {\r\n  getOrganization,\r\n  getMemberChoices,\r\n  handleAddObject,\r\n  handleEditObject,\r\n  handleDeleteObject,\r\n} from '../utils';\r\nimport { common, config } from '../../utils';\r\nimport { paperSpacing } from '../../assets/jss/material-dashboard-react';\r\n\r\nconst styles = (theme) => ({\r\n  paper: {\r\n    ...paperSpacing,\r\n  }\r\n})\r\n\r\nclass OrgPositionList extends React.Component {\r\n  positionship_form_schema = common.clone(positionship_form_schema);\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      organization: {},\r\n      members: [],\r\n      reload: false,\r\n    };\r\n    this.initialize(props);\r\n}\r\n\r\n  initialize = (props) => {\r\n    const { org_id } = props.match.params;\r\n    getOrganization(org_id).then(organization => {\r\n      this.setState({organization});\r\n    });\r\n    getMemberChoices().then(members => this.setState({members}));\r\n  };\r\n\r\n  componentDidUpdate = () => {\r\n    const { organization } = this.state;\r\n    document.title = `${organization.name} `;\r\n  };\r\n\r\n  render() {\r\n    const { org_id } = this.props.match.params;\r\n    const { classes } = this.props;\r\n    const { organization, reload, members } = this.state;\r\n    common.getFromJsonList(this.positionship_form_schema, 'name', 'member')['choices'] = members;\r\n\r\n    return (\r\n      <div>\r\n        <TopBreadcrumbs\r\n          breadcrumbs={[\r\n            { link: '/organization', name: '' },\r\n            { link: `/organization/${org_id}`, name: organization.name },\r\n            { name: '' },\r\n          ]}\r\n        />\r\n        <Paper className={classes.paper}>\r\n          <DataSource\r\n            reload={reload}\r\n            endpoint={common.formatStr(config.api.organization.position_list, org_id)}\r\n            render={ (initData) => (\r\n              <EnhancedTable\r\n                title={`${organization.name} `}\r\n                showTitle={true}\r\n                tableHead={org_positionship_list_schema}\r\n                tableData={initData.results}\r\n                rowsPerPage={config.rowsPerPage}\r\n                allowCsv={true}\r\n                pushpinTop={common.getHeaderHeight()}\r\n                selectable='single'\r\n                addProps={{\r\n                  title: '',\r\n                  schema: this.positionship_form_schema,\r\n                  handleOk: handleAddObject(\r\n                    () => this.setState({reload: !reload}),\r\n                    common.formatStr(config.api.organization.position_add, org_id),\r\n                  ),\r\n                  visible: common.hasPerm('org.add_positionship'),\r\n                  data: {\r\n                    organization: org_id,\r\n                    end_date: '9999-12-31',\r\n                  },\r\n                }}\r\n                editProps={{\r\n                  title: '',\r\n                  schema: this.positionship_form_schema,\r\n                  handleOk: handleEditObject(\r\n                    () => this.setState({reload: !reload}),\r\n                    config.api.organization.position_detail,\r\n                    org_id,\r\n                  ),\r\n                  visible: common.hasPerm('org.change_positionship'),\r\n                }}\r\n                deleteProps={{\r\n                  handleDelete: handleDeleteObject(\r\n                    () => this.setState({reload: !reload}),\r\n                    config.api.organization.position_detail,\r\n                    org_id,\r\n                  ),\r\n                  visible: common.hasPerm('org.delete_positionship'),\r\n                }}\r\n              />\r\n            )}\r\n          />\r\n        </Paper>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withPermissions(withStyles(styles)(OrgPositionList), 'org.view_positionship');\r\n","import React from 'react';\r\nimport { Paper, withStyles } from '@material-ui/core';\r\nimport NavigateBeforeIcon from '@material-ui/icons/NavigateBefore';\r\nimport NavigateNextIcon from '@material-ui/icons/NavigateNext';\r\nimport CloudDownloadIcon from \"@material-ui/icons/CloudDownload\";\r\nimport CloudUploadIcon from '@material-ui/icons/CloudUpload';\r\nimport {\r\n  TopBreadcrumbs,\r\n  DataSource,\r\n  Toast,\r\n} from '../../components';\r\nimport {\r\n  getOrganization,\r\n  export_attendances_by_month,\r\n  handleAddObject,\r\n} from '../utils';\r\nimport { EnhancedTable, FormDialog } from '../../datatable';\r\nimport {\r\n  org_attendance_by_month_schema,\r\n  import_attendance_form_schema,\r\n} from './schema';\r\nimport { common, config } from '../../utils';\r\nimport { paperSpacing } from '../../assets/jss/material-dashboard-react';\r\n\r\nconst styles = (theme) => ({\r\n  paper: {\r\n    ...paperSpacing,\r\n  }\r\n})\r\n\r\nclass OrgAttendanceByMonth extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      organization: {},\r\n      reload: false,\r\n      year: props.match.params.year,\r\n      month: props.match.params.month,\r\n    };\r\n    this.initialize(props);\r\n}\r\n\r\n  initialize = (props) => {\r\n    const { org_id } = props.match.params;\r\n    getOrganization(org_id).then(organization => {\r\n      this.setState({organization});\r\n    });\r\n  };\r\n\r\n  componentDidUpdate = () => {\r\n    const { organization, year, month } = this.state;\r\n    document.title = `${year}${month} | ${organization.name}`;\r\n  };\r\n\r\n  prevMonthAttendances = () => {\r\n    const { org_id } = this.props.match.params;\r\n    const { year, month } = this.state;\r\n    const date = common.getPrevMonthDictByYm(year, month);\r\n    common.redirect(`/organization/${org_id}/attendances/${date.year}/${date.month}/`);\r\n    this.setState(state => ({\r\n      year: date.year,\r\n      month: date.month,\r\n      reload: !state.reload,\r\n    }));\r\n  };\r\n\r\n  nextMonthAttendances = () => {\r\n    const { org_id } = this.props.match.params;\r\n    const { year, month } = this.state;\r\n    const date = common.getNextMonthDictByYm(year, month);\r\n    common.redirect(`/organization/${org_id}/attendances/${date.year}/${date.month}/`);\r\n    this.setState(state => ({\r\n      year: date.year,\r\n      month: date.month,\r\n      reload: !state.reload,\r\n    }));\r\n  };\r\n\r\n  exportAttendanceExcel = () => {\r\n    const { org_id } = this.props.match.params;\r\n    const { year, month } = this.state;\r\n    return export_attendances_by_month(org_id, year, month).then(json => {\r\n      const blob = common.toBlob(json.blob);\r\n      common.downloadBlog(blob, json.name);\r\n    }).catch(errors => {\r\n      Toast.error(errors.detail);\r\n    });\r\n  };\r\n\r\n  showImportAttendanceExcel = () => {\r\n    if (this._showImportDialog) {\r\n      this._showImportDialog();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { org_id } = this.props.match.params;\r\n    const { classes } = this.props;\r\n    const { organization, year, month, reload } = this.state;\r\n\r\n    return (\r\n      <div>\r\n        <TopBreadcrumbs\r\n          breadcrumbs={[\r\n            { link: '/organization', name: '' },\r\n            { link: `/organization/${org_id}`, name: organization.name },\r\n            { name: `${year}${month}` },\r\n          ]}\r\n        />\r\n        <Paper className={classes.paper}>\r\n          <DataSource\r\n            reload={reload}\r\n            endpoint={common.formatStr(config.api.organization.attendance_by_month, org_id, year, month)}\r\n            render={ (initData) => (\r\n              <EnhancedTable\r\n                title={`${year}${month}`}\r\n                showTitle={true}\r\n                tableHead={org_attendance_by_month_schema}\r\n                tableData={initData}\r\n                rowsPerPage={config.rowsPerPage}\r\n                allowCsv={false}\r\n                pushpinTop={common.getHeaderHeight()}\r\n                tableProps={{size: 'small', style: {fontSize: 12}}}\r\n                tableActions={[\r\n                  {\r\n                    \"tooltip\": \"\",\r\n                    \"icon\": <NavigateBeforeIcon />,\r\n                    \"handleClick\": this.prevMonthAttendances,\r\n                  },\r\n                  {\r\n                    \"tooltip\": \"\",\r\n                    \"icon\": <NavigateNextIcon />,\r\n                    \"handleClick\": this.nextMonthAttendances,\r\n                  },\r\n                  {\r\n                    \"tooltip\": \"\",\r\n                    \"icon\": <CloudDownloadIcon />,\r\n                    \"handleClick\": this.exportAttendanceExcel,\r\n                    \"showLoading\": true,\r\n                  },\r\n                  {\r\n                    \"tooltip\": \"\",\r\n                    \"icon\": <CloudUploadIcon />,\r\n                    \"handleClick\": this.showImportAttendanceExcel,\r\n                  },\r\n                ]}\r\n              />\r\n            )}\r\n          />\r\n        </Paper>\r\n        <FormDialog\r\n          title=''\r\n          schema={import_attendance_form_schema}\r\n          handleOk={handleAddObject(\r\n            () => this.setState(state => ({ reload: !state.reload })),\r\n            config.api.organization.import_attendance_excel,\r\n            org_id, year, month\r\n          )}\r\n          innerRef={(dlg) => { this._showImportDialog = dlg && dlg.handleOpen }}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles)(OrgAttendanceByMonth);\r\n","import React from 'react';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport { EnhancedTable } from '../../datatable/index';\r\nimport {\r\n  Card,\r\n  CardHeader,\r\n  CardBody,\r\n  withPermissions,\r\n  DataSource,\r\n} from \"../../components\";\r\nimport {\r\n  list_company_schema,\r\n  company_list_search_layout,\r\n} from './schema';\r\nimport { config } from '../../utils/config';\r\nimport { common } from '../../utils/common';\r\n\r\nclass PartnerCompanyList extends React.Component {\r\n  title = '';\r\n\r\n  componentDidMount = () => {\r\n    document.title = this.title;\r\n  }\r\n\r\n  render () {\r\n    const filters = {};\r\n\r\n    return (\r\n      <div>\r\n        <Card>\r\n          <CardHeader color=\"info\">\r\n            {this.title}\r\n          </CardHeader>\r\n          <CardBody>\r\n            <DataSource\r\n              endpoint={ config.api.partner.list }\r\n              render={ (initData) => (\r\n                <EnhancedTable\r\n                  title={this.title}\r\n                  storageKey='partner.companies'\r\n                  tableHead={list_company_schema}\r\n                  tableData={initData}\r\n                  rowsPerPage={config.rowsPerPage}\r\n                  tableActions={[\r\n                    {\r\n                      'tooltip': '',\r\n                      'icon': <AddIcon color=\"secondary\"/>,\r\n                      'handleClick': () => (common.redirect('/partner/companies/add')),\r\n                      'visible': common.hasPerm('partner.add_partnercompany'),\r\n                    }\r\n                  ]}\r\n                  filters={filters}\r\n                  filterLayout={company_list_search_layout}\r\n                  allowCsv={true}\r\n                  urlReflect={false}\r\n                  pushpinTop={common.getHeaderHeight()}\r\n                  tableStyles={{ minWidth: 1000 }}\r\n                />\r\n              ) } \r\n            />\r\n          </CardBody>\r\n        </Card>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withPermissions(PartnerCompanyList, 'partner.view_partnercompany');\r\n","import React from 'react';\r\nimport TopBreadcrumbs from '../../components/TopBreadcrumbs';\r\nimport GridContainer from '../../components/Grid/GridContainer';\r\nimport GridItem from '../../components/Grid/GridItem';\r\nimport { company_form_schema, company_form_layout } from './schema';\r\nimport ActionForm from '../../components/ActionForm';\r\nimport { config } from '../../utils/config';\r\nimport { common } from '../../utils/common';\r\nimport { withPermissions } from '../../components';\r\n\r\nclass PartnerCompanyForm extends React.Component {\r\n  title = '';\r\n\r\n  componentDidMount = () => {\r\n    document.title = `${this.title}`;\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <TopBreadcrumbs\r\n          breadcrumbs={[\r\n            { link: '/partner/companies?is_retired=false', name: '' },\r\n            { name: this.title },\r\n          ]}\r\n        />\r\n        <div style={{marginTop: 16}}>\r\n          <GridContainer>\r\n            <GridItem xs={12} sm={12} md={9} lg={9}>\r\n              <ActionForm\r\n                title={this.title}\r\n                schema={company_form_schema}\r\n                layout={company_form_layout}\r\n                methodName={'POST'}\r\n                saveEndpoint={config.api.partner.add}\r\n                saveCallback={() => common.redirect('/partner/companies')}\r\n              />\r\n            </GridItem>\r\n          </GridContainer>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withPermissions(PartnerCompanyForm, 'partner.add_partnercompany');\r\n","import React from 'react';\r\nimport PropTypes from \"prop-types\";\r\nimport NoteAddIcon from '@material-ui/icons/NoteAdd';\r\nimport SendIcon from '@material-ui/icons/Send';\r\nimport DoneIcon from '@material-ui/icons/Done';\r\nimport DataSource from '../../components/DataSource';\r\nimport { EnhancedTable, FormDialog, ConfirmDialog } from '../../datatable';\r\nimport {\r\n  partner_orders_status_list_schema,\r\n  create_partner_order_form_schema,\r\n  create_partner_order_form_layout,\r\n  partner_orders_status_filter_layout,\r\n} from './schema';\r\nimport { config, common, constant, checkEndYearAndMonth } from '../../utils';\r\nimport {\r\n  getPartnerOrderEmailData,\r\n  sendContentObjectEmail,\r\n  send_email_form_schema,\r\n  send_email_form_layout,\r\n  createPartnerOrder,\r\n  receivePartnerOrderRequest,\r\n  getSalespersonChoice,\r\n  onDeletePartnerOrder,\r\n} from '../utils';\r\nimport { HasPerm, Toast } from '../../components';\r\n\r\nclass OrderStatusList extends React.Component {\r\n  partner_orders_status_list_schema = partner_orders_status_list_schema;\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      reload: false,\r\n      email_schema: send_email_form_schema,\r\n      received_data: null,\r\n      salesperson_choice: [],\r\n    };\r\n    this.initialize();\r\n  }\r\n\r\n  initialize = () => {\r\n    getSalespersonChoice().then(salesperson_choice => this.setState({salesperson_choice}));\r\n  };\r\n\r\n  showOrderConfirm = (data, orderCreatedCallback) => {\r\n    if (this._showOrderConfirm) {\r\n      this._showOrderConfirm(data);\r\n      this._orderCreatedCallback = orderCreatedCallback;\r\n    }\r\n  };\r\n\r\n  createPartnerOrder = (data, handleClose) => {\r\n    return createPartnerOrder(data.id, data).then(json => {\r\n      handleClose();\r\n      Toast.success(constant.SUCCESS.BP_ORDER_FILE_CREATED);\r\n      if (this._orderCreatedCallback) {\r\n        const newSelected = Object.assign(data, json);\r\n        this._orderCreatedCallback(newSelected)\r\n      }\r\n    }).catch(errors => {\r\n      Toast.error(errors.detail);\r\n    });\r\n  };\r\n\r\n  handleOrderReload = (data) => {\r\n    this.setState({reload: !this.state.reload});\r\n  };\r\n\r\n  showSendEmail = (data, sendEmailCallback) => {\r\n    if (this._showSendEmail) {\r\n      if (data.order_id) {\r\n        getPartnerOrderEmailData(data.order_id).then(mail_data => {\r\n          // \r\n          const email_schema = common.clone(send_email_form_schema);\r\n          common.getFromJsonList(email_schema, 'name', 'attachments')['choices'] = mail_data.attachment_choices;\r\n          this.setState({email_schema});\r\n          this._showSendEmail(mail_data);\r\n          this._sendEmailCallback = sendEmailCallback;\r\n        });\r\n      } else {\r\n        Toast.error(constant.ERROR.BP_ORDER_FILE_NOT_FOUND);\r\n      }\r\n    }\r\n  };\r\n\r\n  sendPartnerOrders = (data, handleClose) => {\r\n    return sendContentObjectEmail(data.content_type_id, data.object_id, data).then(() => {\r\n      handleClose();\r\n      Toast.success(constant.SUCCESS.EMAIL_SENT);\r\n    }).catch(errors => {\r\n      Toast.error(errors.detail);\r\n    });\r\n  };\r\n\r\n  showReceiveOrderRequest = (data) => {\r\n    if(this._showReceiveOrderRequest) {\r\n      this.setState({received_data: data});\r\n      this._showReceiveOrderRequest(\r\n        data.is_received\r\n         ? constant.CONFIRM.RECEIVE_ORDER_REQUEST_UNDO\r\n         : constant.CONFIRM.RECEIVE_ORDER_REQUEST\r\n      );\r\n    }\r\n  };\r\n\r\n  handleReceiveOrderRequest = () => {\r\n    const { received_data } = this.state;\r\n    if (received_data.order_id) {\r\n      receivePartnerOrderRequest(received_data.order_id, !received_data.is_received).then(() => {\r\n        Toast.success(constant.SUCCESS.SAVED);\r\n        this.handleOrderReload(received_data);\r\n        this._closeReceiveOrderRequest && this._closeReceiveOrderRequest();\r\n      }).catch(errors => (\r\n        Toast.error(errors.detail)\r\n      ));\r\n    } else {\r\n      Toast.error(constant.ERROR.BP_ORDER_FILE_NOT_FOUND);\r\n    }\r\n  };\r\n\r\n  handleDeleteOrder = (order_id) => {\r\n    if (order_id) {\r\n      return onDeletePartnerOrder(order_id).then(() => {\r\n        Toast.success(constant.SUCCESS.DELETED);\r\n        this.setState({reload: !this.state.reload});\r\n      }).catch((errors) => {\r\n        Toast.error(errors.detail);\r\n      });\r\n    } else {\r\n      Toast.error(constant.ERROR.BP_ORDER_FILE_NOT_FOUND);\r\n      return Promise.reject();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { endpoint, filters, showMonth } = this.props;\r\n    const { reload, email_schema, salesperson_choice } = this.state;\r\n    common.getFromJsonList(\r\n      this.partner_orders_status_list_schema, 'name', 'salesperson_id'\r\n    ).choices = salesperson_choice;\r\n    if (showMonth === false) {\r\n      this.partner_orders_status_list_schema = this.partner_orders_status_list_schema.filter(\r\n        item => item.name !== 'ym'\r\n      );\r\n    }\r\n    \r\n    return (\r\n      <div>\r\n        <DataSource\r\n          reload={reload}\r\n          endpoint={endpoint}\r\n          render={(initData) => (\r\n            <EnhancedTable\r\n              storageKey='order.status'\r\n              tableHead={this.partner_orders_status_list_schema}\r\n              tableData={initData}\r\n              rowsPerPage={config.rowsPerPage}\r\n              rowActions={[\r\n                {\r\n                  'tooltip': '',\r\n                  'icon': <NoteAddIcon />,\r\n                  'handleClick': this.showOrderConfirm,\r\n                  'visible': common.hasPerm('partner.add_partnerorder'),\r\n                },\r\n                {\r\n                  'tooltip': 'BP',\r\n                  'icon': <SendIcon />,\r\n                  'handleClick': this.showSendEmail,\r\n                  'visible': common.hasPerm('partner.send_partnerorder'),\r\n                },\r\n                {\r\n                  'tooltip': '',\r\n                  'icon': <DoneIcon />,\r\n                  'handleClick': this.showReceiveOrderRequest,\r\n                  'visible': common.hasPerm('partner.change_partnerorder'),\r\n                },\r\n              ]}\r\n              selectable=\"single\"\r\n              filters={filters}\r\n              pushpinTop={common.getHeaderHeight()}\r\n              tableStyles={{ minWidth: 1300 }}\r\n              filterLayout={partner_orders_status_filter_layout}\r\n              deleteProps={{\r\n                handleDelete: (data) => this.handleDeleteOrder(data.order_id),\r\n              }}\r\n            />\r\n          )}\r\n        />\r\n        <HasPerm permission='partner.add_partnerorder'>\r\n          <FormDialog\r\n            innerRef={(dlg) => { this._showOrderConfirm = dlg && dlg.handleOpen }}\r\n            title={''}\r\n            schema={create_partner_order_form_schema}\r\n            layout={create_partner_order_form_layout}\r\n            checkList={[checkEndYearAndMonth]}\r\n            handleOk={this.createPartnerOrder}\r\n            saveCallback={this.handleOrderReload}\r\n          />\r\n        </HasPerm>\r\n        <HasPerm permission='partner.send_partnerorder'>\r\n          <FormDialog\r\n            innerRef={(dlg) => { this._showSendEmail = dlg && dlg.handleOpen }}\r\n            title=''\r\n            schema={email_schema}\r\n            layout={send_email_form_layout}\r\n            handleOk={this.sendPartnerOrders}\r\n            saveCallback={this.handleOrderReload}\r\n          />\r\n        </HasPerm>\r\n        <ConfirmDialog\r\n          title={''}\r\n          innerRef={(dlg) => {\r\n            this._showReceiveOrderRequest = dlg && dlg.handleOpen;\r\n            this._closeReceiveOrderRequest = dlg && dlg.handleCancel;\r\n          }}\r\n          onOk={this.handleReceiveOrderRequest}\r\n        />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nOrderStatusList.propTypes = {\r\n  endpoint: PropTypes.string.isRequired,\r\n  filters: PropTypes.object,\r\n  showMonth: PropTypes.bool,\r\n};\r\n\r\nOrderStatusList.defaultProps = {\r\n  showMonth: true,\r\n}\r\n\r\nexport default OrderStatusList;\r\n","import React from 'react';\r\nimport PropTypes from \"prop-types\";\r\nimport NoteAddIcon from '@material-ui/icons/NoteAdd';\r\nimport SendIcon from '@material-ui/icons/Send';\r\nimport DoneIcon from '@material-ui/icons/Done';\r\nimport DataSource from '../../components/DataSource';\r\nimport { EnhancedTable, FormDialog, ConfirmDialog } from '../../datatable';\r\nimport {\r\n  partner_payment_notice_status_list_schema,\r\n  create_partner_payment_notice_form_schema,\r\n  create_partner_payment_notice_form_layout,\r\n  partner_payment_notice_status_filter_layout,\r\n} from './schema';\r\nimport { config, common, constant } from '../../utils';\r\nimport {\r\n  getPartnerPaymentNoticeEmailData,\r\n  sendContentObjectEmail,\r\n  send_email_form_schema,\r\n  send_email_form_layout,\r\n  createPartnerPaymentNotice,\r\n  getBankAccountList,\r\n  receivePartnerRequest,\r\n  onDeletePartnerRequset,\r\n} from '../utils';\r\nimport { HasPerm, Toast } from '../../components';\r\n\r\nclass PaymentNoticeStatus extends React.Component {\r\n  partner_payment_notice_form = common.clone(create_partner_payment_notice_form_schema);\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      reload: false,\r\n      email_schema: send_email_form_schema,\r\n      received_data: null,\r\n    };\r\n  }\r\n\r\n  showPaymentNoticeConfirm = (data, paymentNoticeCreatedCallback) => {\r\n    if (this._showPaymentNoticeConfirm) {\r\n      let { content_type, object_id } = this.props;\r\n      if (!content_type || !object_id) {\r\n        content_type = data.content_type_id;\r\n        object_id = data.object_id;\r\n      }\r\n      getBankAccountList(content_type, object_id).then(bank_account_list => {\r\n        common.getFromJsonList(\r\n          this.partner_payment_notice_form, 'name', 'bank_account_id'\r\n        )['choices'] = bank_account_list;\r\n        this._showPaymentNoticeConfirm(data);\r\n        this._paymentNoticeCreatedCallback = paymentNoticeCreatedCallback;\r\n      });\r\n    }\r\n  };\r\n\r\n  createPartnerPaymentNotice = (data, handleClose) => {\r\n    return createPartnerPaymentNotice(data).then(json => {\r\n      handleClose();\r\n      Toast.success(constant.SUCCESS.PAYMENT_NOTICE_CREATED);\r\n      if (this._paymentNoticeCreatedCallback) {\r\n        const newSelected = Object.assign(data, json);\r\n        this._paymentNoticeCreatedCallback(newSelected)\r\n      }\r\n    }).catch(errors => {\r\n      Toast.error(errors.detail);\r\n    });\r\n  };\r\n\r\n  handlePaymentNoticeReload = (data) => {\r\n    this.setState({reload: !this.state.reload});\r\n  };\r\n\r\n  showSendEmail = (data, sendEmailCallback) => {\r\n    if (this._showSendEmail) {\r\n      if (data.request_id) {\r\n        getPartnerPaymentNoticeEmailData(data.request_id).then(mail_data => {\r\n          // \r\n          const email_schema = common.clone(send_email_form_schema);\r\n          common.getFromJsonList(email_schema, 'name', 'attachments')['choices'] = mail_data.attachment_choices;\r\n          this.setState({email_schema});\r\n          this._showSendEmail(mail_data);\r\n          this._sendEmailCallback = sendEmailCallback;\r\n        }).catch(errors => {\r\n          Toast.error(errors.detail);\r\n        });\r\n      } else {\r\n        Toast.error(constant.ERROR.PAYMENT_NOTICE_NOT_FOUND);\r\n      }\r\n    }\r\n  };\r\n\r\n  sendPartnerPaymentNotice = (data, handleClose) => {\r\n    return sendContentObjectEmail(data.content_type_id, data.object_id, data).then(() => {\r\n      handleClose();\r\n      Toast.success(constant.SUCCESS.EMAIL_SENT);\r\n    }).catch(errors => {\r\n      Toast.error(errors.detail);\r\n    });\r\n  };\r\n\r\n  showReceivePartnerRequest = (data) => {\r\n    if(this._showReceivePartnerRequest) {\r\n      this.setState({received_data: data});\r\n      this._showReceivePartnerRequest(\r\n        data.is_received\r\n         ? constant.CONFIRM.RECEIVE_PARTNER_REQUEST_UNDO\r\n         : constant.CONFIRM.RECEIVE_PARTNER_REQUEST\r\n      );\r\n    }\r\n  };\r\n\r\n  handleReceivePartnerRequest = () => {\r\n    const { received_data } = this.state;\r\n    if (received_data.request_id) {\r\n      receivePartnerRequest(received_data.request_id, !received_data.is_received).then(() => {\r\n        Toast.success(constant.SUCCESS.SAVED);\r\n        this.handlePaymentNoticeReload(received_data);\r\n        this._closeReceivePartnerRequest && this._closeReceivePartnerRequest();\r\n      }).catch(errors => (\r\n        Toast.error(errors.detail)\r\n      ));\r\n    } else {\r\n      Toast.error(constant.ERROR.REQUEST_FILE_NOT_FOUND);\r\n    }\r\n  };\r\n\r\n  handleDeleteRequest = (request_id) => {\r\n    if (request_id) {\r\n      return onDeletePartnerRequset(request_id).then(() => {\r\n        Toast.success(constant.SUCCESS.DELETED);\r\n        this.setState({reload: !this.state.reload});\r\n      }).catch((errors) => {\r\n        Toast.error(errors.detail);\r\n      });\r\n    } else {\r\n      Toast.error(constant.ERROR.REQUEST_FILE_NOT_FOUND);\r\n      return Promise.reject();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { title, endpoint, filters } = this.props;\r\n    const { reload, email_schema } = this.state;\r\n\r\n    \r\n    return (\r\n      <div>\r\n        <DataSource\r\n          reload={reload}\r\n          endpoint={endpoint}\r\n          render={(initData) => (\r\n            <EnhancedTable\r\n              title={title}\r\n              showTitle={title ? true : false}\r\n              storageKey='payment.notice.status'\r\n              tableHead={partner_payment_notice_status_list_schema}\r\n              tableData={initData}\r\n              rowsPerPage={config.rowsPerPage}\r\n              tableStyles={{ minWidth: 1100 }}\r\n              rowActions={[\r\n                {\r\n                  'tooltip': '',\r\n                  'icon': <NoteAddIcon />,\r\n                  'handleClick': this.showPaymentNoticeConfirm,\r\n                  'visible': common.hasPerm('partner.add_partnerrequest'),\r\n                },\r\n                {\r\n                  'tooltip': '',\r\n                  'icon': <SendIcon />,\r\n                  'handleClick': this.showSendEmail,\r\n                  'visible': common.hasPerm('partner.send_partnerrequest'),\r\n                },\r\n                {\r\n                  'tooltip': '',\r\n                  'icon': <DoneIcon />,\r\n                  'handleClick': this.showReceivePartnerRequest,\r\n                  'visible': common.hasPerm('partner.change_partnerrequest'),\r\n                },\r\n              ]}\r\n              selectable=\"single\"\r\n              filters={filters}\r\n              pushpinTop={common.getHeaderHeight()}\r\n              filterLayout={partner_payment_notice_status_filter_layout}\r\n              deleteProps={{\r\n                handleDelete: (data) => this.handleDeleteRequest(data.request_id),\r\n                'visible': common.hasPerm('partner.delete_partnerrequest'),\r\n              }}\r\n            />\r\n          )}\r\n        />\r\n        <HasPerm permission='partner.add_partnerrequest'>\r\n          <FormDialog\r\n            innerRef={(dlg) => { this._showPaymentNoticeConfirm = dlg && dlg.handleOpen }}\r\n            title={''}\r\n            schema={this.partner_payment_notice_form}\r\n            layout={create_partner_payment_notice_form_layout}\r\n            handleOk={this.createPartnerPaymentNotice}\r\n            saveCallback={this.handlePaymentNoticeReload}\r\n          />\r\n        </HasPerm>\r\n        <HasPerm permission='partner.send_partnerrequest'>\r\n          <FormDialog\r\n            innerRef={(dlg) => { this._showSendEmail = dlg && dlg.handleOpen }}\r\n            title=''\r\n            schema={email_schema}\r\n            layout={send_email_form_layout}\r\n            handleOk={this.sendPartnerPaymentNotice}\r\n            saveCallback={this.handlePaymentNoticeReload}\r\n          />\r\n        </HasPerm>\r\n        <ConfirmDialog\r\n          title={''}\r\n          innerRef={(dlg) => {\r\n            this._showReceivePartnerRequest = dlg && dlg.handleOpen;\r\n            this._closeReceivePartnerRequest = dlg && dlg.handleCancel;\r\n          }}\r\n          onOk={this.handleReceivePartnerRequest}\r\n        />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nPaymentNoticeStatus.propTypes = {\r\n  title: PropTypes.string,\r\n  content_type: PropTypes.oneOfType([\r\n    PropTypes.string.isRequired,\r\n    PropTypes.number.isRequired\r\n  ]),\r\n  object_id: PropTypes.oneOfType([\r\n    PropTypes.string.isRequired,\r\n    PropTypes.number.isRequired\r\n  ]),\r\n  endpoint: PropTypes.string.isRequired,\r\n  filters: PropTypes.object,\r\n};\r\n\r\nexport default PaymentNoticeStatus;\r\n","import React from 'react';\r\nimport { Button } from '@material-ui/core';\r\nimport {\r\n  withPermissions,\r\n  HasPerm,\r\n  TopBreadcrumbs,\r\n  Card,\r\n  CardHeader,\r\n  CardBody,\r\n  Toast,\r\n} from '../../components';\r\nimport GridContainer from '../../components/Grid/GridContainer';\r\nimport GridItem from '../../components/Grid/GridItem';\r\nimport { TableDetail } from '../../datatable';\r\nimport { getPartnerCompany } from '../utils/api';\r\nimport {\r\n  company_form_schema,\r\n  company_form_layout,\r\n} from './schema';\r\nimport { config } from '../../utils/config';\r\nimport { ajax, common } from '../../utils/common';\r\nimport { constant } from '../../utils/constants';\r\nimport OrderStatusList from './order_status_list';\r\nimport PaymentNoticeStatus from './payment_notice_status';\r\n\r\nclass PartnerCompanyDetail extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      company: {},\r\n    };\r\n    this.initialize(props);\r\n    this.detail_api = common.formatStr(\r\n      config.api.partner.detail,\r\n      props.match.params.company_id\r\n    );\r\n  }\r\n\r\n  initialize = (props) => {\r\n    const { params } = props.match;\r\n    getPartnerCompany(params.company_id).then(company => {\r\n      this.setState({company});\r\n    });\r\n  };\r\n\r\n  componentDidUpdate = () => {\r\n    document.title = `${this.state.company.name || ''} | `;\r\n  };\r\n\r\n  onEditCompany = (data, handleClose) => {\r\n    return ajax.fetchPut(this.detail_api, data).then(company => {\r\n      this.setState({company});\r\n      if (handleClose) {\r\n        handleClose();\r\n      }\r\n      Toast.success(constant.SUCCESS.SAVED);\r\n    }).catch(errors => {\r\n      Toast.error(constant.ERROR.FORM_CHECK_ERROR);\r\n      return Promise.reject(errors);\r\n    });\r\n  };\r\n\r\n  onDeleteCompany = (data) => {\r\n    ajax.fetchDelete(this.detail_api).then(() => {\r\n      Toast.success(constant.SUCCESS.DELETED);\r\n      common.redirect('/partner/companies')\r\n    }).catch(errors => {\r\n      Toast.error(errors.detail);\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { company_id } = this.props.match.params;\r\n    const { company } = this.state;\r\n\r\n    return (\r\n      <div>\r\n        <TopBreadcrumbs\r\n          breadcrumbs={[\r\n            { link: '/partner/companies?is_retired=false', name: '' },\r\n            { name: company.name },\r\n          ]}\r\n        />\r\n        <div style={{marginTop: 16}}>\r\n          <GridContainer>\r\n            <GridItem xs={12} sm={12} md={9} lg={9}>\r\n              <TableDetail\r\n                data={company}\r\n                schema={company_form_schema}\r\n                editProps={{\r\n                  title: '',\r\n                  schema: company_form_schema,\r\n                  layout: company_form_layout,\r\n                  handleEdit: this.onEditCompany,\r\n                  visible: common.hasPerm('partner.change_partnercompany'),\r\n                }}\r\n                deleteProps={{\r\n                  handleDelete: this.onDeleteCompany,\r\n                  visible: common.hasPerm('partner.delete_partnercompany'),\r\n                }}\r\n                actions={[\r\n                  (\r\n                    <HasPerm permission='master.view_bankaccount' key=\"bank-accounts\">\r\n                      <Button\r\n                        variant=\"contained\"\r\n                        color=\"primary\"\r\n                        onClick={() => common.redirect(\r\n                          `/partner/companies/${company_id}/bank-accounts`\r\n                        )}\r\n                      >\r\n                        \r\n                      </Button>\r\n                    </HasPerm>\r\n                  ),\r\n                  (\r\n                    <HasPerm permission='partner.view_partnermember' key=\"list\">\r\n                      <Button\r\n                        variant=\"contained\"\r\n                        color=\"primary\"\r\n                        onClick={() => common.redirect(\r\n                          `/partner/companies/${company_id}/members`\r\n                        )}\r\n                      >\r\n                        \r\n                      </Button>\r\n                    </HasPerm>\r\n                  ),\r\n                  (\r\n                    <HasPerm permission='partner.add_partnermember' key=\"add\">\r\n                      <Button\r\n                        variant=\"contained\"\r\n                        color=\"secondary\"\r\n                        onClick={() => common.redirect(\r\n                          `/partner/companies/${company_id}/members/add`\r\n                        )}\r\n                      >\r\n                        \r\n                      </Button>\r\n                    </HasPerm>\r\n                  ),\r\n                ]}\r\n              />\r\n            </GridItem>\r\n          </GridContainer>\r\n          <HasPerm permission='partner.view_partnerorder'>\r\n            <Card>\r\n              <CardHeader color=\"info\"></CardHeader>\r\n              <CardBody>\r\n                <OrderStatusList\r\n                  endpoint={common.formatStr(config.api.partner.company_orders_status, company_id)}\r\n                  filters={common.getNextMonthDict()}\r\n                />\r\n              </CardBody>\r\n            </Card>\r\n          </HasPerm>\r\n          <HasPerm permission='partner.view_partnerrequest'>\r\n            <Card>\r\n              <CardHeader color=\"info\"></CardHeader>\r\n              <CardBody>\r\n                {company.content_type ? (\r\n                  <PaymentNoticeStatus\r\n                    content_type={company.content_type}\r\n                    object_id={company_id}\r\n                    endpoint={common.formatStr(config.api.partner.company_payment_notice_status, company_id)}\r\n                  />\r\n                ) : null }\r\n              </CardBody>\r\n            </Card>\r\n          </HasPerm>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withPermissions(\r\n  PartnerCompanyDetail,\r\n  'partner.view_partnercompany',\r\n);\r\n","import React from 'react';\r\nimport PropTypes from \"prop-types\";\r\nimport { StepForm, TopBreadcrumbs, withPermissions } from '../../components';\r\nimport GridContainer from '../../components/Grid/GridContainer';\r\nimport GridItem from '../../components/Grid/GridItem';\r\nimport DuplicatedMemberDialog from '../common/duplicated_member_dialog';\r\nimport {\r\n  member_form_basic_schema,\r\n  member_form_basic_layout,\r\n  member_contract_form_schema,\r\n  contract_allowance_schema,\r\n  contract_calculate_hours_schema,\r\n  bp_contract_item_schema,\r\n  bp_contract_item_layout,\r\n  default_contract_data,\r\n} from './schema';\r\nimport {\r\n  member_add_org_schema,\r\n  member_code_form_schema,\r\n} from '../contract/schema';\r\nimport {\r\n  getOrganizationChoices,\r\n  getPartnerCompanyChoices,\r\n  getPartnerMemberChoice,\r\n  getNextPartnerMemberCode,\r\n  getNextSelfEmployeeCode,\r\n  checkMemberDuplications,\r\n} from '../utils/api';\r\nimport { common } from '../../utils/common';\r\nimport {\r\n  choice_contract_type_individual,\r\n  checkDateContradict,\r\n  choice_contract_type_bp,\r\n} from '../../utils';\r\nimport {\r\n  onChangeCalculateType,\r\n  onBlurPostcode,\r\n  onChangeMinusAndPlus,\r\n} from '../utils';\r\n\r\nclass CommonMemberAdd extends React.Component {\r\n  title = '';\r\n  member_form_basic_schema = common.clone(member_form_basic_schema);\r\n  member_contract_form_schema = common.clone(member_contract_form_schema);\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      organizations: [],\r\n      partnerCompaies: [],\r\n      members_choice: [],\r\n      duplicated_member_data: {},\r\n    };\r\n    this.initialize(props);\r\n  }\r\n\r\n  initialize = (props) => {\r\n    const { company_id } = props;\r\n    getOrganizationChoices().then(organizations => {\r\n      this.setState({organizations});\r\n    });\r\n    if (company_id) {\r\n      getPartnerCompanyChoices().then(partnerCompaies => {\r\n        this.setState({partnerCompaies});\r\n      });\r\n      getPartnerMemberChoice(company_id).then(members_choice => this.setState({members_choice}));\r\n    }\r\n  };\r\n\r\n  onBlurMemberDuplicate = (name, data) => {\r\n    if (['first_name', 'last_name'].indexOf(name) >= 0) {\r\n      const { first_name, last_name } = data;\r\n      if (first_name && last_name) {\r\n        checkMemberDuplications(first_name, last_name).then(json => {\r\n          if (this._openDuplicatedDlg && json.length > 0) {\r\n            this._openDuplicatedDlg(`${last_name} ${first_name}`, json);\r\n          }\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n  onDuplicatedMemberSelect = (data) => {\r\n    this.setState({duplicated_member_data: data});\r\n  };\r\n\r\n  getSteps = () => {\r\n    const { company_id } = this.props;\r\n    const { organizations, partnerCompaies, members_choice, duplicated_member_data } = this.state;\r\n\r\n    const colCompany = common.getFromJsonList(this.member_form_basic_schema, 'name', \"company\");\r\n    if (company_id) {\r\n      // \r\n      colCompany['read_only'] = true;\r\n      colCompany['choices'] = partnerCompaies;\r\n      common.getFromJsonList(this.member_contract_form_schema, 'name', 'contract_type')['choices'] = choice_contract_type_bp;\r\n      // \r\n      common.getFromJsonList(this.member_form_basic_schema, 'name', \"middleman\")['choices'] = members_choice;\r\n    } else {\r\n      // \r\n      const idxCompany = this.member_form_basic_schema.indexOf(colCompany);\r\n      if (idxCompany >= 0) {\r\n        this.member_form_basic_schema.splice(idxCompany, 1);\r\n      }\r\n      common.getFromJsonList(this.member_contract_form_schema, 'name', 'contract_type')['choices'] = choice_contract_type_individual;\r\n      common.getFromJsonList(this.member_form_basic_schema, 'name', 'email')['required'] = true;\r\n    }\r\n    // \r\n    const colCode = common.getFromJsonList(this.member_form_basic_schema, 'name', 'code');\r\n    if (!common.isEmpty(colCode)) {\r\n      const idxCode = this.member_form_basic_schema.indexOf(colCode);\r\n      this.member_form_basic_schema.splice(idxCode, 1);\r\n    }\r\n    // \r\n    member_add_org_schema[0]['choices'] = organizations;\r\n\r\n    return [\r\n      {\r\n        name: '',\r\n        formProps: {\r\n          name: 'basic_info',\r\n          schema: this.member_form_basic_schema,\r\n          layout: member_form_basic_layout,\r\n          data: Object.assign({}, duplicated_member_data, {\r\n            company: company_id && parseInt(company_id),\r\n          }),\r\n          onBlurs: [onBlurPostcode, this.onBlurMemberDuplicate],\r\n        },\r\n      },\r\n      {\r\n        name: '',\r\n        formProps: {\r\n          name: 'organization',\r\n          schema: member_add_org_schema,\r\n        },\r\n      },\r\n      {\r\n        name: '',\r\n        formProps: {\r\n          name: 'basic_info',\r\n          schema: member_code_form_schema,\r\n        },\r\n        actions: [\r\n          {\r\n            'tooltip': '',\r\n            'title': '',\r\n            'handleClick': (stepsData) => {\r\n              if (company_id) {\r\n                return getNextPartnerMemberCode(company_id, stepsData)\r\n              } else {\r\n                return getNextSelfEmployeeCode(stepsData)\r\n              }\r\n            },\r\n          },\r\n        ],\r\n      },\r\n      {\r\n        name: \"\",\r\n        formProps: {\r\n          name: 'contract_info',\r\n          schema: this.member_contract_form_schema,\r\n          data: default_contract_data,\r\n          checkList: [checkDateContradict],\r\n          onChanges: [onChangeCalculateType, onChangeMinusAndPlus],\r\n          inlines: [\r\n            {\r\n              name: \"calculate_hours\",\r\n              title: \"\",\r\n              schema: contract_calculate_hours_schema,\r\n              allowAdd: false,\r\n              allowDelete: false,\r\n            },\r\n            {\r\n              name: 'allowances',\r\n              title: '',\r\n              schema: contract_allowance_schema,\r\n              allowAdd: false,\r\n              allowDelete: false,\r\n            },\r\n            {\r\n              name: \"contract_items\",\r\n              title: \"\",\r\n              schema: bp_contract_item_schema,\r\n              layout: bp_contract_item_layout,\r\n              allowAdd: false,\r\n              allowDelete: false,\r\n            },\r\n          ],\r\n        },\r\n      }\r\n    ];\r\n  };\r\n\r\n  render() {\r\n    const { breadcrumbs, endpoint, callback } = this.props;\r\n    const steps = this.getSteps();\r\n\r\n    return (\r\n      <div>\r\n        <TopBreadcrumbs\r\n          breadcrumbs={breadcrumbs}\r\n        />\r\n        <GridContainer>\r\n          <GridItem xs={12} sm={12} md={9} lg={9}>\r\n            <StepForm\r\n              title={this.title}\r\n              steps={steps}\r\n              methodName='POST'\r\n              saveEndpoint={endpoint}\r\n              saveCallback={callback}\r\n            />\r\n          </GridItem>\r\n        </GridContainer>\r\n        <DuplicatedMemberDialog\r\n          innerRef={dlg => this._openDuplicatedDlg = dlg && dlg.handleOpen}\r\n          handleSelected={this.onDuplicatedMemberSelect}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nCommonMemberAdd.propTypes = {\r\n  company_id: PropTypes.oneOfType([\r\n    PropTypes.number,\r\n    PropTypes.string,\r\n  ]),\r\n  endpoint: PropTypes.string.isRequired,\r\n  callback: PropTypes.func.isRequired,\r\n  breadcrumbs: PropTypes.arrayOf(PropTypes.object),\r\n};\r\n\r\n\r\nexport default withPermissions(CommonMemberAdd, 'partner.add_partnermember');\r\n","import React from 'react';\r\nimport CommonMemberAdd from './common_member_add';\r\nimport { withPermissions } from '../../components';\r\nimport {\r\n  getPartnerCompany,\r\n} from '../utils/api';\r\nimport { common } from '../../utils/common';\r\nimport { config } from '../../utils/config';\r\n\r\nclass PartnerMemberAdd extends React.Component {\r\n  title = '';\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      company: {},\r\n    };\r\n    this.initialize(props);\r\n  }\r\n\r\n  initialize = (props) => {\r\n    const { company_id } = props.match.params;\r\n    getPartnerCompany(company_id).then(company => {\r\n      this.setState({company});\r\n    });\r\n  };\r\n\r\n  componentDidUpdate = () => {\r\n    const { company } = this.state;\r\n    document.title = `${this.title} | ${company.name} | `;\r\n  };\r\n\r\n  render() {\r\n    const { company_id } = this.props.match.params;\r\n    const { company } = this.state;\r\n\r\n    return (\r\n      <div>\r\n        <CommonMemberAdd\r\n          company_id={company_id}\r\n          breadcrumbs={[\r\n            { link: `/partner/companies?is_retired=false`, name: '' },\r\n            { link: `/partner/companies/${company_id}/`, name: company.name },\r\n            { link: `/partner/companies/${company_id}/members`, name: '' },\r\n            { name: this.title },\r\n          ]}\r\n          endpoint={common.formatStr(config.api.partner.add_from_partner, company_id)}\r\n          callback={(data) => common.redirect(`/partner/companies/${company_id}/members/${data.id}`)}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withPermissions(PartnerMemberAdd, 'partner.add_partnermember');\r\n","import React from 'react';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport TopBreadcrumbs from '../../components/TopBreadcrumbs';\r\nimport { getPartnerCompany } from '../utils/api';\r\nimport Card from '../../components/Card/Card';\r\nimport CardHeader from '../../components/Card/CardHeader';\r\nimport CardBody from '../../components/Card/CardBody';\r\nimport DataSource from '../../components/DataSource';\r\nimport { EnhancedTable } from '../../datatable';\r\nimport { common, config } from '../../utils';\r\nimport { company_member_list_schema } from './schema';\r\nimport { withPermissions } from '../../components';\r\n\r\nclass PartnerMemberList extends React.Component {\r\n  title = '';\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      company: {},\r\n    };\r\n    this.initialize(props);\r\n  }\r\n\r\n  initialize = (props) => {\r\n    const { params } = props.match;\r\n    getPartnerCompany(params.company_id).then(company => {\r\n      this.setState({company});\r\n    });\r\n  };\r\n\r\n  componentDidUpdate = () => {\r\n    document.title = `${this.title} | ${this.state.company.name || ''} | `;\r\n  };\r\n\r\n  render() {\r\n    const { company_id } = this.props.match.params;\r\n    const { company } = this.state;\r\n\r\n    return (\r\n      <div>\r\n        <TopBreadcrumbs\r\n          breadcrumbs={[\r\n            { link: '/partner/companies?is_retired=false', name: '' },\r\n            { link: `/partner/companies/${company_id}/`, name: company.name },\r\n            { name: this.title },\r\n          ]}\r\n        />\r\n        <Card>\r\n          <CardHeader color=\"info\">\r\n            \r\n          </CardHeader>\r\n          <CardBody>\r\n            <DataSource\r\n              endpoint={common.formatStr(config.api.partner.company_members, company_id)}\r\n              render={(initData) => (\r\n                <EnhancedTable\r\n                  tableHead={company_member_list_schema}\r\n                  tableData={initData.results}\r\n                  rowsPerPage={config.rowsPerPage}\r\n                  tableActions={[\r\n                    {\r\n                      'tooltip': '',\r\n                      'icon': <AddIcon color=\"secondary\"/>,\r\n                      'handleClick': () => (common.redirect(`/partner/companies/${company_id}/members/add`)),\r\n                    },\r\n                  ]}\r\n                  pushpinTop={common.getHeaderHeight()}\r\n                />\r\n              )}\r\n            />\r\n          </CardBody>\r\n        </Card>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withPermissions(PartnerMemberList, 'partner.view_partnermember');\r\n","import React from 'react';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport TopBreadcrumbs from '../../components/TopBreadcrumbs';\r\nimport Card from '../../components/Card/Card';\r\nimport CardHeader from '../../components/Card/CardHeader';\r\nimport CardBody from '../../components/Card/CardBody';\r\nimport DataSource from '../../components/DataSource';\r\nimport { common, config, ajax, constant } from '../../utils';\r\nimport {\r\n  getPartnerCompany,\r\n  getPartnerMember,\r\n  getPartnerMemberChoice,\r\n  getPartnerMemberProjectTimeline,\r\n} from '../utils/api';\r\nimport { TableDetail, EnhancedTable } from '../../datatable';\r\nimport {\r\n  member_form_basic_schema,\r\n  member_form_basic_layout,\r\n  bp_member_contract_list_schema,\r\n  member_detail_schema,\r\n} from './schema';\r\nimport OrderStatusList from './order_status_list';\r\nimport { withPermissions, HasPerm, Timeline, Toast } from '../../components';\r\nimport GridContainer from '../../components/Grid/GridContainer';\r\nimport GridItem from '../../components/Grid/GridItem';\r\nimport { onBlurPostcode } from '../utils';\r\n\r\nclass PartnerMemberDetail extends React.Component {\r\n  member_form_basic_schema = common.clone(member_form_basic_schema);\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      company: {},\r\n      member: {},\r\n      members_choice: [],\r\n      member_projects: [],\r\n    };\r\n    this.initialize(props);\r\n    this.detail_api = common.formatStr(\r\n      config.api.partner.company_member,\r\n      props.match.params.company_id,\r\n      props.match.params.member_id,\r\n    );\r\n  }\r\n\r\n  initialize = (props) => {\r\n    const { company_id, member_id } = props.match.params;\r\n    getPartnerCompany(company_id).then(company => {\r\n      this.setState({company});\r\n    });\r\n    getPartnerMember(company_id, member_id).then(member => {\r\n      this.setState({member});\r\n    });\r\n    getPartnerMemberChoice(company_id).then(members_choice => this.setState({members_choice}));\r\n    getPartnerMemberProjectTimeline(member_id).then(member_projects => {\r\n      this.setState({ member_projects });\r\n    });\r\n  };\r\n\r\n  componentDidUpdate = () => {\r\n    document.title = `${this.state.member.full_name || ''} | ${this.state.company.name || ''} | `;\r\n  };\r\n\r\n  onEditCompany = (data, handleClose) => {\r\n    return ajax.fetchPut(this.detail_api, data).then(member => {\r\n      this.setState({member});\r\n      if (handleClose) {\r\n        handleClose();\r\n      }\r\n      Toast.success(constant.SUCCESS.SAVED);\r\n    }).catch(errors => {\r\n      Toast.error(constant.ERROR.FORM_CHECK_ERROR);\r\n      return Promise.reject(errors);\r\n    });\r\n  };\r\n\r\n  onDeleteCompany = () => {\r\n    const { company_id } = this.props.match.params;\r\n    ajax.fetchDelete(this.detail_api).then(() => {\r\n      Toast.success(constant.SUCCESS.DELETED);\r\n      common.redirect(`/partner/companies/${company_id}/members`);\r\n    }).catch(errors => {\r\n      Toast.error(errors.detail);\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { company_id, member_id } = this.props.match.params;\r\n    const { company, member, members_choice, member_projects } = this.state;\r\n\r\n    // \r\n    common.getFromJsonList(this.member_form_basic_schema, 'name', 'code')['read_only'] = true;\r\n    // \r\n    common.getFromJsonList(this.member_form_basic_schema, 'name', 'company')['choices'] = [{\r\n      'value': parseInt(company_id),\r\n      'display_name': company.name,\r\n    }];\r\n    common.getFromJsonList(this.member_form_basic_schema, 'name', 'company')['read_only'] = true;\r\n    common.getFromJsonList(this.member_form_basic_schema, 'name', \"middleman\")['choices'] = members_choice;\r\n    common.getFromJsonList(member_detail_schema, 'name', 'company')['choices'] = [{\r\n      'value': parseInt(company_id),\r\n      'display_name': company.name,\r\n    }];\r\n\r\n    return (\r\n      <div>\r\n        <TopBreadcrumbs\r\n          breadcrumbs={[\r\n            { link: '/partner/companies?is_retired=false', name: '' },\r\n            { link: `/partner/companies/${company_id}/`, name: company.name },\r\n            { link: `/partner/companies/${company_id}/members`, name: '' },\r\n            { name: member.full_name },\r\n          ]}\r\n        />\r\n        <div style={{marginTop: 16}}>\r\n          <GridContainer>\r\n            <GridItem xs={12} sm={12} md={9} lg={9}>\r\n              <TableDetail\r\n                data={member}\r\n                schema={member_detail_schema}\r\n                editProps={{\r\n                  title: '',\r\n                  schema: this.member_form_basic_schema,\r\n                  layout: member_form_basic_layout,\r\n                  handleEdit: this.onEditCompany,\r\n                  visible: common.hasPerm('partner.change_partnermember'),\r\n                  onBlurs: [onBlurPostcode],\r\n                }}\r\n                deleteProps={{\r\n                  handleDelete: this.onDeleteCompany,\r\n                  visible: common.hasPerm('partner.delete_partnermember'),\r\n                }}\r\n              />\r\n            </GridItem>\r\n            <GridItem xs={12} sm={12} md={3} lg={3}>\r\n              <Card profile>\r\n                <CardHeader></CardHeader>\r\n                <CardBody>\r\n                  { !common.isEmpty(member_projects) ? (\r\n                    <Timeline items={member_projects} showTime={false} />\r\n                  ) : null }\r\n                </CardBody>\r\n              </Card>\r\n            </GridItem>\r\n          </GridContainer>\r\n          <Card>\r\n            <CardHeader color=\"info\"></CardHeader>\r\n            <CardBody>\r\n              <DataSource\r\n                endpoint={common.formatStr(config.api.partner.member_contracts, company_id, member_id)}\r\n                render={(initData) => (\r\n                  <EnhancedTable\r\n                    tableHead={bp_member_contract_list_schema}\r\n                    tableData={initData}\r\n                    rowsPerPage={config.rowsPerPage}\r\n                    tableActions={[\r\n                      {\r\n                        'tooltip': '',\r\n                        'icon': <AddIcon color=\"secondary\"/>,\r\n                        'handleClick': () => (common.redirect(`/partner/companies/${company_id}/members/${member_id}/contracts/add`)),\r\n                        'visible': common.hasPerm('partner.change_partnermember'),\r\n                      },\r\n                    ]}\r\n                    rowActions={[\r\n                      {\r\n                        'tooltip': \"\",\r\n                        \"icon\": <EditIcon />,\r\n                        \"handleClick\": (data) => common.redirect(`/partner/companies/${company_id}/members/${member_id}/contracts/${data.id}/form`),\r\n                        'visible': common.hasPerm('partner.change_partnermember'),\r\n                      },\r\n                    ]}\r\n                    selectable='single'\r\n                    pushpinTop={common.getHeaderHeight()}\r\n                  />\r\n                )}\r\n              />\r\n            </CardBody>\r\n          </Card>\r\n          <HasPerm permission='partner.view_partnerorder'>\r\n            <Card>\r\n              <CardHeader color=\"info\"></CardHeader>\r\n              <CardBody>\r\n                <OrderStatusList\r\n                  endpoint={common.formatStr(config.api.partner.member_orders_status, company_id, member_id)}\r\n                />\r\n              </CardBody>\r\n            </Card>\r\n          </HasPerm>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withPermissions(PartnerMemberDetail, 'partner.view_partnermember');\r\n","import React from 'react';\r\nimport TopBreadcrumbs from '../../components/TopBreadcrumbs';\r\nimport GridContainer from '../../components/Grid/GridContainer';\r\nimport GridItem from '../../components/Grid/GridItem';\r\nimport {\r\n  member_contract_form_schema,\r\n  contract_calculate_hours_schema,\r\n  contract_allowance_schema,\r\n  bp_contract_item_schema,\r\n  bp_contract_item_layout,\r\n  default_contract_data,\r\n} from './schema';\r\nimport ActionForm from '../../components/ActionForm';\r\nimport { config } from '../../utils/config';\r\nimport { common } from '../../utils/common';\r\nimport {\r\n  getPartnerCompany,\r\n  getPartnerMember,\r\n  getPartnerMemberContractTotal,\r\n  getIndividualMember,\r\n} from '../utils/api';\r\nimport { onChangeCalculateType, onChangeMinusAndPlus } from '../utils/common';\r\nimport { withPermissions } from '../../components';\r\nimport { choice_contract_type_individual, choice_contract_type_bp } from '../../utils';\r\n\r\nclass PartnerContractForm extends React.Component {\r\n  title = '';\r\n  member_contract_form_schema = common.clone(member_contract_form_schema);\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      company: {},\r\n      member: {},\r\n      contract_total: default_contract_data,\r\n    };\r\n    this.initialize(props);\r\n  }\r\n\r\n  initialize = (props) => {\r\n    const { company_id, member_id, contract_id } = props.match.params;\r\n    if (company_id) {\r\n      getPartnerCompany(company_id).then(company => {\r\n        this.setState({company});\r\n      });\r\n      getPartnerMember(company_id, member_id).then(member => {\r\n        this.setState({member});\r\n      });\r\n      this.detail_api = `/partner/companies/${company_id}/members/${member_id}`\r\n    } else {\r\n      getIndividualMember(member_id).then(member => {\r\n        this.setState({member});\r\n      });\r\n      this.detail_api = `/partner/individual/${member_id}`\r\n    }\r\n    if (contract_id) {\r\n      getPartnerMemberContractTotal(member_id, contract_id).then(\r\n        contract_total => this.setState({contract_total})\r\n      ).catch(errors => {\r\n        if (errors.status_code === 403) {\r\n          this.props.forbidden(errors.detail);\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  componentDidUpdate = () => {\r\n    const { contract_id } = this.props.match.params;\r\n    const { company, member } = this.state;\r\n    this.title = contract_id ? '' : ''\r\n    document.title = `${this.title} | ${member.full_name || ''} | ${company.name || ''}`;\r\n  };\r\n\r\n  render() {\r\n    const { company_id, member_id, contract_id } = this.props.match.params;\r\n    const { company, member, contract_total } = this.state;\r\n    contract_total['company_content_type'] = member.company_content_type || member.content_type;\r\n    contract_total['company_object_id'] = company_id || member_id;\r\n    contract_total['content_type'] = member.content_type;\r\n    contract_total['object_id'] = member_id;\r\n    const breadcrumbs = [];\r\n    if (company_id) {\r\n      breadcrumbs.push({ link: '/partner/companies?is_retired=false', name: '' });\r\n      breadcrumbs.push({ link: `/partner/companies/${company_id}/`, name: company.name });\r\n      breadcrumbs.push({ link: `/partner/companies/${company_id}/members`, name: '' });\r\n      breadcrumbs.push({ link: `/partner/companies/${company_id}/members/${member_id}`, name: member.full_name });\r\n      if (contract_id) {\r\n        breadcrumbs.push({\r\n          link: `/partner/companies/${company_id}/members/${member_id}/contracts/${contract_total.id}/detail`,\r\n          name: contract_total.contract_no,\r\n        });\r\n      }\r\n      common.getFromJsonList(this.member_contract_form_schema, 'name', 'contract_type')['choices'] = choice_contract_type_bp;\r\n    } else {\r\n      // \r\n      breadcrumbs.push({ link: '/partner/individual', name: '' });\r\n      breadcrumbs.push({ link: `/partner/individual/${member_id}/`, name: member.full_name });\r\n      if (contract_id) {\r\n        breadcrumbs.push({\r\n          link: `/partner/individual/${member_id}/contracts/${contract_total.id}/detail`,\r\n          name: contract_total.contract_no,\r\n        });\r\n      }\r\n      common.getFromJsonList(this.member_contract_form_schema, 'name', 'contract_type')['choices'] = choice_contract_type_individual;\r\n    }\r\n    if (contract_id) {\r\n      breadcrumbs.push({ name: \"\" });\r\n    } else {\r\n      breadcrumbs.push({ name: \"\" });\r\n    }\r\n\r\n    return (\r\n      <div>\r\n        <TopBreadcrumbs\r\n          breadcrumbs={breadcrumbs}\r\n        />\r\n        <div style={{marginTop: 16}}>\r\n          <GridContainer>\r\n            <GridItem xs={12} sm={12} md={9} lg={9}>\r\n              <ActionForm\r\n                title={this.title}\r\n                schema={this.member_contract_form_schema}\r\n                onChanges={[onChangeCalculateType, onChangeMinusAndPlus]}\r\n                inlines={[\r\n                  {\r\n                    name: \"calculate_hours\",\r\n                    title: \"\",\r\n                    schema: contract_calculate_hours_schema,\r\n                    allowAdd: false,\r\n                    allowDelete: false,\r\n                  },\r\n                  {\r\n                    name: 'allowances',\r\n                    title: '',\r\n                    schema: contract_allowance_schema,\r\n                    allowAdd: false,\r\n                    allowDelete: false,\r\n                  },\r\n                  {\r\n                    name: \"contract_items\",\r\n                    title: \"\",\r\n                    schema: bp_contract_item_schema,\r\n                    layout: bp_contract_item_layout,\r\n                    allowAdd: false,\r\n                    allowDelete: false,\r\n                  },\r\n                ]}\r\n                data={contract_total}\r\n                methodName={'POST'}\r\n                saveEndpoint={\r\n                  contract_id ? common.formatStr(\r\n                    config.api.partner.member_contract_save, member_id, contract_total.id\r\n                  ) : common.formatStr(\r\n                    config.api.partner.member_contract_add, member_id\r\n                  )\r\n                }\r\n                saveCallback={() => common.redirect(this.detail_api)}\r\n                deleteEndpoint={contract_id ? common.formatStr(config.api.partner.member_contract, member_id, contract_id) : null}\r\n                deleteCallback={() => common.redirect(this.detail_api)}\r\n              />\r\n            </GridItem>\r\n          </GridContainer>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withPermissions(PartnerContractForm, 'partner.change_partnermember');\r\n","import React from 'react';\r\nimport TopBreadcrumbs from '../../components/TopBreadcrumbs';\r\nimport DataSource from '../../components/DataSource';\r\nimport {\r\n  getPartnerCompany,\r\n  getPartnerMember,\r\n  getPartnerMemberContractTotal,\r\n  getIndividualMember,\r\n} from '../utils/api';\r\nimport { TableDetail, EnhancedTable } from '../../datatable';\r\nimport {\r\n  partner_contract_detail_schema,\r\n  member_monthly_request_list_schema,\r\n  member_monthly_request_form_schema,\r\n  member_monthly_request_form_layout,\r\n} from './schema';\r\nimport { Button, Paper } from '@material-ui/core';\r\nimport { common, config, ajax, constant } from '../../utils';\r\nimport { withPermissions, HasPerm, Toast } from '../../components';\r\nimport { paperSpacing } from '../../assets/jss/material-dashboard-react';\r\n\r\nclass PartnerContractDetail extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.onEditMonthlyRequest = this.onEditMonthlyRequest.bind(this);\r\n    this.state = {\r\n      company: {},\r\n      member: {},\r\n      contract_total: {},\r\n      reload: false,\r\n    };\r\n    this.initialize(props);\r\n  }\r\n\r\n  initialize = (props) => {\r\n    const { company_id, member_id, contract_id } = props.match.params;\r\n    if (company_id) {\r\n      getPartnerCompany(company_id).then(company => {\r\n        this.setState({company});\r\n      });\r\n      getPartnerMember(company_id, member_id).then(member => {\r\n        this.setState({member});\r\n      });\r\n    } else {\r\n      getIndividualMember(member_id).then(member => {\r\n        this.setState({member});\r\n      });\r\n    }\r\n    getPartnerMemberContractTotal(member_id, contract_id).then(\r\n      contract_total => this.setState({contract_total})\r\n    ).catch(errors => {\r\n      if (errors.status_code === 403) {\r\n        this.props.forbidden(errors.detail);\r\n      }\r\n    });\r\n  };\r\n\r\n  componentDidUpdate = () => {\r\n    const { company, member, contract_total } = this.state;\r\n    console.log(contract_total)\r\n    document.title = `${contract_total.contract_no} | ${member.full_name || ''} | ${company.name || ''}`;\r\n  };\r\n\r\n  onEditMonthlyRequest = (data, handleClose) => {\r\n    const { member_id, contract_id } = this.props.match.params;\r\n    return ajax.fetchPut(\r\n      common.formatStr(config.api.partner.member_monthly_request_detail, member_id, contract_id, data.id),\r\n      data,\r\n    ).then(() => {\r\n      if (handleClose) {\r\n        handleClose();\r\n      }\r\n      Toast.success(constant.SUCCESS.SAVED);\r\n      this.setState({reload: !this.state.reload});\r\n    }).catch(errors => {\r\n      Toast.error(constant.ERROR.FORM_CHECK_ERROR);\r\n      return Promise.reject(errors);\r\n    });\r\n  };\r\n\r\n  handleRequestFormChanges = (name, data) => {\r\n    const is_show_formula = data['is_show_formula'];\r\n    const min_hours = data['min_hours'];\r\n    const max_hours = data['max_hours'];\r\n    const price = common.toNumComma(data['price']);\r\n    const minus_per_hour = common.toNumComma(data['minus_per_hour']);\r\n    const plus_per_hour = common.toNumComma(data['plus_per_hour']);\r\n    if (name === 'minus_per_hour') {\r\n      if (is_show_formula === true) {\r\n        data['minus_per_hour_memo'] = `${price}/${min_hours}h=${minus_per_hour}/h`;\r\n      } else {\r\n        data['minus_per_hour_memo'] = `${minus_per_hour}/h`;\r\n      }\r\n    } else if (name === 'plus_per_hour') {\r\n      if (is_show_formula === true) {\r\n        data['plus_per_hour_memo'] = `${price}/${max_hours}h=${plus_per_hour}/h`;\r\n      } else {\r\n        data['plus_per_hour_memo'] = `${plus_per_hour}/h`;\r\n      }\r\n    } else if (name === 'is_show_formula') {\r\n      if (is_show_formula === true) {\r\n        data['minus_per_hour_memo'] = `${price}/${min_hours}h=${minus_per_hour}/h`;\r\n        data['plus_per_hour_memo'] = `${price}/${max_hours}h=${plus_per_hour}/h`;\r\n      } else {\r\n        data['minus_per_hour_memo'] = `${minus_per_hour}/h`;\r\n        data['plus_per_hour_memo'] = `${plus_per_hour}/h`;\r\n      }\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { company_id, member_id, contract_id } = this.props.match.params;\r\n    const { company, member, contract_total, reload } = this.state;\r\n    const breadcrumbs = [];\r\n    if (company_id) {\r\n      breadcrumbs.push({ link: '/partner/companies?is_retired=false', name: '' });\r\n      breadcrumbs.push({ link: `/partner/companies/${company_id}/`, name: company.name });\r\n      breadcrumbs.push({ link: `/partner/companies/${company_id}/members`, name: '' });\r\n      breadcrumbs.push({ link: `/partner/companies/${company_id}/members/${member_id}`, name: member.full_name });\r\n    } else {\r\n      breadcrumbs.push({ link: '/partner/individual', name: '' });\r\n      breadcrumbs.push({ link: `/partner/individual/${member_id}/`, name: member.full_name });\r\n    }\r\n    breadcrumbs.push({ name: contract_total.contract_no });\r\n\r\n    return (\r\n      <div>\r\n        <TopBreadcrumbs\r\n          breadcrumbs={breadcrumbs}\r\n        />\r\n        <div style={{marginTop: 16}}>\r\n          <TableDetail\r\n            data={contract_total}\r\n            schema={partner_contract_detail_schema}\r\n            actions={[\r\n              (\r\n                <HasPerm permission='partner.change_partnermember' key='edit'>\r\n                  <Button\r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    onClick={() => {\r\n                      if (company_id) {\r\n                        return common.redirect(`/partner/companies/${company_id}/members/${member_id}/contracts/${contract_id}/form`);\r\n                      } else {\r\n                        return common.redirect(`/partner/individual/${member_id}/contracts/${contract_id}/form`);\r\n                      }\r\n                    }} \r\n                  ></Button>\r\n                </HasPerm>\r\n              )\r\n            ]}\r\n          />\r\n          <Paper style={paperSpacing}>\r\n            <DataSource\r\n              reload={reload}\r\n              endpoint={common.formatStr(config.api.partner.member_monthly_request, member_id, contract_id)}\r\n              render={(initData) => (\r\n                <EnhancedTable\r\n                  title=''\r\n                  showTitle={true}\r\n                  tableHead={member_monthly_request_list_schema}\r\n                  tableData={initData.results}\r\n                  rowsPerPage={config.rowsPerPage}\r\n                  selectable=\"single\"\r\n                  editProps={{\r\n                    title: '',\r\n                    schema: member_monthly_request_form_schema,\r\n                    layout: member_monthly_request_form_layout,\r\n                    handleOk: this.onEditMonthlyRequest,\r\n                    onChanges: [this.handleRequestFormChanges],\r\n                    visible: common.hasPerm('partner.change_partnermember'),\r\n                  }}\r\n                  pushpinTop={common.getHeaderHeight()}\r\n                />\r\n              )}\r\n            />\r\n          </Paper>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withPermissions(PartnerContractDetail, 'partner.view_partnermember');\r\n","import React from 'react';\r\nimport {\r\n  TopBreadcrumbs,\r\n  withPermissions,\r\n} from '../../components';\r\nimport BankAccountList from '../common/bank_account_list';\r\nimport { getPartnerCompany } from '../utils/api';\r\n\r\nclass PartnerCompanyBankAccounts extends React.Component {\r\n  title = '';\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      company: {},\r\n    };\r\n    this.initialize(props);\r\n  }\r\n\r\n  initialize = (props) => {\r\n    const { params } = props.match;\r\n    getPartnerCompany(params.company_id).then(company => {\r\n      this.setState({company});\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { company_id } = this.props.match.params;\r\n    const { company } = this.state;\r\n\r\n    return (\r\n      <div>\r\n        <TopBreadcrumbs\r\n          breadcrumbs={[\r\n            { link: '/partner/companies?is_retired=false', name: '' },\r\n            { link: `/partner/companies/${company_id}/`, name: company.name },\r\n            { name: this.title },\r\n          ]}\r\n        />\r\n        <div>\r\n          { company.content_type ? (\r\n            <BankAccountList\r\n              title={`${company.name} `}\r\n              content_type={company.content_type}\r\n              object_id={company_id}\r\n            />\r\n          ) : null}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withPermissions(PartnerCompanyBankAccounts, 'master.view_bankaccount');","import React from 'react';\r\nimport TopBreadcrumbs from '../../components/TopBreadcrumbs';\r\nimport Card from '../../components/Card/Card';\r\nimport CardHeader from '../../components/Card/CardHeader';\r\nimport CardBody from '../../components/Card/CardBody';\r\nimport OrderStatusList from './order_status_list';\r\nimport { common, config } from '../../utils';\r\nimport { withPermissions } from '../../components';\r\n\r\nclass PartnerOrderList extends React.Component {\r\n\r\n  componentDidMount = () => {\r\n    const { year, month } = this.props.match.params;\r\n    document.title = `${year}${month} | BP`;\r\n  };\r\n  \r\n  render() {\r\n    const { year, month } = this.props.match.params;\r\n\r\n    return (\r\n      <div>\r\n        <TopBreadcrumbs\r\n          breadcrumbs={[\r\n            { link: '/partner/monthly-orders', name: 'BP' },\r\n            { name: `${year}${month}` },\r\n          ]}\r\n        />\r\n        <Card>\r\n          <CardHeader color=\"info\">{year}{month}</CardHeader>\r\n          <CardBody>\r\n            <OrderStatusList\r\n              endpoint={common.formatStr(config.api.partner.orders_status, year, month)}\r\n              showMonth={false}\r\n            />\r\n          </CardBody>\r\n        </Card>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withPermissions(PartnerOrderList, 'partner.view_partnerorder');\r\n","import React from 'react';\r\nimport {\r\n  Card,\r\n  CardHeader,\r\n  CardContent,\r\n  IconButton,\r\n  CardActions,\r\n  Button,\r\n} from '@material-ui/core';\r\nimport PrintIcon from '@material-ui/icons/Print';\r\nimport TopBreadcrumbs from '../../components/TopBreadcrumbs';\r\nimport { common, ajax } from '../../utils/common';\r\nimport {\r\n  getPartnerCompany,\r\n  getPartnerMember,\r\n  getPartnerOrderHtml,\r\n  getPartnerOrderRequestHtml,\r\n  downloadAttachment,\r\n} from '../utils/api';\r\nimport { ConfirmDialog } from '../../datatable';\r\nimport { config, constant } from '../../utils';\r\nimport { withPermissions, HasPerm, Toast } from '../../components';\r\n\r\nclass PartnerOrderDetail extends React.Component {\r\n  title = 'BP';\r\n  reportId = 'printPartnerOrder';\r\n  reportRequestId = 'printPartnerOrderRequest';\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      company: {},\r\n      member: {},\r\n      partner_order_html: null,\r\n      partner_order_uuid: null,\r\n      partner_order_request_html: null,\r\n      partner_order_request_uuid: null,\r\n    };\r\n    this.initialize(props);\r\n  }\r\n\r\n  initialize = (props) => {\r\n    const { company_id, member_id, order_id } = props.match.params;\r\n    getPartnerCompany(company_id).then(company => {\r\n      this.setState({company});\r\n    });\r\n    if (member_id) {\r\n      getPartnerMember(company_id, member_id).then(member => {\r\n        this.setState({member});\r\n      });\r\n    }\r\n    getPartnerOrderHtml(order_id).then(json => {\r\n      this.setState({partner_order_html: json.html, partner_order_uuid: json.uuid});\r\n    });\r\n    getPartnerOrderRequestHtml(order_id).then(json => {\r\n      this.setState({partner_order_request_html: json.html, partner_order_request_uuid: json.uuid});\r\n    });\r\n  };\r\n\r\n  componentDidUpdate = () => {\r\n    const { member, company } = this.state;\r\n    if (!common.isEmpty(member)) {\r\n      document.title = `${this.title} | ${member.full_name} | `;\r\n    } else {\r\n      document.title = `${this.title} | ${company.name} | `;\r\n    }\r\n  };\r\n\r\n  showDeleteConfirm = () => {\r\n    if (this.__confirm) {\r\n      this.__confirm();\r\n    }\r\n  };\r\n\r\n  handleDelete = () => {\r\n    const { company_id, member_id, order_id } = this.props.match.params;\r\n    ajax.fetchDelete(common.formatStr(config.api.partner.order_detail, order_id)).then(() => {\r\n      if (member_id) {\r\n        common.redirect(`/partner/companies/${company_id}/members/${member_id}`);\r\n      } else {\r\n        common.redirect(`/partner/companies/${company_id}`);\r\n      }\r\n      Toast.success(constant.SUCCESS.DELETED);\r\n    }).catch(errors => {\r\n      Toast.error(errors.detail);\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { company_id, member_id } = this.props.match.params;\r\n    const {\r\n      company,\r\n      member,\r\n      partner_order_html,\r\n      partner_order_request_html,\r\n      partner_order_uuid,\r\n      partner_order_request_uuid,\r\n    } = this.state;\r\n    const breadcrumbs = [\r\n      { link: '/partner/companies', name: '' },\r\n      { link: `/partner/companies/${company_id}/`, name: company.name },\r\n    ];\r\n    if (member_id) {\r\n      breadcrumbs.push({ link: `/partner/companies/${company_id}/members`, name: '' });\r\n      breadcrumbs.push({ link: `/partner/companies/${company_id}/members/${member_id}`, name: member.full_name });\r\n      breadcrumbs.push({ name: this.title });\r\n    } else {\r\n      breadcrumbs.push({ name: this.title });\r\n    }\r\n\r\n    return (\r\n      <div>\r\n        <TopBreadcrumbs\r\n          breadcrumbs={breadcrumbs}\r\n        />\r\n        <div style={{marginTop: 16}}>\r\n          <Card>\r\n            <CardHeader\r\n              title={this.title}\r\n              action={\r\n                <IconButton\r\n                  aria-haspopup=\"true\"\r\n                  onClick={() => {common.printIframeContent(this.reportId)}}\r\n                >\r\n                  <PrintIcon />\r\n                </IconButton>\r\n              }\r\n            />\r\n            <CardContent>\r\n              <iframe\r\n                title={this.title}\r\n                id={this.reportId}\r\n                srcDoc={partner_order_html}\r\n                frameBorder='0'\r\n                width='100%'\r\n                height='1300px'\r\n              >\r\n              </iframe>\r\n            </CardContent>\r\n            <CardActions>\r\n              <HasPerm permission='partner.delete_partnerorder'>\r\n                <Button\r\n                  variant=\"contained\"\r\n                  color=\"secondary\"\r\n                  style={{margin: 8}}\r\n                  onClick={this.showDeleteConfirm}\r\n                >\r\n                  \r\n                </Button>\r\n              </HasPerm>\r\n              <Button\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                style={{margin: 8}}\r\n                onClick={() => downloadAttachment(partner_order_uuid)}\r\n              >\r\n                \r\n              </Button>\r\n            </CardActions>\r\n          </Card>\r\n          <ConfirmDialog\r\n            title=''\r\n            onOk={this.handleDelete}\r\n            innerRef={dlg => { this.__confirm = dlg && dlg.handleOpen }}\r\n          />\r\n        </div>\r\n        <div style={{marginTop: 16}}>\r\n          <Card>\r\n            <CardHeader\r\n              title={this.title}\r\n              action={\r\n                <IconButton\r\n                  aria-haspopup=\"true\"\r\n                  onClick={() => {common.printIframeContent(this.reportRequestId)}}\r\n                >\r\n                  <PrintIcon />\r\n                </IconButton>\r\n              }\r\n            />\r\n            <CardContent>\r\n              <iframe\r\n                title={this.title}\r\n                id={this.reportRequestId}\r\n                srcDoc={partner_order_request_html}\r\n                frameBorder='0'\r\n                width='100%'\r\n                height='1300px'\r\n              >\r\n              </iframe>\r\n            </CardContent>\r\n            <CardActions>\r\n              <Button\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                style={{margin: 8}}\r\n                onClick={() => downloadAttachment(partner_order_request_uuid)}\r\n              >\r\n                \r\n              </Button>\r\n            </CardActions>\r\n          </Card>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withPermissions(PartnerOrderDetail, 'partner.view_partnerorder');\r\n","import React from 'react';\r\nimport { config, common } from '../../utils';\r\nimport DataSource from '../../components/DataSource';\r\nimport { EnhancedTable } from '../../datatable';\r\nimport { monthly_orders_list_schema } from './schema';\r\nimport { withPermissions } from '../../components';\r\nimport { Paper } from '@material-ui/core';\r\nimport { paperSpacing } from '../../assets/jss/material-dashboard-react';\r\n\r\nclass PartnerMonthlyOrders extends React.Component {\r\n  title = 'BP';\r\n\r\n  componentDidMount = () => {\r\n    document.title = this.title;\r\n  }\r\n  \r\n  render() {\r\n    return (\r\n      <Paper style={paperSpacing}>\r\n        <DataSource\r\n          endpoint={config.api.partner.monthly_orders}\r\n          render={(initData) => (\r\n            <EnhancedTable\r\n              title={this.title}\r\n              showTitle={true}\r\n              tableHead={monthly_orders_list_schema}\r\n              tableData={initData}\r\n              rowsPerPage={config.rowsPerPage}\r\n              pushpinTop={common.getHeaderHeight()}\r\n              tableStyles={{ minWidth: 500 }}\r\n            />\r\n          )}\r\n        />\r\n      </Paper>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withPermissions(PartnerMonthlyOrders, 'partner.view_partnerorder');\r\n","import React from 'react';\r\nimport { config, common } from '../../utils';\r\nimport DataSource from '../../components/DataSource';\r\nimport { EnhancedTable } from '../../datatable';\r\nimport { monthly_requests_list_schema } from './schema';\r\nimport { withPermissions } from '../../components';\r\nimport { Paper } from '@material-ui/core';\r\nimport { paperSpacing } from '../../assets/jss/material-dashboard-react';\r\n\r\nclass PartnerMonthlyRequests extends React.Component {\r\n  title = '';\r\n\r\n  componentDidMount = () => {\r\n    document.title = this.title;\r\n  }\r\n  \r\n  render() {\r\n    return (\r\n      <div>\r\n        <Paper style={paperSpacing}>\r\n          <DataSource\r\n            endpoint={config.api.partner.monthly_requests}\r\n            render={(initData) => (\r\n              <EnhancedTable\r\n                title={this.title}\r\n                showTitle={true}\r\n                tableHead={monthly_requests_list_schema}\r\n                tableData={initData}\r\n                rowsPerPage={config.rowsPerPage}\r\n                pushpinTop={common.getHeaderHeight()}\r\n                tableStyles={{ minWidth: 320 }}\r\n              />\r\n            )}\r\n          />\r\n        </Paper>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withPermissions(PartnerMonthlyRequests, 'partner.view_partnerrequest');\r\n","import React from 'react';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport { EnhancedTable } from '../../datatable/index';\r\nimport {\r\n  Card,\r\n  CardHeader,\r\n  CardBody,\r\n  withPermissions,\r\n  DataSource,\r\n} from \"../../components\";\r\nimport { individual_member_list_schema } from './schema';\r\nimport { config } from '../../utils/config';\r\nimport { common } from '../../utils/common';\r\nimport { getSalespersonChoice } from '../utils';\r\n\r\nclass IndividualMembers extends React.Component {\r\n  title = '';\r\n  individual_member_list_schema = common.clone(individual_member_list_schema);\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      salesperson_choice: [],\r\n    };\r\n    \r\n    this.initialize();\r\n  }\r\n\r\n  initialize = () => {\r\n    getSalespersonChoice().then(salesperson_choice => {\r\n      this.setState({salesperson_choice});\r\n    });\r\n  };\r\n\r\n  componentDidMount = () => {\r\n    document.title = this.title;\r\n  }\r\n\r\n  render () {\r\n    const filters = {};\r\n    const { salesperson_choice } = this.state;\r\n    // \r\n    common.getFromJsonList(this.individual_member_list_schema, 'name', 'salesperson_id')['choices'] = salesperson_choice;\r\n\r\n    return (\r\n      <div>\r\n        <Card>\r\n          <CardHeader color=\"info\">\r\n            {this.title}\r\n          </CardHeader>\r\n          <CardBody>\r\n            <DataSource\r\n              endpoint={ config.api.partner.individual_members }\r\n              render={ (initData) => (\r\n                <EnhancedTable\r\n                  title={this.title}\r\n                  storageKey='individual.members'\r\n                  tableHead={this.individual_member_list_schema}\r\n                  tableData={initData.results}\r\n                  rowsPerPage={config.rowsPerPage}\r\n                  tableActions={[\r\n                    {\r\n                      'tooltip': '',\r\n                      'icon': <AddIcon color=\"secondary\"/>,\r\n                      'handleClick': () => (common.redirect('/partner/individual/add')),\r\n                      'visible': common.hasPerm('partner.add_partnermember'),\r\n                    }\r\n                  ]}\r\n                  filters={filters}\r\n                  allowCsv={true}\r\n                  urlReflect={false}\r\n                  pushpinTop={common.getHeaderHeight()}\r\n                  tableStyles={{ minWidth: 900 }}\r\n                />\r\n              ) } \r\n            />\r\n          </CardBody>\r\n        </Card>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withPermissions(IndividualMembers, 'partner.view_partnermember');\r\n","import React from 'react';\r\nimport { withSnackbar } from 'notistack';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport {\r\n  withPermissions,\r\n  HasPerm,\r\n  TopBreadcrumbs,\r\n  Card,\r\n  CardHeader,\r\n  CardBody,\r\n  DataSource,\r\n  Timeline,\r\n} from '../../components';\r\nimport GridContainer from '../../components/Grid/GridContainer';\r\nimport GridItem from '../../components/Grid/GridItem';\r\nimport { TableDetail, EnhancedTable } from '../../datatable';\r\nimport {\r\n  getIndividualMember,\r\n  handleEditObject,\r\n  handleDeleteObject,\r\n  getPartnerMemberProjectTimeline,\r\n  handleAddObject,\r\n  getOrganizationChoices,\r\n} from '../utils/api';\r\nimport {\r\n  member_detail_schema,\r\n  member_form_basic_schema,\r\n  member_form_basic_layout,\r\n  bp_member_contract_list_schema,\r\n} from './schema';\r\nimport { config } from '../../utils/config';\r\nimport { common } from '../../utils/common';\r\nimport PaymentNoticeStatus from './payment_notice_status';\r\nimport BankAccountList from '../common/bank_account_list';\r\nimport { onBlurPostcode } from '../utils';\r\nimport {\r\n  member_education_form_schema,\r\n  member_education_list_schema,\r\n  list_member_organization_schema,\r\n  member_organization_form_schema,\r\n} from '../contract/schema';\r\n\r\nclass IndividualMember extends React.Component {\r\n  member_contract_list_schema = common.clone(bp_member_contract_list_schema);\r\n  member_organization_form_schema = common.clone(member_organization_form_schema);\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      member: {},\r\n      member_projects: [],\r\n      organizations: [],\r\n      education_reload: false,\r\n      org_reload: false,\r\n    };\r\n    this.initialize(props);\r\n    this.detail_api = common.formatStr(\r\n      config.api.partner.individual_member_detail,\r\n      props.match.params.member_id\r\n    );\r\n  }\r\n\r\n  initialize = (props) => {\r\n    const { member_id } = props.match.params;\r\n    getIndividualMember(member_id).then(member => {\r\n      this.setState({member});\r\n    });\r\n    getPartnerMemberProjectTimeline(member_id).then(member_projects => {\r\n      this.setState({ member_projects });\r\n    });\r\n    getOrganizationChoices().then(organizations => this.setState({ organizations }));\r\n  };\r\n\r\n  componentDidUpdate = () => {\r\n    const { member } = this.state;\r\n    document.title = `${member.full_name || ''} | `;\r\n  };\r\n\r\n  render() {\r\n    const { member_id } = this.props.match.params;\r\n    const { member, member_projects, organizations, education_reload, org_reload } = this.state;\r\n    // \r\n    const member_form_schema = common.clone(member_form_basic_schema);\r\n    common.getFromJsonList(member_form_schema, 'name', \"code\")['read_only'] = true;\r\n    common.getFromJsonList(member_form_schema, 'name', \"company\")['read_only'] = true;\r\n    common.getFromJsonList(member_form_schema, 'name', \"middleman\")['read_only'] = true;\r\n    common.getFromJsonList(this.member_contract_list_schema, 'name', 'contract_no').link\r\n      = \"/partner/individual/%(object_id)s/contracts/%(id)s/detail\";\r\n    // \r\n    common.getFromJsonList(this.member_organization_form_schema, 'name', 'organization').choices = organizations;\r\n\r\n    return (\r\n      <div>\r\n        <TopBreadcrumbs\r\n          breadcrumbs={[\r\n            { link: '/partner/individual', name: '' },\r\n            { name: member.full_name },\r\n          ]}\r\n        />\r\n        <div style={{marginTop: 16}}>\r\n          <GridContainer>\r\n            <GridItem xs={12} sm={12} md={9} lg={9}>\r\n              <TableDetail\r\n                data={member}\r\n                schema={member_detail_schema}\r\n                editProps={{\r\n                  title: '',\r\n                  schema: member_form_schema,\r\n                  layout: member_form_basic_layout,\r\n                  handleEdit: handleEditObject(\r\n                    (member) => this.setState({member}),\r\n                    this.detail_api,\r\n                  ),\r\n                  visible: common.hasPerm('partner.change_partnermember'),\r\n                  onBlurs: [onBlurPostcode],\r\n                }}\r\n                deleteProps={{\r\n                  handleDelete: handleDeleteObject(\r\n                    () => common.redirect('/partner/individual'),\r\n                    this.detail_api,\r\n                  ),\r\n                  visible: common.hasPerm('partner.delete_partnermember'),\r\n                }}\r\n              />\r\n            </GridItem>\r\n            <GridItem xs={12} sm={12} md={3} lg={3}>\r\n              <Card profile>\r\n                <CardHeader></CardHeader>\r\n                <CardBody>\r\n                  { !common.isEmpty(member_projects) ? (\r\n                    <Timeline items={member_projects} showTime={false} showEnd={true} />\r\n                  ) : null }\r\n                </CardBody>\r\n              </Card>\r\n            </GridItem>\r\n          </GridContainer>\r\n          {member.content_type ? (\r\n            <HasPerm permission='org.view_organizationmember'>\r\n              <Card>\r\n                <CardHeader color='info'></CardHeader>\r\n                <CardBody>\r\n                  <DataSource\r\n                    reload={org_reload}\r\n                    endpoint={common.formatStr(config.api.member.member_organizations, member.content_type, member_id)}\r\n                    render={(initData) => (\r\n                      <EnhancedTable\r\n                        title=''\r\n                        tableHead={list_member_organization_schema}\r\n                        tableData={initData}\r\n                        rowsPerPage={config.rowsPerPage}\r\n                        selectable='single'\r\n                        addProps={{\r\n                          title: '',\r\n                          schema: this.member_organization_form_schema,\r\n                          handleOk: handleAddObject(\r\n                            () => this.setState({ org_reload: !org_reload }),\r\n                            config.api.organization.member_organization_add,\r\n                          ),\r\n                          data: {\r\n                            content_type: member.content_type,\r\n                            object_id: member_id,\r\n                          },\r\n                          visible: common.hasPerm('org.add_organizationmember'),\r\n                        }}\r\n                        editProps={{\r\n                          title: '',\r\n                          schema: this.member_organization_form_schema,\r\n                          handleOk: handleEditObject(\r\n                            () => this.setState({ org_reload: !org_reload }),\r\n                            config.api.organization.member_organization_detail,\r\n                          ),\r\n                          visible: common.hasPerm('org.change_organizationmember'),\r\n                        }}\r\n                        deleteProps={{\r\n                          handleDelete: handleDeleteObject(\r\n                            () => this.setState({ org_reload: !org_reload }),\r\n                            config.api.organization.member_organization_detail,\r\n                          ),\r\n                          visible: common.hasPerm('org.delete_organizationmember'),\r\n                        }}\r\n                        pushpinTop={common.getHeaderHeight()}\r\n                      />\r\n                    )}\r\n                  />\r\n                </CardBody>\r\n              </Card>\r\n            </HasPerm>\r\n          ) : null}\r\n          <Card>\r\n            <CardHeader color=\"info\">\r\n              \r\n            </CardHeader>\r\n            <CardBody>\r\n              <DataSource\r\n                reload={education_reload}\r\n                endpoint={ common.formatStr(config.api.member.education_list, member_id) }\r\n                render={ (initData) => (\r\n                  <EnhancedTable\r\n                    title=''\r\n                    tableHead={member_education_list_schema}\r\n                    tableData={initData.results}\r\n                    rowsPerPage={config.rowsPerPage}\r\n                    allowCsv={true}\r\n                    selectable='single'\r\n                    addProps={{\r\n                      title: '',\r\n                      schema: member_education_form_schema,\r\n                      handleOk: handleAddObject(\r\n                        () => this.setState({education_reload: !education_reload}),\r\n                        config.api.member.education_list,\r\n                        member_id\r\n                      ),\r\n                      data: {\r\n                        'content_type': member.content_type,\r\n                        'object_id': member_id,\r\n                      },\r\n                    }}\r\n                    editProps={{\r\n                      title: '',\r\n                      schema: member_education_form_schema,\r\n                      handleOk: handleEditObject(\r\n                        () => this.setState({education_reload: !education_reload}),\r\n                        config.api.member.education_detail,\r\n                        member_id\r\n                      ),\r\n                    }}\r\n                    deleteProps={{\r\n                      handleDelete: handleDeleteObject(\r\n                        () => this.setState({education_reload: !education_reload}),\r\n                        config.api.member.education_detail,\r\n                        member_id\r\n                      ),\r\n                    }}\r\n                    pushpinTop={common.getHeaderHeight()}\r\n                  />\r\n                ) } \r\n              />\r\n            </CardBody>\r\n          </Card>\r\n          <Card>\r\n            <CardHeader color=\"info\"></CardHeader>\r\n            <CardBody>\r\n              <DataSource\r\n                endpoint={common.formatStr(config.api.partner.individual_member_contracts, member_id)}\r\n                render={(initData) => (\r\n                  <EnhancedTable\r\n                    tableHead={this.member_contract_list_schema}\r\n                    tableData={initData}\r\n                    rowsPerPage={config.rowsPerPage}\r\n                    tableActions={[\r\n                      {\r\n                        'tooltip': '',\r\n                        'icon': <AddIcon color=\"secondary\"/>,\r\n                        'handleClick': () => (common.redirect(`/partner/individual/${member_id}/contracts/add`)),\r\n                        'visible': common.hasPerm('partner.change_partnermember'),\r\n                      },\r\n                    ]}\r\n                    rowActions={[\r\n                      {\r\n                        'tooltip': \"\",\r\n                        \"icon\": <EditIcon />,\r\n                        \"handleClick\": (data) => common.redirect(`/partner/individual/${member_id}/contracts/${data.id}/form`),\r\n                        'visible': common.hasPerm('partner.change_partnermember'),\r\n                      },\r\n                    ]}\r\n                    selectable='single'\r\n                    pushpinTop={common.getHeaderHeight()}\r\n                    tableStyles={{ minWidth: 800 }}\r\n                  />\r\n                )}\r\n              />\r\n            </CardBody>\r\n          </Card>\r\n          { member.content_type ? (\r\n            <BankAccountList\r\n              title={`${member.full_name} `}\r\n              content_type={member.content_type}\r\n              object_id={member_id}\r\n            />\r\n          ) : null}\r\n          <HasPerm permission='partner.view_partnerrequest'>\r\n            <Card>\r\n              <CardHeader color=\"info\"></CardHeader>\r\n              <CardBody>\r\n                {member.content_type ? (\r\n                  <PaymentNoticeStatus\r\n                    content_type={member.content_type}\r\n                    object_id={member_id}\r\n                    endpoint={common.formatStr(config.api.partner.individual_payment_notice_status, member_id)}\r\n                  />\r\n                ) : null }\r\n              </CardBody>\r\n            </Card>\r\n          </HasPerm>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withPermissions(\r\n  withSnackbar(IndividualMember),\r\n  'partner.view_partnermember',\r\n);\r\n","import React from 'react';\r\nimport CommonMemberAdd from './common_member_add';\r\nimport { common, config } from '../../utils';\r\nimport { withPermissions } from '../../components';\r\n\r\nclass IndividualMemberAdd extends React.Component {\r\n  title = '';\r\n\r\n  componentDidMount = () => {\r\n    document.title = `${this.title} | `;\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <CommonMemberAdd\r\n          breadcrumbs={[\r\n            { 'link': '/partner/individual', 'name': '' },\r\n            { 'name': this.title },\r\n          ]}\r\n          endpoint={config.api.partner.individual_member_add}\r\n          callback={(data) => common.redirect(`/partner/individual/${data.id}/`)}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withPermissions(IndividualMemberAdd, 'partner.add_partnermember');","import React from 'react';\r\nimport PropTypes from \"prop-types\";\r\nimport NoteAddIcon from '@material-ui/icons/NoteAdd';\r\nimport SendIcon from '@material-ui/icons/Send';\r\nimport {\r\n  withPermissions,\r\n  DataSource,\r\n  HasPerm,\r\n  Toast,\r\n} from '../../components';\r\nimport {\r\n  send_email_form_schema,\r\n  send_email_form_layout,\r\n  getBankAccountList,\r\n  createPartnerPaymentNotice,\r\n  getPartnerPaymentNoticeEmailData,\r\n  sendContentObjectEmail,\r\n} from '../utils';\r\nimport { common, config, constant } from '../../utils';\r\nimport {\r\n  partner_payment_notice_by_month_list_schema,\r\n  create_partner_payment_notice_form_layout,\r\n  create_partner_payment_notice_form_schema,\r\n} from './schema';\r\nimport { EnhancedTable, FormDialog } from '../../datatable';\r\n\r\nclass PaymentNoticeByMonth extends React.Component {\r\n  partner_payment_notice_form = common.clone(create_partner_payment_notice_form_schema);\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      email_schema: send_email_form_schema,\r\n      bank_account_list: [],\r\n      reload: false,\r\n    };\r\n    this.initialize(props);\r\n  }\r\n\r\n  initialize = (props) => {\r\n    const { content_type, object_id } = props;\r\n    getBankAccountList(content_type, object_id).then(data => this.setState({bank_account_list: data}));\r\n  };\r\n\r\n  showPaymentNoticeConfirm = (data) => {\r\n    const { company_id, member_id, year, month, org_id } = this.props;\r\n    if (this._showPaymentNoticeConfirm) {\r\n      this._showPaymentNoticeConfirm({year, month, organization_id: org_id, company_id, member_id});\r\n    }\r\n  };\r\n\r\n  createPartnerPaymentNotice = (data, handleClose) => {\r\n    return createPartnerPaymentNotice(data).then(json => {\r\n      handleClose();\r\n      Toast.success(constant.SUCCESS.PAYMENT_NOTICE_CREATED)\r\n    }).catch(errors => {\r\n      Toast.error(errors.detail);\r\n    });\r\n  };\r\n\r\n  handlePaymentNoticeReload = (data) => {\r\n    this.setState(state => ({ reload: !state.reload }));\r\n  };\r\n\r\n  showSendEmail = (data) => {\r\n    if (this._showSendEmail) {\r\n      if (Array.isArray(data) && data.length > 0 && data[0].request_id) {\r\n        getPartnerPaymentNoticeEmailData(data[0].request_id).then(mail_data => {\r\n          // \r\n          const email_schema = common.clone(send_email_form_schema);\r\n          common.getFromJsonList(email_schema, 'name', 'attachments')['choices'] = mail_data.attachment_choices;\r\n          this.setState({email_schema});\r\n          this._showSendEmail(mail_data);\r\n        }).catch(errors => {\r\n          Toast.error(errors.detail);\r\n        });\r\n      } else {\r\n        Toast.error(constant.ERROR.PAYMENT_NOTICE_NOT_FOUND);\r\n      }\r\n    }\r\n  };\r\n\r\n  sendPartnerPaymentNotice = (data, handleClose) => {\r\n    return sendContentObjectEmail(data.content_type_id, data.object_id, data).then(() => {\r\n      handleClose();\r\n      Toast.success(constant.SUCCESS.EMAIL_SENT);\r\n    }).catch(errors => {\r\n      Toast.error(errors.detail);\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { email_schema, bank_account_list, reload } = this.state;\r\n    const { title, endpoint } = this.props;\r\n\r\n    common.getFromJsonList(\r\n      this.partner_payment_notice_form, 'name', 'bank_account_id'\r\n    )['choices'] = bank_account_list;\r\n\r\n    return (\r\n      <div>\r\n        <DataSource\r\n          reload={reload}\r\n          endpoint={endpoint}\r\n          render={(initData) => (\r\n            <EnhancedTable\r\n              title={title}\r\n              showTitle={true}\r\n              tableHead={partner_payment_notice_by_month_list_schema}\r\n              tableData={initData}\r\n              rowsPerPage={config.rowsPerPage}\r\n              pushpinTop={common.getHeaderHeight()}\r\n              tableActions={[\r\n                {\r\n                  'tooltip': '',\r\n                  'icon': <NoteAddIcon />,\r\n                  'handleClick': this.showPaymentNoticeConfirm,\r\n                  'visible': common.hasPerm('partner.add_partnerrequest'),\r\n                },\r\n                {\r\n                  'tooltip': '',\r\n                  'icon': <SendIcon />,\r\n                  'handleClick': this.showSendEmail,\r\n                  'visible': common.hasPerm('partner.send_partnerrequest'),\r\n                },\r\n              ]}\r\n            />\r\n          )}\r\n        />\r\n        <HasPerm permission='partner.add_partnerrequest'>\r\n          <FormDialog\r\n            innerRef={(dlg) => { this._showPaymentNoticeConfirm = dlg && dlg.handleOpen }}\r\n            title={''}\r\n            schema={this.partner_payment_notice_form}\r\n            layout={create_partner_payment_notice_form_layout}\r\n            handleOk={this.createPartnerPaymentNotice}\r\n            saveCallback={this.handlePaymentNoticeReload}\r\n          />\r\n        </HasPerm>\r\n        <HasPerm permission='partner.send_partnerrequest'>\r\n          <FormDialog\r\n            innerRef={(dlg) => { this._showSendEmail = dlg && dlg.handleOpen }}\r\n            title=''\r\n            schema={email_schema}\r\n            layout={send_email_form_layout}\r\n            handleOk={this.sendPartnerPaymentNotice}\r\n            saveCallback={this.handlePaymentNoticeReload}\r\n          />\r\n        </HasPerm>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nPaymentNoticeByMonth.propTypes = {\r\n  title: PropTypes.string,\r\n  content_type: PropTypes.oneOfType([\r\n    PropTypes.string,\r\n    PropTypes.number\r\n  ]).isRequired,\r\n  object_id: PropTypes.oneOfType([\r\n    PropTypes.string,\r\n    PropTypes.number\r\n  ]).isRequired,\r\n  endpoint: PropTypes.string.isRequired,\r\n  company_id: PropTypes.oneOfType([\r\n    PropTypes.string,\r\n    PropTypes.number\r\n  ]),\r\n  member_id: PropTypes.oneOfType([\r\n    PropTypes.string,\r\n    PropTypes.number\r\n  ]),\r\n  filters: PropTypes.object,\r\n};\r\n\r\nexport default withPermissions(PaymentNoticeByMonth, 'partner.view_partnerrequest');\r\n","import React from 'react';\r\nimport { Paper } from '@material-ui/core';\r\nimport {\r\n  withPermissions,\r\n  TopBreadcrumbs,\r\n} from '../../components';\r\nimport PaymentNoticeByMonth from './payment_notice_by_month';\r\nimport {\r\n  getPartnerCompany,\r\n  getOrganization,\r\n} from '../utils';\r\nimport { common, config } from '../../utils';\r\nimport { paperSpacing } from '../../assets/jss/material-dashboard-react';\r\n\r\nclass CompanyPaymentNotice extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      company: {},\r\n      organization: {},\r\n    };\r\n    this.initialize(props);\r\n  }\r\n\r\n  initialize = (props) => {\r\n    const { company_id, org_id } = props.match.params;\r\n    getPartnerCompany(company_id).then(company => {\r\n      this.setState({company});\r\n    });\r\n    getOrganization(org_id).then(organization => {\r\n      this.setState({organization});\r\n    });\r\n  };\r\n\r\n  componentDidUpdate = () => {\r\n    const { company } = this.state;\r\n    document.title = ` | ${company.name || ''} | `;\r\n  };\r\n\r\n  render() {\r\n    const { company_id, year, month, org_id } = this.props.match.params;\r\n    const { company, organization } = this.state;\r\n\r\n    return (\r\n      <div>\r\n        <TopBreadcrumbs\r\n          breadcrumbs={[\r\n            { link: '/partner/companies?is_retired=false', name: '' },\r\n            { link: `/partner/companies/${company_id}`, name: company.name },\r\n            { name: `${year}${month} ${organization.name}` },\r\n          ]}\r\n        />\r\n        <Paper style={paperSpacing}>\r\n          {company.content_type ? (\r\n            <PaymentNoticeByMonth\r\n              title={`${year}${month} ${organization.name}`}\r\n              content_type={company.content_type}\r\n              object_id={company_id}\r\n              company_id={company_id}\r\n              org_id={org_id}\r\n              year={year}\r\n              month={month}\r\n              endpoint={common.formatStr(config.api.partner.company_payment_notice_by_month, company_id, year, month, org_id)}\r\n            />\r\n          ) : null}\r\n        </Paper>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withPermissions(CompanyPaymentNotice, 'partner.view_partnerrequest');\r\n","import React from 'react';\r\nimport { Paper } from '@material-ui/core';\r\nimport {\r\n  withPermissions,\r\n  TopBreadcrumbs,\r\n} from '../../components';\r\nimport PaymentNoticeByMonth from './payment_notice_by_month';\r\nimport {\r\n  getOrganization,\r\n  getIndividualMember,\r\n} from '../utils';\r\nimport { common, config } from '../../utils';\r\nimport { paperSpacing } from '../../assets/jss/material-dashboard-react';\r\n\r\nclass IndividualPaymentNotice extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      member: {},\r\n      organization: {},\r\n    };\r\n    this.initialize(props);\r\n  }\r\n\r\n  initialize = (props) => {\r\n    const { member_id, org_id } = props.match.params;\r\n    getIndividualMember(member_id).then(member => {\r\n      this.setState({member});\r\n    });\r\n    getOrganization(org_id).then(organization => {\r\n      this.setState({organization});\r\n    });\r\n  };\r\n\r\n  componentDidUpdate = () => {\r\n    const { member } = this.state;\r\n    document.title = ` | ${member.full_name || ''} | `;\r\n  };\r\n\r\n  render() {\r\n    const { member_id, year, month, org_id } = this.props.match.params;\r\n    const { member } = this.state;\r\n\r\n    return (\r\n      <div>\r\n        <TopBreadcrumbs\r\n          breadcrumbs={[\r\n            { link: '/partner/individual', name: '' },\r\n            { link: `/partner/individual/${member_id}`, name: member.full_name },\r\n            { name: `${year}${month} ${member.full_name}` },\r\n          ]}\r\n        />\r\n        <Paper style={paperSpacing}>\r\n          {member.content_type ? (\r\n            <PaymentNoticeByMonth\r\n              title={`${year}${month} ${member.full_name}`}\r\n              content_type={member.content_type}\r\n              object_id={member_id}\r\n              member_id={member_id}\r\n              org_id={org_id}\r\n              year={year}\r\n              month={month}\r\n              endpoint={common.formatStr(config.api.partner.individual_payment_notice_by_month, member_id, year, month, org_id)}\r\n            />\r\n          ) : null}\r\n        </Paper>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withPermissions(IndividualPaymentNotice, 'partner.view_partnerrequest');\r\n","import React from 'react';\r\nimport TopBreadcrumbs from '../../components/TopBreadcrumbs';\r\nimport PaymentNoticeStatus from './payment_notice_status';\r\nimport { common, config } from '../../utils';\r\nimport { withPermissions } from '../../components';\r\nimport { Paper } from '@material-ui/core';\r\nimport { paperSpacing } from '../../assets/jss/material-dashboard-react';\r\n\r\nclass PartnerRequestList extends React.Component {\r\n\r\n  componentDidMount = () => {\r\n    const { year, month } = this.props.match.params;\r\n    document.title = `${year}${month}`;\r\n  };\r\n  \r\n  render() {\r\n    const { year, month } = this.props.match.params;\r\n\r\n    return (\r\n      <div>\r\n        <TopBreadcrumbs\r\n          breadcrumbs={[\r\n            { link: '/partner/partner-requests', name: '' },\r\n            { name: `${year}${month}` },\r\n          ]}\r\n        />\r\n        <Paper style={paperSpacing}>\r\n          <PaymentNoticeStatus\r\n            title={`${year}${month}`}\r\n            endpoint={common.formatStr(config.api.partner.request_list_by_month, year, month)}\r\n          />\r\n        </Paper>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withPermissions(PartnerRequestList, 'partner.view_partnerrequest');\r\n","import { downloadAttachment } from '../utils';\r\nimport {\r\n  choice_project_status,\r\n  choice_attendance_type,\r\n  choice_contract_type_partner,\r\n} from '../../utils';\r\n\r\nexport const project_list_schema = [\r\n  {\r\n    \"name\": \"name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"link\": \"/project/projects/%(id)s\",\r\n    \"searchable\": true,\r\n    \"sortable\": true,\r\n    \"max_width\": 200,\r\n  },\r\n  {\r\n    \"name\": \"company_name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"searchable\": true,\r\n    \"sortable\": true,\r\n    \"max_width\": 150,\r\n  },\r\n  {\r\n    \"name\": \"business_type\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"choices\": [],\r\n    \"searchable\": true,\r\n    \"sortable\": true,\r\n    \"native\": true,\r\n  },\r\n  {\r\n    \"name\": \"member_count\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"\",\r\n    \"sortable\": true,\r\n  },\r\n  {\r\n    \"name\": \"start_date\",\r\n    \"type\": \"date\",\r\n    \"label\": \"\",\r\n    \"sortable\": true,\r\n  },\r\n  {\r\n    \"name\": \"end_date\",\r\n    \"type\": \"date\",\r\n    \"label\": \"\",\r\n    \"sortable\": true,\r\n  },\r\n  {\r\n    \"name\": \"organization\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"choices\": [],\r\n    \"searchable\": true,\r\n    \"sortable\": true,\r\n    \"native\": true,\r\n  },\r\n  {\r\n    \"name\": \"salesperson\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"choices\": [],\r\n    \"searchable\": true,\r\n    \"sortable\": true,\r\n    \"native\": true,\r\n  },\r\n  {\r\n    \"name\": \"is_finished\",\r\n    \"type\": \"boolean\",\r\n    \"label\": \"\",\r\n    \"searchable\": true,\r\n    \"visible\": false,\r\n    \"rowStyles\": {\r\n      1: {'backgroundColor': 'lightgray'},\r\n    },\r\n    \"variant\": \"select\",\r\n    \"native\": true,\r\n  }\r\n];\r\n\r\nexport const project_list_search_layout = [\r\n  ['name', 'company_name'],\r\n  ['salesperson', 'business_type'],\r\n  'organization',\r\n  'is_finished',\r\n];\r\n\r\nexport const project_basic_info_schema = [\r\n  {\r\n    \"name\": \"company_content_type\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"required\": true,\r\n    \"choices\": [],\r\n    \"cascade_to\": 'company_object_id',\r\n  },\r\n  {\r\n    \"name\": \"company_object_id\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"required\": true,\r\n    \"choices\": [],\r\n    \"cascade_from\": 'company_content_type',\r\n  },\r\n  {\r\n    \"name\": \"name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"required\": true,\r\n    \"max_length\": 50,\r\n  },\r\n  {\r\n    \"name\": \"description\",\r\n    \"type\": \"text\",\r\n    \"label\": \"\",\r\n    \"max_length\": 2000,\r\n  },\r\n  {\r\n    \"name\": \"business_type\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"required\": true,\r\n    \"choices\": [],\r\n  },\r\n  {\r\n    \"name\": \"start_date\",\r\n    \"type\": \"date\",\r\n    \"label\": \"\",\r\n    \"required\": true,\r\n  },\r\n  {\r\n    \"name\": \"end_date\",\r\n    \"type\": \"date\",\r\n    \"label\": \"\",\r\n    \"required\": true,\r\n    \"default\": '9999-12-31',\r\n  },\r\n  {\r\n    \"name\": \"address1\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"max_length\": 200,\r\n  },\r\n  {\r\n    \"name\": \"address2\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"max_length\": 200,\r\n  },\r\n  {\r\n    \"name\": \"nearest_station\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"max_length\": 15,\r\n    \"required\": true,\r\n  },\r\n  {\r\n    \"name\": \"organization\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"choices\": [],\r\n    \"required\": true,\r\n  },\r\n  {\r\n    \"name\": \"salesperson\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"choices\": [],\r\n    \"required\": true,\r\n  },\r\n];\r\n\r\nexport const project_basic_info_layout = [\r\n  'company_content_type',\r\n  'company_object_id',\r\n  'name',\r\n  'description',\r\n  'business_type',\r\n  ['start_date', 'end_date'],\r\n  ['address1', 'address2'],\r\n  'nearest_station',\r\n  'organization',\r\n  'salesperson',\r\n];\r\n\r\nexport const project_request_profile_schema = [\r\n  {\r\n    \"name\": \"attendance_type\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"required\": true,\r\n    \"default\": '1',\r\n    \"choices\": choice_attendance_type,\r\n  },\r\n  {\r\n    \"name\": \"min_hours\",\r\n    \"type\": \"decimal\",\r\n    \"label\": \"\",\r\n    \"step\": 0.25,\r\n  },\r\n  {\r\n    \"name\": \"max_hours\",\r\n    \"type\": \"decimal\",\r\n    \"label\": \"\",\r\n    \"step\": 0.25,\r\n  },\r\n  {\r\n    \"name\": \"is_hourly_pay\",\r\n    \"type\": \"boolean\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"is_blanket_contract\",\r\n    \"type\": \"boolean\",\r\n    \"label\": \"\",\r\n  },\r\n  // {\r\n  //   \"name\": \"lump_amount\",\r\n  //   \"type\": \"integer\",\r\n  //   \"label\": \"\",\r\n  //   \"visible\": false,\r\n  // },\r\n  // {\r\n  //   \"name\": \"lump_amount_tax\",\r\n  //   \"type\": \"integer\",\r\n  //   \"label\": \"\",\r\n  //   \"visible\": false,\r\n  // },\r\n  // {\r\n  //   \"name\": \"lump_comment\",\r\n  //   \"type\": \"text\",\r\n  //   \"label\": \"\",\r\n  //   \"max_length\": 200,\r\n  //   \"help_text\": \"\",\r\n  //   \"visible\": false,\r\n  // },\r\n];\r\n\r\nexport const project_request_profile_layout = [\r\n  'is_hourly_pay',\r\n  'attendance_type',\r\n  ['min_hours', 'max_hours'],\r\n  'is_blanket_contract',\r\n  // ['lump_amount', 'lump_amount_tax'],\r\n  // 'lump_comment',\r\n];\r\n\r\nexport const project_detial_schema = [\r\n  {\r\n    \"name\": \"company_name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"business_type\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"choices\": [],\r\n  },\r\n  {\r\n    \"name\": \"start_date\",\r\n    \"type\": \"date\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"end_date\",\r\n    \"type\": \"date\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"nearest_station\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"salesperson_name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"status\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"choices\": choice_project_status,\r\n  },\r\n];\r\n\r\nexport const project_member_list_schema = [\r\n  {\r\n    \"name\": 'full_name',\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"link\": \"/project/projects/%(project)s/members/%(id)s\",\r\n  },\r\n  {\r\n    \"name\": \"start_date\",\r\n    \"type\": \"date\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"end_date\",\r\n    \"type\": \"date\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"base_amount\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"member_calculate_type\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"choices\": [\r\n      { \"value\": \"01\", \"display_name\": \"\" },\r\n      { \"value\": \"02\", \"display_name\": \"  \" },\r\n      { \"value\": \"03\", \"display_name\": \"  .\" },\r\n      { \"value\": \"04\", \"display_name\": \"  .\" },\r\n      { \"value\": \"10\", \"display_name\": \"\" },\r\n      { \"value\": \"11\", \"display_name\": \"\" },\r\n      { \"value\": \"90\", \"display_name\": \"\" },\r\n    ],\r\n  },\r\n  {\r\n    \"name\": \"is_retired\",\r\n    \"type\": \"boolean\",\r\n    \"label\": \"\",\r\n    \"searchable\": true,\r\n    \"visible\": false,\r\n    \"rowStyles\": {\r\n      1: {'backgroundColor': 'lightgray'},\r\n    },\r\n    \"variant\": \"select\",\r\n    \"native\": true,\r\n  },\r\n];\r\n\r\nexport const proejct_member_form_schema = [\r\n  {\r\n    \"name\": \"project_name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"read_only\": true,\r\n  },\r\n  {\r\n    \"name\": \"member_content_type\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"required\": true,\r\n    \"choices\": [],\r\n    \"cascade_to\": 'member_object_id',\r\n  },\r\n  {\r\n    \"name\": \"member_object_id\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"required\": true,\r\n    \"choices\": [],\r\n    \"cascade_from\": 'member_content_type',\r\n    \"variant\": \"autocomplete\",\r\n  },\r\n  {\r\n    \"name\": \"work_role\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"choices\": [\r\n      { \"value\": \"OP\", \"display_name\": \"OP\" },\r\n      { \"value\": \"PG\", \"display_name\": \"PG\" },\r\n      { \"value\": \"SP\", \"display_name\": \"SP\" },\r\n      { \"value\": \"SE\", \"display_name\": \"SE\" },\r\n      { \"value\": \"SL\", \"display_name\": \"SL\" },\r\n      { \"value\": \"L\", \"display_name\": \"L\" },\r\n      { \"value\": \"M\", \"display_name\": \"M\" },\r\n    ],\r\n  },\r\n];\r\n\r\nexport const cost_percentage_form_schema = [\r\n  {\r\n    \"name\": \"ym\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"read_only\": true,\r\n  },\r\n  {\r\n    \"name\": \"full_name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"read_only\": true,\r\n  },\r\n  {\r\n    \"name\": \"organization_name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"read_only\": true,\r\n  },\r\n  {\r\n    \"name\": \"percentage\",\r\n    \"type\": \"decimal\",\r\n    \"label\": \"\",\r\n    \"required\": true,\r\n    \"min_value\": 0,\r\n    \"max_value\": 1,\r\n    \"step\": 0.1,\r\n  },\r\n  {\r\n    \"name\": \"project_name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"read_only\": true,\r\n  },\r\n];\r\n\r\nexport const project_member_duplication_list_schema = [\r\n  {\r\n    \"name\": \"ym\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"link\": \"/project/projects/%(project)s/members/%(project_member)s/duplications/%(year)s/%(month)s/edit\"\r\n  },\r\n  {\r\n    \"name\": \"organization_name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"percentage\",\r\n    \"type\": \"percent\",\r\n    \"label\": \"\",\r\n    \"decimal_digits\": 0,\r\n  },\r\n  {\r\n    \"name\": \"project_name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n  },\r\n];\r\n\r\nexport const project_member_detail_schema = [\r\n  {\r\n    \"name\": \"project_name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"full_name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"work_role\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"choices\": [\r\n      { \"value\": \"OP\", \"display_name\": \"OP\" },\r\n      { \"value\": \"PG\", \"display_name\": \"PG\" },\r\n      { \"value\": \"SP\", \"display_name\": \"SP\" },\r\n      { \"value\": \"SE\", \"display_name\": \"SE\" },\r\n      { \"value\": \"SL\", \"display_name\": \"SL\" },\r\n      { \"value\": \"L\", \"display_name\": \"L\" },\r\n      { \"value\": \"M\", \"display_name\": \"M\" },\r\n    ],\r\n  },\r\n];\r\n\r\nexport const project_attendance_status_schema = [\r\n  {\r\n    \"name\": \"ym\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"link\": \"/project/projects/%(project_id)s/attendance/%(year)s/%(month)s/\",\r\n  },\r\n  {\r\n    \"name\": \"is_entered\",\r\n    \"type\": \"boolean\",\r\n    \"label\": \"\",\r\n  },\r\n];\r\n\r\nexport const project_attendance_by_month_schema = [\r\n  {\r\n    \"name\": \"full_name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"total_hours\",\r\n    \"type\": \"decimal\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"total_hours_bp\",\r\n    \"type\": \"decimal\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"extra_hours\",\r\n    \"type\": \"decimal\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"total_days\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"night_days\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"basic_amount\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"min_hours\",\r\n    \"type\": \"decimal\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"max_hours\",\r\n    \"type\": \"decimal\",\r\n    \"label\": \"\",\r\n  },\r\n];\r\n\r\nexport const project_attendance_edit_schema = [\r\n  {\r\n    \"name\": \"full_name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"read_only\": true,\r\n  },\r\n  {\r\n    \"name\": \"total_hours\",\r\n    \"type\": \"decimal\",\r\n    \"label\": \"\",\r\n    \"required\": true,\r\n    \"step\": 0.25,\r\n    \"min_value\": 0,\r\n    \"max_value\": 400,\r\n  },\r\n  {\r\n    \"name\": \"total_hours_bp\",\r\n    \"type\": \"decimal\",\r\n    \"label\": \"\",\r\n    \"step\": 0.25,\r\n    \"min_value\": 0,\r\n    \"max_value\": 400,\r\n  },\r\n  {\r\n    \"name\": \"extra_hours\",\r\n    \"type\": \"decimal\",\r\n    \"label\": \"\",\r\n    \"step\": 0.25,\r\n    \"min_value\": 0,\r\n    \"max_value\": 400,\r\n  },\r\n  {\r\n    \"name\": \"total_days\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"\",\r\n    \"min_value\": 0,\r\n    \"max_value\": 31,\r\n  },\r\n  {\r\n    \"name\": \"night_days\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"\",\r\n    \"min_value\": 0,\r\n    \"max_value\": 31,\r\n  },\r\n];\r\n\r\nexport const project_attendance_edit_layout = [\r\n  'full_name',\r\n  ['total_hours', 'extra_hours', 'total_hours_bp'],\r\n  ['total_days', 'night_days'],\r\n];\r\n\r\nexport const project_request_status_schema = [\r\n  {\r\n    \"name\": \"ym\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"order_no\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"link\": \"/project/projects/%(project_id)s/orders/%(order_id)s/\",\r\n  },\r\n  {\r\n    \"name\": \"members_name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"request_no\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"link\": \"/project/projects/%(project_id)s/requests/%(request_id)s/\",\r\n  },\r\n  {\r\n    \"name\": \"turnover_amount\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"()\",\r\n  },\r\n  {\r\n    \"name\": \"amount\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"()\",\r\n  },\r\n];\r\n\r\nexport const create_request_form_schema = [\r\n  {\r\n    \"name\": \"request_name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"required\": true,\r\n    \"max_length\": 50,\r\n  },\r\n  {\r\n    \"name\": \"order_no\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"required\": true,\r\n    \"read_only\": true,\r\n    \"max_length\": 20,\r\n  },\r\n  {\r\n    \"name\": \"bank_account\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"required\": true,\r\n  },\r\n];\r\n\r\nexport const project_order_form_schema = [\r\n  {\r\n    \"name\": 'company_name',\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"read_only\": true,\r\n  },\r\n  {\r\n    \"name\": \"name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"required\": true,\r\n    \"max_length\": 50,\r\n  },\r\n  {\r\n    \"name\": \"order_no\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"required\": true,\r\n    \"max_length\": 20,\r\n  },\r\n  {\r\n    \"name\": \"order_date\",\r\n    \"type\": \"date\",\r\n    \"label\": \"\",\r\n    \"required\": true,\r\n  },\r\n  {\r\n    \"name\": \"start_date\",\r\n    \"type\": \"date\",\r\n    \"label\": \"\",\r\n    \"required\": true,\r\n  },\r\n  {\r\n    \"name\": \"end_date\",\r\n    \"type\": \"date\",\r\n    \"label\": \"\",\r\n    \"required\": true,\r\n  },\r\n  {\r\n    \"name\": \"contract_type\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"choices\": [\r\n      { \"value\": \"01\", \"display_name\": \"\" },\r\n      { \"value\": \"02\", \"display_name\": \"\" },\r\n      { \"value\": \"03\", \"display_name\": \"\" },\r\n      { \"value\": \"04\", \"display_name\": \"\" },\r\n      { \"value\": \"10\", \"display_name\": \"\" },\r\n      { \"value\": \"90\", \"display_name\": \"\" },\r\n    ],\r\n    \"required\": true,\r\n  },\r\n  {\r\n    \"name\": \"members\",\r\n    \"type\": \"choices\",\r\n    \"label\": \"\",\r\n    \"choices\": [],\r\n    \"help_text\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"bank_account\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"choices\": [],\r\n    \"required\": true,\r\n  },\r\n  {\r\n    \"name\": \"order_file\",\r\n    \"type\": \"file\",\r\n    \"label\": \"\",\r\n    \"verbose_name\": \"order_file_name\",\r\n    \"handle_download\": (file_id) => downloadAttachment(file_id),\r\n  },\r\n];\r\n\r\nexport const project_order_form_layout = [\r\n  'company_name',\r\n  ['name', 'order_no'],\r\n  ['order_date', 'start_date', 'end_date'],\r\n  'contract_type',\r\n  'members',\r\n  'bank_account',\r\n  'order_file',\r\n];\r\n\r\n\r\nexport const project_member_contract_list_schema = [\r\n  {\r\n    \"name\": \"contract_no\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"link\": (data) => {\r\n      return data.has_permission === false \r\n        ? null \r\n        : \"/project/projects/%(project_id)s/members/%(object_id)s/contracts/%(id)s/form\"\r\n    },\r\n  },\r\n  {\r\n    \"name\": \"contract_type\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"choices\": choice_contract_type_partner,\r\n  },\r\n  {\r\n    \"name\": \"start_date\",\r\n    \"type\": \"date\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"end_date\",\r\n    \"type\": \"date\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"member_calculate_type\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"required\": true,\r\n    \"choices\": [\r\n      { \"value\": \"01\", \"display_name\": \"\" },\r\n      { \"value\": \"02\", \"display_name\": \"  \" },\r\n      { \"value\": \"03\", \"display_name\": \"  .\" },\r\n      { \"value\": \"04\", \"display_name\": \"  .\" },\r\n      { \"value\": \"10\", \"display_name\": \"\" },\r\n      { \"value\": \"11\", \"display_name\": \"\" },\r\n      { \"value\": \"90\", \"display_name\": \"\" },\r\n    ]\r\n  },\r\n  {\r\n    \"name\": \"is_hourly_pay\",\r\n    \"type\": \"boolean\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"is_fixed_pay\",\r\n    \"type\": \"boolean\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"basic_price\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"\",\r\n  },\r\n];\r\n\r\nexport const project_subcontractor_list_schema = [\r\n  {\r\n    \"name\": \"company_name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"link\": \"/partner/companies/%(company_id)s\",\r\n  },\r\n  {\r\n    \"name\": \"contract_no\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"link\": \"/project/projects/%(project_id)s/subcontractors/%(id)s/contracts/%(contract_id)s\",\r\n  },\r\n  {\r\n    \"name\": \"start_date\",\r\n    \"type\": \"date\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"end_date\",\r\n    \"type\": \"date\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"amount\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"is_retired\",\r\n    \"type\": \"boolean\",\r\n    \"label\": \"\",\r\n    \"rowStyles\": {\r\n      1: {'backgroundColor': 'lightgray'}\r\n    },\r\n  },\r\n];\r\n\r\nexport const project_subcontractor_add_schema = [\r\n  {\r\n    \"name\": \"company\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"choices\": [],\r\n    \"required\": true,\r\n  },\r\n];\r\n\r\nexport const blanket_contract_form_schema = [\r\n  {\r\n    \"name\": \"contract_type\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"required\": true,\r\n    \"read_only\": true,\r\n    \"choices\": [{ \"value\": \"0104\", \"display_name\": \"\" },],\r\n  },\r\n  {\r\n    \"name\": \"contract_date\",\r\n    \"type\": \"date\",\r\n    \"label\": \"\",\r\n    \"required\": true,\r\n  },\r\n  {\r\n    \"name\": \"start_date\",\r\n    \"type\": \"date\",\r\n    \"label\": \"\",\r\n    \"required\": true,\r\n  },\r\n  {\r\n    \"name\": \"end_date\",\r\n    \"type\": \"date\",\r\n    \"label\": \"\",\r\n    \"required\": true,\r\n  },\r\n];\r\n\r\nexport const default_blanket_contract_data = {\r\n  'contract_type': '0104',\r\n  allowances: [\r\n    { \"code\": \"0001\", \"name\": \"\", \"unit\": \"10\", \"comment\": \"\" },\r\n    { \"code\": \"0002\", \"name\": \"\", \"amount\": 0, \"unit\": \"10\", \"comment\": \"\" },\r\n  ],\r\n  contract_items: [\r\n    { \"code\": \"1000\", \"name\": \"\" },\r\n    { \"code\": \"1010\", \"name\": \"\" },\r\n    { \"code\": \"1020\", \"name\": \"\" },\r\n    { \"code\": \"1021\", \"name\": \"\" },\r\n    { \"code\": \"1030\", \"name\": \"\" },\r\n    { \"code\": \"9900\", \"name\": \"\" },\r\n  ],\r\n};\r\n\r\nexport const project_blanket_contract_list_schema = [\r\n  {\r\n    \"name\": \"contract_no\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"link\": \"/project/projects/%(project_id)s/contracts/%(id)s/change\"\r\n  },\r\n  {\r\n    \"name\": \"contract_type\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    \"choices\": choice_contract_type_partner,\r\n  },\r\n  {\r\n    \"name\": \"start_date\",\r\n    \"type\": \"date\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"end_date\",\r\n    \"type\": \"date\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"basic_amount\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"\",\r\n  },\r\n  {\r\n    \"name\": \"tax_amount\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"\",\r\n  },\r\n];\r\n","import React from 'react';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport BlockIcon from '@material-ui/icons/Block';\r\nimport { EnhancedTable, FormDialog } from '../../datatable/index';\r\nimport Card from \"../../components/Card/Card\";\r\nimport CardHeader from \"../../components/Card/CardHeader.jsx\";\r\nimport CardBody from \"../../components/Card/CardBody\";\r\nimport DataSource from '../../components/DataSource';\r\nimport {\r\n  project_list_schema,\r\n  project_list_search_layout,\r\n} from './schema';\r\nimport { config } from '../../utils/config';\r\nimport { common } from '../../utils/common';\r\nimport {\r\n  getOrganizationChoices,\r\n  getProjectBusinessTypeChoice,\r\n  getSalespersonChoice,\r\n  projectFinish,\r\n} from '../utils/api';\r\nimport { withPermissions, Toast } from '../../components';\r\nimport { constant } from '../../utils';\r\n\r\nclass ProjectList extends React.Component {\r\n  title = '';\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      organizations: [],\r\n      business_types: [],\r\n      salesperson_choice: [],\r\n      reload: false,\r\n    };\r\n    this.initialize();\r\n  }\r\n\r\n  initialize = () => {\r\n    getOrganizationChoices().then(organizations => {\r\n      this.setState({organizations});\r\n    });\r\n    getProjectBusinessTypeChoice().then(business_types => {\r\n      this.setState({business_types});\r\n    });\r\n    getSalespersonChoice().then(salesperson_choice => this.setState({salesperson_choice}));\r\n  };\r\n\r\n  componentDidMount = () => {\r\n    document.title = this.title;\r\n  }\r\n\r\n  handleProjectFinish = (data) => {\r\n    return projectFinish(data.id, data).then(() => {\r\n      Toast.success(constant.SUCCESS.SAVED);\r\n      this._closeFinshDialog && this._closeFinshDialog();\r\n      this.setState(state => {\r\n        return {reload: !state.reload};\r\n      })\r\n    }).then(errors => Toast.error(errors.detail));\r\n  }\r\n\r\n  render() {\r\n    const { organizations, business_types, salesperson_choice, reload } = this.state;\r\n\r\n    const list_schema = common.clone(project_list_schema);\r\n    common.getFromJsonList(list_schema, 'name', 'business_type').choices = business_types;\r\n    common.getFromJsonList(list_schema, 'name', 'organization').choices = organizations;\r\n    common.getFromJsonList(list_schema, \"name\", \"salesperson\")[\"choices\"] = salesperson_choice;\r\n\r\n    return (\r\n      <div>\r\n        <Card>\r\n          <CardHeader color=\"info\">\r\n            {this.title}\r\n          </CardHeader>\r\n          <CardBody>\r\n            <DataSource\r\n              reload={reload}\r\n              endpoint={ config.api.project.list }\r\n              render={ (initData) => (\r\n                <EnhancedTable\r\n                  title={this.title}\r\n                  storageKey='project.projects'\r\n                  tableHead={list_schema}\r\n                  tableData={initData.results}\r\n                  rowsPerPage={config.rowsPerPage}\r\n                  tableActions={[\r\n                    {\r\n                      'tooltip': '',\r\n                      'icon': <AddIcon color=\"secondary\"/>,\r\n                      'handleClick': () => (common.redirect('/project/projects/add')),\r\n                      'visible': common.hasPerm('project.add_project'),\r\n                    }\r\n                  ]}\r\n                  allowCsv={true}\r\n                  urlReflect={false}\r\n                  pushpinTop={common.getHeaderHeight()}\r\n                  selectable='single'\r\n                  tableStyles={{ minWidth: 1000 }}\r\n                  rowActions={[\r\n                    {\r\n                      'tooltip': '',\r\n                      'icon': <BlockIcon />,\r\n                      'handleClick': (data) => {\r\n                        if (this._openFinshDialog) {\r\n                          this._openFinshDialog({'id': data.id, 'finish_date': data.end_date});\r\n                        }\r\n                      },\r\n                      'visible': common.hasPerm('project.change_project'),\r\n                    }\r\n                  ]}\r\n                  filterLayout={project_list_search_layout}\r\n                />\r\n              ) } \r\n            />\r\n          </CardBody>\r\n        </Card>\r\n        <FormDialog\r\n          title=''\r\n          schema={[{\r\n            \"name\": \"finish_date\",\r\n            \"type\": \"date\",\r\n            \"label\": \"\",\r\n            \"required\": true,\r\n          }]}\r\n          handleOk={this.handleProjectFinish}\r\n          innerRef={dlg => {\r\n            this._openFinshDialog = dlg && dlg.handleOpen;\r\n            this._closeFinshDialog = dlg && dlg.handleClose;\r\n          }}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withPermissions(ProjectList, 'project.view_project');\r\n","import React from 'react';\r\nimport { StepForm, TopBreadcrumbs, withPermissions } from '../../components';\r\nimport GridContainer from '../../components/Grid/GridContainer';\r\nimport GridItem from '../../components/Grid/GridItem';\r\nimport { config, common } from '../../utils';\r\nimport {\r\n  project_basic_info_schema,\r\n  project_basic_info_layout,\r\n  project_request_profile_schema,\r\n  project_request_profile_layout,\r\n  blanket_contract_form_schema,\r\n  default_blanket_contract_data,\r\n} from './schema';\r\nimport {\r\n  getProjectBusinessTypeChoice,\r\n  getOrganizationChoices,\r\n  getCompanyCategory,\r\n  getCascadeObjects,\r\n  getSalespersonChoice,\r\n} from '../utils/api';\r\nimport { contract_allowance_schema, bp_contract_item_schema, bp_contract_item_layout } from '../partner/schema';\r\nimport { onChangeProjectBlanketContractInStep } from '../utils';\r\n\r\nclass ProjectAdd extends React.Component {\r\n  title = '';\r\n  project_basic_info_schema = JSON.parse(JSON.stringify(project_basic_info_schema));\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      project_business_type_list: [],\r\n      organizations: [],\r\n      company_categories: [],\r\n      salesperson_choice: [],\r\n      is_blanket_contract: false,\r\n      project_basic_info: {},\r\n    };\r\n    this.initialize();\r\n  }\r\n\r\n  initialize = () => {\r\n    getProjectBusinessTypeChoice().then(data => {\r\n      this.setState({project_business_type_list: data});\r\n    });\r\n    getOrganizationChoices().then(organizations => {\r\n      this.setState({organizations});\r\n    });\r\n    getCompanyCategory().then(company_categories => {\r\n      this.setState({company_categories});\r\n    });\r\n    getSalespersonChoice().then(salesperson_choice => this.setState({salesperson_choice}));\r\n  };\r\n\r\n  getSteps = () => {\r\n    const {\r\n      project_business_type_list, organizations, company_categories, salesperson_choice,\r\n      is_blanket_contract, project_basic_info,\r\n    } = this.state;\r\n    this.project_basic_info_schema[0]['choices'] = company_categories;\r\n    this.project_basic_info_schema[4]['choices'] = project_business_type_list;\r\n    this.project_basic_info_schema[10]['choices'] = organizations;\r\n    common.getFromJsonList(this.project_basic_info_schema, \"name\", \"salesperson\")[\"choices\"] = salesperson_choice;\r\n\r\n    let steps = [\r\n      {\r\n        name: '',\r\n        formProps: {\r\n          name: 'basic_info',\r\n          schema: this.project_basic_info_schema,\r\n          layout: project_basic_info_layout,\r\n          data: {\r\n            'status': '10',\r\n          },\r\n          onChanges: [(name, data) => getCascadeObjects(\r\n            name,\r\n            'company_content_type',\r\n            data[name],\r\n            this.project_basic_info_schema\r\n          )],\r\n        },\r\n      },\r\n      {\r\n        name: '',\r\n        description: \"\",\r\n        formProps: {\r\n          name: 'request_profile',\r\n          schema: project_request_profile_schema,\r\n          layout: project_request_profile_layout,\r\n          onChanges: [(name, data, steps) => {\r\n            if (name === 'is_blanket_contract') {\r\n              this.setState({\r\n                is_blanket_contract: data[name],\r\n                project_basic_info: steps['basic_info'],\r\n              });\r\n            }\r\n          }],\r\n        },\r\n      },\r\n    ];\r\n    if (is_blanket_contract) {\r\n      steps.push({\r\n        name: '',\r\n        formProps: {\r\n          name: 'blanket_contract',\r\n          schema: blanket_contract_form_schema,\r\n          onChanges: [onChangeProjectBlanketContractInStep],\r\n          inlines: [\r\n            {\r\n              name: 'allowances',\r\n              title: '',\r\n              schema: contract_allowance_schema,\r\n              allowAdd: false,\r\n              allowDelete: false,\r\n            },\r\n            {\r\n              name: \"contract_items\",\r\n              title: \"\",\r\n              schema: bp_contract_item_schema,\r\n              layout: bp_contract_item_layout,\r\n              allowAdd: false,\r\n              allowDelete: false,\r\n            },\r\n          ],\r\n          data: Object.assign({\r\n            'contract_type': '0104',\r\n            'contract_date': project_basic_info.start_date,\r\n            'start_date': project_basic_info.start_date,\r\n            'end_date': project_basic_info.end_date,\r\n          }, default_blanket_contract_data),\r\n        }\r\n      })\r\n    }\r\n    return steps;\r\n  };\r\n\r\n  render() {\r\n    const steps = this.getSteps();\r\n\r\n    return (\r\n      <div>\r\n        <TopBreadcrumbs\r\n          breadcrumbs={[\r\n            { link: '/project/projects', name: '' },\r\n            { name: this.title },\r\n          ]}\r\n        />\r\n        <GridContainer>\r\n          <GridItem xs={12} sm={12} md={9} lg={9}>\r\n            { steps ? (\r\n              <StepForm\r\n                title={this.title}\r\n                steps={steps}\r\n                methodName='POST'\r\n                saveEndpoint={config.api.project.add_project}\r\n                saveCallback={(data) => common.redirect(`/project/projects/${data.id}`)}\r\n              />\r\n            ) : null}\r\n          </GridItem>\r\n        </GridContainer>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withPermissions(ProjectAdd, 'project.add_project');\r\n","import React from 'react';\r\nimport {\r\n  Button,\r\n  List,\r\n  ListItem,\r\n  ListItemText,\r\n  withStyles,\r\n  Typography,\r\n} from '@material-ui/core';\r\nimport NoteAddIcon from '@material-ui/icons/NoteAdd';\r\nimport AddRequestIcon from '@material-ui/icons/MonetizationOn';\r\nimport FileDownloadIcon from '@material-ui/icons/SaveAltRounded';\r\nimport TopBreadcrumbs from '../../components/TopBreadcrumbs';\r\nimport GridContainer from '../../components/Grid/GridContainer';\r\nimport GridItem from '../../components/Grid/GridItem';\r\nimport DataSource from '../../components/DataSource';\r\nimport Card from '../../components/Card/Card';\r\nimport CardHeader from '../../components/Card/CardHeader';\r\nimport CardBody from '../../components/Card/CardBody';\r\nimport { TableDetail, EnhancedTable, FormDialog } from '../../datatable';\r\nimport {\r\n  getProjectDetail,\r\n  getProjectBusinessTypeChoice,\r\n  getOrganizationChoices,\r\n  getCompanyCategory,\r\n  getContentObjects,\r\n  getCascadeObjects,\r\n  getBankAccountList,\r\n  createProjectRequest,\r\n  downloadAttachment,\r\n  getSalespersonChoice,\r\n  onDeleteProjectRequset,\r\n  getProjectRequestProfile,\r\n  changeProjectRequestProfile,\r\n} from '../utils/api';\r\nimport {\r\n  project_detial_schema,\r\n  project_basic_info_schema,\r\n  project_basic_info_layout,\r\n  project_attendance_status_schema,\r\n  project_request_status_schema,\r\n  create_request_form_schema,\r\n  project_request_profile_schema,\r\n} from './schema';\r\nimport { common, config, ajax, constant, choice_attendance_type } from '../../utils';\r\nimport { withPermissions, HasPerm, Toast, CardFooter } from '../../components';\r\n\r\nconst styles = (theme) => ({\r\n  listItem: {\r\n    paddingTop: 0,\r\n    paddingBottom: 0,\r\n  },\r\n  flex: {\r\n    flex: 1,\r\n  },\r\n  button: {\r\n    marginLeft: theme.spacing(1),\r\n  }\r\n});\r\n\r\nclass ProjectDetial extends React.Component {\r\n  project_info_schema = JSON.parse(JSON.stringify(project_basic_info_schema));\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      project: {},\r\n      project_request_profile: {},\r\n      project_business_type_list: [],\r\n      organizations: [],\r\n      salesperson_choice: [],\r\n      company_categories: [],\r\n      bank_account_list: [],\r\n      reload: false,\r\n    };\r\n    this.initialize(props);\r\n    this.detail_api = common.formatStr(\r\n      config.api.project.detail,\r\n      props.match.params.project_id,\r\n    );\r\n  }\r\n\r\n  initialize = (props) => {\r\n    const { project_id } = props.match.params;\r\n    getProjectDetail(project_id).then(project => {\r\n      this.setState({project});\r\n      getContentObjects(project.company_content_type).then(companyList => {\r\n        this.project_info_schema[1]['choices'] = companyList;\r\n      });\r\n      getBankAccountList(project.my_company_content_type, project.my_company_id).then(bank_account_list => {\r\n        this.setState({ bank_account_list });\r\n      });\r\n      getProjectRequestProfile(project_id).then(data => (\r\n        this.setState({project_request_profile: data})\r\n      ));\r\n    });\r\n    getProjectBusinessTypeChoice().then(data => {\r\n      this.setState({project_business_type_list: data});\r\n    });\r\n    getOrganizationChoices().then(organizations => this.setState({organizations}));\r\n    getCompanyCategory().then(company_categories => this.setState({company_categories}));\r\n    getSalespersonChoice().then(salesperson_choice => this.setState({salesperson_choice}));\r\n  };\r\n\r\n  componentDidUpdate = () => {\r\n    const { project } = this.state;\r\n    document.title = `${project.name || ''} | `;\r\n  };\r\n\r\n  onEditProject = (data, handleClose) => {\r\n    return ajax.fetchPut(this.detail_api, data).then(project => {\r\n      this.setState({project});\r\n      if (handleClose) {\r\n        handleClose();\r\n      }\r\n      Toast.success(constant.SUCCESS.SAVED);\r\n    }).catch(errors => {\r\n      Toast.error(constant.ERROR.FORM_CHECK_ERROR);\r\n      return Promise.reject(errors);\r\n    });\r\n  };\r\n\r\n  onDeleteProject = () => {\r\n    ajax.fetchDelete(this.detail_api).then(() => {\r\n      Toast.success(constant.SUCCESS.DELETED);\r\n      common.redirect('/project/projects')\r\n    }).catch(errors => {\r\n      Toast.error(errors.detail);\r\n    });\r\n  };\r\n\r\n  showRequestConfirm = (data, requestCreatedCallback) => {\r\n    if (this._showRequestConfirm) {\r\n      this._showRequestConfirm(data);\r\n      this._requestCreatedCallback = requestCreatedCallback;\r\n    }\r\n  };\r\n\r\n  createProjectRequest = (data, handleClose) => {\r\n    const { project_id } = this.props.match.params;\r\n    return createProjectRequest(project_id, data).then(json => {\r\n      handleClose();\r\n      Toast.success(constant.SUCCESS.REQUEST_FILE_CREATED);\r\n      if (this._requestCreatedCallback) {\r\n        const newSelected = Object.assign(data, json);\r\n        this._requestCreatedCallback(newSelected)\r\n      }\r\n    }).catch(errors => {\r\n      Toast.error(errors.detail);\r\n    });\r\n  };\r\n\r\n  handleRequestCreated = (data) => {\r\n    this.setState({reload: !this.state.reload});\r\n  };\r\n\r\n  handleDeleteRequest = (request_id) => {\r\n    if (request_id) {\r\n      const { project_id } = this.props.match.params;\r\n      return onDeleteProjectRequset(project_id, request_id).then(() => {\r\n        Toast.success(constant.SUCCESS.DELETED);\r\n        this.setState({reload: !this.state.reload});\r\n      }).catch((errors) => {\r\n        Toast.error(errors.detail);\r\n      });\r\n    } else {\r\n      Toast.error(constant.ERROR.REQUEST_FILE_NOT_FOUND);\r\n      return Promise.reject();\r\n    }\r\n  };\r\n\r\n  showChangeProjectRequestProfile = () => {\r\n    if (this._showChangeProjectRequestProfile) {\r\n      const { project_request_profile } = this.state;\r\n      this._showChangeProjectRequestProfile(project_request_profile);\r\n    }\r\n  };\r\n\r\n  onChangeProjectRequestProfile = (data, handleClose) => {\r\n    const { project_id } = this.props.match.params;\r\n    return changeProjectRequestProfile(project_id, data).then(json => {\r\n      handleClose();\r\n      this.setState({project_request_profile: json});\r\n      Toast.success(constant.SUCCESS.SAVED);\r\n    }).catch(errors => {\r\n      Toast.error(errors.detail);\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { project_id } = this.props.match.params;\r\n    const { classes } = this.props;\r\n    const {\r\n      project,\r\n      project_request_profile,\r\n      project_business_type_list,\r\n      organizations,\r\n      company_categories,\r\n      bank_account_list,\r\n      reload,\r\n      salesperson_choice,\r\n    } = this.state;\r\n    this.project_info_schema[0]['choices'] = company_categories;\r\n    this.project_info_schema[4]['choices'] = project_business_type_list;\r\n    this.project_info_schema[10]['choices'] = organizations;\r\n    common.getFromJsonList(this.project_info_schema, 'name', 'salesperson')['choices'] = salesperson_choice;\r\n    project_detial_schema[1]['choices'] = project_business_type_list;\r\n    common.getFromJsonList(create_request_form_schema, 'name', 'bank_account')['choices'] = bank_account_list;\r\n\r\n    return (\r\n      <div>\r\n        <TopBreadcrumbs\r\n          breadcrumbs={[\r\n            { link: '/project/projects', name: '' },\r\n            { name: project.name || '' },\r\n          ]}\r\n        />\r\n        <div style={{marginTop: 16}}>\r\n          <GridContainer>\r\n            <GridItem xs={12} sm={12} md={8} lg={9}>\r\n              <TableDetail\r\n                title={`${project.name || ''}`}\r\n                data={project}\r\n                schema={project_detial_schema}\r\n                editProps={{\r\n                  title: '',\r\n                  schema: this.project_info_schema,\r\n                  layout: project_basic_info_layout,\r\n                  handleEdit: this.onEditProject,\r\n                  onChanges: [(name, data) => getCascadeObjects(\r\n                    name,\r\n                    'company_content_type',\r\n                    data[name],\r\n                    this.project_info_schema\r\n                  )],\r\n                  visible: common.hasPerm('project.change_project'),\r\n                }}\r\n                deleteProps={{\r\n                  handleDelete: this.onDeleteProject,\r\n                  visible: common.hasPerm('project.delete_project'),\r\n                }}\r\n                actions={[\r\n                  (\r\n                    <HasPerm permission='project.view_projectmember' key=\"list\">\r\n                      <Button\r\n                        variant=\"contained\"\r\n                        color=\"primary\"\r\n                        onClick={() => common.redirect(`/project/projects/${project_id}/members`, 'is_retired=false')}\r\n                      ></Button>\r\n                    </HasPerm>\r\n                  ),\r\n                  (\r\n                    <HasPerm permission='project.add_projectmember' key=\"add\">\r\n                      <Button\r\n                        variant=\"contained\"\r\n                        color=\"secondary\"\r\n                        onClick={() => common.redirect(`/project/projects/${project_id}/members/add`)}\r\n                      ></Button>\r\n                    </HasPerm>\r\n                  ),\r\n                ]}\r\n              />\r\n            </GridItem>\r\n            <GridItem xs={12} sm={12} md={4} lg={3}>\r\n              <Card>\r\n                <CardBody>\r\n                  <List disablePadding={true}>\r\n                    <ListItem className={classes.listItem}>\r\n                      <ListItemText\r\n                        primary=''\r\n                        secondary={project_request_profile.attendance_type ? common.getFromJsonList(\r\n                          choice_attendance_type, 'value', project_request_profile.attendance_type\r\n                        ).display_name : ''}\r\n                      />\r\n                    </ListItem>\r\n                    <ListItem className={classes.listItem}>\r\n                      <ListItemText\r\n                        primary=''\r\n                        secondary={common.isEmpty(project_request_profile.min_hours) ? '' : project_request_profile.min_hours}\r\n                      />\r\n                    </ListItem>\r\n                    <ListItem className={classes.listItem}>\r\n                      <ListItemText\r\n                        primary=''\r\n                        secondary={common.isEmpty(project_request_profile.max_hours) ? '' : project_request_profile.max_hours}\r\n                      />\r\n                    </ListItem>\r\n                    <ListItem className={classes.listItem}>\r\n                      <ListItemText\r\n                        primary=''\r\n                        secondary={project_request_profile.is_hourly_pay ? '' : ''}\r\n                      />\r\n                    </ListItem>\r\n                    <ListItem className={classes.listItem}>\r\n                      <ListItemText\r\n                        primary=''\r\n                        secondary={project_request_profile.is_blanket_contract ? '' : ''}\r\n                      />\r\n                    </ListItem>\r\n                  </List>\r\n                </CardBody>\r\n                <CardFooter>\r\n                  <HasPerm permission='project.view_projectcontract'>\r\n                    <Button\r\n                      variant=\"contained\"\r\n                      color=\"primary\"\r\n                      onClick={() => common.redirect(`/project/projects/${project_id}/contracts`)}\r\n                    >\r\n                      \r\n                    </Button>\r\n                  </HasPerm>\r\n                  <HasPerm permission='project.view_projectsubcontractor'>\r\n                    <Button\r\n                      className={classes.button}\r\n                      variant=\"contained\"\r\n                      color=\"primary\"\r\n                      onClick={() => common.redirect(`/project/projects/${project_id}/subcontractors`)}\r\n                    >\r\n                      \r\n                    </Button>\r\n                  </HasPerm>\r\n                  <Typography className={classes.flex}></Typography>\r\n                  <HasPerm permission='project.change_projectmember'>\r\n                    <Button\r\n                      variant=\"contained\"\r\n                      color=\"secondary\"\r\n                      onClick={this.showChangeProjectRequestProfile}\r\n                    >\r\n                      \r\n                    </Button>\r\n                  </HasPerm>\r\n                </CardFooter>\r\n              </Card>\r\n            </GridItem>\r\n            <HasPerm permission='attendance.view_attendance'>\r\n              <GridItem xs={12} sm={12} md={12} lg={12}>\r\n                <Card>\r\n                  <CardHeader color=\"info\"></CardHeader>\r\n                  <CardBody>\r\n                    <DataSource\r\n                      endpoint={common.formatStr(config.api.project.project_attendance_status, project_id)}\r\n                      render={(initData) => (\r\n                        <EnhancedTable\r\n                          tableHead={project_attendance_status_schema}\r\n                          tableData={initData}\r\n                          rowsPerPage={config.rowsPerPage}\r\n                          toolbar={false}\r\n                          tableStyles={{ minWidth: 300 }}\r\n                        />\r\n                      )}\r\n                    />\r\n                  </CardBody>\r\n                </Card>\r\n              </GridItem>\r\n            </HasPerm>\r\n            <HasPerm permission='request.view_request'>\r\n              <GridItem xs={12} sm={12} md={12} lg={12}>\r\n                <Card>\r\n                  <CardHeader color=\"info\"></CardHeader>\r\n                  <CardBody>\r\n                    <DataSource\r\n                      reload={reload}\r\n                      endpoint={common.formatStr(config.api.project.project_request_status, project_id)}\r\n                      render={(initData) => (\r\n                        <EnhancedTable\r\n                          tableHead={project_request_status_schema}\r\n                          tableData={initData}\r\n                          rowsPerPage={config.rowsPerPage}\r\n                          selectable=\"single\"\r\n                          tableStyles={{ minWidth: 800 }}\r\n                          tableActions={[\r\n                            {\r\n                              'tooltip': '',\r\n                              'icon': <NoteAddIcon />,\r\n                              'handleClick': () => (common.redirect(`/project/projects/${project_id}/orders/add`)),\r\n                              'visible': common.hasPerm('project.add_projectorder'),\r\n                            },\r\n                          ]}\r\n                          rowActions={[\r\n                            {\r\n                              'tooltip': '',\r\n                              'icon': <AddRequestIcon />,\r\n                              'handleClick': this.showRequestConfirm,\r\n                              'visible': common.hasPerm('request.add_request'),\r\n                            },\r\n                            {\r\n                              'tooltip': '',\r\n                              'icon': <FileDownloadIcon />,\r\n                              'handleClick': (data) => {\r\n                                if (data && data.request_file_id) {\r\n                                  downloadAttachment(data.request_file_id);\r\n                                } else {\r\n                                  Toast.error(constant.ERROR.REQUEST_FILE_NOT_FOUND);\r\n                                }\r\n                              },\r\n                              'visible': common.hasPerm('request.view_request'),\r\n                            },\r\n                          ]}\r\n                          pushpinTop={common.getHeaderHeight()}\r\n                          deleteProps={{\r\n                            handleDelete: (data) => this.handleDeleteRequest(data.request_id),\r\n                          }}\r\n                        />\r\n                      )}\r\n                    />\r\n                  </CardBody>\r\n                </Card>\r\n              </GridItem>\r\n            </HasPerm>\r\n          </GridContainer>\r\n          <FormDialog\r\n            innerRef={(dlg) => { this._showRequestConfirm = dlg && dlg.handleOpen }}\r\n            title={''}\r\n            schema={create_request_form_schema}\r\n            handleOk={this.createProjectRequest}\r\n            saveCallback={this.handleRequestCreated}\r\n          />\r\n          <FormDialog\r\n            innerRef={(dlg) => { this._showChangeProjectRequestProfile = dlg && dlg.handleOpen }}\r\n            title={''}\r\n            schema={project_request_profile_schema}\r\n            handleOk={this.onChangeProjectRequestProfile}\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withPermissions(withStyles(styles)(ProjectDetial), 'project.view_project');\r\n","import React from 'react';\r\nimport TopBreadcrumbs from '../../components/TopBreadcrumbs';\r\nimport GridContainer from '../../components/Grid/GridContainer';\r\nimport GridItem from '../../components/Grid/GridItem';\r\nimport { StepForm, withPermissions } from '../../components';\r\nimport {\r\n  proejct_member_form_schema,\r\n  cost_percentage_form_schema,\r\n} from './schema';\r\nimport {\r\n  member_contract_form_schema,\r\n  default_contract_data,\r\n  contract_calculate_hours_schema,\r\n  contract_allowance_schema,\r\n  bp_contract_item_schema,\r\n  bp_contract_item_layout,\r\n} from '../partner/schema';\r\nimport {\r\n  getProjectDetail,\r\n  getMemberCategory,\r\n  getCascadeObjects,\r\n  getContentObjects,\r\n  getDuplicatedProjectMemberSync\r\n} from '../utils/api';\r\nimport { common } from '../../utils/common';\r\nimport { config } from '../../utils/config';\r\nimport { onChangeCalculateType, onChangeMinusAndPlus } from '../utils/common';\r\n\r\nclass ProjectMemberAdd extends React.Component {\r\n  title = '';\r\n  project_member_schema = JSON.parse(JSON.stringify(proejct_member_form_schema));\r\n  initial_member_list = [];\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      project: {},\r\n      member_categories: [],\r\n      initial_member_list: [],\r\n      duplications: [],\r\n    };\r\n    this.initialize(props);\r\n  }\r\n\r\n  initialize = (props) => {\r\n    const { project_id } = props.match.params;\r\n    getProjectDetail(project_id).then(project => {\r\n      this.setState({project});\r\n    })\r\n    getMemberCategory().then(member_categories => {\r\n      this.setState({member_categories});\r\n    });\r\n    if (props.location.state && props.location.state.src_object) {\r\n      getContentObjects(props.location.state.src_object.member_content_type).then(members => {\r\n        this.setState({initial_member_list: members});\r\n      });\r\n    }\r\n  };\r\n\r\n  componentDidUpdate = () => {\r\n    const { project } = this.state;\r\n    document.title = `${this.title} | ${project.name} | `;\r\n  };\r\n\r\n  getSteps = () => {\r\n    const { project_id } = this.props.match.params;\r\n    const { project, duplications } = this.state;\r\n\r\n    return [\r\n      {\r\n        name: '',\r\n        formProps: {\r\n          name: 'project_member',\r\n          schema: this.getProjectMemberFormSchema(),\r\n          data: {\r\n            \"project\": project_id,\r\n            \"project_name\": project.name,\r\n          },\r\n          onChanges:[\r\n            (\r\n              (name, data) => getCascadeObjects(\r\n                name,\r\n                'member_content_type',\r\n                data[name],\r\n                this.project_member_schema\r\n              )\r\n            ),\r\n          ],\r\n        },\r\n      },\r\n      {\r\n        name: \"\",\r\n        formProps: {\r\n          name: 'contract_info',\r\n          schema: member_contract_form_schema,\r\n          data: default_contract_data,\r\n          onChanges: [onChangeCalculateType, onChangeMinusAndPlus],\r\n          inlines: [\r\n            {\r\n              name: \"calculate_hours\",\r\n              title: \"\",\r\n              schema: contract_calculate_hours_schema,\r\n              allowAdd: false,\r\n              allowDelete: false,\r\n            },\r\n            {\r\n              name: 'allowances',\r\n              title: '',\r\n              schema: contract_allowance_schema,\r\n              allowAdd: false,\r\n              allowDelete: false,\r\n            },\r\n            {\r\n              name: \"contract_items\",\r\n              title: \"\",\r\n              schema: bp_contract_item_schema,\r\n              layout: bp_contract_item_layout,\r\n              allowAdd: false,\r\n              allowDelete: false,\r\n            },\r\n          ],\r\n          checkList: [this.checkProjectMemberDuplicated],\r\n        },\r\n      },\r\n      {\r\n        name: '',\r\n        description: '',\r\n        formProps: {\r\n          name: 'cost_percentage',\r\n          inline: true,\r\n          schema: cost_percentage_form_schema,\r\n          data: duplications,\r\n          allowAdd: false,\r\n          allowDelete: false,\r\n        }\r\n      }\r\n    ];\r\n  };\r\n\r\n  /**\r\n   * \r\n   */\r\n  checkProjectMemberDuplicated = (currData, stepsData) => {\r\n    const { project_id } = this.props.match.params;\r\n    const { project_member } = stepsData;\r\n    const { project } = this.state;\r\n    const duplications = getDuplicatedProjectMemberSync(\r\n      project_id,\r\n      project_member.member_content_type,\r\n      project_member.member_object_id,\r\n      currData.start_date,\r\n      currData.end_date\r\n    );\r\n    if (duplications === false) {\r\n      return false;\r\n    } else {\r\n      const arr_tmp_ym = [];\r\n      const arr_ym = [];\r\n      for (let item of duplications) {\r\n        if (arr_tmp_ym.indexOf(item.ym) < 0) {\r\n          arr_tmp_ym.push(item.ym);\r\n          arr_ym.push({ 'year': item.year, 'month': item.month, 'ym': item.ym });\r\n        }\r\n      }\r\n      for (let ym of arr_ym) {\r\n        duplications.push({\r\n          'project': project_id,\r\n          'project_name': project.name,\r\n          'project_member': null,\r\n          'member_content_type': project_member.member_content_type,\r\n          'member_object_id': project_member.member_object_id,\r\n          'full_name': duplications[0].full_name,\r\n          'start_date': duplications[0].start_date,\r\n          'end_date': duplications[0].end_date,\r\n          'year': ym.year,\r\n          'month': ym.month,\r\n          'ym': ym.ym,\r\n          'organization': project.organization,\r\n          'organization_name': duplications[0].organization_name,\r\n          'cost_percentage_id': null,\r\n          'percentage': null,\r\n        });\r\n      }\r\n      duplications.sort(function(a, b) {\r\n        let keyA = a.ym + a.project_name,\r\n            keyB = b.ym + b.project_name;\r\n        if (keyA < keyB) return -1;\r\n        if (keyA > keyB) return 1;\r\n        return 0;\r\n      });\r\n      this.setState({ duplications });\r\n      return true;\r\n    }\r\n  };\r\n\r\n  getProjectMemberFormSchema = () => {\r\n    const { member_categories, initial_member_list } = this.state;\r\n    common.getFromJsonList(\r\n      this.project_member_schema, 'name', 'member_content_type'\r\n    ).choices = member_categories;\r\n    common.getFromJsonList(\r\n      this.project_member_schema, 'name', 'member_object_id'\r\n    ).choices = initial_member_list;\r\n    return this.project_member_schema;\r\n  };\r\n\r\n  render() {\r\n    const { project_id } = this.props.match.params;\r\n    const { project } = this.state;\r\n    const steps = this.getSteps();\r\n\r\n    return (\r\n      <div>\r\n        <TopBreadcrumbs\r\n          breadcrumbs={[\r\n            { link: `/project/projects`, name: '' },\r\n            { link: `/project/projects/${project_id}/`, name: project.name },\r\n            { link: `/project/projects/${project_id}/members`, name: '' },\r\n            { name: this.title },\r\n          ]}\r\n        />\r\n        <div style={{marginTop: 16}}>\r\n          <GridContainer>\r\n            <GridItem xs={12} sm={12} md={9} lg={9}>\r\n              <StepForm\r\n                title={this.title}\r\n                steps={steps}\r\n                methodName='POST'\r\n                saveEndpoint={common.formatStr(config.api.project.member_add, project_id)}\r\n                saveCallback={(data) => common.redirect(`/project/projects/${project_id}/members/${data.id}`)}\r\n              />\r\n            </GridItem>\r\n          </GridContainer>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withPermissions(ProjectMemberAdd, 'project.add_projectmember');\r\n","import React from 'react';\r\nimport PropTypes from \"prop-types\";\r\nimport {\r\n  DataSource,\r\n  withPermissions,\r\n  Card,\r\n  CardHeader,\r\n  CardBody,\r\n} from '../../components';\r\nimport { EnhancedTable } from '../../datatable';\r\nimport {\r\n  getExpenseCategoryChoices,\r\n  handleAddObject,\r\n  handleEditObject,\r\n  handleDeleteObject,\r\n  expense_list_schema,\r\n  expense_form_schema,\r\n  expense_form_layout,\r\n} from '../utils';\r\nimport { config, common } from '../../utils';\r\n\r\nclass ExpenseList extends React.Component {\r\n  expense_list = common.clone(expense_list_schema);\r\n  expense_form = common.clone(expense_form_schema);\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      reload: false,\r\n      expense_category_list: [],\r\n    };\r\n    this.initialize(props);\r\n  }\r\n\r\n  initialize = (props) => {\r\n    getExpenseCategoryChoices().then(expense_category_list => this.setState({expense_category_list}));\r\n  };\r\n\r\n  render() {\r\n    const { content_type, object_id, title, project } = this.props;\r\n    const { reload, expense_category_list } = this.state;\r\n    if (!common.isEmpty(project)) {\r\n      const colProject = common.getFromJsonList(this.expense_form, 'name', 'project');\r\n      colProject[\"choices\"] = [{ \"value\": parseInt(project.project_id), \"display_name\": project.project_name }];\r\n      colProject['read_only'] = true;\r\n    }\r\n    common.getFromJsonList(this.expense_list, 'name', 'category')['choices'] = expense_category_list;\r\n    common.getFromJsonList(this.expense_form, 'name', 'category')['choices'] = expense_category_list;\r\n\r\n    return (\r\n      <div>\r\n        <Card>\r\n          <CardHeader color=\"info\">\r\n            {title}\r\n          </CardHeader>\r\n          <CardBody>\r\n            <DataSource\r\n              reload={reload}\r\n              endpoint={common.formatStr(config.api.attendance.expense_list_by_content_object_list, content_type, object_id)}\r\n              render={(initData) => (\r\n                <EnhancedTable\r\n                  title=''\r\n                  tableHead={this.expense_list}\r\n                  tableData={initData.results}\r\n                  rowsPerPage={config.rowsPerPage}\r\n                  selectable=\"single\"\r\n                  allowCsv={true}\r\n                  addProps={{\r\n                    title: '',\r\n                    schema: this.expense_form,\r\n                    layout: expense_form_layout,\r\n                    handleOk: handleAddObject(\r\n                      () => this.setState({reload: !reload}),\r\n                      common.formatStr(config.api.attendance.expense_list_by_content_object_add, content_type, object_id),\r\n                    ),\r\n                    data: {\r\n                      'content_type': content_type,\r\n                      'object_id': object_id,\r\n                      'project': project.project_id && parseInt(project.project_id),\r\n                      'year': common.getCurrentYear(),\r\n                    },\r\n                    visible: common.hasPerm('attendance.add_expense'),\r\n                  }}\r\n                  editProps={{\r\n                    title: '',\r\n                    schema: this.expense_form,\r\n                    layout: expense_form_layout,\r\n                    handleOk: handleEditObject(\r\n                      () => this.setState({reload: !reload}),\r\n                      config.api.attendance.expense_list_by_content_object_detail,\r\n                      content_type,\r\n                      object_id,\r\n                    ),\r\n                    visible: common.hasPerm('attendance.change_expense'),\r\n                  }}\r\n                  deleteProps={{\r\n                    handleDelete: handleDeleteObject(\r\n                      () => this.setState({reload: !reload}),\r\n                      config.api.attendance.expense_list_by_content_object_detail,\r\n                      content_type,\r\n                      object_id,\r\n                    ),\r\n                    visible: common.hasPerm('attendance.delete_expense'),\r\n                  }}\r\n                  pushpinTop={common.getHeaderHeight()}\r\n                />\r\n              )}\r\n            />\r\n          </CardBody>\r\n        </Card>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nExpenseList.propTypes = {\r\n  title: PropTypes.string.isRequired,\r\n  content_type: PropTypes.oneOfType([\r\n    PropTypes.string,\r\n    PropTypes.number,\r\n  ]).isRequired,\r\n  object_id: PropTypes.oneOfType([\r\n    PropTypes.string,\r\n    PropTypes.number,\r\n  ]).isRequired,\r\n  project: PropTypes.shape({\r\n    project_id: PropTypes.oneOfType([\r\n      PropTypes.string,\r\n      PropTypes.number,\r\n    ]),\r\n    project_name: PropTypes.string,\r\n  }),\r\n};\r\n\r\nexport default withPermissions(ExpenseList, 'attendance.view_expense');","import React from 'react';\r\nimport { Button, Tooltip } from '@material-ui/core';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport {\r\n  TopBreadcrumbs,\r\n  Card,\r\n  CardHeader,\r\n  CardBody,\r\n  DataSource,\r\n  withPermissions,\r\n  HasPerm,\r\n  Toast,\r\n} from '../../components';\r\nimport GridContainer from '../../components/Grid/GridContainer';\r\nimport GridItem from '../../components/Grid/GridItem';\r\nimport {\r\n  getProjectDetail,\r\n  getMemberCategory,\r\n  getProjectMemberDetial,\r\n  onDeleteObject,\r\n  getDuplicatedProjectMember,\r\n} from '../utils/api';\r\nimport { config } from '../../utils/config';\r\nimport { common, ajax, constant } from '../../utils';\r\nimport { TableDetail, EnhancedTable } from '../../datatable';\r\nimport {\r\n  project_member_detail_schema,\r\n  proejct_member_form_schema,\r\n  project_member_contract_list_schema,\r\n} from './schema';\r\nimport ExpensesList from '../common/expense_list';\r\n\r\nclass ProjectMemberDetail extends React.Component {\r\n  project_member_schema = JSON.parse(JSON.stringify(proejct_member_form_schema));\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      project: {},\r\n      member: {},\r\n      member_categories: [],\r\n      is_duplicated: false,\r\n    };\r\n    this.initialize(props);\r\n    this.detail_api = common.formatStr(\r\n      config.api.project.member_detail,\r\n      props.match.params.project_id,\r\n      props.match.params.member_id,\r\n    );\r\n  }\r\n\r\n  initialize = (props) => {\r\n    const { project_id, member_id } = props.match.params;\r\n    getProjectDetail(project_id).then(project => {\r\n      this.setState({project});\r\n    });\r\n    getProjectMemberDetial(project_id, member_id).then(member => {\r\n      this.setState({member});\r\n    });\r\n    getMemberCategory().then(member_categories => {\r\n      this.setState({member_categories});\r\n    });\r\n    getDuplicatedProjectMember(project_id, member_id).then(duplications => {\r\n      this.setState({is_duplicated: duplications.length > 0});\r\n    });\r\n  };\r\n\r\n  componentDidUpdate = () => {\r\n    const { project, member } = this.state;\r\n    document.title = `${member.full_name || ''} | ${project.name || ''} | `;\r\n  };\r\n\r\n  onEditProjectMember = (data, handleClose) => {\r\n    return ajax.fetchPut(this.detail_api, data).then(member => {\r\n      this.setState({member});\r\n      if (handleClose) {\r\n        handleClose();\r\n      }\r\n      Toast.success(constant.SUCCESS.SAVED);\r\n    }).catch(errors => {\r\n      Toast.error(constant.ERROR.FORM_CHECK_ERROR);\r\n      return Promise.reject(errors);\r\n    });\r\n  };\r\n\r\n  getDetailActions = () => {\r\n    const { project_id, member_id } = this.props.match.params;\r\n    const { member, is_duplicated } = this.state;\r\n    const actions = [];\r\n    if (member.member_type === '03') {\r\n      actions.push(\r\n        <HasPerm permission='partner.view_partnermember' key=\"member_detail\">\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            onClick={() => common.redirect(`/partner/individual/${member.member_object_id}`)}\r\n          ></Button>\r\n        </HasPerm>\r\n      );\r\n    }\r\n    if (is_duplicated === true) {\r\n      actions.push(\r\n        <HasPerm permission='partner.view_partnermember' key=\"member_detail\">\r\n          <Tooltip title='' placement='bottom' enterDelay={300}>\r\n            <Button\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              onClick={() => common.redirect(`/project/projects/${project_id}/members/${member_id}/duplications`)}\r\n            >\r\n              \r\n            </Button>\r\n          </Tooltip>\r\n        </HasPerm>\r\n      );\r\n    }\r\n    return actions;\r\n  };\r\n\r\n  render() {\r\n    const { project_id, member_id } = this.props.match.params;\r\n    const { project, member, member_categories } = this.state;\r\n    let col_member_ct = common.getFromJsonList(\r\n      this.project_member_schema, 'name', 'member_content_type'\r\n    )\r\n    col_member_ct.choices = member_categories;\r\n    col_member_ct.read_only = true;\r\n    let col_member_id = common.getFromJsonList(\r\n      this.project_member_schema, 'name', 'member_object_id'\r\n    )\r\n    col_member_id.choices = [{\"value\": member.member_object_id, \"display_name\": member.full_name}];\r\n    col_member_id.read_only = true;\r\n\r\n    return (\r\n      <div>\r\n        <TopBreadcrumbs\r\n          breadcrumbs={[\r\n            { link: `/project/projects`, name: '' },\r\n            { link: `/project/projects/${project_id}/`, name: project.name },\r\n            { link: `/project/projects/${project_id}/members`, name: '' },\r\n            { name: member.full_name },\r\n          ]}\r\n        />\r\n        <div style={{marginTop: 16}}>\r\n          <GridContainer>\r\n            <GridItem xs={12} sm={12} md={12} lg={12}>\r\n              <TableDetail\r\n                title={member.full_name || ''}\r\n                data={member}\r\n                schema={project_member_detail_schema}\r\n                editProps={{\r\n                  title: '',\r\n                  schema: this.project_member_schema,\r\n                  handleEdit: this.onEditProjectMember,\r\n                  visible: common.hasPerm('project.change_projectmember'),\r\n                }}\r\n                deleteProps={{\r\n                  handleDelete: () => (onDeleteObject(\r\n                    this.detail_api,\r\n                    `/project/projects/${project_id}/members`,\r\n                  )),\r\n                  visible: common.hasPerm('project.delete_projectmember'),\r\n                }}\r\n                actions={this.getDetailActions()}\r\n              />\r\n            </GridItem>\r\n          </GridContainer>\r\n          <Card>\r\n            <CardHeader color=\"info\"></CardHeader>\r\n            <CardBody>\r\n              <DataSource\r\n                endpoint={common.formatStr(config.api.project.member_contracts, project_id, member_id)}\r\n                render={(initData) => (\r\n                  <EnhancedTable\r\n                    tableHead={project_member_contract_list_schema}\r\n                    tableData={initData}\r\n                    rowsPerPage={config.rowsPerPage}\r\n                    tableActions={[\r\n                      {\r\n                        'tooltip': '',\r\n                        'icon': <AddIcon color=\"secondary\"/>,\r\n                        'handleClick': () => (common.redirect(`/project/projects/${project_id}/members/${member_id}/contracts/add`)),\r\n                      },\r\n                    ]}\r\n                    pushpinTop={common.getHeaderHeight()}\r\n                  />\r\n                )}\r\n              />\r\n            </CardBody>\r\n          </Card>\r\n          {member.member_content_type && member.member_object_id ? (\r\n            <ExpensesList\r\n              title=''\r\n              content_type={member.member_content_type}\r\n              object_id={member.member_object_id}\r\n              project={{\r\n                project_id: project_id,\r\n                project_name: project.name,\r\n              }}\r\n            />\r\n          ) : null }\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withPermissions(ProjectMemberDetail, 'project.view_projectmember');\r\n","import React from 'react';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport { EnhancedTable } from '../../datatable/index';\r\nimport TopBreadcrumbs from '../../components/TopBreadcrumbs';\r\nimport Card from \"../../components/Card/Card\";\r\nimport CardHeader from \"../../components/Card/CardHeader.jsx\";\r\nimport CardBody from \"../../components/Card/CardBody\";\r\nimport DataSource from '../../components/DataSource';\r\nimport { project_member_list_schema } from './schema';\r\nimport { config, common } from '../../utils';\r\nimport { getProjectDetail } from '../utils/api';\r\nimport { withPermissions } from '../../components';\r\n\r\nclass ProjectMemberList extends React.Component {\r\n  title = ''\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      project: {},\r\n    };\r\n    this.initialize(props);\r\n    this.detail_api = common.formatStr(\r\n      config.api.project.detail,\r\n      props.match.params.project_id,\r\n    );\r\n  }\r\n\r\n  initialize = (props) => {\r\n    getProjectDetail(props.match.params.project_id).then(project => {\r\n      this.setState({project});\r\n    });\r\n  };\r\n\r\n  componentDidUpdate = () => {\r\n    const { project } = this.state;\r\n    document.title = `${this.title} | ${project.name || ''} | `;\r\n  };\r\n\r\n  render() {\r\n    const { project_id } = this.props.match.params;\r\n    const { project } = this.state;\r\n\r\n    return (\r\n      <div>\r\n        <TopBreadcrumbs\r\n          breadcrumbs={[\r\n            { link: '/project/projects', name: '' },\r\n            { link: `/project/projects/${project_id}`, name: project.name },\r\n            { name: this.title },\r\n          ]}\r\n        />\r\n        <Card>\r\n          <CardHeader color=\"info\">{this.title}</CardHeader>\r\n          <CardBody>\r\n            <DataSource\r\n              endpoint={common.formatStr(config.api.project.member_portal_list, project_id)}\r\n              render={(initData) => (\r\n                <EnhancedTable\r\n                  storageKey='project.members'\r\n                  tableHead={project_member_list_schema}\r\n                  tableData={initData}\r\n                  rowsPerPage={config.rowsPerPage}\r\n                  tableActions={[\r\n                    {\r\n                      'tooltip': '',\r\n                      'icon': <AddIcon color=\"secondary\"/>,\r\n                      'handleClick': () => (common.redirect(`/project/projects/${project_id}/members/add`)),\r\n                    },\r\n                  ]}\r\n                  pushpinTop={common.getHeaderHeight()}\r\n                />\r\n              )}\r\n            />\r\n          </CardBody>\r\n        </Card>\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withPermissions(ProjectMemberList, 'project.view_projectmember');\r\n","import React from 'react';\r\nimport TopBreadcrumbs from '../../components/TopBreadcrumbs';\r\nimport GridContainer from '../../components/Grid/GridContainer';\r\nimport GridItem from '../../components/Grid/GridItem';\r\nimport {\r\n  member_contract_form_schema,\r\n  contract_calculate_hours_schema,\r\n  contract_allowance_schema,\r\n  default_contract_data,\r\n  bp_contract_item_schema,\r\n  bp_contract_item_layout,\r\n} from '../partner/schema';\r\nimport ActionForm from '../../components/ActionForm';\r\nimport { config } from '../../utils/config';\r\nimport { common } from '../../utils/common';\r\nimport {\r\n  getProjectDetail,\r\n  getProjectMemberDetial,\r\n  getProjectMemberContractTotal,\r\n} from '../utils/api';\r\nimport {\r\n  onChangeCalculateType,\r\n  onChangeMinusAndPlus,\r\n} from '../utils/common';\r\nimport { withPermissions } from '../../components';\r\n\r\nclass ProjectMemberContractForm extends React.Component {\r\n  title = '';\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      project: {},\r\n      member: {},\r\n      contract_total: default_contract_data,\r\n      error_message: null,\r\n    };\r\n    this.initialize(props);\r\n  }\r\n\r\n  initialize = (props) => {\r\n    const { project_id, member_id, contract_id } = props.match.params;\r\n    getProjectDetail(project_id).then(project => {\r\n      this.setState({project});\r\n    });\r\n    getProjectMemberDetial(project_id, member_id).then(member => {\r\n      this.setState({member});\r\n    });\r\n    if (contract_id) {\r\n      getProjectMemberContractTotal(project_id, member_id, contract_id).then(\r\n        contract_total => this.setState({contract_total})\r\n      ).catch(errors => {\r\n        if (errors.status_code === 403) {\r\n          this.props.forbidden(errors.detail);\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  componentDidUpdate = () => {\r\n    const { contract_id } = this.props.match.params;\r\n    this.title = contract_id ? '' : ''\r\n    const { project, member } = this.state;\r\n    document.title = `${this.title} | ${member.full_name || ''} | ${project.name || ''} | `;\r\n  };\r\n\r\n  render() {\r\n    const { project_id, member_id, contract_id } = this.props.match.params;\r\n    const { project, member, contract_total } = this.state;\r\n    if (!contract_id) {\r\n      contract_total['company_content_type'] = project.company_content_type;\r\n      contract_total['company_object_id'] = project.company_object_id;\r\n      contract_total['content_type'] = member.project_member_content_type;\r\n      contract_total['object_id'] = member_id;\r\n    }\r\n    const breadcrumbs = [\r\n      { link: '/project/projects', name: '' },\r\n      { link: `/project/projects/${project_id}/`, name: project.name },\r\n      { link: `/project/projects/${project_id}/members`, name: '' },\r\n      { link: `/project/projects/${project_id}/members/${member_id}`, name: member.full_name },\r\n    ];\r\n    if (contract_id) {\r\n      breadcrumbs.push({ name: \"\" });\r\n    } else {\r\n      breadcrumbs.push({ name: \"\" });\r\n    }\r\n\r\n    return (\r\n      <div>\r\n        <TopBreadcrumbs\r\n          breadcrumbs={breadcrumbs}\r\n        />\r\n        <div style={{marginTop: 16}}>\r\n          <GridContainer>\r\n            <GridItem xs={12} sm={12} md={9} lg={9}>\r\n              <ActionForm\r\n                title={this.title}\r\n                schema={member_contract_form_schema}\r\n                onChanges={[onChangeCalculateType, onChangeMinusAndPlus]}\r\n                inlines={[\r\n                  {\r\n                    name: \"calculate_hours\",\r\n                    title: \"\",\r\n                    schema: contract_calculate_hours_schema,\r\n                    allowAdd: false,\r\n                    allowDelete: false,\r\n                  },\r\n                  {\r\n                    name: 'allowances',\r\n                    title: '',\r\n                    schema: contract_allowance_schema,\r\n                    allowAdd: false,\r\n                    allowDelete: false,\r\n                  },\r\n                  {\r\n                    name: \"contract_items\",\r\n                    title: \"\",\r\n                    schema: bp_contract_item_schema,\r\n                    layout: bp_contract_item_layout,\r\n                    allowAdd: false,\r\n                    allowDelete: false,\r\n                  },\r\n                ]}\r\n                data={contract_total}\r\n                methodName={'POST'}\r\n                saveEndpoint={\r\n                  contract_id ? common.formatStr(\r\n                    config.api.project.member_contract_save, project_id, member_id, contract_total.id\r\n                  ) : common.formatStr(\r\n                    config.api.project.member_contract_add, project_id, member_id\r\n                  )\r\n                }\r\n                saveCallback={() => common.redirect(`/project/projects/${project_id}/members/${member_id}`)}\r\n                deleteEndpoint={contract_id ? common.formatStr(config.api.project.member_contract, project_id, member_id, contract_id) : null}\r\n                deleteCallback={() => common.redirect(`/project/projects/${project_id}/members/${member_id}`)}\r\n              />\r\n            </GridItem>\r\n          </GridContainer>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withPermissions(ProjectMemberContractForm, 'project.change_projectmember');\r\n","import React from 'react';\r\nimport { withSnackbar } from 'notistack';\r\nimport TopBreadcrumbs from '../../components/TopBreadcrumbs';\r\nimport GridContainer from '../../components/Grid/GridContainer';\r\nimport GridItem from '../../components/Grid/GridItem';\r\nimport ActionForm from '../../components/ActionForm';\r\nimport {\r\n  getProjectDetail,\r\n  getBankAccountList,\r\n  getProjectMemberChoices,\r\n} from '../utils/api';\r\nimport { project_order_form_schema, project_order_form_layout } from './schema';\r\nimport { common, config } from '../../utils';\r\nimport { withPermissions } from '../../components';\r\n\r\nclass ProjectOrderAdd extends React.Component {\r\n  title = '';\r\n  project_order_form = common.clone(project_order_form_schema);\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      project: {},\r\n      bank_account_list: [],\r\n      project_members_chioce: [],\r\n    };\r\n    this.initialize(props);\r\n  }\r\n\r\n  initialize = (props) => {\r\n    const { project_id } = props.match.params;\r\n    getProjectDetail(project_id).then(project => {\r\n      this.setState({project});\r\n      return project;\r\n    }).then(project => {\r\n      getBankAccountList(project.my_company_content_type, project.my_company_id).then(bank_account_list => {\r\n        this.setState({bank_account_list});\r\n      });\r\n    });\r\n    getProjectMemberChoices(project_id).then(project_members_chioce => {\r\n      this.setState({ project_members_chioce });\r\n    });\r\n  };\r\n\r\n  componentDidUpdate = () => {\r\n    const { project } = this.state;\r\n    document.title = `${this.title} | ${project.name || ''} | `;\r\n  };\r\n\r\n  render() {\r\n    const { project_id } = this.props.match.params;\r\n    const { project, bank_account_list, project_members_chioce } = this.state;\r\n    common.getFromJsonList(this.project_order_form, 'name', 'bank_account')['choices'] = bank_account_list;\r\n    common.getFromJsonList(this.project_order_form, 'name', 'members')['choices'] = project_members_chioce;\r\n\r\n    return (\r\n     <div>\r\n        <TopBreadcrumbs\r\n          breadcrumbs={[\r\n            { link: `/project/projects`, name: '' },\r\n            { link: `/project/projects/${project_id}/`, name: project.name },\r\n            { name: this.title },\r\n          ]}\r\n        />\r\n        <div style={{marginTop: 16}}>\r\n          <GridContainer>\r\n            <GridItem xs={12} sm={12} md={9} lg={9}>\r\n              <ActionForm\r\n                title={this.title}\r\n                schema={this.project_order_form}\r\n                layout={project_order_form_layout}\r\n                data={{\r\n                  'company_content_type': project.company_content_type,\r\n                  'company_object_id': project.company_object_id,\r\n                  'company_name': project.company_name,\r\n                  'name': project.name,\r\n                  'projects': [project_id],\r\n                }}\r\n                methodName={'POST'}\r\n                saveEndpoint={common.formatStr(config.api.project.project_order_add, project_id)}\r\n                saveCallback={(data) => common.redirect(`/project/projects/${project_id}/orders/${data.id}/`)}\r\n              />\r\n            </GridItem>\r\n          </GridContainer>\r\n        </div>\r\n     </div>\r\n   );\r\n  }\r\n};\r\n\r\nexport default withPermissions(withSnackbar(ProjectOrderAdd), 'project.add_projectorder');\r\n","import React from 'react';\r\nimport { TableDetail } from '../../datatable';\r\nimport TopBreadcrumbs from '../../components/TopBreadcrumbs';\r\nimport GridContainer from '../../components/Grid/GridContainer';\r\nimport GridItem from '../../components/Grid/GridItem';\r\nimport {\r\n  getProjectDetail,\r\n  getBankAccountList,\r\n  getProjectOrderDetail,\r\n  onDeleteObject,\r\n  getProjectMemberChoices,\r\n} from '../utils/api';\r\nimport { project_order_form_schema, project_order_form_layout } from './schema';\r\nimport { common, config, constant, ajax } from '../../utils';\r\nimport { withPermissions, Toast } from '../../components';\r\n\r\nclass ProjectOrderDetail extends React.Component {\r\n  title = '';\r\n  project_order_form = common.clone(project_order_form_schema);\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      project: {},\r\n      order: {},\r\n      bank_account_list: [],\r\n      project_members_chioce: [],\r\n    };\r\n    this.initialize(props);\r\n  }\r\n\r\n  initialize = (props) => {\r\n    const { project_id, order_id } = props.match.params;\r\n    this.detail_api = common.formatStr(\r\n      config.api.project.project_order_detail,\r\n      project_id, order_id\r\n    );\r\n    getProjectDetail(project_id).then(project => {\r\n      this.setState({ project });\r\n      return project;\r\n    }).then(project => {\r\n      getBankAccountList(project.my_company_content_type, project.my_company_id).then(bank_account_list => {\r\n        this.setState({ bank_account_list });\r\n      });\r\n    });\r\n    getProjectOrderDetail(project_id, order_id).then(order => this.setState({ order }));\r\n    getProjectMemberChoices(project_id).then(project_members_chioce => {\r\n      this.setState({ project_members_chioce });\r\n    });\r\n  };\r\n\r\n  componentDidUpdate = () => {\r\n    const { project } = this.state;\r\n    document.title = `${this.title} | ${project.name || ''} | `;\r\n  };\r\n\r\n  onEditProjectOrder = (data, handleClose) => {\r\n    return ajax.fetchPut(this.detail_api, data).then(order => {\r\n      this.setState({ order });\r\n      if (handleClose) {\r\n        handleClose();\r\n      }\r\n      Toast.success(constant.SUCCESS.SAVED);\r\n    }).catch(errors => {\r\n      Toast.error(constant.ERROR.FORM_CHECK_ERROR);\r\n      return Promise.reject(errors);\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { project_id } = this.props.match.params;\r\n    const { project, bank_account_list, order, project_members_chioce } = this.state;\r\n    common.getFromJsonList(this.project_order_form, 'name', 'bank_account')['choices'] = bank_account_list;\r\n    common.getFromJsonList(this.project_order_form, 'name', 'members')['choices'] = project_members_chioce;\r\n\r\n    return (\r\n      <div>\r\n        <TopBreadcrumbs\r\n          breadcrumbs={[\r\n            { link: `/project/projects`, name: '' },\r\n            { link: `/project/projects/${project_id}/`, name: project.name },\r\n            { name: this.title },\r\n          ]}\r\n        />\r\n        <div style={{ marginTop: 16 }}>\r\n          <GridContainer>\r\n            <GridItem xs={12} sm={12} md={9} lg={9}>\r\n              <TableDetail\r\n                title={`${order.name}` || ''}\r\n                data={Object.assign(order, { 'company_name': project.company_name })}\r\n                schema={this.project_order_form}\r\n                editProps={{\r\n                  title: '',\r\n                  schema: this.project_order_form,\r\n                  layout: project_order_form_layout,\r\n                  handleEdit: this.onEditProjectOrder,\r\n                  visible: common.hasPerm('project.change_projectorder'),\r\n                }}\r\n                deleteProps={{\r\n                  handleDelete: () => (onDeleteObject(\r\n                    this.detail_api,\r\n                    `/project/projects/${project_id}`,\r\n                  )),\r\n                  visible: common.hasPerm('project.delete_projectorder'),\r\n                }}\r\n              />\r\n            </GridItem>\r\n          </GridContainer>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default withPermissions(ProjectOrderDetail, 'project.view_projectorder');\r\n","import React from 'react';\r\nimport { EnhancedTable } from '../../datatable';\r\nimport TopBreadcrumbs from '../../components/TopBreadcrumbs';\r\nimport DataSource from '../../components/DataSource';\r\nimport Card from '../../components/Card/Card';\r\nimport CardHeader from '../../components/Card/CardHeader';\r\nimport CardBody from '../../components/Card/CardBody';\r\nimport { getProjectDetail, onSaveProjectAttendance } from '../utils';\r\nimport { common, config, constant } from '../../utils';\r\nimport {\r\n  project_attendance_by_month_schema,\r\n  project_attendance_edit_schema,\r\n  project_attendance_edit_layout,\r\n} from './schema';\r\nimport { withPermissions, Toast } from '../../components';\r\n\r\nclass ProjectAttendance extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      project: {},\r\n      reload: true,\r\n    };\r\n    this.initialize(props);\r\n  }\r\n\r\n  initialize = (props) => {\r\n    const { project_id } = props.match.params;\r\n    getProjectDetail(project_id).then(project => this.setState({project}));\r\n  };\r\n\r\n  componentDidUpdate = () => {\r\n    const { year, month } = this.props.match.params;\r\n    const { project } = this.state;\r\n    document.title = `${year}${month} | ${project.name || ''} | `;\r\n  };\r\n\r\n  onAttendanceModified = (data, handleClose) => {\r\n    const { project_id } = this.props.match.params;\r\n    return onSaveProjectAttendance(project_id, data.attendance_id, data).then(() => {\r\n      if (handleClose) {\r\n        handleClose();\r\n      }\r\n      Toast.success(constant.SUCCESS.SAVED);\r\n      this.setState({reload: !this.state.reload});\r\n    }).catch(errors => {\r\n      Toast.error(constant.ERROR.FORM_CHECK_ERROR);\r\n      return Promise.reject(errors);\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { project_id, year, month } = this.props.match.params;\r\n    const { project, reload } = this.state;\r\n\r\n    return (\r\n      <div>\r\n        <TopBreadcrumbs\r\n          breadcrumbs={[\r\n            { link: `/project/projects`, name: '' },\r\n            { link: `/project/projects/${project_id}/`, name: project.name },\r\n            { name: `${year}${month}` },\r\n          ]}\r\n        />\r\n        <Card>\r\n          <CardHeader color=\"info\">{`${project.name}${year}${month}`}</CardHeader>\r\n          <CardBody>\r\n            <DataSource\r\n              reload={reload}\r\n              endpoint={common.formatStr(config.api.project.project_attendance_by_month, project_id, year, month)}\r\n              render={(initData) => (\r\n                <EnhancedTable\r\n                  title={`${year}${month}`}\r\n                  tableHead={project_attendance_by_month_schema}\r\n                  tableData={initData}\r\n                  rowsPerPage={config.rowsPerPage}\r\n                  selectable=\"single\"\r\n                  editProps={{\r\n                    \"schema\": project_attendance_edit_schema,\r\n                    \"layout\": project_attendance_edit_layout,\r\n                    \"handleOk\": this.onAttendanceModified,\r\n                    \"visible\": common.hasPerm('attendance.change_attendance'),\r\n                  }}\r\n                  pushpinTop={common.getHeaderHeight()}\r\n                />\r\n              )}\r\n            />\r\n          </CardBody>\r\n        </Card>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withPermissions(ProjectAttendance, 'attendance.view_attendance');\r\n","import React from 'react';\r\nimport { Card, CardHeader, CardContent, IconButton } from '@material-ui/core';\r\nimport PrintIcon from '@material-ui/icons/Print';\r\nimport TopBreadcrumbs from '../../components/TopBreadcrumbs';\r\nimport { common } from '../../utils/common';\r\nimport { getProjectDetail, getProjectRequestHtml } from '../utils/api';\r\nimport { withPermissions } from '../../components';\r\n\r\nclass ProjectRequest extends React.Component {\r\n  title = '';\r\n  reportId = 'printProjectRequest';\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      project: {},\r\n      project_request_html: null,\r\n      status_code: null,\r\n      error_message: null,\r\n    };\r\n    this.initialize(props.match.params);\r\n  }\r\n\r\n  initialize = (params) => {\r\n    getProjectDetail(params.project_id).then(project => {this.setState({project});});\r\n    getProjectRequestHtml(params.project_id, params.request_id).then(json => {\r\n      this.setState({project_request_html: json.html});\r\n    }).catch(errors => {\r\n      if (errors.status_code === 403) {\r\n        this.props.forbidden(errors.detail);\r\n      }\r\n    });\r\n  };\r\n\r\n  componentDidUpdate = () => {\r\n    const { project } = this.state;\r\n    document.title = `${this.title} | ${project.name} | `;\r\n  };\r\n\r\n  render() {\r\n    const { project_id } = this.props.match.params;\r\n    const { project, project_request_html } = this.state;\r\n\r\n    return (\r\n      <div>\r\n        <TopBreadcrumbs\r\n          breadcrumbs={[\r\n            {link: '/project/projects', name: ''},\r\n            {link: `/project/projects/${project_id}`, name: project.name },\r\n            {name: this.title },\r\n          ]}\r\n        />\r\n        <div style={{marginTop: 16}}>\r\n          <Card>\r\n            <CardHeader\r\n              title={this.title}\r\n              action={\r\n                <IconButton\r\n                  aria-haspopup=\"true\"\r\n                  onClick={() => {common.printIframeContent(this.reportId)}}\r\n                >\r\n                  <PrintIcon />\r\n                </IconButton>\r\n              }\r\n            />\r\n            <CardContent>\r\n              <iframe\r\n                title={this.title}\r\n                id={this.reportId}\r\n                srcDoc={project_request_html}\r\n                frameBorder='0'\r\n                width='100%'\r\n                height='1400px'\r\n              >\r\n              </iframe>\r\n            </CardContent>\r\n          </Card>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withPermissions(ProjectRequest, 'request.view_request');\r\n","import React from 'react';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport { EnhancedTable } from '../../datatable/index';\r\nimport TopBreadcrumbs from '../../components/TopBreadcrumbs';\r\nimport Card from \"../../components/Card/Card\";\r\nimport CardHeader from \"../../components/Card/CardHeader.jsx\";\r\nimport CardBody from \"../../components/Card/CardBody\";\r\nimport DataSource from '../../components/DataSource';\r\nimport { project_subcontractor_list_schema } from './schema';\r\nimport { config, common, ajax, constant } from '../../utils';\r\nimport { getProjectDetail } from '../utils/api';\r\nimport { withPermissions, Toast } from '../../components';\r\n\r\nclass SubcontractorList extends React.Component {\r\n  title = ''\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      project: {},\r\n      reload: false,\r\n    };\r\n    this.initialize(props);\r\n  }\r\n\r\n  initialize = (props) => {\r\n    const { project_id } = props.match.params;\r\n    getProjectDetail(project_id).then(project => this.setState({project}));\r\n  };\r\n\r\n  componentDidUpdate = () => {\r\n    const { project } = this.state;\r\n    document.title = `${this.title} | ${project.name || ''} | `;\r\n  };\r\n\r\n  onDeleteSubcontractor = (data) => {\r\n    const { project_id } = this.props.match.params;\r\n    return ajax.fetchDelete(common.formatStr(config.api.project.subcontractor_detail, project_id, data.id)).then(() => {\r\n      Toast.success(constant.SUCCESS.DELETED);\r\n      this.setState({reload: !this.state.reload});\r\n    }).catch(errors => {\r\n      Toast.error(errors.detail);\r\n      Promise.reject(errors);\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { project_id } = this.props.match.params;\r\n    const { project, reload } = this.state;\r\n\r\n    return (\r\n      <div>\r\n        <TopBreadcrumbs\r\n          breadcrumbs={[\r\n            { link: '/project/projects', name: '' },\r\n            { link: `/project/projects/${project_id}`, name: project.name },\r\n            { name: this.title },\r\n          ]}\r\n        />\r\n        <Card>\r\n          <CardHeader color=\"info\">{this.title}</CardHeader>\r\n          <CardBody>\r\n            <DataSource\r\n              reload={reload}\r\n              endpoint={common.formatStr(config.api.project.subcontractor_list, project_id)}\r\n              render={(initData) => (\r\n                <EnhancedTable\r\n                  tableHead={project_subcontractor_list_schema}\r\n                  tableData={initData}\r\n                  rowsPerPage={config.rowsPerPage}\r\n                  tableActions={[\r\n                    {\r\n                      'tooltip': '',\r\n                      'icon': <AddIcon color=\"secondary\"/>,\r\n                      'handleClick': () => (common.redirect(`/project/projects/${project_id}/subcontractors/add`)),\r\n                      'visible': common.hasPerm('project.add_projectsubcontractor'),\r\n                    },\r\n                  ]}\r\n                  deleteProps={{\r\n                    handleDelete: this.onDeleteSubcontractor,\r\n                    visible: common.hasPerm('project.delete_projectsubcontractor'),\r\n                  }}\r\n                  selectable='single'\r\n                  pushpinTop={common.getHeaderHeight()}\r\n                />\r\n              )}\r\n            />\r\n          </CardBody>\r\n        </Card>\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withPermissions(SubcontractorList, 'project.view_projectsubcontractor');\r\n","import React from 'react';\r\nimport TopBreadcrumbs from '../../components/TopBreadcrumbs';\r\nimport { withPermissions, StepForm } from '../../components';\r\nimport { getProjectDetail, getPartnerCompanyChoices } from '../utils';\r\nimport { config, common } from '../../utils';\r\nimport GridContainer from '../../components/Grid/GridContainer';\r\nimport GridItem from '../../components/Grid/GridItem';\r\nimport {\r\n  project_subcontractor_add_schema,\r\n} from './schema';\r\nimport {\r\n  blanket_contract_form_schema,\r\n  blanket_contract_form_layout,\r\n  contract_allowance_schema,\r\n  bp_contract_item_schema,\r\n  bp_contract_item_layout,\r\n  default_blanket_contract_data,\r\n} from '../partner/schema';\r\n\r\n\r\nclass SubcontractorForm extends React.Component {\r\n  title = ''\r\n  \r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      project: {},\r\n      contract_data: common.clone(default_blanket_contract_data),\r\n      company_choice: [],\r\n    };\r\n    this.initialize(props);\r\n  }\r\n\r\n  initialize = (props) => {\r\n    const { project_id } = props.match.params;\r\n    getProjectDetail(project_id).then(project => this.setState({project}));\r\n    getPartnerCompanyChoices().then(company_choice => this.setState({company_choice}));\r\n  };\r\n\r\n  componentDidUpdate = () => {\r\n    const { project } = this.state;\r\n    document.title = `${this.title} | ${project.name || ''} | `;\r\n  };\r\n\r\n  handleSubcontractorCompanyChange = (name, data) => {\r\n    const { company_choice } = this.state;\r\n    const value = data[name];\r\n    if (name === 'company') {\r\n      if (value) {\r\n        data['company_name'] = common.getFromJsonList(company_choice, 'value', value)['display_name'];\r\n      } else {\r\n        data['company_name'] = null;\r\n      }\r\n    }\r\n  };\r\n\r\n  getSteps = () => {\r\n    const { project_id } = this.props.match.params;\r\n    const { company_choice, contract_data } = this.state;\r\n    const my_project_subcontractor_add_schema = common.clone(project_subcontractor_add_schema);\r\n    my_project_subcontractor_add_schema[0][\"choices\"] = company_choice;\r\n    if (common.isEmpty(company_choice)) {\r\n      return null;\r\n    } else {\r\n      return [\r\n        {\r\n          name: '',\r\n          formProps: {\r\n            name: 'company_info',\r\n            schema: my_project_subcontractor_add_schema,\r\n            data: {\r\n              'project': project_id,\r\n            },\r\n            onChanges: [this.handleSubcontractorCompanyChange],\r\n          },\r\n        },\r\n        {\r\n          name: \"\",\r\n          formProps: {\r\n            name: 'contract_info',\r\n            schema: blanket_contract_form_schema,\r\n            layout: blanket_contract_form_layout,\r\n            inlines: [\r\n              {\r\n                name: 'allowances',\r\n                title: '',\r\n                schema: contract_allowance_schema,\r\n                allowAdd: false,\r\n                allowDelete: false,\r\n              },\r\n              {\r\n                name: \"contract_items\",\r\n                title: \"\",\r\n                schema: bp_contract_item_schema,\r\n                layout: bp_contract_item_layout,\r\n                allowAdd: false,\r\n                allowDelete: false,\r\n              },\r\n            ],\r\n            data: contract_data,\r\n          },\r\n        }\r\n      ];\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { project_id } = this.props.match.params;\r\n    const { project } = this.state;\r\n    const steps = this.getSteps();\r\n\r\n    return (\r\n      <div>\r\n        <TopBreadcrumbs\r\n          breadcrumbs={[\r\n            { link: '/project/projects', name: '' },\r\n            { link: `/project/projects/${project_id}`, name: project.name },\r\n            { link: `/project/projects/${project_id}/subcontractors`, name: '' },\r\n            { name: this.title },\r\n          ]}\r\n        />\r\n        <div style={{marginTop: 16}}>\r\n          <GridContainer>\r\n            <GridItem xs={12} sm={12} md={9} lg={9}>\r\n              { steps ? (\r\n                <StepForm\r\n                  title={this.title}\r\n                  steps={steps}\r\n                  methodName='POST'\r\n                  saveEndpoint={common.formatStr(config.api.project.subcontractor_save, project_id)}\r\n                  saveCallback={() => common.redirect(`/project/projects/${project_id}/subcontractors`)}\r\n                />\r\n              ) : null}\r\n            </GridItem>\r\n          </GridContainer>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withPermissions(SubcontractorForm, [\r\n  'project.add_projectsubcontractor', 'project.change_projectsubcontractor'\r\n]);\r\n","import React from 'react';\r\nimport TopBreadcrumbs from '../../components/TopBreadcrumbs';\r\nimport { withPermissions, ActionForm } from '../../components';\r\nimport { getProjectDetail, getProjectSubcontractorDetail, getProjectSubcontractorContractTotal } from '../utils';\r\nimport {\r\n  blanket_contract_form_schema,\r\n  blanket_contract_form_layout,\r\n  contract_allowance_schema,\r\n  bp_contract_item_schema,\r\n  bp_contract_item_layout,\r\n} from '../partner/schema';\r\nimport GridContainer from '../../components/Grid/GridContainer';\r\nimport GridItem from '../../components/Grid/GridItem';\r\nimport { config, common } from '../../utils';\r\n\r\nclass SubcontractorContractForm extends React.Component {\r\n  \r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      project: {},\r\n      subcontractor: {},\r\n      contract_data: {},\r\n    };\r\n    this.initialize(props);\r\n  }\r\n\r\n  initialize = (props) => {\r\n    const { project_id, subcontractor_id, contract_id } = props.match.params;\r\n    getProjectDetail(project_id).then(project => this.setState({project}));\r\n    getProjectSubcontractorDetail(project_id, subcontractor_id).then(\r\n      subcontractor => this.setState({subcontractor})\r\n    );\r\n    getProjectSubcontractorContractTotal(project_id, subcontractor_id, contract_id).then(\r\n      contract_data => this.setState({contract_data})\r\n    );\r\n  };\r\n\r\n  componentDidUpdate = () => {\r\n    const { project, subcontractor, contract_data } = this.state;\r\n    document.title = `${contract_data.contract_no} | :${subcontractor.company_name} | :${project.name}`;\r\n  };\r\n\r\n  render() {\r\n    const { project_id, subcontractor_id, contract_id } = this.props.match.params;\r\n    const { project, subcontractor, contract_data } = this.state;\r\n\r\n    return (\r\n      <div>\r\n        <TopBreadcrumbs\r\n          breadcrumbs={[\r\n            { link: '/project/projects', name: '' },\r\n            { link: `/project/projects/${project_id}`, name: project.name },\r\n            { link: `/project/projects/${project_id}/subcontractors`, name: '' },\r\n            { name: subcontractor.company_name },\r\n          ]}\r\n        />\r\n        <div style={{marginTop: 16}}>\r\n          <GridContainer>\r\n            <GridItem xs={12} sm={12} md={9} lg={9}>\r\n              <ActionForm\r\n                title={this.title}\r\n                schema={blanket_contract_form_schema}\r\n                layout={blanket_contract_form_layout}\r\n                inlines={[\r\n                  {\r\n                    name: 'allowances',\r\n                    title: '',\r\n                    schema: contract_allowance_schema,\r\n                    allowAdd: false,\r\n                    allowDelete: false,\r\n                  },\r\n                  {\r\n                    name: \"contract_items\",\r\n                    title: \"\",\r\n                    schema: bp_contract_item_schema,\r\n                    layout: bp_contract_item_layout,\r\n                    allowAdd: false,\r\n                    allowDelete: false,\r\n                  },\r\n                ]}\r\n                data={contract_data}\r\n                methodName={'POST'}\r\n                saveEndpoint={common.formatStr(\r\n                  config.api.project.subcontractor_contract_save, project_id, subcontractor_id, contract_id\r\n                )}\r\n                saveCallback={() => common.redirect(`/project/projects/${project_id}/subcontractors`)}\r\n                deleteEndpoint={common.formatStr(\r\n                  config.api.project.subcontractor_contract_detail, project_id, subcontractor_id, contract_id\r\n                )}\r\n                deleteCallback={() => common.redirect(`/project/projects/${project_id}/subcontractors`)}\r\n              />\r\n            </GridItem>\r\n          </GridContainer>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withPermissions(SubcontractorContractForm, 'project.change_projectsubcontractor');\r\n","import React from 'react';\r\nimport { InlineForm } from '../../datatable';\r\nimport { \r\n  withPermissions,\r\n  TopBreadcrumbs,\r\n  Card,\r\n  CardHeader,\r\n  CardBody,\r\n  Waiting,\r\n  CardFooter,\r\n  Toast,\r\n} from '../../components';\r\nimport {\r\n  getProjectDetail,\r\n  getProjectMemberDetial,\r\n  getDuplicatedProjectMember,\r\n  saveProjectMemberCostPercentage,\r\n} from '../utils/api';\r\nimport { common, constant } from '../../utils';\r\nimport { cost_percentage_form_schema } from './schema';\r\nimport { Button, Typography, withStyles } from '@material-ui/core';\r\n\r\nconst styles = theme => ({\r\n  button: {\r\n    margin: theme.spacing(1),\r\n  }\r\n});\r\n\r\nclass ProjectMemberDuplications extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      project: {},\r\n      member: {},\r\n      duplications: [],\r\n    };\r\n    this.initialize(props);\r\n  }\r\n\r\n  initialize = (props) => {\r\n    const { project_id, member_id } = props.match.params;\r\n    getProjectDetail(project_id).then(project => {\r\n      this.setState({project});\r\n    });\r\n    getProjectMemberDetial(project_id, member_id).then(member => {\r\n      this.setState({member});\r\n    });\r\n    getDuplicatedProjectMember(project_id, member_id).then(duplications => {\r\n      this.setState({duplications});\r\n    });\r\n  };\r\n\r\n  componentDidUpdate = () => {\r\n    const { project, member } = this.state;\r\n    document.title = `${member.full_name || ''} | ${project.name || ''} | `;\r\n  };\r\n\r\n  saveCostPercentage = () => {\r\n    if (this.__clean) {\r\n      const { project_id, member_id } = this.props.match.params;\r\n      const data = this.__clean();\r\n      saveProjectMemberCostPercentage(project_id, member_id, data).then(() => {\r\n        common.redirect(`/project/projects/${project_id}/members/${member_id}`);\r\n        Toast.success(constant.SUCCESS.SAVED);\r\n      }).catch(errors => {\r\n        Toast.error(errors.detail);\r\n      });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { project_id, member_id } = this.props.match.params;\r\n    const { classes } = this.props;\r\n    const { project, member, duplications } = this.state;\r\n\r\n    return (\r\n      <div>\r\n        <TopBreadcrumbs\r\n          breadcrumbs={[\r\n            { link: `/project/projects`, name: '' },\r\n            { link: `/project/projects/${project_id}/`, name: project.name },\r\n            { link: `/project/projects/${project_id}/members`, name: '' },\r\n            { link: `/project/projects/${project_id}/members/${member_id}`, name: member.full_name },\r\n            { name: '' },\r\n          ]}\r\n        />\r\n        <Card>\r\n          <CardHeader>\r\n            {`${member.full_name}`}\r\n          </CardHeader>\r\n          <CardBody>\r\n            {duplications && duplications.length > 0 ? (\r\n              <InlineForm\r\n                schema={cost_percentage_form_schema}\r\n                allowAdd={false}\r\n                allowDelete={false}\r\n                data={duplications}\r\n                innerRef={frm => this.__clean = frm && frm.clean}\r\n              />\r\n            ) : <Waiting/>}\r\n          </CardBody>\r\n          <CardFooter>\r\n            <Typography style={{flex: 1}} />\r\n            <Button\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              className={classes.button}\r\n              onClick={this.saveCostPercentage}\r\n            >\r\n              \r\n            </Button>\r\n          </CardFooter>\r\n        </Card>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withPermissions(\r\n  withStyles(styles)(ProjectMemberDuplications),\r\n  'project.view_projectmember',\r\n);\r\n","import React from 'react';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport { EnhancedTable } from '../../datatable/index';\r\nimport TopBreadcrumbs from '../../components/TopBreadcrumbs';\r\nimport DataSource from '../../components/DataSource';\r\nimport { project_blanket_contract_list_schema } from './schema';\r\nimport { config, common } from '../../utils';\r\nimport { getProjectDetail } from '../utils/api';\r\nimport { withPermissions } from '../../components';\r\nimport { Paper } from '@material-ui/core';\r\nimport { paperSpacing } from '../../assets/jss/material-dashboard-react';\r\n\r\nclass ProjectContractList extends React.Component {\r\n  title = ''\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      project: {},\r\n    };\r\n    this.initialize(props);\r\n  }\r\n\r\n  initialize = (props) => {\r\n    getProjectDetail(props.match.params.project_id).then(project => {\r\n      this.setState({project});\r\n    });\r\n  };\r\n\r\n  componentDidUpdate = () => {\r\n    const { project } = this.state;\r\n    document.title = `${this.title} | ${project.name || ''} | `;\r\n  };\r\n\r\n  render() {\r\n    const { project_id } = this.props.match.params;\r\n    const { project } = this.state;\r\n\r\n    return (\r\n      <div>\r\n        <TopBreadcrumbs\r\n          breadcrumbs={[\r\n            { link: '/project/projects', name: '' },\r\n            { link: `/project/projects/${project_id}`, name: project.name },\r\n            { name: this.title },\r\n          ]}\r\n        />\r\n        <Paper style={paperSpacing}>\r\n          <DataSource\r\n            endpoint={common.formatStr(config.api.project.blanket_contracts, project_id)}\r\n            render={(initData) => (\r\n              <EnhancedTable\r\n                title={`${project.name}${this.title}`}\r\n                showTitle={true}\r\n                tableHead={project_blanket_contract_list_schema}\r\n                tableData={initData}\r\n                rowsPerPage={config.rowsPerPage}\r\n                tableActions={[\r\n                  {\r\n                    'tooltip': '',\r\n                    'icon': <AddIcon color=\"secondary\"/>,\r\n                    'handleClick': () => (common.redirect(`/project/projects/${project_id}/contracts/add`)),\r\n                  },\r\n                ]}\r\n                pushpinTop={common.getHeaderHeight()}\r\n              />\r\n            )}\r\n          />\r\n        </Paper>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withPermissions(ProjectContractList, 'project.view_projectcontract');\r\n","import React from 'react';\r\nimport TopBreadcrumbs from '../../components/TopBreadcrumbs';\r\nimport GridContainer from '../../components/Grid/GridContainer';\r\nimport GridItem from '../../components/Grid/GridItem';\r\nimport {\r\n  contract_allowance_schema,\r\n  bp_contract_item_schema,\r\n  bp_contract_item_layout,\r\n} from '../partner/schema';\r\nimport ActionForm from '../../components/ActionForm';\r\nimport { config } from '../../utils/config';\r\nimport { common } from '../../utils/common';\r\nimport {\r\n  getProjectDetail,\r\n  getProjectContractTotal,\r\n} from '../utils/api';\r\nimport { withPermissions } from '../../components';\r\nimport {\r\n  default_blanket_contract_data,\r\n  blanket_contract_form_schema,\r\n} from './schema';\r\nimport { onChangeProjectBlanketContract } from '../utils';\r\n\r\nclass ProjectContractForm extends React.Component {\r\n  title = '';\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      project: {},\r\n      contract_total: default_blanket_contract_data,\r\n    };\r\n    this.initialize(props);\r\n  }\r\n\r\n  initialize = (props) => {\r\n    const { project_id, contract_id } = props.match.params;\r\n    getProjectDetail(project_id).then(project => {\r\n      this.setState({project});\r\n    });\r\n    if (contract_id) {\r\n      getProjectContractTotal(project_id, contract_id).then(\r\n        contract_total => this.setState({contract_total})\r\n      );\r\n    }\r\n  };\r\n\r\n  componentDidUpdate = () => {\r\n    const { contract_id } = this.props.match.params;\r\n    this.title = contract_id ? '' : ''\r\n    const { project } = this.state;\r\n    document.title = `${this.title} | ${project.name || ''} | `;\r\n  };\r\n\r\n  render() {\r\n    const { project_id, contract_id } = this.props.match.params;\r\n    const { project, contract_total } = this.state;\r\n    const breadcrumbs = [\r\n      { link: '/project/projects', name: '' },\r\n      { link: `/project/projects/${project_id}/`, name: project.name },\r\n      { link: `/project/projects/${project_id}/contracts/`, name: '' },\r\n    ];\r\n    if (contract_id) {\r\n      breadcrumbs.push({ name: \"\" });\r\n    } else {\r\n      breadcrumbs.push({ name: \"\" });\r\n    }\r\n\r\n    return (\r\n      <div>\r\n        <TopBreadcrumbs\r\n          breadcrumbs={breadcrumbs}\r\n        />\r\n        <div style={{marginTop: 16}}>\r\n          <GridContainer>\r\n            <GridItem xs={12} sm={12} md={9} lg={9}>\r\n              <ActionForm\r\n                title={this.title}\r\n                schema={blanket_contract_form_schema}\r\n                onChanges={[onChangeProjectBlanketContract]}\r\n                inlines={[\r\n                  {\r\n                    name: 'allowances',\r\n                    title: '',\r\n                    schema: contract_allowance_schema,\r\n                    allowAdd: false,\r\n                    allowDelete: false,\r\n                  },\r\n                  {\r\n                    name: \"contract_items\",\r\n                    title: \"\",\r\n                    schema: bp_contract_item_schema,\r\n                    layout: bp_contract_item_layout,\r\n                    allowAdd: false,\r\n                    allowDelete: false,\r\n                  },\r\n                ]}\r\n                data={contract_total}\r\n                methodName={'POST'}\r\n                saveEndpoint={\r\n                  contract_id ? common.formatStr(\r\n                    config.api.project.blanket_contract_save, project_id, contract_id\r\n                  ) : common.formatStr(\r\n                    config.api.project.blanket_contract_add, project_id\r\n                  )\r\n                }\r\n                saveCallback={() => common.redirect(`/project/projects/${project_id}/contracts`)}\r\n                deleteEndpoint={contract_id ? common.formatStr(config.api.project.blanket_contract_detail, project_id, contract_id) : null}\r\n                deleteCallback={() => common.redirect(`/project/projects/${project_id}/contracts`)}\r\n              />\r\n            </GridItem>\r\n          </GridContainer>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withPermissions(ProjectContractForm, 'project.change_projectcontract');\r\n","import { common } from \"../../utils\"\r\n\r\nexport const company_monthly_turnover_option = {\r\n  chart: {\r\n    type: 'bar',\r\n  },\r\n  plotOptions: {\r\n    bar: {\r\n      horizontal: false,\r\n      columnWidth: '55%',\r\n      endingShape: 'rounded'\r\n    },\r\n  },\r\n  dataLabels: {\r\n    enabled: false\r\n  },\r\n  stroke: {\r\n    show: true,\r\n    width: 2,\r\n    colors: ['transparent']\r\n  },\r\n  xaxis: {\r\n    categories: null,\r\n  },\r\n  yaxis: {\r\n    title: {\r\n      text: '()'\r\n    },\r\n    labels: {\r\n      formatter: (val) => Math.round(val / 1000000)\r\n    }\r\n  },\r\n  fill: {\r\n    opacity: 1\r\n  },\r\n  tooltip: {\r\n    y: {\r\n      formatter: function (val) {\r\n        return `${common.toNumComma(val)} `\r\n      }\r\n    }\r\n  },\r\n};\r\n\r\nexport const clients_monthly_turnover_option = {\r\n  chart: {\r\n    height: 350,\r\n    type: 'line',\r\n    zoom: {\r\n      enabled: false\r\n    },\r\n    animations: {\r\n      enabled: false\r\n    }\r\n  },\r\n  stroke: {\r\n    width: [5,5,4],\r\n    curve: 'straight'\r\n  },\r\n  labels: null,\r\n  // title: {\r\n  //   text: ''\r\n  // },\r\n  xaxis: {\r\n  },\r\n  yaxis: {\r\n    title: {\r\n      text: '()'\r\n    },\r\n    labels: {\r\n      formatter: (val) => Math.round(val / 1000000)\r\n    }\r\n  },\r\n  tooltip: {\r\n    y: {\r\n      formatter: function (val) {\r\n        return `${common.toNumComma(val)} `\r\n      }\r\n    }\r\n  },\r\n};\r\n","import React from 'react';\r\nimport ApexCharts from 'react-apexcharts'\r\nimport { withStyles } from '@material-ui/core';\r\nimport {\r\n  getCompanyMonthlyTurnover,\r\n  getClientsMonthlyTurnover,\r\n} from '../utils/api';\r\nimport {\r\n  company_monthly_turnover_option,\r\n  clients_monthly_turnover_option,\r\n} from './chart_options';\r\nimport GridContainer from '../../components/Grid/GridContainer';\r\nimport GridItem from '../../components/Grid/GridItem';\r\nimport { Card, CardHeader, CardBody, withPermissions } from '../../components';\r\n\r\nconst styles = theme => ({\r\n  charts: {\r\n    '& .apexcharts-menu-item': {\r\n      color: 'black',\r\n    },\r\n    '& .apexcharts-tooltip': {\r\n      background: '#f3f3f3',\r\n      color: 'black',\r\n    }\r\n  }\r\n})\r\n\r\nclass TurnoverDashBoard extends React.Component {\r\n  title = ''\r\n\r\n  constructor(props){\r\n    super(props);\r\n\r\n    this.state = {\r\n      company_turnover_monthly: null,\r\n      clients_turnover_monthly: null,\r\n    };\r\n    this.initialize();\r\n  }\r\n\r\n  componentDidMount = () => {\r\n    document.title = this.title;\r\n  };\r\n\r\n  initialize = () => {\r\n    getCompanyMonthlyTurnover().then(data => {\r\n      company_monthly_turnover_option.xaxis.categories = data.categories;\r\n      this.setState({ company_turnover_monthly: data.series });\r\n    });\r\n    getClientsMonthlyTurnover().then(data => {\r\n      clients_monthly_turnover_option.labels = data.categories;\r\n      this.setState({ clients_turnover_monthly: data.series });\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { classes } = this.props;\r\n    const { company_turnover_monthly, clients_turnover_monthly } = this.state;\r\n\r\n    return (\r\n      <div>\r\n        <GridContainer>\r\n          <GridItem xs={12} sm={12} md={12} lg={6}>\r\n            <Card chart>\r\n              <CardHeader color=\"plain\">\r\n                {company_turnover_monthly ? (\r\n                  <ApexCharts\r\n                    className={classes.charts}\r\n                    options={company_monthly_turnover_option}\r\n                    series={company_turnover_monthly}\r\n                    type=\"bar\"\r\n                    height={300}\r\n                  />\r\n                ) : null}\r\n              </CardHeader>\r\n              <CardBody>\r\n                \r\n              </CardBody>\r\n            </Card>\r\n          </GridItem>\r\n          <GridItem xs={12} sm={12} md={12} lg={6}>\r\n            <Card chart>\r\n              <CardHeader color=\"plain\">\r\n                {clients_turnover_monthly ? (\r\n                  <ApexCharts\r\n                    className={classes.charts}\r\n                    options={clients_monthly_turnover_option}\r\n                    series={clients_turnover_monthly}\r\n                    type=\"line\"\r\n                    height={300}\r\n                  />\r\n                ) : null}\r\n              </CardHeader>\r\n              <CardBody>\r\n                \r\n              </CardBody>\r\n            </Card>\r\n          </GridItem>\r\n        </GridContainer>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withPermissions(withStyles(styles)(TurnoverDashBoard), 'turnover.view_turnover');\r\n","import { choice_simple_member_type } from \"../../utils\";\r\n\r\nexport const partner_company_monthly_cost_list_schema = [\r\n  {\r\n    \"name\": \"ym\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"link\": \"/turnover/partner/companies/cost/year/%(year)s/month/%(month)s\",\r\n  },\r\n  {\r\n    \"name\": \"amount_without_tax\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"()\",\r\n    \"aggregate\": \"sum\",\r\n  },\r\n  {\r\n    \"name\": \"amount\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"()\",\r\n    \"aggregate\": \"sum\",\r\n  },\r\n];\r\n\r\nexport const partner_company_cost_by_month_list_schema = [\r\n  {\r\n    \"name\": \"company_name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"sortable\": true,\r\n  },\r\n  {\r\n    \"name\": \"amount_without_tax\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"()\",\r\n    \"aggregate\": \"sum\",\r\n    \"sortable\": true,\r\n  },\r\n  {\r\n    \"name\": \"amount\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"()\",\r\n    \"aggregate\": \"sum\",\r\n    \"sortable\": true,\r\n  },\r\n];\r\n\r\nexport const partner_individual_monthly_cost_list_schema = [\r\n  {\r\n    \"name\": \"ym\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"link\": \"/turnover/partner/individual/cost/year/%(year)s/month/%(month)s\",\r\n  },\r\n  {\r\n    \"name\": \"amount_without_tax\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"()\",\r\n    \"aggregate\": \"sum\",\r\n  },\r\n  {\r\n    \"name\": \"amount\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"()\",\r\n    \"aggregate\": \"sum\",\r\n  },\r\n];\r\n\r\nexport const partner_individual_cost_by_month_list_schema = [\r\n  {\r\n    \"name\": \"full_name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"sortable\": true,\r\n  },\r\n  {\r\n    \"name\": \"amount_without_tax\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"()\",\r\n    \"aggregate\": \"sum\",\r\n    \"sortable\": true,\r\n  },\r\n  {\r\n    \"name\": \"amount\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"()\",\r\n    \"aggregate\": \"sum\",\r\n    \"sortable\": true,\r\n  },\r\n];\r\n\r\nexport const member_monthly_turnover_list_schema = [\r\n  {\r\n    \"name\": \"ym\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"link\": \"/turnover/members/year/%(year)s/month/%(month)s\",\r\n  },\r\n  {\r\n    \"name\": \"employee_cost\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"\",\r\n    \"aggregate\": \"sum\",\r\n  },\r\n  {\r\n    \"name\": \"employee_amount\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"\",\r\n    \"aggregate\": \"sum\",\r\n  },\r\n  {\r\n    \"name\": \"self_employee_cost\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"()\",\r\n    \"aggregate\": \"sum\",\r\n  },\r\n  {\r\n    \"name\": \"self_employee_amount\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"()\",\r\n    \"aggregate\": \"sum\",\r\n  },\r\n  {\r\n    \"name\": \"partner_cost\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"BP\",\r\n    \"aggregate\": \"sum\",\r\n  },\r\n  {\r\n    \"name\": \"partner_amount\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"BP\",\r\n    \"aggregate\": \"sum\",\r\n  },\r\n];\r\n\r\nexport const member_turnover_by_month_list_schema = [\r\n  {\r\n    \"name\": \"full_name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    'searchable': true,\r\n    \"sortable\": true,\r\n  },\r\n  {\r\n    \"name\": \"member_type\",\r\n    \"type\": \"choice\",\r\n    \"label\": \"\",\r\n    'searchable': true,\r\n    \"sortable\": true,\r\n    \"choices\": choice_simple_member_type,\r\n    \"native\": true,\r\n  },\r\n  {\r\n    \"name\": \"partner_company__name\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    'searchable': true,\r\n    \"sortable\": true,\r\n  },\r\n  {\r\n    \"name\": \"basic_cost\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"\",\r\n    \"aggregate\": \"sum\",\r\n    \"sortable\": true,\r\n  },\r\n  {\r\n    \"name\": \"commuting_cost\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"\",\r\n    \"aggregate\": \"sum\",\r\n    \"sortable\": true,\r\n  },\r\n  {\r\n    \"name\": \"member_cost\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"()\",\r\n    \"aggregate\": \"sum\",\r\n    \"sortable\": true,\r\n  },\r\n  {\r\n    \"name\": \"member_amount\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"()\",\r\n    \"aggregate\": \"sum\",\r\n    \"sortable\": true,\r\n  },\r\n];\r\n\r\nexport const member_fiscal_year_turnover_list_schema = [\r\n  {\r\n    \"name\": \"fiscal_year\",\r\n    \"type\": \"string\",\r\n    \"label\": \"\",\r\n    \"link\": \"/turnover/members/fiscal-year/%(year)s/\",\r\n  },\r\n  {\r\n    \"name\": \"employee_cost\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"\",\r\n    \"aggregate\": \"sum\",\r\n  },\r\n  {\r\n    \"name\": \"employee_amount\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"\",\r\n    \"aggregate\": \"sum\",\r\n  },\r\n  {\r\n    \"name\": \"self_employee_cost\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"()\",\r\n    \"aggregate\": \"sum\",\r\n  },\r\n  {\r\n    \"name\": \"self_employee_amount\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"()\",\r\n    \"aggregate\": \"sum\",\r\n  },\r\n  {\r\n    \"name\": \"partner_cost\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"BP\",\r\n    \"aggregate\": \"sum\",\r\n  },\r\n  {\r\n    \"name\": \"partner_amount\",\r\n    \"type\": \"integer\",\r\n    \"label\": \"BP\",\r\n    \"aggregate\": \"sum\",\r\n  },\r\n];\r\n","import React from 'react';\r\nimport { Paper } from '@material-ui/core';\r\nimport { DataSource } from '../../components';\r\nimport { EnhancedTable } from '../../datatable';\r\nimport { config, common } from '../../utils';\r\nimport {\r\n  member_monthly_turnover_list_schema,\r\n  member_fiscal_year_turnover_list_schema,\r\n} from './schema';\r\nimport { paperSpacing } from '../../assets/jss/material-dashboard-react';\r\n\r\nclass MembersMonthlyTurnover extends React.Component {\r\n  title = ''\r\n\r\n  componentDidMount = () => {\r\n    document.title = this.title;\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Paper style={paperSpacing}>\r\n          <DataSource\r\n            endpoint={ config.api.turnover.members_monthly }\r\n            render={ (initData) => (\r\n              <EnhancedTable\r\n                title=''\r\n                showTitle={true}\r\n                tableHead={member_monthly_turnover_list_schema}\r\n                tableData={initData}\r\n                showAggregate={true}\r\n                pushpinTop={common.getHeaderHeight()}\r\n                allowCsv={true}\r\n                tableStyles={{ minWidth: 800 }}\r\n              />\r\n            )}\r\n          />\r\n        </Paper>\r\n        <Paper style={paperSpacing}>\r\n          <DataSource\r\n            endpoint={ config.api.turnover.members_fiscal_year }\r\n            render={ (initData) => (\r\n              <EnhancedTable\r\n                title=''\r\n                showTitle={true}\r\n                tableHead={member_fiscal_year_turnover_list_schema}\r\n                tableData={initData}\r\n                showAggregate={true}\r\n                pushpinTop={common.getHeaderHeight()}\r\n                allowCsv={true}\r\n                tableStyles={{ minWidth: 700 }}\r\n              />\r\n            )}\r\n          />\r\n        </Paper>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MembersMonthlyTurnover;\r\n","import React from 'react';\r\nimport { Paper } from '@material-ui/core';\r\nimport {\r\n  DataSource,\r\n  TopBreadcrumbs,\r\n} from '../../components';\r\nimport { EnhancedTable } from '../../datatable';\r\nimport { config, common } from '../../utils';\r\nimport { member_turnover_by_month_list_schema } from './schema';\r\nimport { paperSpacing } from '../../assets/jss/material-dashboard-react';\r\n\r\nclass MembersTurnoverByMonth extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      reload: false,\r\n      year: props.match.params.year,\r\n      month: props.match.params.month,\r\n    };\r\n}\r\n\r\n  componentDidMount = () => {\r\n    const { year, month } = this.state;\r\n    document.title = `${year}${month}`;\r\n  };\r\n\r\n  render() {\r\n    const { year, month, reload } = this.state;\r\n\r\n    return (\r\n      <div>\r\n        <TopBreadcrumbs\r\n          breadcrumbs={[\r\n            { link: '/turnover/members/monthly', name: '' },\r\n            { name: `${year}${month}` },\r\n          ]}\r\n        />\r\n        <Paper style={paperSpacing}>\r\n          <DataSource\r\n            reload={reload}\r\n            endpoint={ common.formatStr(config.api.turnover.members_by_month, year, month) }\r\n            render={ (initData) => (\r\n              <EnhancedTable\r\n                title={`${year}${month}`}\r\n                showTitle={true}\r\n                tableHead={member_turnover_by_month_list_schema}\r\n                tableData={initData}\r\n                showAggregate={true}\r\n                pushpinTop={common.getHeaderHeight()}\r\n                allowCsv={true}\r\n                tableStyles={{ minWidth: 800 }}\r\n              />\r\n            )}\r\n          />\r\n        </Paper>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MembersTurnoverByMonth;\r\n","import React from 'react';\r\nimport { Paper } from '@material-ui/core';\r\nimport {\r\n  DataSource,\r\n  TopBreadcrumbs,\r\n} from '../../components';\r\nimport { EnhancedTable } from '../../datatable';\r\nimport { config, common } from '../../utils';\r\nimport { member_turnover_by_month_list_schema } from './schema';\r\nimport { paperSpacing } from '../../assets/jss/material-dashboard-react';\r\n\r\nclass MembersTurnoverByFiscalYear extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      reload: false,\r\n      year: props.match.params.year,\r\n    };\r\n}\r\n\r\n  componentDidMount = () => {\r\n    const { year } = this.state;\r\n    document.title = `${year}`;\r\n  };\r\n\r\n  render() {\r\n    const { year, reload } = this.state;\r\n\r\n    return (\r\n      <div>\r\n        <TopBreadcrumbs\r\n          breadcrumbs={[\r\n            { link: '/turnover/members/monthly', name: '' },\r\n            { name: `${year}` },\r\n          ]}\r\n        />\r\n        <Paper style={paperSpacing}>\r\n          <DataSource\r\n            reload={reload}\r\n            endpoint={ common.formatStr(config.api.turnover.members_by_fiscal_year, year) }\r\n            render={ (initData) => (\r\n              <EnhancedTable\r\n                title={`${year}`}\r\n                showTitle={true}\r\n                tableHead={member_turnover_by_month_list_schema}\r\n                tableData={initData}\r\n                showAggregate={true}\r\n                pushpinTop={common.getHeaderHeight()}\r\n                allowCsv={true}\r\n                tableStyles={{ minWidth: 750 }}\r\n              />\r\n            )}\r\n          />\r\n        </Paper>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MembersTurnoverByFiscalYear;\r\n","import React from 'react';\r\n\r\nclass Home extends React.Component {\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <iframe\r\n          title='wt'\r\n          width=\"610\"\r\n          height=\"343\"\r\n          src=\"https://www.youtube.com/embed/_R0Nmf3mRh4\"\r\n          frameBorder=\"0\"\r\n          allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\"\r\n          allowFullScreen\r\n        >\r\n        </iframe>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Home;\r\n","import React from 'react';\r\nimport { Switch, Route } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport {\r\n  List,\r\n  Divider,\r\n} from '@material-ui/core';\r\nimport {\r\n  HomeListItems,\r\n  MemberListItems,\r\n  ProjectListItems,\r\n  TurnoverListItems,\r\n  PartnerListItems,\r\n  ContractListItems,\r\n  SettingListItems,\r\n} from './SideMenu';\r\nimport MainFrame from '../containers/MainFrame';\r\nimport {\r\n  HttpNotFound, HasPerm,\r\n} from '../components';\r\nimport {\r\n  MemberDashboard,\r\n  MemberList,\r\n  MemberDetail,\r\n  SalespersonList,\r\n  ReleaseList,\r\n  ExpenseMonths,\r\n  ExpenseByMonthList,\r\n  ExpenseByObjectList,\r\n} from '../pages/member';\r\nimport {\r\n  ClientCompanyList,\r\n  ClientCompanyForm,\r\n  ClientCompanyDetail,\r\n} from '../pages/client';\r\nimport {\r\n  ContractDashboard,\r\n  ContractMemberAdd,\r\n  ContractMemberList,\r\n  ContractMemberDetail,\r\n  ContractAdd,\r\n  ContractDetail,\r\n  ContractEmployment,\r\n  ContractIncumbency,\r\n  ContractIncome,\r\n  ContractAutoUpdateList,\r\n  ContractExpireList,\r\n  CommutationList,\r\n  SalaryUpload,\r\n  PaidVacationList,\r\n} from '../pages/contract';\r\nimport {\r\n  OrganizationList,\r\n  OrganizationForm,\r\n  OrganizationDetail,\r\n  OrgMemberList,\r\n  OrgPositionList,\r\n  OrgAttendanceByMonth,\r\n} from '../pages/organization';\r\nimport {\r\n  PartnerCompanyList,\r\n  PartnerCompanyForm,\r\n  PartnerCompanyDetail,\r\n  PartnerMemberAdd,\r\n  PartnerMemberList,\r\n  PartnerMemberDetail,\r\n  PartnerContractForm,\r\n  PartnerContractDetail,\r\n  PartnerOrderDetail,\r\n  PartnerOrderList,\r\n  PartnerMonthlyOrders,\r\n  PartnerCompanyBankAccounts,\r\n  IndividualMembers,\r\n  IndividualMember,\r\n  IndividualMemberAdd,\r\n  PartnerCompanyPaymentNotice,\r\n  IndividualPaymentNotice,\r\n  PartnerMonthlyRequests,\r\n  PartnerRequestList,\r\n} from '../pages/partner';\r\nimport {\r\n  ProjectList,\r\n  ProjectAdd,\r\n  ProjectDetial,\r\n  ProjectMemberAdd,\r\n  ProjectMemberDetail,\r\n  ProjectMemberList,\r\n  ProjectMemberContractForm,\r\n  ProjectOrderAdd,\r\n  ProjectOrderDetail,\r\n  ProjectAttendance,\r\n  ProjectRequest,\r\n  SubcontractorList,\r\n  SubcontractorForm,\r\n  SubcontractorContractForm,\r\n  ProjectMemberDuplications,\r\n  ProjectContractList,\r\n  ProjectContractForm,\r\n} from '../pages/project';\r\nimport {\r\n  MyPage,\r\n} from '../containers';\r\nimport styles from '../assets/jss/views/mainStyle';\r\nimport { config } from '../utils';\r\nimport {\r\n  TurnoverDashBoard,\r\n  MembersMonthlyTurnover,\r\n  MembersTurnoverByMonth,\r\n  MembersTurnoverByFiscalYear,\r\n} from '../pages/turnover';\r\nimport Home from '../pages/home';\r\n\r\nclass MainLayout extends React.Component {\r\n  render() {\r\n    const { user } = this.props;\r\n\r\n    return (\r\n      <MainFrame\r\n        sideMenu={\r\n          <React.Fragment>\r\n            <List><HomeListItems /></List>\r\n            <HasPerm permission={['member.view_dashboard', 'member.view_member', 'member.view_salesperson', 'org.view_organization']}>\r\n              <Divider />\r\n              <List><MemberListItems /></List>\r\n            </HasPerm>\r\n            <HasPerm permission={['partner.view_partnercompany', 'partner.view_partnermember', 'partner.view_partnerorder']}>\r\n              <Divider />\r\n              <List><PartnerListItems /></List>\r\n            </HasPerm>\r\n            <HasPerm permission={['project.view_project', 'client.view_clientcompany']}>\r\n              <Divider />\r\n              <List><ProjectListItems /></List>\r\n            </HasPerm>\r\n            <HasPerm permission={['contract.view_contract', 'contract.view_member']}>\r\n              <Divider />\r\n              <List><ContractListItems /></List>\r\n            </HasPerm>\r\n            <HasPerm permission={['turnover.view_turnover']}>\r\n              <Divider />\r\n              <List><TurnoverListItems /></List>\r\n            </HasPerm>\r\n            {user.is_staff ? (\r\n              <>\r\n                <Divider />\r\n                <List><SettingListItems /></List>\r\n              </>\r\n            ) : null}\r\n          </React.Fragment>\r\n        }\r\n        appName={config.systemName}\r\n      >\r\n        <Switch>\r\n          <Route exact path='/' component={Home} />\r\n          <Route path='/account' component={AccountRouter} />\r\n          <Route path='/contract' component={ContractRouter} />\r\n          <Route path='/member' component={MemberRouter} />\r\n          <Route path='/partner' component={PartnerRouter} />\r\n          <Route path='/organization' component={OrganizationRouter} />\r\n          <Route path='/client' component={ClientRouter} />\r\n          <Route path='/project' component={ProjectRouter} />\r\n          <Route path='/turnover' component={TurnoverRouter} />\r\n          <Route component={HttpNotFound} />\r\n        </Switch>\r\n      </MainFrame>\r\n    );\r\n  };\r\n}\r\n\r\nconst AccountRouter = () => (\r\n  <Switch>\r\n    <Route path='/account/mypage' component={MyPage} />\r\n    <Route component={HttpNotFound} />\r\n  </Switch>\r\n);\r\n\r\nconst MemberRouter = () => (\r\n  <Switch>\r\n    <Route exact path='/member' component={MemberDashboard} />\r\n    <Route exact path='/member/members/' component={MemberList} />\r\n    <Route exact path='/member/members/:member_id/ct/:content_type_id' component={MemberDetail} />\r\n    <Route exact path='/member/salesperson/' component={SalespersonList} />\r\n    <Route exact path='/member/releases/' component={ReleaseList} />\r\n    <Route exact path='/member/releases/:year/:month/' component={ReleaseList} />\r\n    <Route exact path='/member/expenses' component={ExpenseMonths} />\r\n    <Route exact path='/member/expenses/:year/:month/' component={ExpenseByMonthList} />\r\n    <Route exact path='/member/expenses/:year/:month/ct/:content_type_id/pk/:member_id' component={ExpenseByObjectList} />\r\n    <Route component={HttpNotFound} />\r\n  </Switch>\r\n);\r\n\r\nconst PartnerRouter = () => (\r\n  <Switch>\r\n    <Route exact path='/partner/companies/' component={PartnerCompanyList} />\r\n    <Route exact path='/partner/companies/add' component={PartnerCompanyForm} />\r\n    <Route exact path='/partner/companies/:company_id/' component={PartnerCompanyDetail} />\r\n    <Route exact path='/partner/companies/:company_id/members' component={PartnerMemberList} />\r\n    <Route exact path='/partner/companies/:company_id/members/add' component={PartnerMemberAdd} />\r\n    <Route exact path='/partner/companies/:company_id/members/:member_id' component={PartnerMemberDetail} />\r\n    <Route exact path='/partner/companies/:company_id/members/:member_id/contracts/add' component={PartnerContractForm} />\r\n    <Route exact path='/partner/companies/:company_id/members/:member_id/contracts/:contract_id/form' component={PartnerContractForm} />\r\n    <Route exact path='/partner/companies/:company_id/members/:member_id/contracts/:contract_id/detail' component={PartnerContractDetail} />\r\n    <Route exact path='/partner/companies/:company_id/members/:member_id/orders/:order_id' component={PartnerOrderDetail} />\r\n    <Route exact path='/partner/companies/:company_id/orders/:order_id' component={PartnerOrderDetail} />\r\n    <Route exact path='/partner/companies/:company_id/bank-accounts/' component={PartnerCompanyBankAccounts} />\r\n    <Route exact path='/partner/companies/:company_id/payment-notice/:year/:month/divisions/:org_id' component={PartnerCompanyPaymentNotice} />\r\n    <Route exact path='/partner/individual/' component={IndividualMembers} />\r\n    <Route exact path='/partner/individual/add' component={IndividualMemberAdd} />\r\n    <Route exact path='/partner/individual/:member_id/contracts/add' component={PartnerContractForm} />\r\n    <Route exact path='/partner/individual/:member_id/contracts/:contract_id/detail' component={PartnerContractDetail} />\r\n    <Route exact path='/partner/individual/:member_id/contracts/:contract_id/form' component={PartnerContractForm} />\r\n    <Route exact path='/partner/individual/:member_id' component={IndividualMember} />\r\n    <Route exact path='/partner/individual/:member_id/payment-notice/:year/:month/divisions/:org_id' component={IndividualPaymentNotice} />\r\n    <Route exact path='/partner/monthly-orders' component={PartnerMonthlyOrders} />\r\n    <Route exact path='/partner/partner-requests' component={PartnerMonthlyRequests} />\r\n    <Route exact path='/partner/orders-status/year/:year/month/:month' component={PartnerOrderList} />\r\n    <Route exact path='/partner/requests/year/:year/month/:month' component={PartnerRequestList} />\r\n    <Route component={HttpNotFound} />\r\n  </Switch>\r\n);\r\n\r\nconst ContractRouter = () => (\r\n  <Switch>\r\n    <Route exact path='/contract' component={ContractDashboard} />\r\n    <Route exact path='/contract/members/add' component={ContractMemberAdd} />\r\n    <Route exact path='/contract/members' component={ContractMemberList} />\r\n    <Route exact path='/contract/members/:member_id/' component={ContractMemberDetail} />\r\n    <Route exact path='/contract/members/:member_id/contracts/add' component={ContractAdd} />\r\n    <Route exact path='/contract/members/:member_id/contracts/:contract_id' component={ContractDetail} />\r\n    <Route exact path='/contract/members/:member_id/contracts/:contract_id/employment' component={ContractEmployment} />\r\n    <Route exact path='/contract/members/:member_id/contracts/:contract_id/incumbency' component={ContractIncumbency} />\r\n    <Route exact path='/contract/members/:member_id/contracts/:contract_id/income' component={ContractIncome} />\r\n    <Route exact path='/contract/contracts/auto-update-list' component={ContractAutoUpdateList} />\r\n    <Route exact path='/contract/contracts/expire-list' component={ContractExpireList} />\r\n    <Route exact path='/contract/commutations' component={CommutationList} />\r\n    <Route exact path='/contract/commutations/year/:year/month/:month' component={CommutationList} />\r\n    <Route exact path='/contract/members/salary/upload' component={SalaryUpload} />\r\n    <Route exact path='/contract/paid-vacations' component={PaidVacationList} />\r\n    <Route component={HttpNotFound} />\r\n  </Switch>\r\n);\r\n\r\nconst OrganizationRouter = () => (\r\n  <Switch>\r\n    <Route exact path='/organization' component={OrganizationList} />\r\n    <Route exact path='/organization/add' component={OrganizationForm} />\r\n    <Route exact path='/organization/:org_id/' component={OrganizationDetail} />\r\n    <Route exact path='/organization/:org_id/edit/' component={OrganizationForm} />\r\n    <Route exact path='/organization/:org_id/members/' component={OrgMemberList} />\r\n    <Route exact path='/organization/:org_id/positions/' component={OrgPositionList} />\r\n    <Route exact path='/organization/:org_id/attendances/:year/:month/' component={OrgAttendanceByMonth} />\r\n    <Route component={HttpNotFound} />\r\n  </Switch>\r\n);\r\n\r\nconst ClientRouter = () => (\r\n  <Switch>\r\n    <Route exact path='/client/companies' component={ClientCompanyList} />\r\n    <Route exact path='/client/companies/add' component={ClientCompanyForm} />\r\n    <Route exact path='/client/companies/:company_id' component={ClientCompanyDetail} />\r\n    <Route component={HttpNotFound} />\r\n  </Switch>\r\n);\r\n\r\nconst ProjectRouter = () => (\r\n  <Switch>\r\n    <Route exact path='/project/projects' component={ProjectList} />\r\n    <Route exact path='/project/projects/add' component={ProjectAdd} />\r\n    <Route exact path='/project/projects/:project_id' component={ProjectDetial} />\r\n    <Route exact path='/project/projects/:project_id/members' component={ProjectMemberList} />\r\n    <Route exact path='/project/projects/:project_id/members/add' component={ProjectMemberAdd} />\r\n    <Route exact path='/project/projects/:project_id/members/:member_id' component={ProjectMemberDetail} />\r\n    <Route exact path='/project/projects/:project_id/members/:member_id/contracts/add' component={ProjectMemberContractForm} />\r\n    <Route exact path='/project/projects/:project_id/members/:member_id/contracts/:contract_id/form' component={ProjectMemberContractForm} />\r\n    <Route exact path='/project/projects/:project_id/members/:member_id/duplications' component={ProjectMemberDuplications} />\r\n    <Route exact path='/project/projects/:project_id/attendance/:year/:month' component={ProjectAttendance} />\r\n    <Route exact path='/project/projects/:project_id/orders/add' component={ProjectOrderAdd} />\r\n    <Route exact path='/project/projects/:project_id/orders/:order_id' component={ProjectOrderDetail} />\r\n    <Route exact path='/project/projects/:project_id/requests/:request_id/' component={ProjectRequest} />\r\n    <Route exact path='/project/projects/:project_id/subcontractors' component={SubcontractorList} />\r\n    <Route exact path='/project/projects/:project_id/subcontractors/add' component={SubcontractorForm} />\r\n    <Route exact path='/project/projects/:project_id/subcontractors/:subcontractor_id/contracts/:contract_id' component={SubcontractorContractForm} />\r\n    <Route exact path='/project/projects/:project_id/contracts' component={ProjectContractList} />\r\n    <Route exact path='/project/projects/:project_id/contracts/add' component={ProjectContractForm} />\r\n    <Route exact path='/project/projects/:project_id/contracts/:contract_id/change' component={ProjectContractForm} />\r\n    <Route component={HttpNotFound} />\r\n  </Switch>\r\n);\r\n\r\nconst TurnoverRouter = () => (\r\n  <Switch>\r\n    <Route exact path='/turnover' component={TurnoverDashBoard} />\r\n    <Route exact path='/turnover/members/monthly' component={MembersMonthlyTurnover} />\r\n    <Route exact path='/turnover/members/year/:year/month/:month' component={MembersTurnoverByMonth} />\r\n    <Route exact path='/turnover/members/fiscal-year/:year/' component={MembersTurnoverByFiscalYear} />\r\n    <Route component={HttpNotFound} />\r\n  </Switch>\r\n)\r\n\r\nMainLayout.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  theme: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default withStyles(styles, { withTheme: true })(MainLayout);\r\n","import { connect } from 'react-redux';\r\nimport MainLayout from '../layout/MainLayout';\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return {\r\n    user: state.user.me,\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps, null)(MainLayout);\r\n","import * as firebase from \"firebase/app\";\r\nimport \"firebase/messaging\";\r\n\r\nconst initializedFirebaseApp = firebase.initializeApp({\r\n  apiKey: \"AIzaSyCjHq5yeIOheQ_EiArA5-o45ohrPLLHlv0\",\r\n  authDomain: \"sales-yang.firebaseapp.com\",\r\n  databaseURL: \"https://sales-yang.firebaseio.com\",\r\n  projectId: \"sales-yang\",\r\n  storageBucket: \"sales-yang.appspot.com\",\r\n  messagingSenderId: \"998844496606\",\r\n  appId: \"1:998844496606:web:2eb09ffe5d323cf3e6204f\",\r\n  measurementId: \"G-JZVX693SGB\"\r\n});\r\n\r\nlet messaging = null;\r\ntry {\r\n  messaging = initializedFirebaseApp.messaging();\r\n  messaging.usePublicVapidKey(\r\n    // Project Settings => Cloud Messaging => Web Push certificates\r\n    \"BCnFe70UC7nDOCXKE05alvkG91BT6JQcnjldhZncBzVDtPnZAOpnHOXfzPjefBBBFLZl5Egb4YSqRNIoIZx4weA\"\r\n  );\r\n} catch (e){\r\n  console.log(e);\r\n}\r\nexport default messaging;\r\n","import React from 'react';\r\nimport {\r\n  Paper,\r\n  FormControl,\r\n  TextField,\r\n  withStyles,\r\n  Button,\r\n  Avatar,\r\n  CssBaseline,\r\n  Typography,\r\n  CircularProgress,\r\n} from '@material-ui/core';\r\nimport VpnKeyIcon from '@material-ui/icons/VpnKey';\r\nimport { styles } from '../../components/Login';\r\nimport { Toast } from '../../components';\r\nimport { sendPasswordForgetEmail } from '../utils/api';\r\nimport { constant } from '../../utils';\r\n\r\nclass PasswordForget extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      email: '',\r\n      security_code: '',\r\n      message: null,\r\n      loading: false,\r\n    }\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  handleChange = (event) => {\r\n    const { name, value } = event.target;\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    const { email, security_code } = this.state;\r\n    if (!email || !security_code) {\r\n      Toast.error(constant.ERROR.REQUIRE_MAIL_AND_SECURITY_CODE);\r\n    } else if (security_code.length !== 4) {\r\n      Toast.error(constant.ERROR.SECURITY_CODE_LENGTH);\r\n    } else {\r\n      this.setState({ loading: true });\r\n      sendPasswordForgetEmail(email, security_code).then(() => (\r\n        Toast.success(constant.SUCCESS.EMAIL_SENT)\r\n      )).catch(errors => (\r\n        this.setState({ message: errors.detail })\r\n      )).finally(() => (\r\n        this.setState({ loading: false })\r\n      ));\r\n    }\r\n  };\r\n  \r\n  render() {\r\n    const { classes } = this.props;\r\n    const { message, loading } = this.state;\r\n\r\n    return (\r\n      <React.Fragment>\r\n        <CssBaseline />\r\n        <main className={classes.layout}>\r\n          <Paper className={classes.paper}>\r\n            <Avatar className={classes.avatar}>\r\n              <VpnKeyIcon />\r\n            </Avatar>\r\n            <Typography variant=\"subtitle1\"></Typography>\r\n            {message ?\r\n              <p className={classes.alert}>{message}</p>\r\n              : ''\r\n            }\r\n            <form className={classes.form}>\r\n              <FormControl margin=\"normal\" required fullWidth>\r\n                <TextField name=\"email\" label=\"\" onChange={this.handleChange} />\r\n              </FormControl>\r\n              <FormControl margin=\"normal\" required fullWidth>\r\n                <TextField\r\n                  name=\"security_code\"\r\n                  label=\"\"\r\n                  onChange={this.handleChange}\r\n                  type='number'\r\n                  placeholder=''\r\n                  helperText=\"\"\r\n                  onInput={(e)=>{ \r\n                    if (e.target.value !== '' && !isNaN(parseInt(e.target.value))) {\r\n                      e.target.value = Math.max(0, parseInt(e.target.value) ).toString().slice(0,4)\r\n                    }\r\n                  }}\r\n                />\r\n              </FormControl>\r\n              <Button\r\n                type=\"submit\"\r\n                fullWidth\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                className={classes.submit}\r\n                onClick={this.handleSubmit}\r\n                disabled={loading}\r\n              >\r\n                \r\n                {loading && <CircularProgress size={24} className={classes.buttonProgress} />}\r\n              </Button>\r\n            </form>\r\n          </Paper>\r\n        </main>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles)(PasswordForget);\r\n","import React from 'react';\r\nimport {\r\n  Paper,\r\n  FormControl,\r\n  TextField,\r\n  withStyles,\r\n  Button,\r\n  Avatar,\r\n  CssBaseline,\r\n  Typography,\r\n} from '@material-ui/core';\r\nimport VpnKeyIcon from '@material-ui/icons/VpnKey';\r\nimport { styles } from '../../components/Login';\r\nimport { sendPasswordReset, initPasswordReset } from '../utils/api';\r\nimport { Toast, HttpStatus } from '../../components';\r\nimport { constant, common } from '../../utils';\r\nimport { Link } from 'react-router-dom';\r\n\r\nclass PasswordReset extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      password: '',\r\n      password_confirm: '',\r\n      security_code: '',\r\n      timeout: false,\r\n      timeout_msg: null,\r\n    };\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.initialize(props);\r\n  }\r\n\r\n  initialize = (props) => {\r\n    const { user, signature } = props.match.params;\r\n    initPasswordReset(user, signature).catch(errors => (\r\n      this.setState({ timeout: true, timeout_msg: errors.detail })\r\n    ));\r\n  };\r\n\r\n  handleChange = (event) => {\r\n    const { name, value } = event.target;\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    const { user, signature } = this.props.match.params;\r\n    const { password, password_confirm, security_code } = this.state;\r\n    if (!password || !password_confirm || !security_code) {\r\n      Toast.error(constant.ERROR.REQUIRE_PASSWORD_AND_SECURITY_CODE);\r\n    } else if ( password === password_confirm ) {\r\n      sendPasswordReset(password, user, signature, security_code).then(() => {\r\n        common.redirect('/login');\r\n        Toast.success(constant.SUCCESS.PASSWORD_CONFIRM);\r\n      }).catch(errors => {\r\n        Toast.error(errors.detail);\r\n        if (errors.redirect) {\r\n          common.redirect(errors.redirect);\r\n        }\r\n      });\r\n    } else {\r\n      Toast.error(constant.ERROR.PASSWORD_CONFIRM);\r\n    }\r\n  };\r\n  \r\n  render() {\r\n    const { classes } = this.props;\r\n    const { timeout, timeout_msg } = this.state;\r\n\r\n    return (\r\n      <React.Fragment>\r\n        <CssBaseline />\r\n        { timeout === false ? (\r\n          <main className={classes.layout}>\r\n            <Paper className={classes.paper}>\r\n              <Avatar className={classes.avatar}>\r\n                <VpnKeyIcon />\r\n              </Avatar>\r\n              <Typography variant=\"subtitle1\"></Typography>\r\n              <form className={classes.form}>\r\n                <FormControl margin=\"normal\" required fullWidth>\r\n                  <TextField name=\"password\" label=\"\" type=\"password\" onChange={this.handleChange} />\r\n                </FormControl>\r\n                <FormControl margin=\"normal\" required fullWidth>\r\n                  <TextField name=\"password_confirm\" label=\"\" type=\"password\" onChange={this.handleChange} />\r\n                </FormControl>\r\n                <FormControl margin=\"normal\" required fullWidth>\r\n                  <TextField name=\"security_code\" label=\"\" onChange={this.handleChange} type='number' \r\n                    placeholder=''\r\n                    helperText=\"\"\r\n                    onInput={(e)=>{ \r\n                      if (e.target.value !== '' && !isNaN(parseInt(e.target.value))) {\r\n                        e.target.value = Math.max(0, parseInt(e.target.value) ).toString().slice(0,4)\r\n                      }\r\n                    }}\r\n                  />\r\n                </FormControl>\r\n                <Button\r\n                  type=\"submit\"\r\n                  fullWidth\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                  className={classes.submit}\r\n                  onClick={this.handleSubmit}\r\n                >\r\n                  \r\n                </Button>\r\n              </form>\r\n            </Paper>\r\n          </main>\r\n        ) : (\r\n          <div className={classes.timeout}>\r\n            <HttpStatus statusCode={403} message={timeout_msg} />\r\n            <Link to=\"/password/forget\"></Link>\r\n            <Link to=\"/login\"></Link>\r\n          </div>\r\n        )}\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles)(PasswordReset);\r\n","import React from 'react';\r\nimport ReactGA from 'react-ga';\r\nimport { Route, Switch, withRouter } from 'react-router-dom';\r\nimport Login from '../containers/Login';\r\nimport { PrivateRoute } from '../components';\r\nimport MainLayout from '../containers/MainLayout';\r\nimport messaging from '../utils/firebase';\r\nimport { ajax, config, firebaseDeviceInfo, isGoogleAnalytics } from '../utils';\r\nimport PasswordForget from '../pages/account/password_forget';\r\nimport PasswordReset from '../pages/account/password_reset';\r\n\r\nclass App extends React.Component {\r\n\r\n  async componentDidUpdate() {\r\n    const self = this;\r\n    if (messaging) {\r\n      messaging.requestPermission().then(async function() {\r\n        const token = await messaging.getToken();\r\n        console.log('token:', token);\r\n        self.sendTokenToServer(token);\r\n      }).catch(function(error) {\r\n        console.log(\"Unable to get permission to notify.\", error);\r\n      });\r\n      // Callback fired if Instance ID token is updated.\r\n      messaging.onTokenRefresh(() => {\r\n        messaging.getToken().then((refreshedToken) => {\r\n          console.log('Token refreshed:', refreshedToken);\r\n          self.sendTokenToServer(refreshedToken);\r\n        }).catch((err) => {\r\n          console.log('Unable to retrieve refreshed token ', err);\r\n        });\r\n      });\r\n      navigator.serviceWorker.addEventListener(\"message\", (messageEvent) => {\r\n        // const data = messageEvent.data.firebaseMessaging.payload.data;\r\n        console.log('App.jsx', messageEvent);\r\n        ajax.fetchGet(config.api.account.notification_list_by_me).then(data => (\r\n          setTimeout(() => this.props.reloadNotification(data), 1000)\r\n        ))\r\n      });\r\n    }\r\n  }\r\n\r\n  componentDidMount = () => {\r\n    const { pathname } = this.props.location;\r\n    if (isGoogleAnalytics) {\r\n      ReactGA.set({ page: pathname });\r\n      ReactGA.pageview(pathname);\r\n    }\r\n  };\r\n\r\n  sendTokenToServer = (token) => {\r\n    const { user } = this.props;\r\n\r\n    if (user.devices.indexOf(token) >= 0) {\r\n      console.log('');\r\n      return;\r\n    }\r\n    ajax.fetchPost(config.api.master.register_firebase_device, {\r\n      token,\r\n      description: firebaseDeviceInfo,\r\n      user: user.id,\r\n    }).then(\r\n      () => console.log('')\r\n    ).catch(\r\n      () => console.log('')\r\n    );\r\n  };\r\n  \r\n  render() {\r\n    return (\r\n      <Switch>\r\n        <Route exact path=\"/login\" component={Login} />\r\n        <Route exact path=\"/password/forget\" component={PasswordForget} />\r\n        <Route path=\"/password/reset/:user:signature\" component={PasswordReset} />\r\n        <PrivateRoute path=\"/\" component={MainLayout} />\r\n      </Switch>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(App);\r\n","import { connect } from 'react-redux';\r\nimport App from '../app/App';\r\nimport { reloadNotification } from '../features/actions/index';\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return {\r\n    user: state.user.me,\r\n    perms: state.user.perms,\r\n  }\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    reloadNotification(notifications) {\r\n      dispatch(reloadNotification(notifications));\r\n    },\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n\r\n\r\nexport function registerServiceWorker() {\r\n  if (\"serviceWorker\" in navigator) {\r\n    navigator.serviceWorker\r\n      .register('/firebase-messaging-sw.js')\r\n      .then(function(registration) {\r\n        console.log(\"Registration successful, scope is:\", registration.scope);\r\n      })\r\n      .catch(function(error) {\r\n        console.log(\"Service worker registration failed, error:\", error);\r\n      });\r\n  }\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport ReactGA from 'react-ga';\r\nimport { Provider } from 'react-redux';\r\nimport { ConnectedRouter } from 'connected-react-router';\r\nimport { SnackbarProvider } from 'notistack';\r\nimport App from './containers/app';\r\nimport { store, history } from './app/store';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport { config, isGoogleAnalytics } from './utils/config';\r\n\r\nimport \"./assets/css/material-dashboard-react.css?v=1.5.0\";\r\n\r\nserviceWorker.registerServiceWorker();\r\nif (isGoogleAnalytics) {\r\n  ReactGA.initialize('UA-161409058-1');\r\n  history.listen(({ pathname }) => {\r\n    ReactGA.set({ page: pathname });\r\n    ReactGA.pageview(pathname);\r\n  });\r\n}\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <ConnectedRouter history={history}>\r\n      <SnackbarProvider\r\n        maxSnack={3}\r\n        anchorOrigin={{\r\n          vertical: 'bottom',\r\n          horizontal: 'right',\r\n        }}\r\n        autoHideDuration={config.autoHideDuration}\r\n      >\r\n        <App />\r\n      </SnackbarProvider>\r\n    </ConnectedRouter>\r\n  </Provider>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}